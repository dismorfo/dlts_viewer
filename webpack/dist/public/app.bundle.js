!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=3)}([function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,$,fullScreenApi;function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}!function(e){e.version={versionStr:"2.3.1",major:parseInt("2",10),minor:parseInt("3",10),revision:parseInt("1",10)};var t,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,r=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null===e||void 0===e?String(e):n[i.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var i in t)n=i;return void 0===n||r.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(t=document.createElement("canvas"),!(!e.isFunction(t.getContext)||!t.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/i}return 1}()}(OpenSeadragon),function($){$.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=arguments.length,l=!1,u=1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},u=2),"object"==typeof s||OpenSeadragon.isFunction(s)||(s={}),a===u&&(s=this,--u);u<a;u++)if(null!==(e=arguments[u])||void 0!==e)for(t in e)n=s[t],s!==(i=e[t])&&(l&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(r?(r=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},s[t]=OpenSeadragon.extend(l,o,i)):void 0!==i&&(s[t]=i));return s};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,i=new $.Point;for(n=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);n;)i.x+=e.offsetLeft,i.y+=e.offsetTop,t&&(i=i.plus($.getPageScroll())),n=getOffsetParent(e=n,t="fixed"==$.getElementStyle(e).position);return i},getElementOffset:function(e){var t,n,i=(e=$.getElement(e))&&e.ownerDocument,r={top:0,left:0};return i?(t=i.documentElement,void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,i=null;if(void 0!==n[e])i=e;else for(var r=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),s=0;s<r.length;s++){var a=r[s]+o;if(void 0!==n[a]){i=a;break}}return t[e]=i,i},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),i=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+i.x&&t.y<n.y+i.y&&t.y>=n.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(n=$.getPageScroll()).x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var i;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(i="alpha(opacity="+Math.round(100*t)+")",e.style.filter=i):e.style.filter=""},setElementTouchActionNone:function(e){void 0!==(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":void 0!==e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var i,r,o=n||0;if(!e)throw new TypeError;if(0===(r=e.length)||o>=r)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(e[i]===t)return i;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,i,r=[];for(n=(e=$.getElement(e)).className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==t&&r.push(n[i]);e.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,i){(e=$.getElement(e)).addEventListener(t,n,i)};if(window.attachEvent)return function(e,t,n,i){(e=$.getElement(e)).attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,i){(e=$.getElement(e)).removeEventListener(t,n,i)};if(window.detachEvent)return function(e,t,n,i){(e=$.getElement(e)).detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,i=[];for(n=2;n<arguments.length;n++)i.push(arguments[n]);return function(){var n,r=i.concat([]);for(n=0;n<arguments.length;n++)r.push(arguments[n]);return t.apply(e,r)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var i,r,o;$.isPlainObject(e)&&(t=e.success,n=e.error,i=e.withCredentials,r=e.headers,o=e.responseType||null,e=e.url);var s=$.getUrlProtocol(e),a=$.createAjaxRequest("file:"===s);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},a.status>=200&&a.status<300||0===a.status&&"http:"!==s&&"https:"!==s?t(a):($.console.log("AJAX request returned %d: %s",a.status,e),$.isFunction(n)&&n(a)))};try{if(a.open("GET",e,!0),o&&(a.responseType=o),r)for(var l in r)r.hasOwnProperty(l)&&r[l]&&a.setRequestHeader(l,r[l]);i&&(a.withCredentials=!0),a.send(null)}catch(i){var u=i.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==i.number&&-2147024891==i.number&&(u+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",i.name,u),a.onreadystatechange=function(){},window.XDomainRequest){var c=new XDomainRequest;if(c){c.onload=function(e){$.isFunction(t)&&t({responseText:c.responseText,status:200,statusText:"OK"})},c.onerror=function(e){$.isFunction(n)&&n({responseText:c.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{c.open("GET",e),c.send()}catch(e){$.isFunction(n)&&n(a,i)}}}else $.isFunction(n)&&n(a,i)}return a},jsonp:function(e){var t,n=e.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=e.callbackName||"openseadragon"+$.now(),o=window[r],s="$1"+r+"$2",a=e.param||"callback",l=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,s),n+=(/\?/.test(n)?"&":"?")+a+"="+r,window[r]=function(e){if(o)window[r]=o;else try{delete window[r]}catch(e){}l&&$.isFunction(l)&&l(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0)},i.insertBefore(t,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0?($.Browser.vendor=t.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var n,i,r,o=window.location.search.substring(1).split("&");for(r=0;r<o.length;r++)(i=(n=o[r]).indexOf("="))>0&&(URLPARAMS[n.substring(0,i)]=decodeURIComponent(n.substring(i+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var i,r=[],o=[],s=0;$.requestAnimationFrame=function(e){return r.push([++s,e]),i||(i=setInterval(function(){if(r.length){var e=$.now(),t=o;for(o=r,r=t;o.length;)o.shift()[1](e)}else clearInterval(i),i=void 0},20)),s},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=r.length;t<n;t+=1)if(r[t][0]===e)return void r.splice(t,1);for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return OpenSeadragon})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),$=OpenSeadragon,fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.fullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.requestFullscreen()},fullScreenApi.exitFullScreen=function(){document.exitFullscreen()},fullScreenApi.fullScreenEventName="fullscreenchange",fullScreenApi.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.msFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.msRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.msExitFullscreen()},fullScreenApi.fullScreenEventName="MSFullscreenChange",fullScreenApi.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.webkitExitFullscreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.webkitCancelFullScreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.mozFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.mozRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.mozCancelFullScreen()},fullScreenApi.fullScreenEventName="mozfullscreenchange",fullScreenApi.fullScreenErrorEventName="mozfullscreenerror"),fullScreenApi.isFullScreen=function(){return null!==fullScreenApi.getFullScreenElement()},fullScreenApi.cancelFullScreen=function(){$.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),fullScreenApi.exitFullScreen()},$.extend($,fullScreenApi),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,i){var r=this;i=i||1;var o=0,s=function(n){++o===i&&r.removeHandler(e,s),t(n)};this.addHandler(e,s,n)},addHandler:function(t,n,i){var r=this.events[t];r||(this.events[t]=r=[]),n&&e.isFunction(n)&&(r[r.length]={handler:n,userData:i||null})},removeHandler:function(t,n){var i,r=this.events[t],o=[];if(r&&e.isArray(r)){for(i=0;i<r.length;i++)r[i].handler!==n&&o.push(r[i]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var i,r=t.length;for(i=0;i<r;i++)t[i]&&(n.eventSource=e,n.userData=t[i].userData,t[i].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(OpenSeadragon),function(e){var t,n,i,r,o,s,a=[],l={};function u(t){var n,i=l[t.hash],r=i.activePointersLists.length;for(n=0;n<r;n++)i.activePointersLists[n].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",i.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",i.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",i.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",i.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",i.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",i.touchendcaptured,!0),i.activePointersLists[n].captureCount=0);for(n=0;n<r;n++)i.activePointersLists.pop()}function c(t){var n,i,r=l[t.hash];if(r.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.removeEvent(t.element,n,r[n],!1);u(t),r.tracking=!1}}function h(t,n){var i=l[t.hash];if("pointerevent"===n)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:i.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:i.pointermovecaptured};if("mouse"===n)return{upName:"mouseup",upHandler:i.mouseupcaptured,moveName:"mousemove",moveHandler:i.mousemovecaptured};if("touch"===n)return{upName:"touchend",upHandler:i.touchendcaptured,moveName:"touchmove",moveHandler:i.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function d(t,n,i){var r,o=t.getActivePointersListByType(n);o.captureCount+=i||1,1===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(r=h(t,e.MouseTracker.havePointerEvents?"pointerevent":n),$&&V(window.top)&&e.addEvent(window.top,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0)))}function p(t,n,i){var r,o=t.getActivePointersListByType(n);o.captureCount-=i||1,0===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(r=h(t,e.MouseTracker.havePointerEvents?"pointerevent":n),$&&V(window.top)&&e.removeEvent(window.top,r.upName,r.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.moveName,r.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,r.upName,r.upHandler,!0)))}function f(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function g(t){return e.getMousePosition(t)}function m(e,t){return v(g(e),t)}function v(t,n){var i=e.getElementOffset(n);return t.minus(i)}function y(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function w(t,n){var i={target:(n=e.getEvent(n)).target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?i.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=n.detail,x(t,i,n)}function x(t,n,i){var r;r=n.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:m(n,t.element),scroll:r,shift:n.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(i)}function T(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function _(t,n){F(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}])}function S(t,n){j(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}])}function b(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function E(t,n){q(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}],b(n.button))&&p(t,"mouse")}function P(t,n){U(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()}])}function C(e,t,n){var i,r=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(i=0;i<r;i++)o.push(n.getByIndex(i));o.length>0&&(q(e,t,o,0),n.captureCount=1,p(e,n.type),j(e,t,o))}}function R(t,n){var i,r,o,s,l=n.changedTouches.length,u=[];for(i=e.now(),r=0;r<l;r++)u.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:g(n.changedTouches[r]),currentTime:i});for(q(t,n,u,0)&&p(t,"touch",l),j(t,n,u),r=0;r<a.length;r++)if(a[r]!==t&&a[r].isTracking()&&T(a[r].element,t.element)){for(s=[],o=0;o<l;o++)s.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:g(n.changedTouches[o]),currentTime:i});j(a[r],n,s)}e.cancelEvent(n)}function k(t,n){var i,r=n.changedTouches.length,o=[];for(i=0;i<r;i++)o.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:g(n.changedTouches[i]),currentTime:e.now()});U(t,n,o),e.cancelEvent(n)}function O(t,n){n.currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget)||F(t,n,[{id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}])}function D(t,n){n.currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget)||j(t,n,[{id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}])}function I(t,n){var i;W(t,n,[i={id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}],n.button)&&(e.stopEvent(n),d(t,i.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function A(e,t){L(e,t)}function L(t,n){var i;q(t,n,[i={id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}],n.button)&&p(t,i.type)}function B(e,t){M(e,t)}function M(t,n){U(t,n,[{id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:g(n),currentTime:e.now()}])}function N(e,t){!function(e,t,n){q(e,t,n,0),j(e,t,n)}(e,t,[{id:t.pointerId,type:f(t)}])}function H(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function z(e,t){var n,i;return e.getById(t.id)?(n=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(i=e.getPrimary())||(i=e.getByIndex(0))&&(i.isPrimary=!0)):n=e.getLength(),n}function F(t,n,i){var r,o,s,a=t.getActivePointersListByType(i[0].type),l=i.length;for(r=0;r<l;r++)o=i[r],(s=a.getById(o.id))?(s.insideElement=!0,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=o.currentPos,s.currentTime=o.currentTime,o=s):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,H(a,o)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:o.type,position:v(o.currentPos,t.element),buttons:a.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function j(t,n,i){var r,o,s,a=t.getActivePointersListByType(i[0].type),l=i.length;for(r=0;r<l;r++)o=i[r],(s=a.getById(o.id))&&(s.captured?(s.insideElement=!1,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=o.currentPos,s.currentTime=o.currentTime):z(a,s),o=s),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:o.type,position:v(o.currentPos,t.element),buttons:a.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!s&&s.insideElementPressed,buttonDownAny:0!==a.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function W(t,n,i,r){var o,s,a,u=l[t.hash],c=t.getActivePointersListByType(i[0].type),h=i.length;void 0!==n.buttons?c.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===r?c.buttons+=1:1===r?c.buttons+=4:2===r?c.buttons+=2:3===r?c.buttons+=8:4===r?c.buttons+=16:5===r&&(c.buttons+=32):0===r?c.buttons|=1:1===r?c.buttons|=4:2===r?c.buttons|=2:3===r?c.buttons|=8:4===r?c.buttons|=16:5===r&&(c.buttons|=32);var d=t.getActivePointersListsExceptType(i[0].type);for(o=0;o<d.length;o++)C(t,n,d[o]);if(0!==r)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:i[0].type,position:v(i[0].currentPos,t.element),button:r,buttons:c.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),!1;for(o=0;o<h;o++)s=i[o],(a=c.getById(s.id))?(a.captured=!0,a.insideElementPressed=!0,a.insideElement=!0,a.contactPos=s.currentPos,a.contactTime=s.currentTime,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=s.currentPos,a.currentTime=s.currentTime,s=a):(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,H(c,s)),c.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,s),1===c.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:s.type,position:v(s.contactPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===s.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):2===c.contacts&&t.pinchHandler&&"touch"===s.type&&(u.pinchGPoints=c.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=y(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos));return!0}function q(t,n,i,r){var o,s,a,u,c,h,d=l[t.hash],p=t.getActivePointersListByType(i[0].type),f=i.length,g=!1,m=!1;if(void 0!==n.buttons?p.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===r?p.buttons-=1:1===r?p.buttons-=4:2===r?p.buttons-=2:3===r?p.buttons-=8:4===r?p.buttons-=16:5===r&&(p.buttons-=32):0===r?p.buttons^=-2:1===r?p.buttons^=-5:2===r?p.buttons^=-3:3===r?p.buttons^=-9:4===r?p.buttons^=-17:5===r&&(p.buttons^=-33),0!==r)return t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:i[0].type,position:v(i[0].currentPos,t.element),button:r,buttons:p.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),C(t,n,t.getActivePointersListByType("mouse")),!1;for(a=0;a<f;a++)u=i[a],(c=p.getById(u.id))&&(c.captured&&(c.captured=!1,g=!0,m=!0),c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=u.currentPos,c.currentTime=u.currentTime,c.insideElement||z(p,c),o=c.currentPos,s=c.currentTime,m?(p.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,c),0===p.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:v(o,t.element),buttons:p.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:c.type,position:v(c.currentPos,t.element),speed:c.speed,direction:c.direction,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),(t.clickHandler||t.dblClickHandler)&&c.insideElement&&(h=s-c.contactTime<=t.clickTimeThreshold&&c.contactPos.distanceTo(o)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:c.type,position:v(c.currentPos,t.element),quick:h,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dblClickHandler&&h&&(p.clicks++,1===p.clicks?(d.lastClickPos=o,d.dblClickTimeOut=setTimeout(function(){p.clicks=0},t.dblClickTimeThreshold)):2===p.clicks&&(clearTimeout(d.dblClickTimeOut),p.clicks=0,d.lastClickPos.distanceTo(o)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:c.type,position:v(c.currentPos,t.element),shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),d.lastClickPos=null)))):2===p.contacts&&t.pinchHandler&&"touch"===c.type&&(d.pinchGPoints=p.asArray(),d.lastPinchDist=d.currentPinchDist=d.pinchGPoints[0].currentPos.distanceTo(d.pinchGPoints[1].currentPos),d.lastPinchCenter=d.currentPinchCenter=y(d.pinchGPoints[0].currentPos,d.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:v(o,t.element),buttons:p.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n));return g}function U(t,n,i){var r,o,s,a,u,c=l[t.hash],h=t.getActivePointersListByType(i[0].type),d=i.length;for(void 0!==n.buttons&&(h.buttons=n.buttons),r=0;r<d;r++)o=i[r],(s=h.getById(o.id))?(o.hasOwnProperty("isPrimary")&&(s.isPrimary=o.isPrimary),s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=o.currentPos,s.currentTime=o.currentTime):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,H(h,o));t.stopHandler&&"mouse"===i[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){!function(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:m(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}(t,n,i[0].type)},t.stopDelay)),0===h.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:i[0].type,position:v(i[0].currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):1===h.contacts?(t.moveHandler&&(s=h.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:s.type,position:v(s.currentPos,t.element),buttons:h.buttons,isTouchEvent:"touch"===s.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.dragHandler&&(u=(s=h.asArray()[0]).currentPos.minus(s.lastPos),!1===t.dragHandler({eventSource:t,pointerType:s.type,position:v(s.currentPos,t.element),buttons:h.buttons,delta:u,speed:s.speed,direction:s.direction,shift:n.shiftKey,isTouchEvent:"touch"===s.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))):2===h.contacts&&(t.moveHandler&&(a=h.asArray(),!1===t.moveHandler({eventSource:t,pointerType:a[0].type,position:v(y(a[0].currentPos,a[1].currentPos),t.element),buttons:h.buttons,isTouchEvent:"touch"===a[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.pinchHandler&&"touch"===i[0].type&&(u=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos))!=c.currentPinchDist&&(c.lastPinchDist=c.currentPinchDist,c.currentPinchDist=u,c.lastPinchCenter=c.currentPinchCenter,c.currentPinchCenter=y(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:c.pinchGPoints,lastCenter:v(c.lastPinchCenter,t.element),center:v(c.currentPinchCenter,t.element),lastDistance:c.lastPinchDist,distance:c.currentPinchDist,shift:n.shiftKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)))}e.MouseTracker=function(t){a.push(this);var n=arguments;e.isPlainObject(t)||(t={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=e.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.enterHandler=t.enterHandler||null,this.exitHandler=t.exitHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var i=this;l[this.hash]={click:function(t){!function(t,n){t.clickHandler&&e.cancelEvent(n)}(i,t)},dblclick:function(t){!function(t,n){t.dblClickHandler&&e.cancelEvent(n)}(i,t)},keydown:function(t){!function(t,n){t.keyDownHandler&&(n=e.getEvent(n),t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(i,t)},keyup:function(t){!function(t,n){t.keyUpHandler&&(n=e.getEvent(n),t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(i,t)},keypress:function(t){!function(t,n){t.keyHandler&&(n=e.getEvent(n),t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(i,t)},focus:function(t){!function(t,n){t.focusHandler&&(n=e.getEvent(n),!1===t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}(i,t)},blur:function(t){!function(t,n){t.blurHandler&&(n=e.getEvent(n),!1===t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}(i,t)},wheel:function(e){!function(e,t){x(e,t,t)}(i,e)},mousewheel:function(e){w(i,e)},DOMMouseScroll:function(e){w(i,e)},MozMousePixelScroll:function(e){w(i,e)},mouseenter:function(t){!function(t,n){n=e.getEvent(n),_(t,n)}(i,t)},mouseleave:function(t){!function(t,n){n=e.getEvent(n),S(t,n)}(i,t)},mouseover:function(t){!function(t,n){if((n=e.getEvent(n)).currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget))return;_(t,n)}(i,t)},mouseout:function(t){!function(t,n){if((n=e.getEvent(n)).currentTarget===n.relatedTarget||T(n.currentTarget,n.relatedTarget))return;S(t,n)}(i,t)},mousedown:function(t){!function(t,n){var i;n=e.getEvent(n),i={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:g(n),currentTime:e.now()},W(t,n,[i],b(n.button))&&(e.stopEvent(n),d(t,"mouse"));(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}(i,t)},mouseup:function(e){!function(e,t){E(e,t)}(i,e)},mouseupcaptured:function(t){!function(t,n){E(t,n),e.stopEvent(n)}(i,t)},mousemove:function(e){!function(e,t){P(e,t)}(i,e)},mousemovecaptured:function(t){!function(t,n){P(t,n),e.stopEvent(n)}(i,t)},touchstart:function(t){!function(t,n){var i,r,o,s,l=n.changedTouches.length,u=[],c=t.getActivePointersListByType("touch");i=e.now(),c.getLength()>n.touches.length-l&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),C(t,n,c));for(r=0;r<l;r++)u.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:g(n.changedTouches[r]),currentTime:i});for(F(t,n,u),r=0;r<a.length;r++)if(a[r]!==t&&a[r].isTracking()&&T(a[r].element,t.element)){for(s=[],o=0;o<l;o++)s.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:g(n.changedTouches[o]),currentTime:i});F(a[r],n,s)}W(t,n,u,0)&&(e.stopEvent(n),d(t,"touch",l));e.cancelEvent(n)}(i,t)},touchend:function(e){!function(e,t){R(e,t)}(i,e)},touchendcaptured:function(t){!function(t,n){R(t,n),e.stopEvent(n)}(i,t)},touchmove:function(e){!function(e,t){k(e,t)}(i,e)},touchmovecaptured:function(t){!function(t,n){k(t,n),e.stopEvent(n)}(i,t)},touchcancel:function(e){!function(e,t){var n=e.getActivePointersListByType("touch");C(e,t,n)}(i,e)},gesturestart:function(e){!function(e,t){t.stopPropagation(),t.preventDefault()}(0,e)},gesturechange:function(e){!function(e,t){t.stopPropagation(),t.preventDefault()}(0,e)},pointerover:function(e){O(i,e)},MSPointerOver:function(e){O(i,e)},pointerout:function(e){D(i,e)},MSPointerOut:function(e){D(i,e)},pointerdown:function(e){I(i,e)},MSPointerDown:function(e){I(i,e)},pointerup:function(e){A(i,e)},MSPointerUp:function(e){A(i,e)},pointermove:function(e){B(i,e)},MSPointerMove:function(e){B(i,e)},pointercancel:function(e){N(i,e)},MSPointerCancel:function(e){N(i,e)},pointerupcaptured:function(t){!function(t,n){t.getActivePointersListByType(f(n)).getById(n.pointerId)&&L(t,n);e.stopEvent(n)}(i,t)},pointermovecaptured:function(t){!function(t,n){t.getActivePointersListByType(f(n)).getById(n.pointerId)&&M(t,n);e.stopEvent(n)}(i,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},t.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(c(this),this.element=null,e=0;e<a.length;e++)if(a[e]===this){a.splice(e,1);break}l[this.hash]=null,delete l[this.hash]},isTracking:function(){return l[this.hash].tracking},setTracking:function(t){return t?function(t){var n,i,r=l[t.hash];if(!r.tracking){for(i=0;i<e.MouseTracker.subscribeEvents.length;i++)n=e.MouseTracker.subscribeEvents[i],e.addEvent(t.element,n,r[n],!1);u(t),r.tracking=!0}}(this):c(this),this},getActivePointersListsExceptType:function(e){for(var t=l[this.hash],n=[],i=0;i<t.activePointersLists.length;++i)t.activePointersLists[i].type!==e&&n.push(t.activePointersLists[i]);return n},getActivePointersListByType:function(t){var n,i,r=l[this.hash],o=r.activePointersLists.length;for(n=0;n<o;n++)if(r.activePointersLists[n].type===t)return r.activePointersLists[n];return i=new e.MouseTracker.GesturePointList(t),r.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=l[this.hash],n=t.activePointersLists.length,i=0;for(e=0;e<n;e++)i+=t.activePointersLists[e].getLength();return i},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<a.length;e++)a[e].isTracking()&&(a[e].setTracking(!1),a[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=(t=[],n=0,i=0,r=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var n,r,o,s,a,l,u=t.length,c=e.now();for(s=c-i,i=c,n=0;n<u;n++)(o=(r=t[n]).gPoint).direction=Math.atan2(o.currentPos.y-r.lastPos.y,o.currentPos.x-r.lastPos.x),a=r.lastPos.distanceTo(o.currentPos),r.lastPos=o.currentPos,l=1e3*a/(s+1),o.speed=.75*l+.25*o.speed},{addPoint:function(s,a){var l=r(s,a);t.push({guid:l,gPoint:a,lastPos:a.currentPos}),1===t.length&&(i=e.now(),n=window.setInterval(o,50))},removePoint:function(e,i){var o,s=r(e,i),a=t.length;for(o=0;o<a;o++)if(t[o].guid===s){t.splice(o,1),0==--a&&window.clearInterval(n);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=(s=document.createElement("div"),e.isFunction(s.setCapture)&&e.isFunction(s.releaseCapture)),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var $=function(){try{return window.self!==window.top}catch(e){return!0}}();function V(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,i){var r=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=i,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):r.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function t(e,t){var n,i=e.controls;for(n=i.length-1;n>=0;n--)if(i[n].element==t)return n;return-1}e.ControlDock=function(t){var n,i,r=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<r.length;i++)n=r[i],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,i){var r=null;if(!(t(this,n=e.getElement(n))>=0)){switch(i.anchor){case e.ControlAnchor.TOP_RIGHT:r=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:r=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:r=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:r=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:r=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case e.ControlAnchor.NONE:r=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,i,r)),n.style.display="inline-block"}},removeControl:function(n){var i=t(this,n=e.getElement(n));return i>=0&&(this.controls[i].destroy(),this.controls.splice(i,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){var t={},n=1;function i(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function r(t,n){if(n instanceof e.Overlay)return n;var i=null;if(n.element)i=e.getElement(n.element);else{var r=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=e.getElement(n.id))||((i=document.createElement("a")).href="#/overlay/"+r),i.id=r,e.addClass(i,n.className?n.className:"openseadragon-overlay")}var o=n.location,s=n.width,a=n.height;if(!o){var l=n.x,u=n.y;if(void 0!==n.px){var c=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,s||0,a||0));l=c.x,u=c.y,s=void 0!==s?c.width:void 0,a=void 0!==a?c.height:void 0}o=new e.Point(l,u)}var h=n.placement;return h&&"string"===e.type(h)&&(h=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:i,location:o,placement:h,onDraw:n.onDraw,checkResize:n.checkResize,width:s,height:a,rotationMode:n.rotationMode})}function o(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function s(t,n){return e.requestAnimationFrame(function(){n(t)})}function a(t){e.requestAnimationFrame(function(){!function(t){var n,i,r,o;if(t.controlsShouldFade){for(n=e.now(),i=n-t.controlsFadeBeginTime,r=1-i/t.controlsFadeLength,r=Math.min(1,r),r=Math.max(0,r),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(r);r>0&&a(t)}}(t)})}function l(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){a(t)},t.controlsFadeDelay))}function u(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function c(){u(this)}function h(){l(this)}function d(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function p(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function f(e){document.activeElement==this.canvas||this.canvas.focus();var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",t),!t.preventDefaultAction&&this.viewport&&e.quick&&this.gestureSettingsByDeviceType(e.pointerType).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())}function g(e){!e.preventDefaultAction&&this.viewport&&this.gestureSettingsByDeviceType(e.pointerType).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-double-click",{tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent})}function m(e){var t,n={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=o.x&&(e.delta.x=0),r.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function v(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var i=0;this.panHorizontal&&(i=n.flickMomentum*t.speed*Math.cos(t.direction));var r=0;this.panVertical&&(r=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),s=this.viewport.pointFromPixel(new e.Point(o.x-i,o.y-r));this.viewport.panTo(s,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function y(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function w(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function x(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function T(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function _(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function b(e){var t,n,i;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),i=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),this.viewport.panBy(i,!0),this.viewport.applyConstraints()),t.pinchRotate)){var r=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(r-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function E(t){var n,i,r;if((r=e.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=r,!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(i,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(t.pointerType))&&n.scrollToZoom)return!1}function P(e){t[this.hash].mouseInside=!0,u(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function C(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||l(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function R(e){!function(e){if(e._opening)return;if(e.autoResize){var n=i(e.container),r=t[e.hash].prevContainerSize;if(!n.equals(r)){var o=e.viewport;if(e.preserveImageSizeOnResize){var s=r.x/n.x,a=o.getZoom()*s,c=o.getCenter();o.resize(n,!1),o.zoomTo(a,null,!0),o.panTo(c,!0)}else{var h=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(h,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var d=e.viewport.update(),p=e.world.update()||d;d&&e.raiseEvent("viewport-change");e.referenceStrip&&(p=e.referenceStrip.update(e.viewport)||p);!t[e.hash].animating&&p&&(e.raiseEvent("animation-start"),u(e));(p||t[e.hash].forceRedraw||e.world.needsDraw())&&(!function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,p&&e.raiseEvent("animation"));t[e.hash].animating&&!p&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||l(e));t[e.hash].animating=p}(e),e.isOpen()?e._updateRequestId=s(e,R):e._updateRequestId=!1}function k(e,t){return e?e+t:t}function O(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,A(this)}function D(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,A(this)}function I(){t[this.hash].zooming=!1}function A(t){e.requestAnimationFrame(e.delegate(t,L))}function L(){var n,i,r;t[this.hash].zooming&&this.viewport&&(i=(n=e.now())-t[this.hash].lastZoomTime,r=Math.pow(t[this.hash].zoomFactor,i/1e3),this.viewport.zoomBy(r),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,A(this))}function B(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function M(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function N(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function H(){this.viewport&&this.viewport.goHome()}function z(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function F(){if(this.viewport){var e=this.viewport.getRotation();0===e?e=270:e-=90,this.viewport.setRotation(e)}}function j(){if(this.viewport){var e=this.viewport.getRotation();270===e?e=0:e+=90,this.viewport.setRotation(e)}}function W(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function q(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}e.Viewer=function(r){var o,a,u=arguments,c=this;if(e.isPlainObject(r)||(r={id:u[0],xmlPath:u.length>1?u[1]:void 0,prefixUrl:u.length>2?u[2]:void 0,controls:u.length>3?u[3]:void 0,overlays:u.length>4?u[4]:void 0}),r.config&&(e.extend(!0,r,r.config),delete r.config),e.extend(!0,this,{id:r.id,hash:r.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,r),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);c._showMessage(n)}),e.ControlDock.call(this,r),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(a=this.canvas.style).width="100%",a.height="100%",a.overflow="hidden",a.position="absolute",a.top="0px",a.left="0px",e.setElementTouchActionNone(this.canvas),""!==r.tabIndex&&(this.canvas.tabIndex=void 0===r.tabIndex?0:r.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,d),keyHandler:e.delegate(this,p),clickHandler:e.delegate(this,f),dblClickHandler:e.delegate(this,g),dragHandler:e.delegate(this,m),dragEndHandler:e.delegate(this,v),enterHandler:e.delegate(this,y),exitHandler:e.delegate(this,w),pressHandler:e.delegate(this,x),releaseHandler:e.delegate(this,T),nonPrimaryPressHandler:e.delegate(this,_),nonPrimaryReleaseHandler:e.delegate(this,S),scrollHandler:e.delegate(this,E),pinchHandler:e.delegate(this,b)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,P),exitHandler:e.delegate(this,C)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=i(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){c.source=c.world.getItemAt(0).source,t[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=s(c,R))}),this.world.addHandler("remove-item",function(e){c.world.getItemCount()?c.source=c.world.getItemAt(0).source:c.source=null,t[c.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){c.source=c.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:r.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame(function(){l(c)})},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,n){var i=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var o,s=t.length,a=0,l=0,u=function(){if(a+l===s)if(a){!i._firstOpen&&i.preserveViewport||(i.viewport.goHome(!0),i.viewport.update()),i._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),i.overlays&&!i.preserveOverlays)for(var n=0;n<i.overlays.length;n++)i.currentOverlays[n]=r(i,i.overlays[n]);i._drawOverlays(),i._opening=!1,i.raiseEvent("open",{source:e})}else i._opening=!1,i.raiseEvent("open-failed",o)},c=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(a++,t.tileSource.overlays)for(var r=0;r<t.tileSource.overlays.length;r++)i.addOverlay(t.tileSource.overlays[r]);n&&n(e),u()};var r=t.error;t.error=function(e){l++,o||(o=e),r&&r(e),u()},i.addTiledImage(t)},h=0;h<t.length;h++)c(t[h]);return this}}},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?u(this):l(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var i,r,o=document.body,s=o.style,a=document.documentElement.style,l=this;if(n==this.isFullPage())return this;var u={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",u),u.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=s.margin,this.docMargin=a.margin,s.margin="0",a.margin="0",this.bodyPadding=s.padding,this.docPadding=a.padding,s.padding="0",a.padding="0",this.bodyWidth=s.width,this.docWidth=a.width,s.width="100%",a.width="100%",this.bodyHeight=s.height,this.docHeight=a.height,s.height="100%",a.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,i=o.childNodes.length,r=0;r<i;r++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,P)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,s.margin=this.bodyMargin,a.margin=this.docMargin,s.padding=this.bodyPadding,a.padding=this.docPadding,s.width=this.bodyWidth,a.width=this.docWidth,s.height=this.bodyHeight,a.height=this.docHeight,o.removeChild(this.element),i=this.previousBody.length,r=0;r<i;r++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var c=0,h=function(){e.setPageScroll(l.pageScroll);var t=e.getPageScroll();++c<10&&(t.x!==l.pageScroll.x||t.y!==l.pageScroll.y)&&e.requestAnimationFrame(h)};e.requestAnimationFrame(h),t[this.hash].fullPage=!1,e.delegate(this,C)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var i={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var r=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,r),e.removeEvent(document,e.fullScreenErrorEventName,r),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&n.navigator.update(n.viewport),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,r),e.addEvent(document,e.fullScreenErrorEventName,r),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var i={options:t};function r(e){for(var r=0;r<n._loadQueue.length;r++)if(n._loadQueue[r]===i){n._loadQueue.splice(r,1);break}0===n._loadQueue.length&&o(i),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function s(){for(var t,i,r;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var s=n.world.getIndexOfItem(t.options.replaceItem);-1!=s&&(t.options.index=s),n.world.removeItem(t.options.replaceItem)}i=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(i,{index:t.options.index}),0===n._loadQueue.length&&o(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(r=e.extend({},t.options,{replace:!1,originalTiledImage:i,tileSource:t.tileSource}),n.navigator.addTiledImage(r)),t.options.success&&t.options.success({item:i})}}e.isArray(t.tileSource)?setTimeout(function(){r({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})}):(this._loadQueue.push(i),function(t,n,i,r,o){var s=t;if("string"==e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var a=e.parseJSON(n);n=a}catch(e){}function l(e,t){e.ready?r(e):(e.addHandler("ready",function(){r(e)}),e.addHandler("open-failed",function(e){o({message:e.message,source:t})}))}setTimeout(function(){if("string"==e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){r(e.tileSource)}})).addHandler("open-failed",function(e){o(e)});else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===i.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==i.crossOriginPolicy?i.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var a=new e.TileSource(n);a.getTileUrl=n.getTileUrl,r(a)}else{var u=e.TileSource.determineType(s,n);if(!u)return void o({message:"Unable to load TileSource",source:n});var c=u.prototype.configure.apply(s,[n]);l(new u(c),n)}else l(n,n)})}(this,t.tileSource,t,function(e){i.tileSource=e,s()},function(e){e.options=t,r(e),s()}))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var i=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(i),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,c),n=e.delegate(this,h),i=e.delegate(this,q),r=e.delegate(this,W),o=this.navImages,s=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(s=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:k(this.prefixUrl,o.previous.REST),srcGroup:k(this.prefixUrl,o.previous.GROUP),srcHover:k(this.prefixUrl,o.previous.HOVER),srcDown:k(this.prefixUrl,o.previous.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:k(this.prefixUrl,o.next.REST),srcGroup:k(this.prefixUrl,o.next.GROUP),srcHover:k(this.prefixUrl,o.next.HOVER),srcDown:k(this.prefixUrl,o.next.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),s&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,O),n=e.delegate(this,I),i=e.delegate(this,B),r=e.delegate(this,D),o=e.delegate(this,M),s=e.delegate(this,H),a=e.delegate(this,z),l=e.delegate(this,F),u=e.delegate(this,j),d=e.delegate(this,c),p=e.delegate(this,h),f=this.navImages,g=[],m=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(m=!1),this.showZoomControl&&(g.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:k(this.prefixUrl,f.zoomIn.REST),srcGroup:k(this.prefixUrl,f.zoomIn.GROUP),srcHover:k(this.prefixUrl,f.zoomIn.HOVER),srcDown:k(this.prefixUrl,f.zoomIn.DOWN),onPress:t,onRelease:n,onClick:i,onEnter:t,onExit:n,onFocus:d,onBlur:p})),g.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:k(this.prefixUrl,f.zoomOut.REST),srcGroup:k(this.prefixUrl,f.zoomOut.GROUP),srcHover:k(this.prefixUrl,f.zoomOut.HOVER),srcDown:k(this.prefixUrl,f.zoomOut.DOWN),onPress:r,onRelease:n,onClick:o,onEnter:r,onExit:n,onFocus:d,onBlur:p}))),this.showHomeControl&&g.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:k(this.prefixUrl,f.home.REST),srcGroup:k(this.prefixUrl,f.home.GROUP),srcHover:k(this.prefixUrl,f.home.HOVER),srcDown:k(this.prefixUrl,f.home.DOWN),onRelease:s,onFocus:d,onBlur:p})),this.showFullPageControl&&g.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:k(this.prefixUrl,f.fullpage.REST),srcGroup:k(this.prefixUrl,f.fullpage.GROUP),srcHover:k(this.prefixUrl,f.fullpage.HOVER),srcDown:k(this.prefixUrl,f.fullpage.DOWN),onRelease:a,onFocus:d,onBlur:p})),this.showRotationControl&&(g.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:k(this.prefixUrl,f.rotateleft.REST),srcGroup:k(this.prefixUrl,f.rotateleft.GROUP),srcHover:k(this.prefixUrl,f.rotateleft.HOVER),srcDown:k(this.prefixUrl,f.rotateleft.DOWN),onRelease:l,onFocus:d,onBlur:p})),g.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:k(this.prefixUrl,f.rotateright.REST),srcGroup:k(this.prefixUrl,f.rotateright.GROUP),srcHover:k(this.prefixUrl,f.rotateright.HOVER),srcDown:k(this.prefixUrl,f.rotateright.DOWN),onRelease:u,onFocus:d,onBlur:p}))),m&&(this.buttons=new e.ButtonGroup({buttons:g,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,N)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this.raiseEvent("page",{page:e}),this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e)),this},addOverlay:function(t,n,i,s){var a;if(a=e.isPlainObject(t)?t:{element:t,location:n,placement:i,onDraw:s},t=e.getElement(a.element),o(this.currentOverlays,t)>=0)return this;var l=r(this,a);return this.currentOverlays.push(l),l.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:a.location,placement:a.placement}),this},updateOverlay:function(n,i,r){var s;return n=e.getElement(n),(s=o(this.currentOverlays,n))>=0&&(this.currentOverlays[s].update(i,r),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:i,placement:r})),this},removeOverlay:function(n){var i;return n=e.getElement(n),(i=o(this.currentOverlays,n))>=0&&(this.currentOverlays[i].destroy(),this.currentOverlays.splice(i,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=o(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function t(e){e.quick&&this.viewer.viewport&&(this.viewer.viewport.panTo(this.viewport.pointFromPixel(e.position)),this.viewer.viewport.applyConstraints())}function n(e){this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function i(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function r(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function o(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.mozTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.oTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"}e.Navigator=function(s){var a,l,u,c,h=s.viewer,d=this;function p(e){o(d.displayRegionContainer,e),o(d.displayRegion,-e),d.viewport.setRotation(e)}(s.id?(this.element=document.getElementById(s.id),s.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(s.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),s.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:s.autoFade},s.position&&("BOTTOM_RIGHT"==s.position?s.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==s.position?s.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==s.position?s.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==s.position?s.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==s.position&&(s.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,s.controlOptions.top=s.top,s.controlOptions.left=s.left,s.controlOptions.height=s.height,s.controlOptions.width=s.width))),this.element.id=s.id,this.element.className+=" navigator",(s=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},s,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:s.autoResize,minZoomImageRatio:1})).minPixelRatio=this.minPixelRatio=h.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),s.controlOptions.anchor!=e.ControlAnchor.NONE&&(u=this.element.style,c=this.borderWidth,u.margin="0px",u.border=c+"px solid #555",u.padding="0px",u.background="#000",u.opacity=.8,u.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid #900",e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",h.addControl(this.element,s.controlOptions),this._resizeWithViewer=s.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&s.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(s.width&&s.height?(this.element.style.height="number"==typeof s.height?s.height+"px":s.height,this.element.style.width="number"==typeof s.width?s.width+"px":s.width):(a=e.getElementSize(h.element),this.element.style.height=Math.round(a.y*s.sizeRatio)+"px",this.element.style.width=Math.round(a.x*s.sizeRatio)+"px",this.oldViewerSize=a),l=e.getElementSize(this.element),this.elementArea=l.x*l.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[s]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),s.navigatorRotate)&&(p(s.viewer.viewport?s.viewer.viewport.getRotation():s.viewer.degrees||0),s.viewer.addHandler("rotate",function(e){p(e.degrees)}));this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,i),scrollHandler:e.delegate(this,r)}),this.addHandler("reset-size",function(){d.viewport&&d.viewport.goHome(!0)}),h.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=d.world.getItemAt(e.previousIndex);d.world.setItemIndex(t,e.newIndex)},1)}),h.world.addHandler("remove-item",function(e){var t=e.item,n=d._getMatchingItem(t);n&&d.world.removeItem(n)}),this.update(h.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},update:function(t){var n,i,r,o,s,a;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(i=n.x*this.sizeRatio,r=n.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(n.x/n.y)),r=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(r)+"px",this.elementArea||(this.elementArea=i*r),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),s=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),a=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var l=this.displayRegion.style;l.display=this.world.getItemCount()?"block":"none",l.top=Math.round(s.y)+"px",l.left=Math.round(s.x)+"px";var u=Math.abs(s.x-a.x),c=Math.abs(s.y-a.y);l.width=Math.round(Math.max(u,0))+"px",l.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(t){var n=this,i=t.originalTiledImage;delete t.original;var r=e.extend({},t,{success:function(e){var t=e.item;function r(){n._matchBounds(t,i)}t._originalForNavigator=i,n._matchBounds(t,i,!0),i.addHandler("bounds-change",r),i.addHandler("clip-change",r),i.addHandler("opacity-change",function(){n._matchOpacity(t,i)}),i.addHandler("composite-operation-change",function(){n._matchCompositeOperation(t,i)})}});return e.Viewer.prototype.addTiledImage.apply(this,[r])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),i=0;i<n;i++)if((t=this.world.getItemAt(i))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var i=t.getBoundsNoRotate();e.setPosition(i.getTopLeft(),n),e.setWidth(i.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right"}};e.extend(e,{getString:function(n){var i,r=n.split("."),o=null,s=arguments,a=t;for(i=0;i<r.length-1;i++)a=a[r[i]]||{};return"string"!=typeof(o=a[r[i]])&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<s.length?s[t]:""})},setString:function(e,n){var i,r=e.split("."),o=t;for(i=0;i<r.length-1;i++)o[r[i]]||(o[r[i]]={}),o=o[r[i]];o[r[i]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var i,r;if(n=n||new e.Point(0,0),t%90==0){switch(e.positiveModulo(t,360)){case 0:i=1,r=0;break;case 90:i=0,r=1;break;case 180:i=-1,r=0;break;case 270:i=0,r=-1}}else{var o=t*Math.PI/180;i=Math.cos(o),r=Math.sin(o)}var s=i*(this.x-n.x)-r*(this.y-n.y)+n.x,a=r*(this.x-n.x)+i*(this.y-n.y)+n.y;return new e.Point(s,a)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){e.TileSource=function(t,n,i,r,o,s){var a,l,u=this,c=arguments;if(a=e.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},e.EventSource.call(this),e.extend(!0,this,a),!this.success)for(l=0;l<arguments.length;l++)if(e.isFunction(arguments[l])){this.success=arguments[l];break}this.success&&this.addHandler("ready",function(e){u.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=a.width&&a.height?a.width/a.height:1,this.dimensions=new e.Point(a.width,a.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=a.tileOverlap?a.tileOverlap:0,this.minLevel=a.minLevel?a.minLevel:0,this.maxLevel=void 0!==a.maxLevel&&null!==a.maxLevel?a.maxLevel:a.width&&a.height?Math.ceil(Math.log(Math.max(a.width,a.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),i=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),r=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(i,r)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),i=1/n.x,r=1/n.y;return new e.Point(i,r)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var i=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var r=this.dimensions.x*this.getLevelScale(t),o=n.x*r,s=n.y*r,a=Math.floor(o/this.getTileWidth(t)),l=Math.floor(s/this.getTileHeight(t));n.x>=1&&(a=this.getNumTiles(t).x-1);return n.y>=1/this.aspectRatio-1e-16&&(l=this.getNumTiles(t).y-1),new e.Point(a,l)},getTileBounds:function(t,n,i){var r=this.dimensions.times(this.getLevelScale(t)),o=this.getTileWidth(t),s=this.getTileHeight(t),a=0===n?0:o*n-this.tileOverlap,l=0===i?0:s*i-this.tileOverlap,u=o+(0===n?1:2)*this.tileOverlap,c=s+(0===i?1:2)*this.tileOverlap,h=1/r.x;return u=Math.min(u,r.x-a),c=Math.min(c,r.y-l),new e.Rect(a*h,l*h,u*h,c*h)},getImageInfo:function(t){var n,i,r,o,s,a,l,u=this;t&&(l=(a=(s=t.split("/"))[s.length-1]).lastIndexOf("."))>-1&&(s[s.length-1]=a.slice(0,l)),i=function(n){"string"==typeof n&&(n=e.parseXml(n));var i=e.TileSource.determineType(u,n,t);i?(void 0===(o=i.prototype.configure.apply(u,[n,t])).ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),r=new i(o),u.ready=!0,u.raiseEvent("ready",{tileSource:r})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:i})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=function(t){var n,i,r=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(r.match(/\s*<.*/))try{i=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(r)}catch(e){i=t.responseText}else if(r.match(/\s*[\{\[].*/))try{i=e.parseJSON(r)}catch(e){i=r}else i=r;return i}(t);i(n)},error:function(e,n){var i;try{i="HTTP "+e.status+" attempting to load TileSource"}catch(e){i=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:i,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var i=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<i.x&&n<i.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,i){var r;for(r in OpenSeadragon)if(r.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[r])&&e.isFunction(OpenSeadragon[r].prototype.supports)&&OpenSeadragon[r].prototype.supports.call(t,n,i))return OpenSeadragon[r];e.console.error("No TileSource was able to open %s %s",i,n)}}(OpenSeadragon),function(e){function t(t,n){var i,r,o=n.Image,s=o.Url,a=o.Format,l=o.Size,u=o.DisplayRect||[],c=parseInt(l.Width,10),h=parseInt(l.Height,10),d=parseInt(o.TileSize,10),p=parseInt(o.Overlap,10),f=[];for(r=0;r<u.length;r++)i=u[r].Rect,f.push(new e.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return e.extend(!0,{width:c,height:h,tileSize:d,tileOverlap:p,minLevel:null,maxLevel:null,tilesUrl:s,fileFormat:a,displayRects:f},n)}e.DziTileSource=function(t,n,i,r,o,s,a,l,u){var c,h,d,p;if(p=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=p.tilesUrl,this.fileFormat=p.fileFormat,this.displayRects=p.displayRects,this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(d=(h=this.displayRects[c]).minLevel;d<=h.maxLevel;d++)this._levelRects[d]||(this._levelRects[d]=[]),this._levelRects[d].push(h);e.TileSource.apply(this,[p])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,i){var r;return r=e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,s,a,l,u=i.documentElement,c=u.localName||u.tagName,h=i.documentElement.namespaceURI,d=null,p=[];if("Image"==c)try{if(void 0===(a=u.getElementsByTagName("Size")[0])&&(a=u.getElementsByTagNameNS(h,"Size")[0]),d={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:u.getAttribute("Url"),Format:u.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(u.getAttribute("Overlap"),10),TileSize:parseInt(u.getAttribute("TileSize"),10),Size:{Height:parseInt(a.getAttribute("Height"),10),Width:parseInt(a.getAttribute("Width"),10)}}},!e.imageFormatSupported(d.Image.Format))throw new Error(e.getString("Errors.ImageFormat",d.Image.Format.toUpperCase()));for(void 0===(r=u.getElementsByTagName("DisplayRect"))&&(r=u.getElementsByTagNameNS(h,"DisplayRect")[0]),l=0;l<r.length;l++)o=r[l],void 0===(s=o.getElementsByTagName("Rect")[0])&&(s=o.getElementsByTagNameNS(h,"Rect")[0]),p.push({Rect:{X:parseInt(s.getAttribute("X"),10),Y:parseInt(s.getAttribute("Y"),10),Width:parseInt(s.getAttribute("Width"),10),Height:parseInt(s.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return p.length&&(d.Image.DisplayRect=p),t(n,d)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(e.getString("Errors.Dzc"));if("Error"==c){var f=u.getElementsByTagName("Message")[0],g=f.firstChild.nodeValue;throw new Error(g)}}throw new Error(e.getString("Errors.Dzi"))}(this,n),i&&!r.tilesUrl&&(r.tilesUrl=i.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=i.search(/\.(dzi|xml|js)\?/)?r.queryParams=i.match(/\?.*/):r.queryParams=""),r},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var i,r,o,s,a,l,u,c=this._levelRects[e];if(!c||!c.length)return!0;for(u=c.length-1;u>=0;u--)if(!(e<(i=c[u]).minLevel||e>i.maxLevel)&&(r=this.getLevelScale(e),o=i.x*r,s=i.y*r,a=o+i.width*r,l=s+i.height*r,o=Math.floor(o/this._tileWidth),s=Math.floor(s/this._tileWidth),a=Math.ceil(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<a&&s<=n&&n<l))return!0;return!1}})}(OpenSeadragon),function(e){e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var i=0;i<this.tiles[n].scaleFactors.length;i++){var r=this.tiles[n].scaleFactors[i];this.scale_factors.push(r),t.tileSizePerScaleFactor[r]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(u=t.profile,-1==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(u[0])||-1!=u.indexOf("sizeByW")){for(var o=Math.min(this.height,this.width),s=[256,512,1024],a=[],l=0;l<s.length;l++)s[l]<=o&&a.push(s[l]);a.length>0?t.tileSize=Math.max.apply(null,a):t.tileSize=o}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=function(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+",/0/default.jpg",width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");var u;t.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?t.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!=e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=e["@context"]&&"http://iiif.io/api/image/1/context.json"!=e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!=e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=e.documentElement.namespaceURI))))},configure:function(t,n){if(e.isPlainObject(t))return t["@context"]?t:(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t);var i=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,i=null;if("info"==n.tagName)try{return function t(n,i,r){var o,s;if(3==n.nodeType&&r)(s=n.nodeValue.trim()).match(/^\d*$/)&&(s=Number(s)),i[r]?(e.isArray(i[r])||(i[r]=[i[r]]),i[r].push(s)):i[r]=s;else if(1==n.nodeType)for(o=0;o<n.childNodes.length;o++)t(n.childNodes[o],i,n.nodeName)}(n,i={}),i}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(t);return i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=n.replace("/info.xml",""),i},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}var r,o,s,a,l,u,c,h,d,p,f,g=Math.pow(.5,this.maxLevel-e),m=Math.ceil(this.width*g),v=Math.ceil(this.height*g);return r=this.getTileWidth(e),o=this.getTileHeight(e),s=Math.ceil(r/g),a=Math.ceil(o/g),f=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",m<r&&v<o?(p=m+",",l="full"):(u=t*s,c=n*a,h=Math.min(s,this.width-u),d=Math.min(a,this.height-c),p=Math.ceil(h*g)+",",l=[u,c,h,d].join(",")),[this["@id"],l,p,"0",f].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,i,r,o){var s;(s=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&s.height||(s.width=65572864,s.height=65572864),s.tileSize||(s.tileSize=256,s.tileOverlap=0),s.tilesUrl||(s.tilesUrl="http://tile.openstreetmap.org/"),s.minLevel=8,e.TileSource.apply(this,[s])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,i,r,o){var s;s=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var a,l=256*Math.ceil(s.width/256),u=256*Math.ceil(s.height/256);a=l>u?l/256:u/256,s.maxLevel=Math.ceil(Math.log(a)/Math.log(2))-1,s.tileSize=256,s.width=l,s.height=u,e.TileSource.apply(this,[s])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(i-n)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var i=0,r={},o=0;o<e;o++)i+=(r=this.gridSize[o]).x*r.y;return i+=(r=this.gridSize[e]).x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var i,r=this._calculateAbsoluteTileNumber(e,t,n);return i=Math.floor(r/256),this.tilesUrl+"TileGroup"+i+"/"+e+"-"+t+"-"+n+".jpg"}})}(OpenSeadragon),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var n,i,r;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=function(t){var n,i,r=[];for(i=0;i<t.length;i++)(n=t[i]).height&&n.width&&n.url?r.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return r.sort(function(e,t){return e.height-t.height})}(n.levels),n.levels.length>0?(i=n.levels[n.levels.length-1].width,r=n.levels[n.levels.length-1].height):(i=0,r=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:i,height:r,tileSize:Math.max(r,i),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(n,i){return e.isPlainObject(n)?t(this,n):function(n,i){if(!i||!i.documentElement)throw new Error(e.getString("Errors.Xml"));var r,o,s=i.documentElement,a=s.tagName,l=null,u=[];if("image"==a)try{for(l={type:s.getAttribute("type"),levels:[]},u=s.getElementsByTagName("level"),o=0;o<u.length;o++)r=u[o],l.levels.push({url:r.getAttribute("url"),width:parseInt(r.getAttribute("width"),10),height:parseInt(r.getAttribute("height"),10)});return t(n,l)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==a)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==a)throw new Error("Error: "+i)}throw new Error("Unknown element "+a)}(this,n)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,i=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",function(){i.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,i.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,i.aspectRatio=i.width/i.height,i.dimensions=new e.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})}),e.addEvent(n,"error",function(){i.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].url),i},getContext2D:function(e,t,n){var i=null;return e>=this.minLevel&&e<=this.maxLevel&&(i=this.levels[e].context2D),i},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,r=document.createElement("canvas"),o=r.getContext("2d");if(r.width=n,r.height=i,o.drawImage(this._image,0,0,n,i),t[0].context2D=o,delete this._image,e.isCanvasTainted(r))return t;for(;n>=2&&i>=2;){n=Math.floor(n/2),i=Math.floor(i/2);var s=document.createElement("canvas"),a=s.getContext("2d");s.width=n,s.height=i,a.drawImage(r,0,0,n,i),t.splice(0,0,{context2D:a,width:n,height:i}),r=s,o=a}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,i,r){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function t(n){e.requestAnimationFrame(function(){!function(n){var i,r,o;n.shouldFade&&(i=e.now(),r=i-n.fadeBeginTime,o=1-r/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&e.setElementOpacity(n.imgGroup,o,!0),o>0&&t(n))}(n)})}function n(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(!function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function i(n,i){n.element.disabled||(i<=e.ButtonState.HOVER&&n.currentState==e.ButtonState.DOWN&&(n.imgDown&&(n.imgDown.style.visibility="hidden"),n.currentState=e.ButtonState.HOVER),i<=e.ButtonState.GROUP&&n.currentState==e.ButtonState.HOVER&&(n.imgHover&&(n.imgHover.style.visibility="hidden"),n.currentState=e.ButtonState.GROUP),i<=e.ButtonState.REST&&n.currentState==e.ButtonState.GROUP&&(!function(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout(function(){t(n)},n.fadeDelay)}(n),n.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var r=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(n(r,e.ButtonState.DOWN),r.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||n(r,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),r.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){i(r,e.ButtonState.GROUP),t.insideElementPressed&&r.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),r.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){n(r,e.ButtonState.DOWN),r.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(i(r,e.ButtonState.HOVER),r.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?i(r,e.ButtonState.GROUP):n(r,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&r.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(r.raiseEvent("click",{originalEvent:e.originalEvent}),r.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),i(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){n(this,e.ButtonState.GROUP)},notifyGroupExit:function(){i(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,i=this.buttons.concat([]),r=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.label=e.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),n=0;n<i.length;n++)this.element.appendChild(i[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<r.buttons.length;t++)r.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,n,i,r,o){var s,a;this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof i?i:0,this.height="number"==typeof r?r:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(s=this.getTopRight(),this.x=s.x,this.y=s.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=270):this.degrees>=180?(s=this.getBottomRight(),this.x=s.x,this.y=s.y,this.degrees-=180):this.degrees>=90&&(s=this.getBottomLeft(),this.x=s.x,this.y=s.y,a=this.height,this.height=this.width,this.width=a,this.degrees-=90)},e.Rect.fromSummits=function(t,n,i){var r=t.distanceTo(n),o=t.distanceTo(i),s=n.minus(t),a=Math.atan(s.y/s.x);return s.x<0?a+=Math.PI:s.y<0&&(a+=2*Math.PI),new e.Rect(t.x,t.y,r,o,a/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),i=t.getBoundingBox(),r=Math.min(n.x,i.x),o=Math.min(n.y,i.y),s=Math.max(n.x+n.width,i.x+i.width),a=Math.max(n.y+n.height,i.y+i.height);return new e.Rect(r,o,s-r,a-o)},intersection:function(t){var n=1e-10,i=[],r=this.getTopLeft();t.containsPoint(r,n)&&i.push(r);var o=this.getTopRight();t.containsPoint(o,n)&&i.push(o);var s=this.getBottomLeft();t.containsPoint(s,n)&&i.push(s);var a=this.getBottomRight();t.containsPoint(a,n)&&i.push(a);var l=t.getTopLeft();this.containsPoint(l,n)&&i.push(l);var u=t.getTopRight();this.containsPoint(u,n)&&i.push(u);var c=t.getBottomLeft();this.containsPoint(c,n)&&i.push(c);var h=t.getBottomRight();this.containsPoint(h,n)&&i.push(h);for(var d=this._getSegments(),p=t._getSegments(),f=0;f<d.length;f++)for(var g=d[f],m=0;m<p.length;m++){var v=p[m],y=w(g[0],g[1],v[0],v[1]);y&&i.push(y)}function w(t,i,r,o){var s=i.minus(t),a=o.minus(r),l=-a.x*s.y+s.x*a.y;if(0===l)return null;var u=(s.x*(t.y-r.y)-s.y*(t.x-r.x))/l,c=(a.x*(t.y-r.y)-a.y*(t.x-r.x))/l;return-n<=u&&u<=1-n&&-n<=c&&c<=1-n?new e.Point(t.x+c*s.x,t.y+c*s.y):null}if(0===i.length)return null;for(var x=i[0].x,T=i[0].x,_=i[0].y,S=i[0].y,b=1;b<i.length;b++){var E=i[b];E.x<x&&(x=E.x),E.x>T&&(T=E.x),E.y<_&&(_=E.y),E.y>S&&(S=E.y)}return new e.Rect(x,_,T-x,S-_)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[e,t],[t,i],[i,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var i=this.getTopLeft().rotate(t,n),r=this.getTopRight().rotate(t,n).minus(i);r=r.apply(function(e){return Math.abs(e)<1e-15?0:e});var o=Math.atan(r.y/r.x);return r.x<0?o+=Math.PI:r.y<0&&(o+=2*Math.PI),new e.Rect(i.x,i.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),i=this.getBottomLeft(),r=this.getBottomRight(),o=Math.min(t.x,n.x,i.x,r.x),s=Math.max(t.x,n.x,i.x,r.x),a=Math.min(t.y,n.y,i.y,r.y),l=Math.max(t.y,n.y,i.y,r.y);return new e.Rect(o,a,s-o,l-a)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),i=Math.floor(t.y),r=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-i);return new e.Rect(n,i,r,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),s=r.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-i.x)*o.x+(e.y-i.y)*o.y<=t&&(e.x-n.x)*s.x+(e.y-n.y)*s.y>=-t&&(e.x-r.x)*s.x+(e.y-r.y)*s.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){var t={};function n(t){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(o-a.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",r(this,a.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",r(this,a.x,n+2*t.delta.x)):-t.delta.y>0?i>-(s-a.y)&&(this.element.style.marginTop=i+2*t.delta.y+"px",r(this,a.y,i+2*t.delta.y)):-t.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*t.delta.y+"px",r(this,a.y,i+2*t.delta.y))),!1}function i(t){var n=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),a=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(o-a.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",r(this,a.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",r(this,a.x,n-60*t.scroll)):t.scroll<0?i>a.y-s&&(this.element.style.marginTop=i+60*t.scroll+"px",r(this,a.y,i+60*t.scroll)):t.scroll>0&&i<0&&(this.element.style.marginTop=i+60*t.scroll+"px",r(this,a.y,i+60*t.scroll))),!1}function r(t,n,i){var r,o,s,a,l,u,c;for(r="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/r)+5,u=o=(o=(s=Math.ceil((Math.abs(i)+n)/r)+1)-o)<0?0:o;u<s&&u<t.panels.length;u++)if(!(c=t.panels[u]).activePanel){var h,d=t.viewer.tileSources[u];h=d.referenceStripThumbnailUrl?{type:"image",url:d.referenceStripThumbnailUrl}:d,(a=new e.Viewer({id:c.id,tileSources:[h],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=e.makeNeutralElement("div"),a.displayRegion.id=c.id+"-displayregion",a.displayRegion.className="displayregion",(l=a.displayRegion.style).position="relative",l.top="0px",l.left="0px",l.fontSize="0px",l.overflow="hidden",l.float="left",l.cssFloat="left",l.styleFloat="left",l.zIndex=999999999,l.cursor="default",l.width=t.panelWidth-4+"px",l.height=t.panelHeight-4+"px",a.displayRegion.innerTracker=new e.MouseTracker({element:a.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(a.displayRegion),t.miniViewers[c.id]=a,c.activePanel=!0}}function o(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function s(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function a(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function l(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return i.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return i.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}e.ReferenceStrip=function(u){var c,h,d,p=u.viewer,f=e.getElementSize(p.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(h=this.element.style).marginTop="0px",h.marginRight="0px",h.marginBottom="0px",h.marginLeft="0px",h.left="0px",h.bottom="0px",h.border="0px",h.background="#000",h.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=p,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,i),enterHandler:e.delegate(this,o),exitHandler:e.delegate(this,s),keyDownHandler:e.delegate(this,a),keyHandler:e.delegate(this,l)}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",p.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==u.scroll?(this.element.style.width=f.x*u.sizeRatio*p.tileSources.length+12*p.tileSources.length+"px",this.element.style.height=f.y*u.sizeRatio+"px",p.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=f.y*u.sizeRatio*p.tileSources.length+12*p.tileSources.length+"px",this.element.style.width=f.x*u.sizeRatio+"px",p.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=f.x*this.sizeRatio+8,this.panelHeight=f.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},d=0;d<p.tileSources.length;d++)(c=e.makeNeutralElement("div")).id=this.element.id+"-"+d,c.style.width=this.panelWidth+"px",c.style.height=this.panelHeight+"px",c.style.display="inline",c.style.float="left",c.style.cssFloat="left",c.style.styleFloat="left",c.style.padding="2px",e.setElementTouchActionNone(c),c.innerTracker=new e.MouseTracker({element:c,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,i=n.element.id,r=Number(i.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,p.goToPage(r))}}),this.element.appendChild(c),c.activePanel=!1,this.panels.push(c);r(this,"vertical"==this.scroll?f.y:f.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,i=e.getElement(this.element.id+"-"+t),s=e.getElementSize(this.viewer.canvas),a=Number(this.element.style.width.replace("px","")),l=Number(this.element.style.height.replace("px","")),u=-Number(this.element.style.marginLeft.replace("px","")),c=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3))>u+s.x-this.panelWidth?(n=Math.min(n,a-s.x),this.element.style.marginLeft=-n+"px",r(this,s.x,-n)):n<u&&(n=Math.max(0,n-s.x/2),this.element.style.marginLeft=-n+"px",r(this,s.x,-n)):(n=Number(t)*(this.panelHeight+3))>c+s.y-this.panelHeight?(n=Math.min(n,l-s.y),this.element.style.marginTop=-n+"px",r(this,s.y,-n)):n<c&&(n=Math.max(0,n-s.y/2),this.element.style.marginTop=-n+"px",r(this,s.y,-n)),this.currentPage=t,o.call(this,{eventSource:this.innerTracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,i,r,o,s){e.Rect.apply(this,[t,n,i,r]),this.minLevel=o,this.maxLevel=s},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,n;this.current.time=e.now(),this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var i,r,o=this.current.time>=this.target.time?n:t+(n-t)*(i=this.springStiffness,r=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(i*-r))/(1-Math.exp(-i))),s=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,s!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}t.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout(function(){t.errorMsg="Image load exceeded timeout",t.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&i){var r=new i;r.append(e.response),n=r.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var n=this,i=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(e,t,n){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),n(t.image,t.errorMsg,t.request)}(n,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(i.start(),this.jobsInProgress++):this.jobQueue.push(i)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,i,r,o,s,a,l){this.level=e,this.x=t,this.y=n,this.bounds=i,this.exists=r,this.url=o,this.context2D=s,this.loadWithAjax=a,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,i,r){var o,s=this.position.times(e.pixelDensityRatio),a=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof i&&1!==i&&(s=s.times(i),a=a.times(i)),r instanceof e.Point&&(s=s.plus(r)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(s.x+1,s.y+1,a.x-2,a.y-2),n({context:t,tile:this,rendered:o}),t.drawImage(o.canvas,0,0,o.canvas.width,o.canvas.height,s.x,s.y,a.x,a.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,i){var r=Math.max(1,Math.ceil((i.x-n.x)/2)),o=Math.max(1,Math.ceil((i.y-n.y)/2));return new e.Point(r,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,i){var r;r=e.isPlainObject(t)?t:{element:t,location:n,placement:i},this.element=r.element,this.style=r.element.style,this._init(r)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var i=e.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?t.x-=n.x/2:i.isRight&&(t.x-=n.x),i.isVerticallyCentered?t.y-=n.y/2:i.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var i=e.getCssPropertyWithVendorPrefix("transformOrigin"),r=e.getCssPropertyWithVendorPrefix("transform");i&&r&&(n[i]="",n[r]="")},drawHTML:function(t,n){var i=this.element;i.parentNode!==t&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,t.appendChild(i),this.style.position="absolute",this.size=e.getElementSize(i));var r=this._getOverlayPositionAndSize(n),o=r.position,s=this.size=r.size,a=r.rotate;if(this.onDraw)this.onDraw(o,s,this.element);else{var l=this.style;l.left=o.x+"px",l.top=o.y+"px",null!==this.width&&(l.width=s.x+"px"),null!==this.height&&(l.height=s.y+"px");var u=e.getCssPropertyWithVendorPrefix("transformOrigin"),c=e.getCssPropertyWithVendorPrefix("transform");u&&c&&(a?(l[u]=this._getTransformOrigin(),l[c]="rotate("+a+"deg)"):(l[u]="",l[c]="")),"none"!==l.display&&(l.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(t);this.adjust(n,i);var r=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,i.x,i.y),s=this._getBoundingBox(o,t.degrees);n=s.getTopLeft(),i=s.getSize()}else r=t.degrees;return{position:n,size:i,rotate:r}},_getSizeInPixels:function(t){var n=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var r=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=r.x),null!==this.height&&(i=r.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(i=o.y)}return new e.Point(n,i)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),i=e.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?n.x+=t.width/2:i.isRight&&(n.x+=t.width),i.isVerticallyCentered?n.y+=t.height/2:i.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var i=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,i=this.height;if(null===n||null===i){var r=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=r.x),null===i&&(i=r.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,i)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,i))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var i=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},e.Drawer.prototype={addOverlay:function(t,n,i,r){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,i,r),this},updateOverlay:function(t,n,i){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,i),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,i=0;i<n.getItemCount();i++)n.getItemAt(i).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,i=0;i<t.getItemCount();i++){var r=t.getItemAt(i).getOpacity();r>n&&(n=r)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,i.x*e.pixelDensityRatio,i.y*e.pixelDensityRatio)},drawTile:function(t,n,i,r,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var s=this._getContext(i);r=r||1,t.drawCanvas(s,n,r,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",function e(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",e);var t=i._calculateSketchCanvasSize();i.sketchCanvas.width=t.x,i.sketchCanvas.height=t.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=t,i.fillRect(e.x,e.y,e.width,e.height),i.restore()}},blendSketch:function(t,n,i,r){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:i,compositeOperation:r}),this.useCanvas&&this.sketchCanvas){t=o.opacity,r=o.compositeOperation;var s=o.bounds;if(this.context.save(),this.context.globalAlpha=t,r&&(this.context.globalCompositeOperation=r),s)s.x<0&&(s.width+=s.x,s.x=0),s.x+s.width>this.canvas.width&&(s.width=this.canvas.width-s.x),s.y<0&&(s.height+=s.y,s.y=0),s.y+s.height>this.canvas.height&&(s.height=this.canvas.height-s.y),this.context.drawImage(this.sketchCanvas,s.x,s.y,s.width,s.height,s.x,s.y,s.width,s.height);else{n=o.scale||1;var a=(i=o.translate)instanceof e.Point?i:new e.Point(0,0),l=0,u=0;if(i){var c=this.sketchCanvas.width-this.canvas.width,h=this.sketchCanvas.height-this.canvas.height;l=Math.round(c/2),u=Math.round(h/2)}this.context.drawImage(this.sketchCanvas,a.x-l*n,a.y-u*n,(this.canvas.width+2*l)*n,(this.canvas.height+2*u)*n,-l,-u,this.canvas.width+2*l,this.canvas.height+2*u)}this.context.restore()}},drawDebugInfo:function(t,n,i,r){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(r)%this.debugGridColor.length,s=this.context;s.save(),s.lineWidth=2*e.pixelDensityRatio,s.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",s.strokeStyle=this.debugGridColor[o],s.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),r.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:r.getRotation(!0),point:r.viewport.pixelFromPointNoRotate(r._getRotationPoint(!0),!0)}),s.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var a=(t.position.x+t.size.x/2)*e.pixelDensityRatio,l=(t.position.y+t.size.y/2)*e.pixelDensityRatio;s.translate(a,l),s.rotate(Math.PI/180*-this.viewport.degrees),s.translate(-a,-l),0===t.x&&0===t.y&&(s.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),s.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),s.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),s.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),s.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),s.fillText("Order: "+i+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),s.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),s.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),r.getRotation(!0)%360!=0&&this._restoreRotationChanges(),s.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(t.useSketch);i.save(),i.translate(n.x,n.y),i.rotate(Math.PI/180*t.degrees),i.translate(-n.x,-n.y)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:n.x*t,y:n.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),i=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-i/2,n,i)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),i=1/this.getZoom(t),r=i/this.getAspectRatio();return new e.Rect(n.x-i/2,n.y-r/2,i,r)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,i,r,o,s,a,l=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?l:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(r=1/(i=this.getZoom()))/this.getAspectRatio(),s=new e.Rect(l.x-r/2,l.y-o/2,r,o),a=this._pixelFromPoint(this.zoomPoint,s).minus(n).divide(this._containerInnerSize.x*i),u.plus(a)):u},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*n.width,r=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,s=this._contentBoundsNoRotate.x-r+i,a=o-n.x-i;i>this._contentBoundsNoRotate.width?n.x+=(s+a)/2:a<0?n.x+=a:s>0&&(n.x+=s)}if(this.wrapVertical);else{var l=this.visibilityRatio*n.height,u=n.y+n.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,h=this._contentBoundsNoRotate.y-u+l,d=c-n.y-l;l>this._contentBoundsNoRotate.height?n.y+=(h+d)/2:d<0?n.y+=d:h>0&&(n.y+=h)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(e),(i.x!==r.x||i.y!==r.y||e)&&this.fitBounds(r.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var i=(n=n||{}).immediately||!1,r=n.constraints||!1,o=this.getAspectRatio(),s=t.getCenter(),a=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();a.getAspectRatio()>=o?a.height=a.width/o:a.width=a.height*o,a.x=s.x-a.width/2,a.y=s.y-a.height/2;var l=1/a.width;if(r){var u=a.getAspectRatio(),c=this._applyZoomConstraints(l);l!==c&&(l=c,a.width=1/l,a.x=s.x-a.width/2,a.height=a.width/u,a.y=s.y-a.height/2),s=(a=this._applyBoundaryConstraints(a)).getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(s,!0),this.zoomTo(l,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var h=this.getBounds(),d=this.getZoom();if(0===d||Math.abs(l/d-1)<1e-8)return this.zoomTo(l,!0),this.panTo(s,i);var p=(a=a.rotate(-this.getRotation())).getTopLeft().times(l).minus(h.getTopLeft().times(d)).divide(l-d);return this.zoomTo(l,p,i)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var i=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,i){var r=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,i?this._adjustCenterSpringsForZoomPoint(function(){r.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:i}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var i=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/i,n*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var i=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*i,n/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(i>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}}var r=this._imageToViewportDelta(t,n);return r.x+=this._contentBoundsNoRotate.x,r.y+=this._contentBoundsNoRotate.y,r},imageToViewportRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var s=this.viewer.world.getItemCount();if(s>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===s){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,i,r,!0)}}var a=this.imageToViewportCoordinates(o.x,o.y),l=this._imageToViewportDelta(o.width,o.height);return new e.Rect(a.x,a.y,l.x,l.y,o.degrees)},viewportToImageRectangle:function(t,n,i,r){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,i,r)),this.viewer){var s=this.viewer.world.getItemCount();if(s>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===s){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,i,r,!0)}}var a=this.viewportToImageCoordinates(o.x,o.y),l=this._viewportToImageDelta(o.width,o.height);return new e.Rect(a.x,a.y,l.x,l.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var i=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/i*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)}}}(OpenSeadragon),function(e){function t(e,t,i,r,o,s,l,u,c){var h=l.getBoundingBox().getTopLeft(),d=l.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:r,opacity:o,visibility:s,drawArea:l,topleft:h,bottomright:d,currenttime:u,best:c}),a(e.coverage,r),a(e.loadingCoverage,r);for(var p=e._getCornerTiles(r,h,d),f=p.topLeft,g=p.bottomRight,m=e.source.getNumTiles(r),v=e.viewport.pixelFromPoint(e.viewport.getCenter()),y=f.x;y<=g.x;y++)for(var w=f.y;w<=g.y;w++){if(!e.wrapHorizontal&&!e.wrapVertical){var x=e.source.getTileBounds(r,y,w);if(null===l.intersection(x))continue}c=n(e,i,t,y,w,r,o,s,v,m,u,c)}return c}function n(t,n,r,a,l,u,c,h,d,p,f,g){var m=function(t,n,i,r,o,s,a,l,u,c){var h,d,p,f,g,m,v,y;s[i]||(s[i]={});s[i][t]||(s[i][t]={});s[i][t][n]||(h=(l.x+t%l.x)%l.x,d=(l.y+n%l.y)%l.y,p=o.getTileBounds(i,h,d),f=o.tileExists(i,h,d),g=o.getTileUrl(i,h,d),r.loadTilesWithAjax?(m=o.getTileAjaxHeaders(i,h,d),e.isPlainObject(r.ajaxHeaders)&&(m=e.extend({},r.ajaxHeaders,m))):m=null,v=o.getContext2D?o.getContext2D(i,h,d):void 0,p.x+=(t-h)/l.x,p.y+=c/u*((n-d)/l.y),y=new e.Tile(i,t,n,p,f,g,v,r.loadTilesWithAjax,m),h===l.x-1&&(y.isRightMost=!0),d===l.y-1&&(y.isBottomMost=!0),s[i][t][n]=y);return(y=s[i][t][n]).lastTouchTime=a,y}(a,l,u,t,t.source,t.tilesMatrix,f,p,t._worldWidthCurrent,t._worldHeightCurrent),v=r;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:m}),s(t.coverage,u,a,l,!1);var y=m.loaded||m.loading||o(t.loadingCoverage,u,a,l);if(s(t.loadingCoverage,u,a,l,y),!m.exists)return g;if(n&&!v&&(o(t.coverage,u,a,l)?s(t.coverage,u,a,l,!0):v=!0),!v)return g;if(function(t,n,i,r,o,s){var a=t.bounds.getTopLeft();a.x*=s._scaleSpring.current.value,a.y*=s._scaleSpring.current.value,a.x+=s._xSpring.current.value,a.y+=s._ySpring.current.value;var l=t.bounds.getSize();l.x*=s._scaleSpring.current.value,l.y*=s._scaleSpring.current.value;var u=i.pixelFromPointNoRotate(a,!0),c=i.pixelFromPointNoRotate(a,!1),h=i.deltaPixelsFromPointsNoRotate(l,!0),d=i.deltaPixelsFromPointsNoRotate(l,!1),p=c.plus(d.divide(2)),f=r.squaredDistanceTo(p);n||(h=h.plus(new e.Point(1,1)));t.isRightMost&&s.wrapHorizontal&&(h.x+=.75);t.isBottomMost&&s.wrapVertical&&(h.y+=.75);t.position=u,t.size=h,t.squaredDistance=f,t.visibility=o}(m,t.source.tileOverlap,t.viewport,d,h,t),!m.loaded)if(m.context2D)i(t,m);else{var w=t._tileCache.getImageRecord(m.cacheKey);if(w)i(t,m,w.getImage())}m.loaded?function(e,t,n,i,r,o,a){var l,u,c=1e3*e.blendTime;t.blendStart||(t.blendStart=a);l=a-t.blendStart,u=c?Math.min(1,l/c):1,e.alwaysBlend&&(u*=o);if(t.opacity=u,e.lastDrawn.push(t),1==u)s(e.coverage,r,n,i,!0),e._hasOpaqueTile=!0;else if(l<c)return!0;return!1}(t,m,a,l,u,c,f)&&(t._needsDraw=!0):m.loading?t._tilesLoading++:y||(g=function(e,t){if(!e)return t;if(t.visibility>e.visibility)return t;if(t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance)return t;return e}(g,m));return g}function i(e,t,n,i,r){var o=0;function s(){return o++,a}function a(){0===--o&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:i,tiledImage:e}),e._needsDraw=!0)}e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:r,image:n,getCompletionCallback:s}),s()()}function r(e,t,n,i){var r,o,s,a;if(!e[t])return!1;if(void 0===n||void 0===i){for(s in r=e[t])if(r.hasOwnProperty(s))for(a in o=r[s])if(o.hasOwnProperty(a)&&!o[a])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][i]||!0===e[t][n][i]}function o(e,t,n,i){return void 0===n||void 0===i?r(e,t+1):r(e,t+1,2*n,2*i)&&r(e,t+1,2*n,2*i+1)&&r(e,t+1,2*n+1,2*i)&&r(e,t+1,2*n+1,2*i+1)}function s(t,n,i,r,o){t[n]?(t[n][i]||(t[n][i]={}),t[n][i][r]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function a(e,t){e[t]={}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var i=t.x||0;delete t.x;var r=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var s=t.fitBounds;delete t.fitBounds;var a=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var l=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:l,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),s&&this.fitBounds(s,a,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(e||t||n||i)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){(0!==this.opacity||this._preload)&&(this._midDraw=!0,this._updateViewport(),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var i=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,r=this._clip.times(i);n=new e.Rect(n.x+r.x,n.y+r.y,r.width,r.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/r),n*(this.source.dimensions.y*this.contentAspectX/r))},viewportToImageCoordinates:function(t,n,i){var r;return t instanceof e.Point?(i=n,r=t):r=new e.Point(t,n),r=r.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(r.x-this._xSpring.current.value,r.y-this._ySpring.current.value):this._viewportToImageDelta(r.x-this._xSpring.target.value,r.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,i){var r=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*r,n/this.source.dimensions.y/this.contentAspectX*r)},imageToViewportCoordinates:function(t,n,i){t instanceof e.Point&&(i=n,n=t.y,t=t.x);var r=this._imageToViewportDelta(t,n);return i?(r.x+=this._xSpring.current.value,r.y+=this._ySpring.current.value):(r.x+=this._xSpring.target.value,r.y+=this._ySpring.target.value),r.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(t,n,i,r,o){var s=t;s instanceof e.Rect?o=n:s=new e.Rect(t,n,i,r);var a=this.imageToViewportCoordinates(s.getTopLeft(),o),l=this._imageToViewportDelta(s.width,s.height,o);return new e.Rect(a.x,a.y,l.x,l.y,s.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,i,r,o){var s=t;t instanceof e.Rect?o=n:s=new e.Rect(t,n,i,r);var a=this.viewportToImageCoordinates(s.getTopLeft(),o),l=this._viewportToImageDelta(s.width,s.height,o);return new e.Rect(a.x,a.y,l.x,l.y,s.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,n,i){n=n||e.Placement.CENTER;var r=e.Placement.properties[n],o=this.contentAspectX,s=0,a=0,l=1,u=1;if(this._clip&&(o=this._clip.getAspectRatio(),l=this._clip.width/this.source.dimensions.x,u=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(s=this._clip.x/this._clip.height*t.height,a=this._clip.y/this._clip.height*t.height):(s=this._clip.x/this._clip.width*t.width,a=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var c=t.height/u,h=0;r.isHorizontallyCentered?h=(t.width-t.height*o)/2:r.isRight&&(h=t.width-t.height*o),this.setPosition(new e.Point(t.x-s+h,t.y-a),i),this.setHeight(c,i)}else{var d=t.width/l,p=0;r.isVerticallyCentered?p=(t.height-t.width/o)/2:r.isBottom&&(p=t.height-t.width/o),this.setPosition(new e.Point(t.x-s,t.y-a+p),i),this.setWidth(d,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var n=this.viewport,o=this._viewportToTiledImageRectangle(n.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var s=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(o=o.intersection(s)))return}for(var a=this._getLevelsInterval(),l=a.lowestLevel,u=a.highestLevel,c=null,h=!1,d=e.now(),p=u;p>=l;p--){var f=!1,g=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(p),!0).x*this._scaleSpring.current.value;if(p===l||!h&&g>=this.minPixelRatio)f=!0,h=!0;else if(!h)continue;var m=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(p),!1).x*this._scaleSpring.current.value,v=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,y=this.immediateRender?1:v;if(c=t(this,h,f,p,Math.min(1,(g-.5)/.5),y/Math.abs(y-m),o,d,c),r(this.coverage,p))break}!function(t,n){if(0===t.opacity||0===n.length&&!t.placeholderFillStyle)return;var i,r,o,s=n[0];s&&(i=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&s._hasTransparencyChannel());var a,l=t.viewport.getZoom(!0),u=t.viewportToImageZoom(l);n.length>1&&u>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(i=!0,r=s.getScaleForEdgeSmoothing(),o=s.getTranslationForEdgeSmoothing(r,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0)));i&&(r||(a=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio)),t._drawer._clear(!0,a));r||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:i}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:i}));var c=!1;if(t._clip){t._drawer.saveContext(i);var h=t.imageToViewportRectangle(t._clip,!0);h=h.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var d=t._drawer.viewportToDrawerRectangle(h);r&&(d=d.times(r)),o&&(d=d.translate(o)),t._drawer.setClip(d,i),c=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var p=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));r&&(p=p.times(r)),o&&(p=p.translate(o));var f=null;f="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(p,f,i)}for(var g=n.length-1;g>=0;g--)s=n[g],t._drawer.drawTile(s,t._drawingHandler,i,r,o),s.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:s});c&&t._drawer.restoreContext(i);r||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(i),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(i));i&&(r&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:r,translate:o,compositeOperation:t.compositeOperation,bounds:a}),r&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1)));!function(t,n){if(t.debugMode)for(var i=n.length-1;i>=0;i--){var r=n[i];try{t._drawer.drawDebugInfo(r,n.length,i,t)}catch(t){e.console.error(t)}}}(t,n)}(this,this.lastDrawn),c&&!c.context2D?(!function(t,n,r){n.loading=!0,t._imageLoader.addJob({src:n.url,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(o,s,a){!function(t,n,r,o,s,a){if(!o)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,s),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:r,message:s,tileRequest:a}),n.loading=!1,void(n.exists=!1);if(r<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var l=function(){var e=t.source.getClosestLevel();i(t,n,o,e,a)};t._midDraw?window.setTimeout(l,1):l()}(t,n,r,o,s,a)},abort:function(){n.loading=!1}})}(this,c,d),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,i){var r,o,s,a;this.wrapHorizontal?(r=e.positiveModulo(n.x,1),o=e.positiveModulo(i.x,1)):(r=Math.max(0,n.x),o=Math.min(1,i.x));var l=1/this.source.aspectRatio;this.wrapVertical?(s=e.positiveModulo(n.y,l),a=e.positiveModulo(i.y,l)):(s=Math.max(0,n.y),a=Math.min(l,i.y));var u=this.source.getTileAtPoint(t,new e.Point(r,s)),c=this.source.getTileAtPoint(t,new e.Point(o,a)),h=this.source.getNumTiles(t);return this.wrapHorizontal&&(u.x+=h.x*Math.floor(n.x),c.x+=h.x*Math.floor(i.x)),this.wrapVertical&&(u.y+=h.y*Math.floor(n.y/l),c.y+=h.y*Math.floor(i.y/l)),{topLeft:u,bottomRight:c}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};t.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(n){e.console.assert(n,"[TileCache.cacheTile] options is required"),e.console.assert(n.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(n.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(n.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=n.cutoff||0,r=this._tilesLoaded.length,o=this._imagesLoaded[n.tile.cacheKey];if(o||(e.console.assert(n.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),o=this._imagesLoaded[n.tile.cacheKey]=new t({image:n.image}),this._imagesLoadedCount++),o.addTile(n.tile),n.tile.cacheImageRecord=o,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,a,l,u,c,h,d=null,p=-1,f=null,g=this._tilesLoaded.length-1;g>=0;g--)(s=(h=this._tilesLoaded[g]).tile).level<=i||s.beingDrawn||(d?(u=s.lastTouchTime,a=d.lastTouchTime,c=s.level,l=d.level,(u<a||u==a&&c>l)&&(d=s,p=g,f=h)):(d=s,p=g,f=h));d&&p>=0&&(this._unloadTile(f),r=p)}this._tilesLoaded[r]=new function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage}({tile:n.tile,tiledImage:n.tiledImage})},clearTilesFor:function(t){var n;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(n=this._tilesLoaded[i]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,i=t.tiledImage;n.unload(),n.cacheImageRecord=null;var r=this._imagesLoaded[n.cacheKey];r.removeTile(n),r.getTileCount()||(r.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:i})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var i=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(i,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:i,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,i=(t=t||{}).immediately||!1,r=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,s=t.columns||e.DEFAULT_SETTINGS.collectionColumns,a=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,l=a+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&s?s:Math.ceil(this._items.length/o);var u,c,h,d,p,f=0,g=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%n==0&&("horizontal"===r?(g+=l,f=0):(f+=l,g=0)),d=(h=(c=(u=this._items[m]).getBounds()).width>c.height?a:a*(c.width/c.height))*(c.height/c.width),p=new e.Point(f+(a-h)/2,g+(a-d)/2),u.setPosition(p,i),u.setWidth(h,i),"horizontal"===r?f+=l:g+=l;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var r=this._items[0],o=r.getBounds();this._contentFactor=r.getContentSize().x/o.width;for(var s=r.getClippedBounds().getBoundingBox(),a=s.x,l=s.y,u=s.x+s.width,c=s.y+s.height,h=1;h<this._items.length;h++)o=(r=this._items[h]).getBounds(),this._contentFactor=Math.max(this._contentFactor,r.getContentSize().x/o.width),s=r.getClippedBounds().getBoundingBox(),a=Math.min(a,s.x),l=Math.min(l,s.y),u=Math.max(u,s.x+s.width),c=Math.max(c,s.y+s.height);this._homeBounds=new e.Rect(a,l,u-a,c-l),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t,n){var i;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,d={},p=d.toString,f=d.hasOwnProperty,g=f.toString,m=g.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},w=function(e){return null!=e&&e===e.window},x={type:!0,src:!0,noModule:!0};function T(e,t,n){var i,r=(t=t||s).createElement("script");if(r.text=e,n)for(i in x)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[p.call(e)]||"object":typeof e}var S=function(e,t){return new S.fn.init(e,t)},b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function E(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!y(e)&&!w(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(e){return this.pushStack(S.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},S.extend=S.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(S.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&S.isPlainObject(n)?n:{},s[t]=S.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=a(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&g.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){T(e)},each:function(e,t){var n,i=0;if(E(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(b,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(E(Object(e))?S.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(E(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=o[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var P=function(e){var t,n,i,r,o,s,a,l,u,c,h,d,p,f,g,m,v,y,w,x="sizzle"+1*new Date,T=e.document,_=0,S=0,b=se(),E=se(),P=se(),C=function(e,t){return e===t&&(h=!0),0},R={}.hasOwnProperty,k=[],O=k.pop,D=k.push,I=k.push,A=k.slice,L=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",H="\\["+M+"*("+N+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+M+"*\\]",z=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+H+")*)|.*)\\)|)",F=new RegExp(M+"+","g"),j=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),W=new RegExp("^"+M+"*,"+M+"*"),q=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),$=new RegExp(z),V=new RegExp("^"+N+"$"),G={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+H),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){d()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{I.apply(k=A.call(T.childNodes),T.childNodes),k[T.childNodes.length].nodeType}catch(e){I={apply:k.length?function(e,t){D.apply(e,A.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,a,u,c,h,f,v,y=t&&t.ownerDocument,_=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return i;if(!r&&((t?t.ownerDocument||t:T)!==p&&d(t),t=t||p,g)){if(11!==_&&(h=Y.exec(e)))if(o=h[1]){if(9===_){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&w(t,u)&&u.id===o)return i.push(u),i}else{if(h[2])return I.apply(i,t.getElementsByTagName(e)),i;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!P[e+" "]&&(!m||!m.test(e))){if(1!==_)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=x),a=(f=s(e)).length;a--;)f[a]="#"+c+" "+ve(f[a]);v=f.join(","),y=Q.test(e)&&ge(t.parentNode)||t}if(v)try{return I.apply(i,y.querySelectorAll(v)),i}catch(e){}finally{c===x&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,i,r)}function se(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[x]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:T;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!o(p),T!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(p.getElementsByClassName),n.getById=le(function(e){return f.appendChild(e).id=x,!p.getElementsByName||!p.getElementsByName(x).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=K.test(p.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+M+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+x+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+x+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",z)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(f.compareDocumentPosition),w=t||K.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===p||e.ownerDocument===T&&w(T,e)?-1:t===p||t.ownerDocument===T&&w(T,t)?1:c?L(c,e)-L(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===p?-1:t===p?1:r?-1:o?1:c?L(c,e)-L(c,t):0;if(r===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ce(s[i],a[i]):s[i]===T?-1:a[i]===T?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(U,"='$1']"),n.matchesSelector&&g&&!P[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),w(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var r=i.attrHandle[t.toLowerCase()],o=r&&R.call(i.attrHandle,t.toLowerCase())?r(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(C),h){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&b(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,w=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(w=(p=(u=(c=(h=(d=m)[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(w=p=0)||f.pop();)if(1===d.nodeType&&++w&&d===t){c[e]=[_,p,w];break}}else if(y&&(w=p=(u=(c=(h=(d=t)[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===_&&u[1]),!1===w)for(;(d=++p&&d&&d[g]||(w=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++w||(y&&((c=(h=d[x]||(d[x]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[_,w]),d!==t)););return(w-=r)===i||w%i==0&&w/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=L(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(j,"$1"));return i[x]?ae(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return V.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=de(t);function me(){}function ve(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=S++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var u,c,h,d=[_,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(h=t[x]||(t[x]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===_&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function xe(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function Te(e,t,n,i,r,o){return i&&!i[x]&&(i=Te(i)),r&&!r[x]&&(r=Te(r,o)),ae(function(o,s,a,l){var u,c,h,d=[],p=[],f=s.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xe(g,d,e,a,l),v=n?r||(o?e:f||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(u=xe(v,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(m[p[c]]=h));if(o){if(r||e){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=r?L(o,h):d[c])>-1&&(o[u]=!(s[u]=h))}}else v=xe(v===s?v.splice(f,v.length):v),r?r(null,s,v,l):I.apply(s,v)})}function _e(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=ye(function(e){return e===t},a,!0),h=ye(function(e){return L(t,e)>-1},a,!0),d=[function(e,n,i){var r=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])d=[ye(we(d),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[x]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return Te(l>1&&we(d),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),n,l<r&&_e(e.slice(l,r)),r<o&&_e(e=e.slice(r)),r<o&&ve(e))}d.push(n)}return we(d)}return me.prototype=i.filters=i.pseudos,i.setFilters=new me,s=oe.tokenize=function(e,t){var n,r,o,s,a,l,u,c=E[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=q.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=G[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):E(e,l).slice(0)},a=oe.compile=function(e,t){var n,r=[],o=[],a=P[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=_e(t[n]))[x]?r.push(a):o.push(a);(a=P(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,c){var h,f,m,v=0,y="0",w=o&&[],x=[],T=u,S=o||r&&i.find.TAG("*",c),b=_+=null==T?1:Math.random()||.1,E=S.length;for(c&&(u=s===p||s||c);y!==E&&null!=(h=S[y]);y++){if(r&&h){for(f=0,s||h.ownerDocument===p||(d(h),a=!g);m=e[f++];)if(m(h,s||p,a)){l.push(h);break}c&&(_=b)}n&&((h=!m&&h)&&v--,o&&w.push(h))}if(v+=y,n&&y!==v){for(f=0;m=t[f++];)m(w,x,s,a);if(o){if(v>0)for(;y--;)w[y]||x[y]||(x[y]=O.call(l));x=xe(x)}I.apply(l,x),c&&!o&&x.length>0&&v+t.length>1&&oe.uniqueSort(l)}return c&&(_=b,u=T),w};return n?ae(o):o}(o,r))).selector=e}return a},l=oe.select=function(e,t,n,r){var o,l,u,c,h,d="function"==typeof e&&e,p=!r&&s(e=d.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(J,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=G.needsContext.test(e)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(J,ee),Q.test(l[0].type)&&ge(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ve(l)))return I.apply(n,r),n;break}}return(d||a(e,p))(r,t,!g,n,!t||Q.test(e)&&ge(t.parentNode)||t),n},n.sortStable=x.split("").sort(C).join("")===x,n.detectDuplicates=!!h,d(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(B,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(n);S.find=P,S.expr=P.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=P.uniqueSort,S.text=P.getText,S.isXMLDoc=P.isXML,S.contains=P.contains,S.escapeSelector=P.escape;var C=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;i.push(e)}return i},R=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,n){return y(t)?S.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?S.grep(e,function(e){return e===t!==n}):"string"!=typeof t?S.grep(e,function(e){return h.call(t,e)>-1!==n}):S.filter(t,e,n)}S.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?S.find.matchesSelector(i,e)?[i]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<i;t++)if(S.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)S.find(e,r[t],n);return i>1?S.uniqueSort(n):n},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var A,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||A,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),D.test(i[1])&&S.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,A=S(s);var B=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&S(e);if(!k.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(S(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return R((e.parentNode||{}).firstChild,e)},children:function(e){return R(e.firstChild)},contents:function(e){return O(e,"iframe")?e.contentDocument:(O(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(e,t){S.fn[e]=function(n,i){var r=S.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=S.filter(i,r)),this.length>1&&(M[e]||S.uniqueSort(r),B.test(e)&&r.reverse()),this.pushStack(r)}});var H=/[^\x20\t\r\n\f]+/g;function z(e){return e}function F(e){throw e}function j(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return S.each(e.match(H)||[],function(e,n){t[n]=!0}),t}(e):S.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){S.each(n,function(n,i){y(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;(n=S.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?S.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},S.extend({Deferred:function(e){var t=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return S.Deferred(function(n){S.each(t,function(t,i){var r=y(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,i,r){var o=0;function s(e,t,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(e<o)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,s(o,t,z,r),s(o,t,F,r)):(o++,u.call(n,s(o,t,z,r),s(o,t,F,r),s(o,t,z,t.notifyWith))):(i!==z&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(n,c.stackTrace),e+1>=o&&(i!==F&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(S.Deferred.getStackHook&&(c.stackTrace=S.Deferred.getStackHook()),n.setTimeout(c))}}return S.Deferred(function(n){t[0][3].add(s(0,n,y(r)?r:z,n.notifyWith)),t[1][3].add(s(0,n,y(e)?e:z)),t[2][3].add(s(0,n,y(i)?i:F))}).promise()},promise:function(e){return null!=e?S.extend(e,r):r}},o={};return S.each(t,function(e,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),o=S.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(j(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)j(r[n],s(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&W.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){n.setTimeout(function(){throw e})};var q=S.Deferred();function U(){s.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),S.ready()}S.fn.ready=function(e){return q.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0,!0!==e&&--S.readyWait>0||q.resolveWith(s,[S]))}}),S.ready.then=q.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(S.ready):(s.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var $=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===_(n))for(a in r=!0,n)$(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(S(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},V=/^-ms-/,G=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function X(e){return e.replace(V,"ms-").replace(G,Z)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=S.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[X(t)]=n;else for(i in t)r[X(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in i?[t]:t.match(H)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||S.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Q=new Y,J=new Y,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),S.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=X(i.slice(5)),ne(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){J.set(this,e)}):$(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),S.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Q.get(e,t),n&&(!i||Array.isArray(n)?i=Q.access(e,t,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),i=n.length,r=n.shift(),o=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){S.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:S.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?S.queue(this[0],e):void 0===t?this:this.each(function(){var n=S.queue(this,e,t);S._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&S.dequeue(this,e)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=S.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&S.contains(e.ownerDocument,e)&&"none"===S.css(e,"display")},ae=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};function le(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return S.css(e,t,"")},l=a(),u=n&&n[3]||(S.cssNumber[t]?"":"px"),c=(S.cssNumber[t]||"px"!==u&&+l)&&re.exec(S.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)S.style(e,t,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,S.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ue={};function ce(e){var t,n=e.ownerDocument,i=e.nodeName,r=ue[i];return r||(t=n.body.appendChild(n.createElement(i)),r=S.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ue[i]=r,r)}function he(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&se(i)&&(r[o]=ce(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}S.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?S(this).show():S(this).hide()})}});var de=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&O(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,i=e.length;n<i;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;var ye,we,xe=/<|&#?\w+;/;function Te(e,t,n,i,r){for(var o,s,a,l,u,c,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===_(o))S.merge(d,o.nodeType?[o]:o);else if(xe.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),l=ge[a]||ge._default,s.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;S.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&S.inArray(o,i)>-1)r&&r.push(o);else if(u=S.contains(o.ownerDocument,o),s=me(h.appendChild(o),"script"),u&&ve(s),n)for(c=0;o=s[c++];)fe.test(o.type||"")&&n.push(o);return h}ye=s.createDocumentFragment().appendChild(s.createElement("div")),(we=s.createElement("input")).setAttribute("type","radio"),we.setAttribute("checked","checked"),we.setAttribute("name","t"),ye.appendChild(we),v.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var _e=s.documentElement,Se=/^key/,be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ee=/^([^.]*)(?:\.(.+)|)/;function Pe(){return!0}function Ce(){return!1}function Re(){try{return s.activeElement}catch(e){}}function ke(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)ke(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ce;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return S().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),e.each(function(){S.event.add(this,t,r,i,n)})}S.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,h,d,p,f,g,m=Q.get(e);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&S.find.matchesSelector(_e,r),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(H)||[""]).length;u--;)p=g=(a=Ee.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=S.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=S.event.special[p]||{},c=S.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),S.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,h,d,p,f,g,m=Q.hasData(e)&&Q.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(H)||[""]).length;u--;)if(p=g=(a=Ee.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=S.event.special[p]||{},d=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||S.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)S.event.remove(e,p+t[u],n,i,!0);S.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=S.event.fix(e),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[a.type]||[],c=S.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,u),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?S(r,this).index(u)>-1:S.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Re()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Re()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&O(this,"input"))return this.click(),!1},_default:function(e){return O(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Pe:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Pe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Pe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Pe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Se.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&be.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){S.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||S.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),S.fn.extend({on:function(e,t,n,i){return ke(this,e,t,n,i)},one:function(e,t,n,i){return ke(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,S(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each(function(){S.event.remove(this,e,n,t)})}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),s=Q.set(t,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)S.event.add(t,r,u[r][n]);J.hasData(e)&&(a=J.access(e),l=S.extend({},a),J.set(t,l))}}function He(e,t,n,i){t=u.apply([],t);var r,o,s,a,l,c,h=0,d=e.length,p=d-1,f=t[0],g=y(f);if(g||d>1&&"string"==typeof f&&!v.checkClone&&Ie.test(f))return e.each(function(r){var o=e.eq(r);g&&(t[0]=f.call(this,r,o.html())),He(o,t,n,i)});if(d&&(o=(r=Te(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=S.map(me(r,"script"),Be)).length;h<d;h++)l=r,h!==p&&(l=S.clone(l,!0,!0),a&&S.merge(s,me(l,"script"))),n.call(e[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,S.map(s,Me),h=0;h<a;h++)l=s[h],fe.test(l.type||"")&&!Q.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(l.src):T(l.textContent.replace(Ae,""),c,l))}return e}function ze(e,t,n){for(var i,r=t?S.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||S.cleanData(me(i)),i.parentNode&&(n&&S.contains(i.ownerDocument,i)&&ve(me(i,"script")),i.parentNode.removeChild(i));return e}S.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l,u,c=e.cloneNode(!0),h=S.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(s=me(c),i=0,r=(o=me(e)).length;i<r;i++)a=o[i],l=s[i],void 0,"input"===(u=l.nodeName.toLowerCase())&&de.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||me(e),s=s||me(c),i=0,r=o.length;i<r;i++)Ne(o[i],s[i]);else Ne(e,c);return(s=me(c,"script")).length>0&&ve(s,!h&&me(e,"script")),c},cleanData:function(e){for(var t,n,i,r=S.event.special,o=0;void 0!==(n=e[o]);o++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(i in t.events)r[i]?S.event.remove(n,i):S.removeEvent(n,i,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),S.fn.extend({detach:function(e){return ze(this,e,!0)},remove:function(e){return ze(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return He(this,arguments,function(t){var n=this.parentNode;S.inArray(this,e)<0&&(S.cleanData(me(this)),n&&n.replaceChild(t,this))},e)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){S.fn[e]=function(e){for(var n,i=[],r=S(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),S(r[s])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var Fe=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},We=new RegExp(oe.join("|"),"i");function qe(e,t,n){var i,r,o,s,a=e.style;return(n=n||je(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||S.contains(e.ownerDocument,e)||(s=S.style(e,t)),!v.pixelBoxStyles()&&Fe.test(s)&&We.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ue(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_e.appendChild(u).appendChild(c);var e=n.getComputedStyle(c);i="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),r=36===t(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",_e.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var $e=/^(none|table(?!-c[ea]).+)/,Ve=/^--/,Ge={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ke=s.createElement("div").style;function Ye(e){var t=S.cssProps[e];return t||(t=S.cssProps[e]=function(e){if(e in Ke)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ke)return e}(e)||e),t}function Qe(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Je(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=S.css(e,n+oe[s],!0,r)),i?("content"===n&&(l-=S.css(e,"padding"+oe[s],!0,r)),"margin"!==n&&(l-=S.css(e,"border"+oe[s]+"Width",!0,r))):(l+=S.css(e,"padding"+oe[s],!0,r),"padding"!==n?l+=S.css(e,"border"+oe[s]+"Width",!0,r):a+=S.css(e,"border"+oe[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function et(e,t,n){var i=je(e),r=qe(e,t,i),o="border-box"===S.css(e,"boxSizing",!1,i),s=o;if(Fe.test(r)){if(!n)return r;r="auto"}return s=s&&(v.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===S.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Je(e,t,n||(o?"border":"content"),s,i,r)+"px"}function tt(e,t,n,i,r){return new tt.prototype.init(e,t,n,i,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=X(t),l=Ve.test(t),u=e.style;if(l||(t=Ye(a)),s=S.cssHooks[t]||S.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,s,a=X(t);return Ve.test(t)||(t=Ye(a)),(s=S.cssHooks[t]||S.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=qe(e,t,i)),"normal"===r&&t in Ze&&(r=Ze[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),S.each(["height","width"],function(e,t){S.cssHooks[t]={get:function(e,n,i){if(n)return!$e.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):ae(e,Ge,function(){return et(e,t,i)})},set:function(e,n,i){var r,o=je(e),s="border-box"===S.css(e,"boxSizing",!1,o),a=i&&Je(e,t,i,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Je(e,t,"border",!1,o)-.5)),a&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=S.css(e,t)),Qe(0,n,a)}}}),S.cssHooks.marginLeft=Ue(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(e,t){S.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+oe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(S.cssHooks[e+t].set=Qe)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=je(e),r=t.length;s<r;s++)o[t[s]]=S.css(e,t[s],!1,i);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,arguments.length>1)}}),S.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[S.cssProps[e.prop]]&&!S.cssHooks[e.prop]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=tt.prototype.init,S.fx.step={};var nt,it,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){it&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(st):n.setTimeout(st,S.fx.interval),S.fx.tick())}function at(){return n.setTimeout(function(){nt=void 0}),nt=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=oe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var i,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function ct(e,t,n){var i,r,o=0,s=ct.prefilters.length,a=S.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=nt||at(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var i=S.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=X(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=S.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=ct.prefilters[o].call(u,e,c,u.opts))return y(i.stop)&&(S._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return S.map(c,ut,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),S.fx.timer(S.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}S.Animation=S.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(H);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,u,c,h="width"in t||"height"in t,d=this,p={},f=e.style,g=e.nodeType&&se(e),m=Q.get(e,"fxshow");for(i in n.queue||(null==(s=S._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,S.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],rt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||S.style(e,i)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=Q.get(e,"display")),"none"===(c=S.css(e,"display"))&&(u?c=u:(he([e],!0),u=e.style.display||u,c=S.css(e,"display"),he([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===S.css(e,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=Q.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&he([e],!0),d.done(function(){for(i in g||he([e]),Q.remove(e,"fxshow"),p)S.style(e,i,p[i])})),l=ut(g?m[i]:0,i,d),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),S.speed=function(e,t,n){var i=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return S.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in S.fx.speeds?i.duration=S.fx.speeds[i.duration]:i.duration=S.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(e,t,n,i){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=S.isEmptyObject(e),o=S.speed(t,n,i),s=function(){var t=ct(this,S.extend({},e),o);(r||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=S.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||S.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=S.timers,s=i?i.length:0;for(n.finish=!0,S.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),S.each(["toggle","show","hide"],function(e,t){var n=S.fn[t];S.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){S.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),nt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){it||(it=!0,st())},S.fx.stop=function(){it=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(e,t){return e=S.fx&&S.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var ht,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(r=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=S.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(H);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var n=dt[t]||S.find.attr;dt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=dt[s],dt[s]=r,r=null!=n(e,t,i)?s:null,dt[s]=o),r}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function gt(e){return(e.match(H)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(H)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(y(e))return this.each(function(t){S(this).addClass(e.call(this,t,mt(this)))});if((t=vt(e)).length)for(;n=this[l++];)if(r=mt(n),i=1===n.nodeType&&" "+gt(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=gt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(y(e))return this.each(function(t){S(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=vt(e)).length)for(;n=this[l++];)if(r=mt(n),i=1===n.nodeType&&" "+gt(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=gt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){S(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=S(this),s=vt(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+gt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,S(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=S.map(r,function(e){return null==e?"":e+""})),(t=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(yt,""):null==n?"":n:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:gt(S.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(t=S(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=S.makeArray(t),s=r.length;s--;)((i=r[s]).selected=S.inArray(S.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=S.inArray(S(e).val(),t)>-1}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in n;var wt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,i,r){var o,a,l,u,c,h,d,p,g=[i||s],m=f.call(e,"type")?e.type:e,v=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+S.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[S.expando]?e:new S.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:S.makeArray(t,[e]),d=S.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(i,t))){if(!r&&!d.noBubble&&!w(i)){for(u=d.delegateType||m,wt.test(u+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(i.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?u:d.bindType||m,(h=(Q.get(a,"events")||{})[e.type]&&Q.get(a,"handle"))&&h.apply(a,t),(h=c&&a[c])&&h.apply&&K(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),t)||!K(i)||c&&y(i[m])&&!w(i)&&((l=i[c])&&(i[c]=null),S.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,xt),i[m](),e.isPropagationStopped()&&p.removeEventListener(m,xt),S.event.triggered=void 0,l&&(i[c]=l)),e.result}},simulate:function(e,t,n){var i=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(i,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){S.event.simulate(t,e.target,S.event.fix(e))};S.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,t);r||i.addEventListener(e,n,!0),Q.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,t)-1;r?Q.access(i,t,r):(i.removeEventListener(e,n,!0),Q.remove(i,t))}}});var Tt=n.location,_t=Date.now(),St=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var bt=/\[\]$/,Et=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,i){var r;if(Array.isArray(t))S.each(t,function(t,r){n||bt.test(e)?i(e,r):Rt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==_(t))i(e,t);else for(r in t)Rt(e+"["+r+"]",t[r],n,i)}S.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){r(this.name,this.value)});else for(n in e)Rt(n,e[n],t,r);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Ct.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!de.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var kt=/%20/g,Ot=/#.*$/,Dt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,At=/^(?:GET|HEAD)$/,Lt=/^\/\//,Bt={},Mt={},Nt="*/".concat("*"),Ht=s.createElement("a");function zt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(H)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ft(e,t,n,i){var r={},o=e===Mt;function s(a){var l;return r[a]=!0,S.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function jt(e,t){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&S.extend(!0,e,i),e}Ht.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,S.ajaxSettings),t):jt(S.ajaxSettings,e)},ajaxPrefilter:zt(Bt),ajaxTransport:zt(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,l,u,c,h,d,p,f=S.ajaxSetup({},t),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?S(g):S.event,v=S.Deferred(),y=S.Callbacks("once memory"),w=f.statusCode||{},x={},T={},_="canceled",b={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=It.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)b.always(e[b.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||_;return i&&i.abort(t),E(0,t),this}};if(v.promise(b),f.url=((e||f.url||Tt.href)+"").replace(Lt,Tt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(H)||[""],null==f.crossDomain){u=s.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ht.protocol+"//"+Ht.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=S.param(f.data,f.traditional)),Ft(Bt,f,t,b),c)return b;for(d in(h=S.event&&f.global)&&0==S.active++&&S.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!At.test(f.type),r=f.url.replace(Ot,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(kt,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(St.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Dt,"$1"),p=(St.test(r)?"&":"?")+"_="+_t+++p),f.url=r+p),f.ifModified&&(S.lastModified[r]&&b.setRequestHeader("If-Modified-Since",S.lastModified[r]),S.etag[r]&&b.setRequestHeader("If-None-Match",S.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Nt+"; q=0.01":""):f.accepts["*"]),f.headers)b.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,b,f)||c))return b.abort();if(_="abort",y.add(f.complete),b.done(f.success),b.fail(f.error),i=Ft(Mt,f,t,b)){if(b.readyState=1,h&&m.trigger("ajaxSend",[b,f]),c)return b;f.async&&f.timeout>0&&(l=n.setTimeout(function(){b.abort("timeout")},f.timeout));try{c=!1,i.send(x,E)}catch(e){if(c)throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,s,a){var u,d,p,x,T,_=t;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",b.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(x=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,b,s)),x=function(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,x,b,u),u?(f.ifModified&&((T=b.getResponseHeader("Last-Modified"))&&(S.lastModified[r]=T),(T=b.getResponseHeader("etag"))&&(S.etag[r]=T)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=x.state,d=x.data,u=!(p=x.error))):(p=_,!e&&_||(_="error",e<0&&(e=0))),b.status=e,b.statusText=(t||_)+"",u?v.resolveWith(g,[d,_,b]):v.rejectWith(g,[b,_,p]),b.statusCode(w),w=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[b,f,u?d:p]),y.fireWith(g,[b,_]),h&&(m.trigger("ajaxComplete",[b,f]),--S.active||S.event.trigger("ajaxStop")))}return b},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,t){S[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),S.ajax(S.extend({url:e,type:t,dataType:r,data:n,success:i},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){S(this).wrapInner(e.call(this,t))}):this.each(function(){var t=S(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){S(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},qt=S.ajaxSettings.xhr();v.cors=!!qt&&"withCredentials"in qt,v.ajax=qt=!!qt,S.ajaxTransport(function(e){var t,i;if(v.cors||qt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Wt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=S("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var Ut,$t=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||S.expando+"_"+_t++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,s,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||S.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?S(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,$t.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Ut=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((i=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(i)):t=s),r=D.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=Te([e],t,o),o&&o.length&&S(o).remove(),S.merge([],r.childNodes)));var i,r,o},S.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=gt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&S.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?S("<div>").append(S.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u=S.css(e,"position"),c=S(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),o=S.css(e,"top"),l=S.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,n,S.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):c.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===S.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),r.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-S.css(i,"marginTop",!0),left:t.left-r.left-S.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||_e})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;S.fn[e]=function(i){return $(this,function(e,i,r){var o;if(w(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),S.each(["top","left"],function(e,t){S.cssHooks[t]=Ue(v.pixelPosition,function(e,n){if(n)return n=qe(e,t),Fe.test(n)?S(e).position()[t]+"px":n})}),S.each({Height:"height",Width:"width"},function(e,t){S.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){S.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return $(this,function(t,n,r){var o;return w(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?S.css(t,n,a):S.style(t,n,r,a)},t,s?r:void 0,s)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){S.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),S.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||S.guid++,r},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=O,S.isFunction=y,S.isWindow=w,S.camelCase=X,S.type=_,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return S}.apply(t,[]))||(e.exports=i);var Gt=n.jQuery,Zt=n.$;return S.noConflict=function(e){return n.$===S&&(n.$=Zt),e&&n.jQuery===S&&(n.jQuery=Gt),S},r||(n.jQuery=n.$=S),S})},function(e,t,n){(function(e,i){var r;(function(){var o,s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",d=1,p=2,f=4,g=1,m=2,v=1,y=2,w=4,x=8,T=16,_=32,S=64,b=128,E=256,P=512,C=30,R="...",k=800,O=16,D=1,I=2,A=1/0,L=9007199254740991,B=1.7976931348623157e308,M=NaN,N=4294967295,H=N-1,z=N>>>1,F=[["ary",b],["bind",v],["bindKey",y],["curry",x],["curryRight",T],["flip",P],["partial",_],["partialRight",S],["rearg",E]],j="[object Arguments]",W="[object Array]",q="[object AsyncFunction]",U="[object Boolean]",$="[object Date]",V="[object DOMException]",G="[object Error]",Z="[object Function]",X="[object GeneratorFunction]",K="[object Map]",Y="[object Number]",Q="[object Null]",J="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",ie="[object String]",re="[object Symbol]",oe="[object Undefined]",se="[object WeakMap]",ae="[object WeakSet]",le="[object ArrayBuffer]",ue="[object DataView]",ce="[object Float32Array]",he="[object Float64Array]",de="[object Int8Array]",pe="[object Int16Array]",fe="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",ve="[object Uint16Array]",ye="[object Uint32Array]",we=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,Te=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_e=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,be=RegExp(_e.source),Ee=RegExp(Se.source),Pe=/<%-([\s\S]+?)%>/g,Ce=/<%([\s\S]+?)%>/g,Re=/<%=([\s\S]+?)%>/g,ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(Ie.source),Le=/^\s+|\s+$/g,Be=/^\s+/,Me=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Ue=/^[-+]0x[0-9a-f]+$/i,$e=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Je+"]",nt="["+Qe+"]",it="\\d+",rt="[\\u2700-\\u27bf]",ot="[a-z\\xdf-\\xf6\\xf8-\\xff]",st="[^\\ud800-\\udfff"+Je+it+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",at="\\ud83c[\\udffb-\\udfff]",lt="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",ct="[\\ud800-\\udbff][\\udc00-\\udfff]",ht="[A-Z\\xc0-\\xd6\\xd8-\\xde]",dt="(?:"+ot+"|"+st+")",pt="(?:"+ht+"|"+st+")",ft="(?:"+nt+"|"+at+")"+"?",gt="[\\ufe0e\\ufe0f]?"+ft+("(?:\\u200d(?:"+[lt,ut,ct].join("|")+")[\\ufe0e\\ufe0f]?"+ft+")*"),mt="(?:"+[rt,ut,ct].join("|")+")"+gt,vt="(?:"+[lt+nt+"?",nt,ut,ct,et].join("|")+")",yt=RegExp("[']","g"),wt=RegExp(nt,"g"),xt=RegExp(at+"(?="+at+")|"+vt+gt,"g"),Tt=RegExp([ht+"?"+ot+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[tt,ht,"$"].join("|")+")",pt+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[tt,ht+dt,"$"].join("|")+")",ht+"?"+dt+"+(?:['](?:d|ll|m|re|s|t|ve))?",ht+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",it,mt].join("|"),"g"),_t=RegExp("[\\u200d\\ud800-\\udfff"+Qe+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Et=-1,Pt={};Pt[ce]=Pt[he]=Pt[de]=Pt[pe]=Pt[fe]=Pt[ge]=Pt[me]=Pt[ve]=Pt[ye]=!0,Pt[j]=Pt[W]=Pt[le]=Pt[U]=Pt[ue]=Pt[$]=Pt[G]=Pt[Z]=Pt[K]=Pt[Y]=Pt[J]=Pt[te]=Pt[ne]=Pt[ie]=Pt[se]=!1;var Ct={};Ct[j]=Ct[W]=Ct[le]=Ct[ue]=Ct[U]=Ct[$]=Ct[ce]=Ct[he]=Ct[de]=Ct[pe]=Ct[fe]=Ct[K]=Ct[Y]=Ct[J]=Ct[te]=Ct[ne]=Ct[ie]=Ct[re]=Ct[ge]=Ct[me]=Ct[ve]=Ct[ye]=!0,Ct[G]=Ct[Z]=Ct[se]=!1;var Rt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kt=parseFloat,Ot=parseInt,Dt="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,At=Dt||It||Function("return this")(),Lt="object"==typeof t&&t&&!t.nodeType&&t,Bt=Lt&&"object"==typeof i&&i&&!i.nodeType&&i,Mt=Bt&&Bt.exports===Lt,Nt=Mt&&Dt.process,Ht=function(){try{return Nt&&Nt.binding&&Nt.binding("util")}catch(e){}}(),zt=Ht&&Ht.isArrayBuffer,Ft=Ht&&Ht.isDate,jt=Ht&&Ht.isMap,Wt=Ht&&Ht.isRegExp,qt=Ht&&Ht.isSet,Ut=Ht&&Ht.isTypedArray;function $t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Vt(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var s=e[r];t(i,s,n(s),e)}return i}function Gt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Zt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Xt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Kt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}function Yt(e,t){return!!(null==e?0:e.length)&&ln(e,t,0)>-1}function Qt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Jt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function en(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function tn(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function nn(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function rn(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var on=dn("length");function sn(e,t,n){var i;return n(e,function(e,n,r){if(t(e,n,r))return i=n,!1}),i}function an(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function ln(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):an(e,cn,n)}function un(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function cn(e){return e!=e}function hn(e,t){var n=null==e?0:e.length;return n?gn(e,t)/n:M}function dn(e){return function(t){return null==t?o:t[e]}}function pn(e){return function(t){return null==e?o:e[t]}}function fn(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function gn(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);s!==o&&(n=n===o?s:n+s)}return n}function mn(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function vn(e){return function(t){return e(t)}}function yn(e,t){return Jt(t,function(t){return e[t]})}function wn(e,t){return e.has(t)}function xn(e,t){for(var n=-1,i=e.length;++n<i&&ln(t,e[n],0)>-1;);return n}function Tn(e,t){for(var n=e.length;n--&&ln(t,e[n],0)>-1;);return n}var _n=pn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Sn=pn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function bn(e){return"\\"+Rt[e]}function En(e){return _t.test(e)}function Pn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function Cn(e,t){return function(n){return e(t(n))}}function Rn(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n];s!==t&&s!==h||(e[n]=h,o[r++]=n)}return o}function kn(e,t){return"__proto__"==t?o:e[t]}function On(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Dn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function In(e){return En(e)?function(e){var t=xt.lastIndex=0;for(;xt.test(e);)++t;return t}(e):on(e)}function An(e){return En(e)?function(e){return e.match(xt)||[]}(e):function(e){return e.split("")}(e)}var Ln=pn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Bn=function e(t){var n,i=(t=null==t?At:Bn.defaults(At.Object(),t,Bn.pick(At,bt))).Array,r=t.Date,Qe=t.Error,Je=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,it=t.String,rt=t.TypeError,ot=i.prototype,st=Je.prototype,at=tt.prototype,lt=t["__core-js_shared__"],ut=st.toString,ct=at.hasOwnProperty,ht=0,dt=(n=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",pt=at.toString,ft=ut.call(tt),gt=At._,mt=nt("^"+ut.call(ct).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Mt?t.Buffer:o,xt=t.Symbol,_t=t.Uint8Array,Rt=vt?vt.allocUnsafe:o,Dt=Cn(tt.getPrototypeOf,tt),It=tt.create,Lt=at.propertyIsEnumerable,Bt=ot.splice,Nt=xt?xt.isConcatSpreadable:o,Ht=xt?xt.iterator:o,on=xt?xt.toStringTag:o,pn=function(){try{var e=Fo(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Mn=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,Nn=r&&r.now!==At.Date.now&&r.now,Hn=t.setTimeout!==At.setTimeout&&t.setTimeout,zn=et.ceil,Fn=et.floor,jn=tt.getOwnPropertySymbols,Wn=vt?vt.isBuffer:o,qn=t.isFinite,Un=ot.join,$n=Cn(tt.keys,tt),Vn=et.max,Gn=et.min,Zn=r.now,Xn=t.parseInt,Kn=et.random,Yn=ot.reverse,Qn=Fo(t,"DataView"),Jn=Fo(t,"Map"),ei=Fo(t,"Promise"),ti=Fo(t,"Set"),ni=Fo(t,"WeakMap"),ii=Fo(tt,"create"),ri=ni&&new ni,oi={},si=hs(Qn),ai=hs(Jn),li=hs(ei),ui=hs(ti),ci=hs(ni),hi=xt?xt.prototype:o,di=hi?hi.valueOf:o,pi=hi?hi.toString:o;function fi(e){if(Ra(e)&&!va(e)&&!(e instanceof yi)){if(e instanceof vi)return e;if(ct.call(e,"__wrapped__"))return ds(e)}return new vi(e)}var gi=function(){function e(){}return function(t){if(!Ca(t))return{};if(It)return It(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function mi(){}function vi(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function yi(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function wi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function xi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ti(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ti;++t<n;)this.add(e[t])}function Si(e){var t=this.__data__=new xi(e);this.size=t.size}function bi(e,t){var n=va(e),i=!n&&ma(e),r=!n&&!i&&Ta(e),o=!n&&!i&&!r&&Ma(e),s=n||i||r||o,a=s?mn(e.length,it):[],l=a.length;for(var u in e)!t&&!ct.call(e,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Go(u,l))||a.push(u);return a}function Ei(e){var t=e.length;return t?e[_r(0,t-1)]:o}function Pi(e,t){return ls(io(e),Bi(t,0,e.length))}function Ci(e){return ls(io(e))}function Ri(e,t,n){(n===o||pa(e[t],n))&&(n!==o||t in e)||Ai(e,t,n)}function ki(e,t,n){var i=e[t];ct.call(e,t)&&pa(i,n)&&(n!==o||t in e)||Ai(e,t,n)}function Oi(e,t){for(var n=e.length;n--;)if(pa(e[n][0],t))return n;return-1}function Di(e,t,n,i){return Fi(e,function(e,r,o){t(i,e,n(e),o)}),i}function Ii(e,t){return e&&ro(t,rl(t),e)}function Ai(e,t,n){"__proto__"==t&&pn?pn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Li(e,t){for(var n=-1,r=t.length,s=i(r),a=null==e;++n<r;)s[n]=a?o:Ja(e,t[n]);return s}function Bi(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Mi(e,t,n,i,r,s){var a,l=t&d,u=t&p,c=t&f;if(n&&(a=r?n(e,i,r,s):n(e)),a!==o)return a;if(!Ca(e))return e;var h=va(e);if(h){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ct.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return io(e,a)}else{var g=qo(e),m=g==Z||g==X;if(Ta(e))return Yr(e,l);if(g==J||g==j||m&&!r){if(a=u||m?{}:$o(e),!l)return u?function(e,t){return ro(e,Wo(e),t)}(e,function(e,t){return e&&ro(t,ol(t),e)}(a,e)):function(e,t){return ro(e,jo(e),t)}(e,Ii(a,e))}else{if(!Ct[g])return r?e:{};a=function(e,t,n){var i,r,o,s=e.constructor;switch(t){case le:return Qr(e);case U:case $:return new s(+e);case ue:return function(e,t){var n=t?Qr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ce:case he:case de:case pe:case fe:case ge:case me:case ve:case ye:return Jr(e,n);case K:return new s;case Y:case ie:return new s(e);case te:return(o=new(r=e).constructor(r.source,qe.exec(r))).lastIndex=r.lastIndex,o;case ne:return new s;case re:return i=e,di?tt(di.call(i)):{}}}(e,g,l)}}s||(s=new Si);var v=s.get(e);if(v)return v;if(s.set(e,a),Aa(e))return e.forEach(function(i){a.add(Mi(i,t,n,i,e,s))}),a;if(ka(e))return e.forEach(function(i,r){a.set(r,Mi(i,t,n,r,e,s))}),a;var y=h?o:(c?u?Ao:Io:u?ol:rl)(e);return Gt(y||e,function(i,r){y&&(i=e[r=i]),ki(a,r,Mi(i,t,n,r,e,s))}),a}function Ni(e,t,n){var i=n.length;if(null==e)return!i;for(e=tt(e);i--;){var r=n[i],s=t[r],a=e[r];if(a===o&&!(r in e)||!s(a))return!1}return!0}function Hi(e,t,n){if("function"!=typeof e)throw new rt(l);return rs(function(){e.apply(o,n)},t)}function zi(e,t,n,i){var r=-1,o=Yt,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=Jt(t,vn(n))),i?(o=Qt,a=!1):t.length>=s&&(o=wn,a=!1,t=new _i(t));e:for(;++r<l;){var h=e[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;u.push(h)}else o(t,d,i)||u.push(h)}return u}fi.templateSettings={escape:Pe,evaluate:Ce,interpolate:Re,variable:"",imports:{_:fi}},fi.prototype=mi.prototype,fi.prototype.constructor=fi,vi.prototype=gi(mi.prototype),vi.prototype.constructor=vi,yi.prototype=gi(mi.prototype),yi.prototype.constructor=yi,wi.prototype.clear=function(){this.__data__=ii?ii(null):{},this.size=0},wi.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},wi.prototype.get=function(e){var t=this.__data__;if(ii){var n=t[e];return n===u?o:n}return ct.call(t,e)?t[e]:o},wi.prototype.has=function(e){var t=this.__data__;return ii?t[e]!==o:ct.call(t,e)},wi.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ii&&t===o?u:t,this},xi.prototype.clear=function(){this.__data__=[],this.size=0},xi.prototype.delete=function(e){var t=this.__data__,n=Oi(t,e);return!(n<0||(n==t.length-1?t.pop():Bt.call(t,n,1),--this.size,0))},xi.prototype.get=function(e){var t=this.__data__,n=Oi(t,e);return n<0?o:t[n][1]},xi.prototype.has=function(e){return Oi(this.__data__,e)>-1},xi.prototype.set=function(e,t){var n=this.__data__,i=Oi(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Ti.prototype.clear=function(){this.size=0,this.__data__={hash:new wi,map:new(Jn||xi),string:new wi}},Ti.prototype.delete=function(e){var t=Ho(this,e).delete(e);return this.size-=t?1:0,t},Ti.prototype.get=function(e){return Ho(this,e).get(e)},Ti.prototype.has=function(e){return Ho(this,e).has(e)},Ti.prototype.set=function(e,t){var n=Ho(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},_i.prototype.add=_i.prototype.push=function(e){return this.__data__.set(e,u),this},_i.prototype.has=function(e){return this.__data__.has(e)},Si.prototype.clear=function(){this.__data__=new xi,this.size=0},Si.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Si.prototype.get=function(e){return this.__data__.get(e)},Si.prototype.has=function(e){return this.__data__.has(e)},Si.prototype.set=function(e,t){var n=this.__data__;if(n instanceof xi){var i=n.__data__;if(!Jn||i.length<s-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ti(i)}return n.set(e,t),this.size=n.size,this};var Fi=ao(Zi),ji=ao(Xi,!0);function Wi(e,t){var n=!0;return Fi(e,function(e,i,r){return n=!!t(e,i,r)}),n}function qi(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],a=t(s);if(null!=a&&(l===o?a==a&&!Ba(a):n(a,l)))var l=a,u=s}return u}function Ui(e,t){var n=[];return Fi(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function $i(e,t,n,i,r){var o=-1,s=e.length;for(n||(n=Vo),r||(r=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?$i(a,t-1,n,i,r):en(r,a):i||(r[r.length]=a)}return r}var Vi=lo(),Gi=lo(!0);function Zi(e,t){return e&&Vi(e,t,rl)}function Xi(e,t){return e&&Gi(e,t,rl)}function Ki(e,t){return Kt(t,function(t){return ba(e[t])})}function Yi(e,t){for(var n=0,i=(t=Gr(t,e)).length;null!=e&&n<i;)e=e[cs(t[n++])];return n&&n==i?e:o}function Qi(e,t,n){var i=t(e);return va(e)?i:en(i,n(e))}function Ji(e){return null==e?e===o?oe:Q:on&&on in tt(e)?function(e){var t=ct.call(e,on),n=e[on];try{e[on]=o;var i=!0}catch(e){}var r=pt.call(e);return i&&(t?e[on]=n:delete e[on]),r}(e):function(e){return pt.call(e)}(e)}function er(e,t){return e>t}function tr(e,t){return null!=e&&ct.call(e,t)}function nr(e,t){return null!=e&&t in tt(e)}function ir(e,t,n){for(var r=n?Qt:Yt,s=e[0].length,a=e.length,l=a,u=i(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Jt(d,vn(t))),c=Gn(d.length,c),u[l]=!n&&(t||s>=120&&d.length>=120)?new _i(l&&d):o}d=e[0];var p=-1,f=u[0];e:for(;++p<s&&h.length<c;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?wn(f,m):r(h,m,n))){for(l=a;--l;){var v=u[l];if(!(v?wn(v,m):r(e[l],m,n)))continue e}f&&f.push(m),h.push(g)}}return h}function rr(e,t,n){var i=null==(e=ns(e,t=Gr(t,e)))?e:e[cs(Ss(t))];return null==i?o:$t(i,e,n)}function or(e){return Ra(e)&&Ji(e)==j}function sr(e,t,n,i,r){return e===t||(null==e||null==t||!Ra(e)&&!Ra(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var a=va(e),l=va(t),u=a?W:qo(e),c=l?W:qo(t),h=(u=u==j?J:u)==J,d=(c=c==j?J:c)==J,p=u==c;if(p&&Ta(e)){if(!Ta(t))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Si),a||Ma(e)?Oo(e,t,n,i,r,s):function(e,t,n,i,r,o,s){switch(n){case ue:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case le:return!(e.byteLength!=t.byteLength||!o(new _t(e),new _t(t)));case U:case $:case Y:return pa(+e,+t);case G:return e.name==t.name&&e.message==t.message;case te:case ie:return e==t+"";case K:var a=Pn;case ne:var l=i&g;if(a||(a=On),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;i|=m,s.set(e,t);var c=Oo(a(e),a(t),i,r,o,s);return s.delete(e),c;case re:if(di)return di.call(e)==di.call(t)}return!1}(e,t,u,n,i,r,s);if(!(n&g)){var f=h&&ct.call(e,"__wrapped__"),v=d&&ct.call(t,"__wrapped__");if(f||v){var y=f?e.value():e,w=v?t.value():t;return s||(s=new Si),r(y,w,n,i,s)}}return!!p&&(s||(s=new Si),function(e,t,n,i,r,s){var a=n&g,l=Io(e),u=l.length,c=Io(t).length;if(u!=c&&!a)return!1;for(var h=u;h--;){var d=l[h];if(!(a?d in t:ct.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var m=a;++h<u;){d=l[h];var v=e[d],y=t[d];if(i)var w=a?i(y,v,d,t,e,s):i(v,y,d,e,t,s);if(!(w===o?v===y||r(v,y,n,i,s):w)){f=!1;break}m||(m="constructor"==d)}if(f&&!m){var x=e.constructor,T=t.constructor;x!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof T&&T instanceof T)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,i,r,s))}(e,t,n,i,sr,r))}function ar(e,t,n,i){var r=n.length,s=r,a=!i;if(null==e)return!s;for(e=tt(e);r--;){var l=n[r];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++r<s;){var u=(l=n[r])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===o&&!(u in e))return!1}else{var d=new Si;if(i)var p=i(c,h,u,e,t,d);if(!(p===o?sr(h,c,g|m,i,d):p))return!1}}return!0}function lr(e){return!(!Ca(e)||dt&&dt in e)&&(ba(e)?mt:Ve).test(hs(e))}function ur(e){return"function"==typeof e?e:null==e?Ol:"object"==typeof e?va(e)?gr(e[0],e[1]):fr(e):zl(e)}function cr(e){if(!Qo(e))return $n(e);var t=[];for(var n in tt(e))ct.call(e,n)&&"constructor"!=n&&t.push(n);return t}function hr(e){if(!Ca(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Qo(e),n=[];for(var i in e)("constructor"!=i||!t&&ct.call(e,i))&&n.push(i);return n}function dr(e,t){return e<t}function pr(e,t){var n=-1,r=wa(e)?i(e.length):[];return Fi(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function fr(e){var t=zo(e);return 1==t.length&&t[0][2]?es(t[0][0],t[0][1]):function(n){return n===e||ar(n,e,t)}}function gr(e,t){return Xo(e)&&Jo(t)?es(cs(e),t):function(n){var i=Ja(n,e);return i===o&&i===t?el(n,e):sr(t,i,g|m)}}function mr(e,t,n,i,r){e!==t&&Vi(t,function(s,a){if(Ca(s))r||(r=new Si),function(e,t,n,i,r,s,a){var l=kn(e,n),u=kn(t,n),c=a.get(u);if(c)Ri(e,n,c);else{var h=s?s(l,u,n+"",e,t,a):o,d=h===o;if(d){var p=va(u),f=!p&&Ta(u),g=!p&&!f&&Ma(u);h=u,p||f||g?va(l)?h=l:xa(l)?h=io(l):f?(d=!1,h=Yr(u,!0)):g?(d=!1,h=Jr(u,!0)):h=[]:Da(u)||ma(u)?(h=l,ma(l)?h=Ua(l):(!Ca(l)||i&&ba(l))&&(h=$o(u))):d=!1}d&&(a.set(u,h),r(h,u,i,s,a),a.delete(u)),Ri(e,n,h)}}(e,t,a,n,mr,i,r);else{var l=i?i(kn(e,a),s,a+"",e,t,r):o;l===o&&(l=s),Ri(e,a,l)}},ol)}function vr(e,t){var n=e.length;if(n)return Go(t+=t<0?n:0,n)?e[t]:o}function yr(e,t,n){var i=-1;return t=Jt(t.length?t:[Ol],vn(No())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(pr(e,function(e,n,r){return{criteria:Jt(t,function(t){return t(e)}),index:++i,value:e}}),function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,s=r.length,a=n.length;++i<s;){var l=eo(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)})}function wr(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var s=t[i],a=Yi(e,s);n(a,s)&&Cr(o,Gr(s,e),a)}return o}function xr(e,t,n,i){var r=i?un:ln,o=-1,s=t.length,a=e;for(e===t&&(t=io(t)),n&&(a=Jt(e,vn(n)));++o<s;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(a,c,l,i))>-1;)a!==e&&Bt.call(a,l,1),Bt.call(e,l,1);return e}function Tr(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;Go(r)?Bt.call(e,r,1):zr(e,r)}}return e}function _r(e,t){return e+Fn(Kn()*(t-e+1))}function Sr(e,t){var n="";if(!e||t<1||t>L)return n;do{t%2&&(n+=e),(t=Fn(t/2))&&(e+=e)}while(t);return n}function br(e,t){return os(ts(e,t,Ol),e+"")}function Er(e){return Ei(pl(e))}function Pr(e,t){var n=pl(e);return ls(n,Bi(t,0,n.length))}function Cr(e,t,n,i){if(!Ca(e))return e;for(var r=-1,s=(t=Gr(t,e)).length,a=s-1,l=e;null!=l&&++r<s;){var u=cs(t[r]),c=n;if(r!=a){var h=l[u];(c=i?i(h,u,l):o)===o&&(c=Ca(h)?h:Go(t[r+1])?[]:{})}ki(l,u,c),l=l[u]}return e}var Rr=ri?function(e,t){return ri.set(e,t),e}:Ol,kr=pn?function(e,t){return pn(e,"toString",{configurable:!0,enumerable:!1,value:Cl(t),writable:!0})}:Ol;function Or(e){return ls(pl(e))}function Dr(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=i(o);++r<o;)s[r]=e[r+t];return s}function Ir(e,t){var n;return Fi(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function Ar(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=z){for(;i<r;){var o=i+r>>>1,s=e[o];null!==s&&!Ba(s)&&(n?s<=t:s<t)?i=o+1:r=o}return r}return Lr(e,t,Ol,n)}function Lr(e,t,n,i){t=n(t);for(var r=0,s=null==e?0:e.length,a=t!=t,l=null===t,u=Ba(t),c=t===o;r<s;){var h=Fn((r+s)/2),d=n(e[h]),p=d!==o,f=null===d,g=d==d,m=Ba(d);if(a)var v=i||g;else v=c?g&&(i||p):l?g&&p&&(i||!f):u?g&&p&&!f&&(i||!m):!f&&!m&&(i?d<=t:d<t);v?r=h+1:s=h}return Gn(s,H)}function Br(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var s=e[n],a=t?t(s):s;if(!n||!pa(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Mr(e){return"number"==typeof e?e:Ba(e)?M:+e}function Nr(e){if("string"==typeof e)return e;if(va(e))return Jt(e,Nr)+"";if(Ba(e))return pi?pi.call(e):"";var t=e+"";return"0"==t&&1/e==-A?"-0":t}function Hr(e,t,n){var i=-1,r=Yt,o=e.length,a=!0,l=[],u=l;if(n)a=!1,r=Qt;else if(o>=s){var c=t?null:bo(e);if(c)return On(c);a=!1,r=wn,u=new _i}else u=t?[]:l;e:for(;++i<o;){var h=e[i],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),l.push(h)}else r(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function zr(e,t){return null==(e=ns(e,t=Gr(t,e)))||delete e[cs(Ss(t))]}function Fr(e,t,n,i){return Cr(e,t,n(Yi(e,t)),i)}function jr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Dr(e,i?0:o,i?o+1:r):Dr(e,i?o+1:0,i?r:o)}function Wr(e,t){var n=e;return n instanceof yi&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function qr(e,t,n){var r=e.length;if(r<2)return r?Hr(e[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(s[o]=zi(s[o]||a,e[l],t,n));return Hr($i(s,1),t,n)}function Ur(e,t,n){for(var i=-1,r=e.length,s=t.length,a={};++i<r;){var l=i<s?t[i]:o;n(a,e[i],l)}return a}function $r(e){return xa(e)?e:[]}function Vr(e){return"function"==typeof e?e:Ol}function Gr(e,t){return va(e)?e:Xo(e,t)?[e]:us($a(e))}var Zr=br;function Xr(e,t,n){var i=e.length;return n=n===o?i:n,!t&&n>=i?e:Dr(e,t,n)}var Kr=Mn||function(e){return At.clearTimeout(e)};function Yr(e,t){if(t)return e.slice();var n=e.length,i=Rt?Rt(n):new e.constructor(n);return e.copy(i),i}function Qr(e){var t=new e.constructor(e.byteLength);return new _t(t).set(new _t(e)),t}function Jr(e,t){var n=t?Qr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function eo(e,t){if(e!==t){var n=e!==o,i=null===e,r=e==e,s=Ba(e),a=t!==o,l=null===t,u=t==t,c=Ba(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!r)return 1;if(!i&&!s&&!c&&e<t||c&&n&&r&&!i&&!s||l&&n&&r||!a&&r||!u)return-1}return 0}function to(e,t,n,r){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=Vn(s-a,0),h=i(u+c),d=!r;++l<u;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}function no(e,t,n,r){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,h=Vn(s-l,0),d=i(h+c),p=!r;++o<h;)d[o]=e[o];for(var f=o;++u<c;)d[f+u]=t[u];for(;++a<l;)(p||o<s)&&(d[f+n[a]]=e[o++]);return d}function io(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function ro(e,t,n,i){var r=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=i?i(n[l],e[l],l,n,e):o;u===o&&(u=e[l]),r?Ai(n,l,u):ki(n,l,u)}return n}function oo(e,t){return function(n,i){var r=va(n)?Vt:Di,o=t?t():{};return r(n,e,No(i,2),o)}}function so(e){return br(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:o,a=r>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(r--,s):o,a&&Zo(n[0],n[1],a)&&(s=r<3?o:s,r=1),t=tt(t);++i<r;){var l=n[i];l&&e(t,l,i,s)}return t})}function ao(e,t){return function(n,i){if(null==n)return n;if(!wa(n))return e(n,i);for(var r=n.length,o=t?r:-1,s=tt(n);(t?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function lo(e){return function(t,n,i){for(var r=-1,o=tt(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}function uo(e){return function(t){var n=En(t=$a(t))?An(t):o,i=n?n[0]:t.charAt(0),r=n?Xr(n,1).join(""):t.slice(1);return i[e]()+r}}function co(e){return function(t){return tn(bl(ml(t).replace(yt,"")),e,"")}}function ho(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=gi(e.prototype),i=e.apply(n,t);return Ca(i)?i:n}}function po(e){return function(t,n,i){var r=tt(t);if(!wa(t)){var s=No(n,3);t=rl(t),n=function(e){return s(r[e],e,r)}}var a=e(t,n,i);return a>-1?r[s?t[a]:a]:o}}function fo(e){return Do(function(t){var n=t.length,i=n,r=vi.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new rt(l);if(r&&!a&&"wrapper"==Bo(s))var a=new vi([],!0)}for(i=a?i:n;++i<n;){var u=Bo(s=t[i]),c="wrapper"==u?Lo(s):o;a=c&&Ko(c[0])&&c[1]==(b|x|_|E)&&!c[4].length&&1==c[9]?a[Bo(c[0])].apply(a,c[3]):1==s.length&&Ko(s)?a[u]():a.thru(s)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&va(i))return a.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function go(e,t,n,r,s,a,l,u,c,h){var d=t&b,p=t&v,f=t&y,g=t&(x|T),m=t&P,w=f?o:ho(e);return function v(){for(var y=arguments.length,x=i(y),T=y;T--;)x[T]=arguments[T];if(g)var _=Mo(v),S=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(x,_);if(r&&(x=to(x,r,s,g)),a&&(x=no(x,a,l,g)),y-=S,g&&y<h){var b=Rn(x,_);return _o(e,t,go,v.placeholder,n,x,b,u,c,h-y)}var E=p?n:this,P=f?E[e]:e;return y=x.length,u?x=function(e,t){for(var n=e.length,i=Gn(t.length,n),r=io(e);i--;){var s=t[i];e[i]=Go(s,n)?r[s]:o}return e}(x,u):m&&y>1&&x.reverse(),d&&c<y&&(x.length=c),this&&this!==At&&this instanceof v&&(P=w||ho(P)),P.apply(E,x)}}function mo(e,t){return function(n,i){return function(e,t,n,i){return Zi(e,function(e,r,o){t(i,n(e),r,o)}),i}(n,e,t(i),{})}}function vo(e,t){return function(n,i){var r;if(n===o&&i===o)return t;if(n!==o&&(r=n),i!==o){if(r===o)return i;"string"==typeof n||"string"==typeof i?(n=Nr(n),i=Nr(i)):(n=Mr(n),i=Mr(i)),r=e(n,i)}return r}}function yo(e){return Do(function(t){return t=Jt(t,vn(No())),br(function(n){var i=this;return e(t,function(e){return $t(e,i,n)})})})}function wo(e,t){var n=(t=t===o?" ":Nr(t)).length;if(n<2)return n?Sr(t,e):t;var i=Sr(t,zn(e/In(t)));return En(t)?Xr(An(i),0,e).join(""):i.slice(0,e)}function xo(e){return function(t,n,r){return r&&"number"!=typeof r&&Zo(t,n,r)&&(n=r=o),t=Fa(t),n===o?(n=t,t=0):n=Fa(n),function(e,t,n,r){for(var o=-1,s=Vn(zn((t-e)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=e,e+=n;return a}(t,n,r=r===o?t<n?1:-1:Fa(r),e)}}function To(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=qa(t),n=qa(n)),e(t,n)}}function _o(e,t,n,i,r,s,a,l,u,c){var h=t&x;t|=h?_:S,(t&=~(h?S:_))&w||(t&=~(v|y));var d=[e,t,r,h?s:o,h?a:o,h?o:s,h?o:a,l,u,c],p=n.apply(o,d);return Ko(e)&&is(p,d),p.placeholder=i,ss(p,e,t)}function So(e){var t=et[e];return function(e,n){if(e=qa(e),n=null==n?0:Gn(ja(n),292)){var i=($a(e)+"e").split("e");return+((i=($a(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var bo=ti&&1/On(new ti([,-0]))[1]==A?function(e){return new ti(e)}:Bl;function Eo(e){return function(t){var n=qo(t);return n==K?Pn(t):n==ne?Dn(t):function(e,t){return Jt(t,function(t){return[t,e[t]]})}(t,e(t))}}function Po(e,t,n,r,s,a,u,c){var d=t&y;if(!d&&"function"!=typeof e)throw new rt(l);var p=r?r.length:0;if(p||(t&=~(_|S),r=s=o),u=u===o?u:Vn(ja(u),0),c=c===o?c:ja(c),p-=s?s.length:0,t&S){var f=r,g=s;r=s=o}var m=d?o:Lo(e),P=[e,t,n,r,s,f,g,a,u,c];if(m&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<(v|y|b),s=i==b&&n==x||i==b&&n==E&&e[7].length<=t[8]||i==(b|E)&&t[7].length<=t[8]&&n==x;if(!o&&!s)return e;i&v&&(e[2]=t[2],r|=n&v?0:w);var a=t[3];if(a){var l=e[3];e[3]=l?to(l,a,t[4]):a,e[4]=l?Rn(e[3],h):t[4]}(a=t[5])&&(l=e[5],e[5]=l?no(l,a,t[6]):a,e[6]=l?Rn(e[5],h):t[6]),(a=t[7])&&(e[7]=a),i&b&&(e[8]=null==e[8]?t[8]:Gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}(P,m),e=P[0],t=P[1],n=P[2],r=P[3],s=P[4],!(c=P[9]=P[9]===o?d?0:e.length:Vn(P[9]-p,0))&&t&(x|T)&&(t&=~(x|T)),t&&t!=v)C=t==x||t==T?function(e,t,n){var r=ho(e);return function s(){for(var a=arguments.length,l=i(a),u=a,c=Mo(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:Rn(l,c);return(a-=h.length)<n?_o(e,t,go,s.placeholder,o,l,h,o,o,n-a):$t(this&&this!==At&&this instanceof s?r:e,this,l)}}(e,t,c):t!=_&&t!=(v|_)||s.length?go.apply(o,P):function(e,t,n,r){var o=t&v,s=ho(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==At&&this instanceof t?s:e;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++a];return $t(d,o?n:this,h)}}(e,t,n,r);else var C=function(e,t,n){var i=t&v,r=ho(e);return function t(){return(this&&this!==At&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,n);return ss((m?Rr:is)(C,P),e,t)}function Co(e,t,n,i){return e===o||pa(e,at[n])&&!ct.call(i,n)?t:e}function Ro(e,t,n,i,r,s){return Ca(e)&&Ca(t)&&(s.set(t,e),mr(e,t,o,Ro,s),s.delete(t)),e}function ko(e){return Da(e)?o:e}function Oo(e,t,n,i,r,s){var a=n&g,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var h=-1,d=!0,p=n&m?new _i:o;for(s.set(e,t),s.set(t,e);++h<l;){var f=e[h],v=t[h];if(i)var y=a?i(v,f,h,t,e,s):i(f,v,h,e,t,s);if(y!==o){if(y)continue;d=!1;break}if(p){if(!rn(t,function(e,t){if(!wn(p,t)&&(f===e||r(f,e,n,i,s)))return p.push(t)})){d=!1;break}}else if(f!==v&&!r(f,v,n,i,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Do(e){return os(ts(e,o,ys),e+"")}function Io(e){return Qi(e,rl,jo)}function Ao(e){return Qi(e,ol,Wo)}var Lo=ri?function(e){return ri.get(e)}:Bl;function Bo(e){for(var t=e.name+"",n=oi[t],i=ct.call(oi,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Mo(e){return(ct.call(fi,"placeholder")?fi:e).placeholder}function No(){var e=fi.iteratee||Dl;return e=e===Dl?ur:e,arguments.length?e(arguments[0],arguments[1]):e}function Ho(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function zo(e){for(var t=rl(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,Jo(r)]}return t}function Fo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return lr(n)?n:o}var jo=jn?function(e){return null==e?[]:(e=tt(e),Kt(jn(e),function(t){return Lt.call(e,t)}))}:Wl,Wo=jn?function(e){for(var t=[];e;)en(t,jo(e)),e=Dt(e);return t}:Wl,qo=Ji;function Uo(e,t,n){for(var i=-1,r=(t=Gr(t,e)).length,o=!1;++i<r;){var s=cs(t[i]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&Pa(r)&&Go(s,r)&&(va(e)||ma(e))}function $o(e){return"function"!=typeof e.constructor||Qo(e)?{}:gi(Dt(e))}function Vo(e){return va(e)||ma(e)||!!(Nt&&e&&e[Nt])}function Go(e,t){var n=typeof e;return!!(t=null==t?L:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&e>-1&&e%1==0&&e<t}function Zo(e,t,n){if(!Ca(n))return!1;var i=typeof t;return!!("number"==i?wa(n)&&Go(t,n.length):"string"==i&&t in n)&&pa(n[t],e)}function Xo(e,t){if(va(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ba(e))||Oe.test(e)||!ke.test(e)||null!=t&&e in tt(t)}function Ko(e){var t=Bo(e),n=fi[t];if("function"!=typeof n||!(t in yi.prototype))return!1;if(e===n)return!0;var i=Lo(n);return!!i&&e===i[0]}(Qn&&qo(new Qn(new ArrayBuffer(1)))!=ue||Jn&&qo(new Jn)!=K||ei&&"[object Promise]"!=qo(ei.resolve())||ti&&qo(new ti)!=ne||ni&&qo(new ni)!=se)&&(qo=function(e){var t=Ji(e),n=t==J?e.constructor:o,i=n?hs(n):"";if(i)switch(i){case si:return ue;case ai:return K;case li:return"[object Promise]";case ui:return ne;case ci:return se}return t});var Yo=lt?ba:ql;function Qo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||at)}function Jo(e){return e==e&&!Ca(e)}function es(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in tt(n))}}function ts(e,t,n){return t=Vn(t===o?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=Vn(r.length-t,0),a=i(s);++o<s;)a[o]=r[t+o];o=-1;for(var l=i(t+1);++o<t;)l[o]=r[o];return l[t]=n(a),$t(e,this,l)}}function ns(e,t){return t.length<2?e:Yi(e,Dr(t,0,-1))}var is=as(Rr),rs=Hn||function(e,t){return At.setTimeout(e,t)},os=as(kr);function ss(e,t,n){var i=t+"";return os(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Ne,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Gt(F,function(n){var i="_."+n[0];t&n[1]&&!Yt(e,i)&&e.push(i)}),e.sort()}(function(e){var t=e.match(He);return t?t[1].split(ze):[]}(i),n)))}function as(e){var t=0,n=0;return function(){var i=Zn(),r=O-(i-n);if(n=i,r>0){if(++t>=k)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ls(e,t){var n=-1,i=e.length,r=i-1;for(t=t===o?i:t;++n<t;){var s=_r(n,r),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var us=function(e){var t=aa(e,function(e){return n.size===c&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(De,function(e,n,i,r){t.push(i?r.replace(je,"$1"):n||e)}),t});function cs(e){if("string"==typeof e||Ba(e))return e;var t=e+"";return"0"==t&&1/e==-A?"-0":t}function hs(e){if(null!=e){try{return ut.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ds(e){if(e instanceof yi)return e.clone();var t=new vi(e.__wrapped__,e.__chain__);return t.__actions__=io(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ps=br(function(e,t){return xa(e)?zi(e,$i(t,1,xa,!0)):[]}),fs=br(function(e,t){var n=Ss(t);return xa(n)&&(n=o),xa(e)?zi(e,$i(t,1,xa,!0),No(n,2)):[]}),gs=br(function(e,t){var n=Ss(t);return xa(n)&&(n=o),xa(e)?zi(e,$i(t,1,xa,!0),o,n):[]});function ms(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ja(n);return r<0&&(r=Vn(i+r,0)),an(e,No(t,3),r)}function vs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return n!==o&&(r=ja(n),r=n<0?Vn(i+r,0):Gn(r,i-1)),an(e,No(t,3),r,!0)}function ys(e){return null!=e&&e.length?$i(e,1):[]}function ws(e){return e&&e.length?e[0]:o}var xs=br(function(e){var t=Jt(e,$r);return t.length&&t[0]===e[0]?ir(t):[]}),Ts=br(function(e){var t=Ss(e),n=Jt(e,$r);return t===Ss(n)?t=o:n.pop(),n.length&&n[0]===e[0]?ir(n,No(t,2)):[]}),_s=br(function(e){var t=Ss(e),n=Jt(e,$r);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?ir(n,o,t):[]});function Ss(e){var t=null==e?0:e.length;return t?e[t-1]:o}var bs=br(Es);function Es(e,t){return e&&e.length&&t&&t.length?xr(e,t):e}var Ps=Do(function(e,t){var n=null==e?0:e.length,i=Li(e,t);return Tr(e,Jt(t,function(e){return Go(e,n)?+e:e}).sort(eo)),i});function Cs(e){return null==e?e:Yn.call(e)}var Rs=br(function(e){return Hr($i(e,1,xa,!0))}),ks=br(function(e){var t=Ss(e);return xa(t)&&(t=o),Hr($i(e,1,xa,!0),No(t,2))}),Os=br(function(e){var t=Ss(e);return t="function"==typeof t?t:o,Hr($i(e,1,xa,!0),o,t)});function Ds(e){if(!e||!e.length)return[];var t=0;return e=Kt(e,function(e){if(xa(e))return t=Vn(e.length,t),!0}),mn(t,function(t){return Jt(e,dn(t))})}function Is(e,t){if(!e||!e.length)return[];var n=Ds(e);return null==t?n:Jt(n,function(e){return $t(t,o,e)})}var As=br(function(e,t){return xa(e)?zi(e,t):[]}),Ls=br(function(e){return qr(Kt(e,xa))}),Bs=br(function(e){var t=Ss(e);return xa(t)&&(t=o),qr(Kt(e,xa),No(t,2))}),Ms=br(function(e){var t=Ss(e);return t="function"==typeof t?t:o,qr(Kt(e,xa),o,t)}),Ns=br(Ds);var Hs=br(function(e){var t=e.length,n=t>1?e[t-1]:o;return Is(e,n="function"==typeof n?(e.pop(),n):o)});function zs(e){var t=fi(e);return t.__chain__=!0,t}function Fs(e,t){return t(e)}var js=Do(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Li(t,e)};return!(t>1||this.__actions__.length)&&i instanceof yi&&Go(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Fs,args:[r],thisArg:o}),new vi(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(r)});var Ws=oo(function(e,t,n){ct.call(e,n)?++e[n]:Ai(e,n,1)});var qs=po(ms),Us=po(vs);function $s(e,t){return(va(e)?Gt:Fi)(e,No(t,3))}function Vs(e,t){return(va(e)?Zt:ji)(e,No(t,3))}var Gs=oo(function(e,t,n){ct.call(e,n)?e[n].push(t):Ai(e,n,[t])});var Zs=br(function(e,t,n){var r=-1,o="function"==typeof t,s=wa(e)?i(e.length):[];return Fi(e,function(e){s[++r]=o?$t(t,e,n):rr(e,t,n)}),s}),Xs=oo(function(e,t,n){Ai(e,n,t)});function Ks(e,t){return(va(e)?Jt:pr)(e,No(t,3))}var Ys=oo(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Qs=br(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Zo(e,t[0],t[1])?t=[]:n>2&&Zo(t[0],t[1],t[2])&&(t=[t[0]]),yr(e,$i(t,1),[])}),Js=Nn||function(){return At.Date.now()};function ea(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Po(e,b,o,o,o,o,t)}function ta(e,t){var n;if("function"!=typeof t)throw new rt(l);return e=ja(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var na=br(function(e,t,n){var i=v;if(n.length){var r=Rn(n,Mo(na));i|=_}return Po(e,i,t,n,r)}),ia=br(function(e,t,n){var i=v|y;if(n.length){var r=Rn(n,Mo(ia));i|=_}return Po(t,i,e,n,r)});function ra(e,t,n){var i,r,s,a,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new rt(l);function g(t){var n=i,s=r;return i=r=o,h=t,a=e.apply(s,n)}function m(e){var n=e-c;return c===o||n>=t||n<0||p&&e-h>=s}function v(){var e=Js();if(m(e))return y(e);u=rs(v,function(e){var n=t-(e-c);return p?Gn(n,s-(e-h)):n}(e))}function y(e){return u=o,f&&i?g(e):(i=r=o,a)}function w(){var e=Js(),n=m(e);if(i=arguments,r=this,c=e,n){if(u===o)return function(e){return h=e,u=rs(v,t),d?g(e):a}(c);if(p)return u=rs(v,t),g(c)}return u===o&&(u=rs(v,t)),a}return t=qa(t)||0,Ca(n)&&(d=!!n.leading,s=(p="maxWait"in n)?Vn(qa(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),w.cancel=function(){u!==o&&Kr(u),h=0,i=c=r=u=o},w.flush=function(){return u===o?a:y(Js())},w}var oa=br(function(e,t){return Hi(e,1,t)}),sa=br(function(e,t,n){return Hi(e,qa(t)||0,n)});function aa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new rt(l);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(aa.Cache||Ti),n}function la(e){if("function"!=typeof e)throw new rt(l);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}aa.Cache=Ti;var ua=Zr(function(e,t){var n=(t=1==t.length&&va(t[0])?Jt(t[0],vn(No())):Jt($i(t,1),vn(No()))).length;return br(function(i){for(var r=-1,o=Gn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return $t(e,this,i)})}),ca=br(function(e,t){var n=Rn(t,Mo(ca));return Po(e,_,o,t,n)}),ha=br(function(e,t){var n=Rn(t,Mo(ha));return Po(e,S,o,t,n)}),da=Do(function(e,t){return Po(e,E,o,o,o,t)});function pa(e,t){return e===t||e!=e&&t!=t}var fa=To(er),ga=To(function(e,t){return e>=t}),ma=or(function(){return arguments}())?or:function(e){return Ra(e)&&ct.call(e,"callee")&&!Lt.call(e,"callee")},va=i.isArray,ya=zt?vn(zt):function(e){return Ra(e)&&Ji(e)==le};function wa(e){return null!=e&&Pa(e.length)&&!ba(e)}function xa(e){return Ra(e)&&wa(e)}var Ta=Wn||ql,_a=Ft?vn(Ft):function(e){return Ra(e)&&Ji(e)==$};function Sa(e){if(!Ra(e))return!1;var t=Ji(e);return t==G||t==V||"string"==typeof e.message&&"string"==typeof e.name&&!Da(e)}function ba(e){if(!Ca(e))return!1;var t=Ji(e);return t==Z||t==X||t==q||t==ee}function Ea(e){return"number"==typeof e&&e==ja(e)}function Pa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=L}function Ca(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ra(e){return null!=e&&"object"==typeof e}var ka=jt?vn(jt):function(e){return Ra(e)&&qo(e)==K};function Oa(e){return"number"==typeof e||Ra(e)&&Ji(e)==Y}function Da(e){if(!Ra(e)||Ji(e)!=J)return!1;var t=Dt(e);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ut.call(n)==ft}var Ia=Wt?vn(Wt):function(e){return Ra(e)&&Ji(e)==te};var Aa=qt?vn(qt):function(e){return Ra(e)&&qo(e)==ne};function La(e){return"string"==typeof e||!va(e)&&Ra(e)&&Ji(e)==ie}function Ba(e){return"symbol"==typeof e||Ra(e)&&Ji(e)==re}var Ma=Ut?vn(Ut):function(e){return Ra(e)&&Pa(e.length)&&!!Pt[Ji(e)]};var Na=To(dr),Ha=To(function(e,t){return e<=t});function za(e){if(!e)return[];if(wa(e))return La(e)?An(e):io(e);if(Ht&&e[Ht])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ht]());var t=qo(e);return(t==K?Pn:t==ne?On:pl)(e)}function Fa(e){return e?(e=qa(e))===A||e===-A?(e<0?-1:1)*B:e==e?e:0:0===e?e:0}function ja(e){var t=Fa(e),n=t%1;return t==t?n?t-n:t:0}function Wa(e){return e?Bi(ja(e),0,N):0}function qa(e){if("number"==typeof e)return e;if(Ba(e))return M;if(Ca(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ca(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Le,"");var n=$e.test(e);return n||Ge.test(e)?Ot(e.slice(2),n?2:8):Ue.test(e)?M:+e}function Ua(e){return ro(e,ol(e))}function $a(e){return null==e?"":Nr(e)}var Va=so(function(e,t){if(Qo(t)||wa(t))ro(t,rl(t),e);else for(var n in t)ct.call(t,n)&&ki(e,n,t[n])}),Ga=so(function(e,t){ro(t,ol(t),e)}),Za=so(function(e,t,n,i){ro(t,ol(t),e,i)}),Xa=so(function(e,t,n,i){ro(t,rl(t),e,i)}),Ka=Do(Li);var Ya=br(function(e,t){e=tt(e);var n=-1,i=t.length,r=i>2?t[2]:o;for(r&&Zo(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],a=ol(s),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===o||pa(h,at[c])&&!ct.call(e,c))&&(e[c]=s[c])}return e}),Qa=br(function(e){return e.push(o,Ro),$t(al,o,e)});function Ja(e,t,n){var i=null==e?o:Yi(e,t);return i===o?n:i}function el(e,t){return null!=e&&Uo(e,t,nr)}var tl=mo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),e[t]=n},Cl(Ol)),nl=mo(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),ct.call(e,t)?e[t].push(n):e[t]=[n]},No),il=br(rr);function rl(e){return wa(e)?bi(e):cr(e)}function ol(e){return wa(e)?bi(e,!0):hr(e)}var sl=so(function(e,t,n){mr(e,t,n)}),al=so(function(e,t,n,i){mr(e,t,n,i)}),ll=Do(function(e,t){var n={};if(null==e)return n;var i=!1;t=Jt(t,function(t){return t=Gr(t,e),i||(i=t.length>1),t}),ro(e,Ao(e),n),i&&(n=Mi(n,d|p|f,ko));for(var r=t.length;r--;)zr(n,t[r]);return n});var ul=Do(function(e,t){return null==e?{}:function(e,t){return wr(e,t,function(t,n){return el(e,n)})}(e,t)});function cl(e,t){if(null==e)return{};var n=Jt(Ao(e),function(e){return[e]});return t=No(t),wr(e,n,function(e,n){return t(e,n[0])})}var hl=Eo(rl),dl=Eo(ol);function pl(e){return null==e?[]:yn(e,rl(e))}var fl=co(function(e,t,n){return t=t.toLowerCase(),e+(n?gl(t):t)});function gl(e){return Sl($a(e).toLowerCase())}function ml(e){return(e=$a(e))&&e.replace(Xe,_n).replace(wt,"")}var vl=co(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),yl=co(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),wl=uo("toLowerCase");var xl=co(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Tl=co(function(e,t,n){return e+(n?" ":"")+Sl(t)});var _l=co(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Sl=uo("toUpperCase");function bl(e,t,n){return e=$a(e),(t=n?o:t)===o?function(e){return St.test(e)}(e)?function(e){return e.match(Tt)||[]}(e):function(e){return e.match(Fe)||[]}(e):e.match(t)||[]}var El=br(function(e,t){try{return $t(e,o,t)}catch(e){return Sa(e)?e:new Qe(e)}}),Pl=Do(function(e,t){return Gt(t,function(t){t=cs(t),Ai(e,t,na(e[t],e))}),e});function Cl(e){return function(){return e}}var Rl=fo(),kl=fo(!0);function Ol(e){return e}function Dl(e){return ur("function"==typeof e?e:Mi(e,d))}var Il=br(function(e,t){return function(n){return rr(n,e,t)}}),Al=br(function(e,t){return function(n){return rr(e,n,t)}});function Ll(e,t,n){var i=rl(t),r=Ki(t,i);null!=n||Ca(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Ki(t,rl(t)));var o=!(Ca(n)&&"chain"in n&&!n.chain),s=ba(e);return Gt(r,function(n){var i=t[n];e[n]=i,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=io(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,en([this.value()],arguments))})}),e}function Bl(){}var Ml=yo(Jt),Nl=yo(Xt),Hl=yo(rn);function zl(e){return Xo(e)?dn(cs(e)):function(e){return function(t){return Yi(t,e)}}(e)}var Fl=xo(),jl=xo(!0);function Wl(){return[]}function ql(){return!1}var Ul=vo(function(e,t){return e+t},0),$l=So("ceil"),Vl=vo(function(e,t){return e/t},1),Gl=So("floor");var Zl,Xl=vo(function(e,t){return e*t},1),Kl=So("round"),Yl=vo(function(e,t){return e-t},0);return fi.after=function(e,t){if("function"!=typeof t)throw new rt(l);return e=ja(e),function(){if(--e<1)return t.apply(this,arguments)}},fi.ary=ea,fi.assign=Va,fi.assignIn=Ga,fi.assignInWith=Za,fi.assignWith=Xa,fi.at=Ka,fi.before=ta,fi.bind=na,fi.bindAll=Pl,fi.bindKey=ia,fi.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return va(e)?e:[e]},fi.chain=zs,fi.chunk=function(e,t,n){t=(n?Zo(e,t,n):t===o)?1:Vn(ja(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,a=0,l=i(zn(r/t));s<r;)l[a++]=Dr(e,s,s+=t);return l},fi.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},fi.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return en(va(n)?io(n):[n],$i(t,1))},fi.cond=function(e){var t=null==e?0:e.length,n=No();return e=t?Jt(e,function(e){if("function"!=typeof e[1])throw new rt(l);return[n(e[0]),e[1]]}):[],br(function(n){for(var i=-1;++i<t;){var r=e[i];if($t(r[0],this,n))return $t(r[1],this,n)}})},fi.conforms=function(e){return function(e){var t=rl(e);return function(n){return Ni(n,e,t)}}(Mi(e,d))},fi.constant=Cl,fi.countBy=Ws,fi.create=function(e,t){var n=gi(e);return null==t?n:Ii(n,t)},fi.curry=function e(t,n,i){var r=Po(t,x,o,o,o,o,o,n=i?o:n);return r.placeholder=e.placeholder,r},fi.curryRight=function e(t,n,i){var r=Po(t,T,o,o,o,o,o,n=i?o:n);return r.placeholder=e.placeholder,r},fi.debounce=ra,fi.defaults=Ya,fi.defaultsDeep=Qa,fi.defer=oa,fi.delay=sa,fi.difference=ps,fi.differenceBy=fs,fi.differenceWith=gs,fi.drop=function(e,t,n){var i=null==e?0:e.length;return i?Dr(e,(t=n||t===o?1:ja(t))<0?0:t,i):[]},fi.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Dr(e,0,(t=i-(t=n||t===o?1:ja(t)))<0?0:t):[]},fi.dropRightWhile=function(e,t){return e&&e.length?jr(e,No(t,3),!0,!0):[]},fi.dropWhile=function(e,t){return e&&e.length?jr(e,No(t,3),!0):[]},fi.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Zo(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ja(n))<0&&(n=-n>r?0:r+n),(i=i===o||i>r?r:ja(i))<0&&(i+=r),i=n>i?0:Wa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},fi.filter=function(e,t){return(va(e)?Kt:Ui)(e,No(t,3))},fi.flatMap=function(e,t){return $i(Ks(e,t),1)},fi.flatMapDeep=function(e,t){return $i(Ks(e,t),A)},fi.flatMapDepth=function(e,t,n){return n=n===o?1:ja(n),$i(Ks(e,t),n)},fi.flatten=ys,fi.flattenDeep=function(e){return null!=e&&e.length?$i(e,A):[]},fi.flattenDepth=function(e,t){return null!=e&&e.length?$i(e,t=t===o?1:ja(t)):[]},fi.flip=function(e){return Po(e,P)},fi.flow=Rl,fi.flowRight=kl,fi.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},fi.functions=function(e){return null==e?[]:Ki(e,rl(e))},fi.functionsIn=function(e){return null==e?[]:Ki(e,ol(e))},fi.groupBy=Gs,fi.initial=function(e){return null!=e&&e.length?Dr(e,0,-1):[]},fi.intersection=xs,fi.intersectionBy=Ts,fi.intersectionWith=_s,fi.invert=tl,fi.invertBy=nl,fi.invokeMap=Zs,fi.iteratee=Dl,fi.keyBy=Xs,fi.keys=rl,fi.keysIn=ol,fi.map=Ks,fi.mapKeys=function(e,t){var n={};return t=No(t,3),Zi(e,function(e,i,r){Ai(n,t(e,i,r),e)}),n},fi.mapValues=function(e,t){var n={};return t=No(t,3),Zi(e,function(e,i,r){Ai(n,i,t(e,i,r))}),n},fi.matches=function(e){return fr(Mi(e,d))},fi.matchesProperty=function(e,t){return gr(e,Mi(t,d))},fi.memoize=aa,fi.merge=sl,fi.mergeWith=al,fi.method=Il,fi.methodOf=Al,fi.mixin=Ll,fi.negate=la,fi.nthArg=function(e){return e=ja(e),br(function(t){return vr(t,e)})},fi.omit=ll,fi.omitBy=function(e,t){return cl(e,la(No(t)))},fi.once=function(e){return ta(2,e)},fi.orderBy=function(e,t,n,i){return null==e?[]:(va(t)||(t=null==t?[]:[t]),va(n=i?o:n)||(n=null==n?[]:[n]),yr(e,t,n))},fi.over=Ml,fi.overArgs=ua,fi.overEvery=Nl,fi.overSome=Hl,fi.partial=ca,fi.partialRight=ha,fi.partition=Ys,fi.pick=ul,fi.pickBy=cl,fi.property=zl,fi.propertyOf=function(e){return function(t){return null==e?o:Yi(e,t)}},fi.pull=bs,fi.pullAll=Es,fi.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?xr(e,t,No(n,2)):e},fi.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?xr(e,t,o,n):e},fi.pullAt=Ps,fi.range=Fl,fi.rangeRight=jl,fi.rearg=da,fi.reject=function(e,t){return(va(e)?Kt:Ui)(e,la(No(t,3)))},fi.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=No(t,3);++i<o;){var s=e[i];t(s,i,e)&&(n.push(s),r.push(i))}return Tr(e,r),n},fi.rest=function(e,t){if("function"!=typeof e)throw new rt(l);return br(e,t=t===o?t:ja(t))},fi.reverse=Cs,fi.sampleSize=function(e,t,n){return t=(n?Zo(e,t,n):t===o)?1:ja(t),(va(e)?Pi:Pr)(e,t)},fi.set=function(e,t,n){return null==e?e:Cr(e,t,n)},fi.setWith=function(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:Cr(e,t,n,i)},fi.shuffle=function(e){return(va(e)?Ci:Or)(e)},fi.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Zo(e,t,n)?(t=0,n=i):(t=null==t?0:ja(t),n=n===o?i:ja(n)),Dr(e,t,n)):[]},fi.sortBy=Qs,fi.sortedUniq=function(e){return e&&e.length?Br(e):[]},fi.sortedUniqBy=function(e,t){return e&&e.length?Br(e,No(t,2)):[]},fi.split=function(e,t,n){return n&&"number"!=typeof n&&Zo(e,t,n)&&(t=n=o),(n=n===o?N:n>>>0)?(e=$a(e))&&("string"==typeof t||null!=t&&!Ia(t))&&!(t=Nr(t))&&En(e)?Xr(An(e),0,n):e.split(t,n):[]},fi.spread=function(e,t){if("function"!=typeof e)throw new rt(l);return t=null==t?0:Vn(ja(t),0),br(function(n){var i=n[t],r=Xr(n,0,t);return i&&en(r,i),$t(e,this,r)})},fi.tail=function(e){var t=null==e?0:e.length;return t?Dr(e,1,t):[]},fi.take=function(e,t,n){return e&&e.length?Dr(e,0,(t=n||t===o?1:ja(t))<0?0:t):[]},fi.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Dr(e,(t=i-(t=n||t===o?1:ja(t)))<0?0:t,i):[]},fi.takeRightWhile=function(e,t){return e&&e.length?jr(e,No(t,3),!1,!0):[]},fi.takeWhile=function(e,t){return e&&e.length?jr(e,No(t,3)):[]},fi.tap=function(e,t){return t(e),e},fi.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new rt(l);return Ca(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ra(e,t,{leading:i,maxWait:t,trailing:r})},fi.thru=Fs,fi.toArray=za,fi.toPairs=hl,fi.toPairsIn=dl,fi.toPath=function(e){return va(e)?Jt(e,cs):Ba(e)?[e]:io(us($a(e)))},fi.toPlainObject=Ua,fi.transform=function(e,t,n){var i=va(e),r=i||Ta(e)||Ma(e);if(t=No(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:Ca(e)&&ba(o)?gi(Dt(e)):{}}return(r?Gt:Zi)(e,function(e,i,r){return t(n,e,i,r)}),n},fi.unary=function(e){return ea(e,1)},fi.union=Rs,fi.unionBy=ks,fi.unionWith=Os,fi.uniq=function(e){return e&&e.length?Hr(e):[]},fi.uniqBy=function(e,t){return e&&e.length?Hr(e,No(t,2)):[]},fi.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Hr(e,o,t):[]},fi.unset=function(e,t){return null==e||zr(e,t)},fi.unzip=Ds,fi.unzipWith=Is,fi.update=function(e,t,n){return null==e?e:Fr(e,t,Vr(n))},fi.updateWith=function(e,t,n,i){return i="function"==typeof i?i:o,null==e?e:Fr(e,t,Vr(n),i)},fi.values=pl,fi.valuesIn=function(e){return null==e?[]:yn(e,ol(e))},fi.without=As,fi.words=bl,fi.wrap=function(e,t){return ca(Vr(t),e)},fi.xor=Ls,fi.xorBy=Bs,fi.xorWith=Ms,fi.zip=Ns,fi.zipObject=function(e,t){return Ur(e||[],t||[],ki)},fi.zipObjectDeep=function(e,t){return Ur(e||[],t||[],Cr)},fi.zipWith=Hs,fi.entries=hl,fi.entriesIn=dl,fi.extend=Ga,fi.extendWith=Za,Ll(fi,fi),fi.add=Ul,fi.attempt=El,fi.camelCase=fl,fi.capitalize=gl,fi.ceil=$l,fi.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=qa(n))==n?n:0),t!==o&&(t=(t=qa(t))==t?t:0),Bi(qa(e),t,n)},fi.clone=function(e){return Mi(e,f)},fi.cloneDeep=function(e){return Mi(e,d|f)},fi.cloneDeepWith=function(e,t){return Mi(e,d|f,t="function"==typeof t?t:o)},fi.cloneWith=function(e,t){return Mi(e,f,t="function"==typeof t?t:o)},fi.conformsTo=function(e,t){return null==t||Ni(e,t,rl(t))},fi.deburr=ml,fi.defaultTo=function(e,t){return null==e||e!=e?t:e},fi.divide=Vl,fi.endsWith=function(e,t,n){e=$a(e),t=Nr(t);var i=e.length,r=n=n===o?i:Bi(ja(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},fi.eq=pa,fi.escape=function(e){return(e=$a(e))&&Ee.test(e)?e.replace(Se,Sn):e},fi.escapeRegExp=function(e){return(e=$a(e))&&Ae.test(e)?e.replace(Ie,"\\$&"):e},fi.every=function(e,t,n){var i=va(e)?Xt:Wi;return n&&Zo(e,t,n)&&(t=o),i(e,No(t,3))},fi.find=qs,fi.findIndex=ms,fi.findKey=function(e,t){return sn(e,No(t,3),Zi)},fi.findLast=Us,fi.findLastIndex=vs,fi.findLastKey=function(e,t){return sn(e,No(t,3),Xi)},fi.floor=Gl,fi.forEach=$s,fi.forEachRight=Vs,fi.forIn=function(e,t){return null==e?e:Vi(e,No(t,3),ol)},fi.forInRight=function(e,t){return null==e?e:Gi(e,No(t,3),ol)},fi.forOwn=function(e,t){return e&&Zi(e,No(t,3))},fi.forOwnRight=function(e,t){return e&&Xi(e,No(t,3))},fi.get=Ja,fi.gt=fa,fi.gte=ga,fi.has=function(e,t){return null!=e&&Uo(e,t,tr)},fi.hasIn=el,fi.head=ws,fi.identity=Ol,fi.includes=function(e,t,n,i){e=wa(e)?e:pl(e),n=n&&!i?ja(n):0;var r=e.length;return n<0&&(n=Vn(r+n,0)),La(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&ln(e,t,n)>-1},fi.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ja(n);return r<0&&(r=Vn(i+r,0)),ln(e,t,r)},fi.inRange=function(e,t,n){return t=Fa(t),n===o?(n=t,t=0):n=Fa(n),function(e,t,n){return e>=Gn(t,n)&&e<Vn(t,n)}(e=qa(e),t,n)},fi.invoke=il,fi.isArguments=ma,fi.isArray=va,fi.isArrayBuffer=ya,fi.isArrayLike=wa,fi.isArrayLikeObject=xa,fi.isBoolean=function(e){return!0===e||!1===e||Ra(e)&&Ji(e)==U},fi.isBuffer=Ta,fi.isDate=_a,fi.isElement=function(e){return Ra(e)&&1===e.nodeType&&!Da(e)},fi.isEmpty=function(e){if(null==e)return!0;if(wa(e)&&(va(e)||"string"==typeof e||"function"==typeof e.splice||Ta(e)||Ma(e)||ma(e)))return!e.length;var t=qo(e);if(t==K||t==ne)return!e.size;if(Qo(e))return!cr(e).length;for(var n in e)if(ct.call(e,n))return!1;return!0},fi.isEqual=function(e,t){return sr(e,t)},fi.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:o)?n(e,t):o;return i===o?sr(e,t,o,n):!!i},fi.isError=Sa,fi.isFinite=function(e){return"number"==typeof e&&qn(e)},fi.isFunction=ba,fi.isInteger=Ea,fi.isLength=Pa,fi.isMap=ka,fi.isMatch=function(e,t){return e===t||ar(e,t,zo(t))},fi.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,ar(e,t,zo(t),n)},fi.isNaN=function(e){return Oa(e)&&e!=+e},fi.isNative=function(e){if(Yo(e))throw new Qe(a);return lr(e)},fi.isNil=function(e){return null==e},fi.isNull=function(e){return null===e},fi.isNumber=Oa,fi.isObject=Ca,fi.isObjectLike=Ra,fi.isPlainObject=Da,fi.isRegExp=Ia,fi.isSafeInteger=function(e){return Ea(e)&&e>=-L&&e<=L},fi.isSet=Aa,fi.isString=La,fi.isSymbol=Ba,fi.isTypedArray=Ma,fi.isUndefined=function(e){return e===o},fi.isWeakMap=function(e){return Ra(e)&&qo(e)==se},fi.isWeakSet=function(e){return Ra(e)&&Ji(e)==ae},fi.join=function(e,t){return null==e?"":Un.call(e,t)},fi.kebabCase=vl,fi.last=Ss,fi.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return n!==o&&(r=(r=ja(n))<0?Vn(i+r,0):Gn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):an(e,cn,r,!0)},fi.lowerCase=yl,fi.lowerFirst=wl,fi.lt=Na,fi.lte=Ha,fi.max=function(e){return e&&e.length?qi(e,Ol,er):o},fi.maxBy=function(e,t){return e&&e.length?qi(e,No(t,2),er):o},fi.mean=function(e){return hn(e,Ol)},fi.meanBy=function(e,t){return hn(e,No(t,2))},fi.min=function(e){return e&&e.length?qi(e,Ol,dr):o},fi.minBy=function(e,t){return e&&e.length?qi(e,No(t,2),dr):o},fi.stubArray=Wl,fi.stubFalse=ql,fi.stubObject=function(){return{}},fi.stubString=function(){return""},fi.stubTrue=function(){return!0},fi.multiply=Xl,fi.nth=function(e,t){return e&&e.length?vr(e,ja(t)):o},fi.noConflict=function(){return At._===this&&(At._=gt),this},fi.noop=Bl,fi.now=Js,fi.pad=function(e,t,n){e=$a(e);var i=(t=ja(t))?In(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return wo(Fn(r),n)+e+wo(zn(r),n)},fi.padEnd=function(e,t,n){e=$a(e);var i=(t=ja(t))?In(e):0;return t&&i<t?e+wo(t-i,n):e},fi.padStart=function(e,t,n){e=$a(e);var i=(t=ja(t))?In(e):0;return t&&i<t?wo(t-i,n)+e:e},fi.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Xn($a(e).replace(Be,""),t||0)},fi.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Zo(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Fa(e),t===o?(t=e,e=0):t=Fa(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Kn();return Gn(e+r*(t-e+kt("1e-"+((r+"").length-1))),t)}return _r(e,t)},fi.reduce=function(e,t,n){var i=va(e)?tn:fn,r=arguments.length<3;return i(e,No(t,4),n,r,Fi)},fi.reduceRight=function(e,t,n){var i=va(e)?nn:fn,r=arguments.length<3;return i(e,No(t,4),n,r,ji)},fi.repeat=function(e,t,n){return t=(n?Zo(e,t,n):t===o)?1:ja(t),Sr($a(e),t)},fi.replace=function(){var e=arguments,t=$a(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fi.result=function(e,t,n){var i=-1,r=(t=Gr(t,e)).length;for(r||(r=1,e=o);++i<r;){var s=null==e?o:e[cs(t[i])];s===o&&(i=r,s=n),e=ba(s)?s.call(e):s}return e},fi.round=Kl,fi.runInContext=e,fi.sample=function(e){return(va(e)?Ei:Er)(e)},fi.size=function(e){if(null==e)return 0;if(wa(e))return La(e)?In(e):e.length;var t=qo(e);return t==K||t==ne?e.size:cr(e).length},fi.snakeCase=xl,fi.some=function(e,t,n){var i=va(e)?rn:Ir;return n&&Zo(e,t,n)&&(t=o),i(e,No(t,3))},fi.sortedIndex=function(e,t){return Ar(e,t)},fi.sortedIndexBy=function(e,t,n){return Lr(e,t,No(n,2))},fi.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Ar(e,t);if(i<n&&pa(e[i],t))return i}return-1},fi.sortedLastIndex=function(e,t){return Ar(e,t,!0)},fi.sortedLastIndexBy=function(e,t,n){return Lr(e,t,No(n,2),!0)},fi.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ar(e,t,!0)-1;if(pa(e[n],t))return n}return-1},fi.startCase=Tl,fi.startsWith=function(e,t,n){return e=$a(e),n=null==n?0:Bi(ja(n),0,e.length),t=Nr(t),e.slice(n,n+t.length)==t},fi.subtract=Yl,fi.sum=function(e){return e&&e.length?gn(e,Ol):0},fi.sumBy=function(e,t){return e&&e.length?gn(e,No(t,2)):0},fi.template=function(e,t,n){var i=fi.templateSettings;n&&Zo(e,t,n)&&(t=o),e=$a(e),t=Za({},t,i,Co);var r,s,a=Za({},t.imports,i.imports,Co),l=rl(a),u=yn(a,l),c=0,h=t.interpolate||Ke,d="__p += '",p=nt((t.escape||Ke).source+"|"+h.source+"|"+(h===Re?We:Ke).source+"|"+(t.evaluate||Ke).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Et+"]")+"\n";e.replace(p,function(t,n,i,o,a,l){return i||(i=o),d+=e.slice(c,l).replace(Ye,bn),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(we,""):d).replace(xe,"$1").replace(Te,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=El(function(){return Je(l,f+"return "+d).apply(o,u)});if(m.source=d,Sa(m))throw m;return m},fi.times=function(e,t){if((e=ja(e))<1||e>L)return[];var n=N,i=Gn(e,N);t=No(t),e-=N;for(var r=mn(i,t);++n<e;)t(n);return r},fi.toFinite=Fa,fi.toInteger=ja,fi.toLength=Wa,fi.toLower=function(e){return $a(e).toLowerCase()},fi.toNumber=qa,fi.toSafeInteger=function(e){return e?Bi(ja(e),-L,L):0===e?e:0},fi.toString=$a,fi.toUpper=function(e){return $a(e).toUpperCase()},fi.trim=function(e,t,n){if((e=$a(e))&&(n||t===o))return e.replace(Le,"");if(!e||!(t=Nr(t)))return e;var i=An(e),r=An(t);return Xr(i,xn(i,r),Tn(i,r)+1).join("")},fi.trimEnd=function(e,t,n){if((e=$a(e))&&(n||t===o))return e.replace(Me,"");if(!e||!(t=Nr(t)))return e;var i=An(e);return Xr(i,0,Tn(i,An(t))+1).join("")},fi.trimStart=function(e,t,n){if((e=$a(e))&&(n||t===o))return e.replace(Be,"");if(!e||!(t=Nr(t)))return e;var i=An(e);return Xr(i,xn(i,An(t))).join("")},fi.truncate=function(e,t){var n=C,i=R;if(Ca(t)){var r="separator"in t?t.separator:r;n="length"in t?ja(t.length):n,i="omission"in t?Nr(t.omission):i}var s=(e=$a(e)).length;if(En(e)){var a=An(e);s=a.length}if(n>=s)return e;var l=n-In(i);if(l<1)return i;var u=a?Xr(a,0,l).join(""):e.slice(0,l);if(r===o)return u+i;if(a&&(l+=u.length-l),Ia(r)){if(e.slice(l).search(r)){var c,h=u;for(r.global||(r=nt(r.source,$a(qe.exec(r))+"g")),r.lastIndex=0;c=r.exec(h);)var d=c.index;u=u.slice(0,d===o?l:d)}}else if(e.indexOf(Nr(r),l)!=l){var p=u.lastIndexOf(r);p>-1&&(u=u.slice(0,p))}return u+i},fi.unescape=function(e){return(e=$a(e))&&be.test(e)?e.replace(_e,Ln):e},fi.uniqueId=function(e){var t=++ht;return $a(e)+t},fi.upperCase=_l,fi.upperFirst=Sl,fi.each=$s,fi.eachRight=Vs,fi.first=ws,Ll(fi,(Zl={},Zi(fi,function(e,t){ct.call(fi.prototype,t)||(Zl[t]=e)}),Zl),{chain:!1}),fi.VERSION="4.17.5",Gt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){fi[e].placeholder=fi}),Gt(["drop","take"],function(e,t){yi.prototype[e]=function(n){n=n===o?1:Vn(ja(n),0);var i=this.__filtered__&&!t?new yi(this):this.clone();return i.__filtered__?i.__takeCount__=Gn(n,i.__takeCount__):i.__views__.push({size:Gn(n,N),type:e+(i.__dir__<0?"Right":"")}),i},yi.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Gt(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==D||3==n;yi.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:No(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),Gt(["head","last"],function(e,t){var n="take"+(t?"Right":"");yi.prototype[e]=function(){return this[n](1).value()[0]}}),Gt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");yi.prototype[e]=function(){return this.__filtered__?new yi(this):this[n](1)}}),yi.prototype.compact=function(){return this.filter(Ol)},yi.prototype.find=function(e){return this.filter(e).head()},yi.prototype.findLast=function(e){return this.reverse().find(e)},yi.prototype.invokeMap=br(function(e,t){return"function"==typeof e?new yi(this):this.map(function(n){return rr(n,e,t)})}),yi.prototype.reject=function(e){return this.filter(la(No(e)))},yi.prototype.slice=function(e,t){e=ja(e);var n=this;return n.__filtered__&&(e>0||t<0)?new yi(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ja(t))<0?n.dropRight(-t):n.take(t-e)),n)},yi.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},yi.prototype.toArray=function(){return this.take(N)},Zi(yi.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=fi[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(fi.prototype[t]=function(){var t=this.__wrapped__,a=i?[1]:arguments,l=t instanceof yi,u=a[0],c=l||va(t),h=function(e){var t=r.apply(fi,en([e],a));return i&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,g=l&&!p;if(!s&&c){t=g?t:new yi(this);var m=e.apply(t,a);return m.__actions__.push({func:Fs,args:[h],thisArg:o}),new vi(m,d)}return f&&g?e.apply(this,a):(m=this.thru(h),f?i?m.value()[0]:m.value():m)})}),Gt(["pop","push","shift","sort","splice","unshift"],function(e){var t=ot[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);fi.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(va(r)?r:[],e)}return this[n](function(n){return t.apply(va(n)?n:[],e)})}}),Zi(yi.prototype,function(e,t){var n=fi[t];if(n){var i=n.name+"";(oi[i]||(oi[i]=[])).push({name:t,func:n})}}),oi[go(o,y).name]=[{name:"wrapper",func:o}],yi.prototype.clone=function(){var e=new yi(this.__wrapped__);return e.__actions__=io(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=io(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=io(this.__views__),e},yi.prototype.reverse=function(){if(this.__filtered__){var e=new yi(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},yi.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=va(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Gn(t,e+s);break;case"takeRight":e=Vn(e,t-s)}}return{start:e,end:t}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=Gn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return Wr(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var g=-1,m=e[u+=t];++g<h;){var v=c[g],y=v.iteratee,w=v.type,x=y(m);if(w==I)m=x;else if(!x){if(w==D)continue e;break e}}f[d++]=m}return f},fi.prototype.at=js,fi.prototype.chain=function(){return zs(this)},fi.prototype.commit=function(){return new vi(this.value(),this.__chain__)},fi.prototype.next=function(){this.__values__===o&&(this.__values__=za(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},fi.prototype.plant=function(e){for(var t,n=this;n instanceof mi;){var i=ds(n);i.__index__=0,i.__values__=o,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},fi.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof yi){var t=e;return this.__actions__.length&&(t=new yi(this)),(t=t.reverse()).__actions__.push({func:Fs,args:[Cs],thisArg:o}),new vi(t,this.__chain__)}return this.thru(Cs)},fi.prototype.toJSON=fi.prototype.valueOf=fi.prototype.value=function(){return Wr(this.__wrapped__,this.__actions__)},fi.prototype.first=fi.prototype.head,Ht&&(fi.prototype[Ht]=function(){return this}),fi}();At._=Bn,(r=function(){return Bn}.call(t,n,t,i))===o||(i.exports=r)}).call(this)}).call(this,n(5),n(4)(e))},function(e,t,n){"use strict";n.r(t);var i=n(2),r=n.n(i),o=n(0),s=n.n(o);const a=Function.prototype.apply,l=new WeakMap;function u(e){return l.has(e)||l.set(e,{}),l.get(e)}var c=n(1);n.n(c)()(document).ready(e=>{let t={};function n(){console.log("error")}function i(t){const n=e.parseHTML(t.responseText);e("#navbar .previous").replaceWith(e(n).find(".previous")),e("#navbar .next").replaceWith(e(n).find(".next")),e("#navbar .toggle").replaceWith(e(n).find(".toggle")),e(".dlts_viewer_map").replaceWith(e(n).find(".dlts_viewer_map")),h.emit("viewer-newpage")}function o(e){const t=s.a.isFunction(e.success)?e.success:i;s.a.makeAjaxRequest({url:e.url,success:t,error:n,headers:{"X-PJAX":"1"}})}function l(t){const n=e(t);n.hasClass("active")&&o({url:n.attr("href"),success:i})}const c={},h=new class{constructor(e=null,t=console){const n=u(this);return n._events=new Set,n._callbacks={},n._console=t,n._maxListeners=null===e?null:parseInt(e,10),this}_addCallback(e,t,n,i){return this._getCallbacks(e).push({callback:t,context:n,weight:i}),this._getCallbacks(e).sort((e,t)=>e.weight>t.weight),this}_getCallbacks(e){return u(this)._callbacks[e]}_getCallbackIndex(e,t){return this._has(e)?this._getCallbacks(e).findIndex(e=>e.callback===t):null}_achieveMaxListener(e){return null!==u(this)._maxListeners&&u(this)._maxListeners<=this.listenersNumber(e)}_callbackIsExists(e,t,n){const i=this._getCallbackIndex(e,t),r=-1!==i?this._getCallbacks(e)[i]:void 0;return-1!==i&&r&&r.context===n}_has(e){return u(this)._events.has(e)}on(e,t,n=null,i=1){const r=u(this);if("function"!=typeof t)throw new TypeError(`${t} is not a function`);return this._has(e)?(this._achieveMaxListener(e)&&r._console.warn(`Max listeners (${r._maxListeners})`+` for event "${e}" is reached!`),this._callbackIsExists(...arguments)&&r._console.warn(`Event "${e}"`+` already has the callback ${t}.`)):(r._events.add(e),r._callbacks[e]=[]),this._addCallback(...arguments),this}once(e,t,n=null,i=1){const r=(...i)=>(this.off(e,r),a.call(t,n,i));return this.on(e,r,n,i)}off(e,t=null){const n=u(this);let i;return this._has(e)&&(null===t?(n._events.delete(e),n._callbacks[e]=null):-1!==(i=this._getCallbackIndex(e,t))&&(n._callbacks[e].splice(i,1),this.off(...arguments))),this}emit(e,...t){return this._has(e)&&this._getCallbacks(e).forEach(e=>a.call(e.callback,e.context,t)),this}clear(){const e=u(this);return e._events.clear(),e._callbacks={},this}listenersNumber(e){return this._has(e)?this._getCallbacks(e).length:null}};h.on("viewer-rotate",()=>{t.viewer.viewport.setRotation((t.viewer.viewport?t.viewer.viewport.getRotation():t.viewer.degrees||0)+90)}),h.on("viewer-metadata",()=>{e("body").toggleClass("pagemeta-hidden")}),h.on("viewer-thumbnails",()=>{const t=e("#navbar .button.thumbnails"),n=e(".dlts_viewer_map"),i=e("#thumbnails"),r="on"==t.attr("data-state")?"off":"on";t.attr("data-state",r),"on"===r?o({url:n.attr("data-thumbnails-url"),success:e=>{i.length&&i.removeClass("hidden").addClass("active").html(e.response)}}):i.removeClass("active").addClass("hidden").html("")}),h.on("viewer-zoomin",()=>{t.viewer.viewport.zoomBy(t.viewer.zoomPerClick/1),t.viewer.viewport.applyConstraints()}),h.on("viewer-zoomout",()=>{t.viewer.viewport.zoomBy(1/t.viewer.zoomPerClick),t.viewer.viewport.applyConstraints()}),h.on("viewer-fullscreen",()=>{const e=document.getElementById("page");s.a.isFullScreen()?s.a.exitFullScreen():s.a.requestFullScreen(e)}),h.on("viewer-next",()=>{l("#navbar .button.next")}),h.on("viewer-previous",()=>{l("#navbar .button.previous")}),h.on("viewer-toggle",()=>{l("#navbar .button.toggle")}),h.on("viewer-newpage",()=>{const n=e(".dlts_viewer_map"),i=s.a.extend(!0,c,n.data());let o={id:n.attr("id"),degrees:i.degrees,tileSources:i.tiles};return"double"===i.pagevView&&(o=r.a.assign({sequenceMode:!1,collectionMode:!0,collectionRows:1,collectionTileMargin:-278},o)),t.viewer&&(o.degrees=t.viewer.viewport.getRotation(),t.viewer.destroy()),t.viewer=s()(s.a.extend(!0,o,{immediateRender:!1,preserveViewport:!0,showRotationControl:!0,showNavigationControl:!1,gestureSettingsTouch:{pinchRotate:!0}})),t.viewer.addHandler("open",t=>{const n=e("#slider_value").attr("value"),r=i.sequence;n!==r&&e("#slider_value").attr("value",r)}),t.viewer}),h.on("viewer-slider-cahnge",()=>{const t=e(".dlts_viewer_map").data();o({url:t.type+"/"+t.identifier+"/"+e(".slider").val(),success:i})}),e("body").delegate(".button","click",function(t){t.preventDefault(),h.emit(e(this).attr("data-emmit"),this)}),e("#thumbnails").delegate("a","click",function(t){t.preventDefault(),o({url:e(this).attr("href"),success:i})}),e("body").delegate("select.language","change",function(t){o({url:e(this).find(":selected").attr("value"),success:t=>{const n=e(e.parseHTML(t.responseText)),i=n.find(".node-dlts-book").attr("dir");e("#main").attr("dir",i),e("#pagemeta").replaceWith(n.find("#pagemeta"))}})}),h.emit("viewer-newpage"),e(".slider").on("change",function(){h.emit("viewer-slider-cahnge",this.value)}),e(".slider").on("input",function(){e("#slider_current").text(this.value)})})},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL09wZW5TZWFkcmFnb24vYnVpbGQvb3BlbnNlYWRyYWdvbi9vcGVuc2VhZHJhZ29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0V2ZW50RW1pdHRlci9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiJCIsImZ1bGxTY3JlZW5BcGkiLCJPcGVuU2VhZHJhZ29uIiwib3B0aW9ucyIsIlZpZXdlciIsInZlcnNpb24iLCJ2ZXJzaW9uU3RyIiwibWFqb3IiLCJwYXJzZUludCIsIm1pbm9yIiwicmV2aXNpb24iLCJjYW52YXNFbGVtZW50IiwiY2xhc3MydHlwZSIsIltvYmplY3QgQm9vbGVhbl0iLCJbb2JqZWN0IE51bWJlcl0iLCJbb2JqZWN0IFN0cmluZ10iLCJbb2JqZWN0IEZ1bmN0aW9uXSIsIltvYmplY3QgQXJyYXldIiwiW29iamVjdCBEYXRlXSIsIltvYmplY3QgUmVnRXhwXSIsIltvYmplY3QgT2JqZWN0XSIsInRvU3RyaW5nIiwiaGFzT3duIiwiaXNGdW5jdGlvbiIsIm9iaiIsInR5cGUiLCJpc0FycmF5IiwiQXJyYXkiLCJpc1dpbmRvdyIsInVuZGVmaW5lZCIsIlN0cmluZyIsImlzUGxhaW5PYmplY3QiLCJub2RlVHlwZSIsImNvbnN0cnVjdG9yIiwibGFzdEtleSIsImtleSIsImlzRW1wdHlPYmplY3QiLCJmcmVlemVPYmplY3QiLCJmcmVlemUiLCJzdXBwb3J0c0NhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJpc0NhbnZhc1RhaW50ZWQiLCJjYW52YXMiLCJpc1RhaW50ZWQiLCJnZXRJbWFnZURhdGEiLCJlIiwicGl4ZWxEZW5zaXR5UmF0aW8iLCJjb250ZXh0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndpbmRvdyIsImJhY2tpbmdTdG9yZVJhdGlvIiwid2Via2l0QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsIm1vekJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJvQmFja2luZ1N0b3JlUGl4ZWxSYXRpbyIsImJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJNYXRoIiwibWF4IiwiZXh0ZW5kIiwic3JjIiwiY29weSIsImNvcHlJc0FycmF5IiwiY2xvbmUiLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJkZWVwIiwidGhpcyIsImlzSU9TRGV2aWNlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsIkRFRkFVTFRfU0VUVElOR1MiLCJ4bWxQYXRoIiwidGlsZVNvdXJjZXMiLCJ0aWxlSG9zdCIsImluaXRpYWxQYWdlIiwiY3Jvc3NPcmlnaW5Qb2xpY3kiLCJhamF4V2l0aENyZWRlbnRpYWxzIiwibG9hZFRpbGVzV2l0aEFqYXgiLCJhamF4SGVhZGVycyIsInBhbkhvcml6b250YWwiLCJwYW5WZXJ0aWNhbCIsImNvbnN0cmFpbkR1cmluZ1BhbiIsIndyYXBIb3Jpem9udGFsIiwid3JhcFZlcnRpY2FsIiwidmlzaWJpbGl0eVJhdGlvIiwibWluUGl4ZWxSYXRpbyIsImRlZmF1bHRab29tTGV2ZWwiLCJtaW5ab29tTGV2ZWwiLCJtYXhab29tTGV2ZWwiLCJob21lRmlsbHNWaWV3ZXIiLCJjbGlja1RpbWVUaHJlc2hvbGQiLCJjbGlja0Rpc3RUaHJlc2hvbGQiLCJkYmxDbGlja1RpbWVUaHJlc2hvbGQiLCJkYmxDbGlja0Rpc3RUaHJlc2hvbGQiLCJzcHJpbmdTdGlmZm5lc3MiLCJhbmltYXRpb25UaW1lIiwiZ2VzdHVyZVNldHRpbmdzTW91c2UiLCJzY3JvbGxUb1pvb20iLCJjbGlja1RvWm9vbSIsImRibENsaWNrVG9ab29tIiwicGluY2hUb1pvb20iLCJmbGlja0VuYWJsZWQiLCJmbGlja01pblNwZWVkIiwiZmxpY2tNb21lbnR1bSIsInBpbmNoUm90YXRlIiwiZ2VzdHVyZVNldHRpbmdzVG91Y2giLCJnZXN0dXJlU2V0dGluZ3NQZW4iLCJnZXN0dXJlU2V0dGluZ3NVbmtub3duIiwiem9vbVBlckNsaWNrIiwiem9vbVBlclNjcm9sbCIsInpvb21QZXJTZWNvbmQiLCJibGVuZFRpbWUiLCJhbHdheXNCbGVuZCIsImF1dG9IaWRlQ29udHJvbHMiLCJpbW1lZGlhdGVSZW5kZXIiLCJtaW5ab29tSW1hZ2VSYXRpbyIsIm1heFpvb21QaXhlbFJhdGlvIiwic21vb3RoVGlsZUVkZ2VzTWluWm9vbSIsImlPU0RldmljZSIsInBpeGVsc1BlcldoZWVsTGluZSIsImF1dG9SZXNpemUiLCJwcmVzZXJ2ZUltYWdlU2l6ZU9uUmVzaXplIiwibWluU2Nyb2xsRGVsdGFUaW1lIiwic2hvd1NlcXVlbmNlQ29udHJvbCIsInNlcXVlbmNlQ29udHJvbEFuY2hvciIsInByZXNlcnZlVmlld3BvcnQiLCJwcmVzZXJ2ZU92ZXJsYXlzIiwibmF2UHJldk5leHRXcmFwIiwic2hvd05hdmlnYXRpb25Db250cm9sIiwibmF2aWdhdGlvbkNvbnRyb2xBbmNob3IiLCJzaG93Wm9vbUNvbnRyb2wiLCJzaG93SG9tZUNvbnRyb2wiLCJzaG93RnVsbFBhZ2VDb250cm9sIiwic2hvd1JvdGF0aW9uQ29udHJvbCIsImNvbnRyb2xzRmFkZURlbGF5IiwiY29udHJvbHNGYWRlTGVuZ3RoIiwibW91c2VOYXZFbmFibGVkIiwic2hvd05hdmlnYXRvciIsIm5hdmlnYXRvcklkIiwibmF2aWdhdG9yUG9zaXRpb24iLCJuYXZpZ2F0b3JTaXplUmF0aW8iLCJuYXZpZ2F0b3JNYWludGFpblNpemVSYXRpbyIsIm5hdmlnYXRvclRvcCIsIm5hdmlnYXRvckxlZnQiLCJuYXZpZ2F0b3JIZWlnaHQiLCJuYXZpZ2F0b3JXaWR0aCIsIm5hdmlnYXRvckF1dG9SZXNpemUiLCJuYXZpZ2F0b3JBdXRvRmFkZSIsIm5hdmlnYXRvclJvdGF0ZSIsImRlZ3JlZXMiLCJvcGFjaXR5IiwicHJlbG9hZCIsImNvbXBvc2l0ZU9wZXJhdGlvbiIsInBsYWNlaG9sZGVyRmlsbFN0eWxlIiwic2hvd1JlZmVyZW5jZVN0cmlwIiwicmVmZXJlbmNlU3RyaXBTY3JvbGwiLCJyZWZlcmVuY2VTdHJpcEVsZW1lbnQiLCJyZWZlcmVuY2VTdHJpcEhlaWdodCIsInJlZmVyZW5jZVN0cmlwV2lkdGgiLCJyZWZlcmVuY2VTdHJpcFBvc2l0aW9uIiwicmVmZXJlbmNlU3RyaXBTaXplUmF0aW8iLCJjb2xsZWN0aW9uUm93cyIsImNvbGxlY3Rpb25Db2x1bW5zIiwiY29sbGVjdGlvbkxheW91dCIsImNvbGxlY3Rpb25Nb2RlIiwiY29sbGVjdGlvblRpbGVTaXplIiwiY29sbGVjdGlvblRpbGVNYXJnaW4iLCJpbWFnZUxvYWRlckxpbWl0IiwibWF4SW1hZ2VDYWNoZUNvdW50IiwidGltZW91dCIsInVzZUNhbnZhcyIsInByZWZpeFVybCIsIm5hdkltYWdlcyIsInpvb21JbiIsIlJFU1QiLCJHUk9VUCIsIkhPVkVSIiwiRE9XTiIsInpvb21PdXQiLCJob21lIiwiZnVsbHBhZ2UiLCJyb3RhdGVsZWZ0Iiwicm90YXRlcmlnaHQiLCJwcmV2aW91cyIsIm5leHQiLCJkZWJ1Z01vZGUiLCJkZWJ1Z0dyaWRDb2xvciIsIlNJR05BTCIsImRlbGVnYXRlIiwibWV0aG9kIiwiYXJncyIsImFwcGx5IiwiQlJPV1NFUlMiLCJVTktOT1dOIiwiSUUiLCJGSVJFRk9YIiwiU0FGQVJJIiwiQ0hST01FIiwiT1BFUkEiLCJnZXRFbGVtZW50IiwiZWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0RWxlbWVudFBvc2l0aW9uIiwiaXNGaXhlZCIsIm9mZnNldFBhcmVudCIsInJlc3VsdCIsIlBvaW50IiwiZ2V0T2Zmc2V0UGFyZW50IiwiZ2V0RWxlbWVudFN0eWxlIiwicG9zaXRpb24iLCJ4Iiwib2Zmc2V0TGVmdCIsInkiLCJvZmZzZXRUb3AiLCJwbHVzIiwiZ2V0UGFnZVNjcm9sbCIsImdldEVsZW1lbnRPZmZzZXQiLCJkb2NFbGVtZW50Iiwid2luIiwiZG9jIiwib3duZXJEb2N1bWVudCIsImJvdW5kaW5nUmVjdCIsInRvcCIsImxlZnQiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsImNsaWVudExlZnQiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsImNsaWVudFRvcCIsImdldEVsZW1lbnRTaXplIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0Q3NzUHJvcGVydHlXaXRoVmVuZG9yUHJlZml4IiwibWVtbyIsInN0eWxlIiwicHJlZml4ZXMiLCJzdWZmaXgiLCJjYXBpdGFsaXplRmlyc3RMZXR0ZXIiLCJwcm9wIiwic3RyaW5nIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsInBvc2l0aXZlTW9kdWxvIiwibnVtYmVyIiwibW9kdWxvIiwicG9pbnRJbkVsZW1lbnQiLCJwb2ludCIsIm9mZnNldCIsInNpemUiLCJnZXRFdmVudCIsImV2ZW50IiwiZ2V0TW91c2VQb3NpdGlvbiIsInBhZ2VYIiwicGFnZVkiLCJFcnJvciIsImNsaWVudFgiLCJib2R5IiwiY2xpZW50WSIsInNldFBhZ2VTY3JvbGwiLCJzY3JvbGwiLCJzY3JvbGxUbyIsIm9yaWdpbmFsU2Nyb2xsIiwiY3VycmVudFNjcm9sbCIsImdldFdpbmRvd1NpemUiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJtYWtlQ2VudGVyZWROb2RlIiwid3JhcHBlcnMiLCJtYWtlTmV1dHJhbEVsZW1lbnQiLCJkaXNwbGF5IiwiaGVpZ2h0Iiwid2lkdGgiLCJ2ZXJ0aWNhbEFsaWduIiwidGV4dEFsaWduIiwiYXBwZW5kQ2hpbGQiLCJ0YWdOYW1lIiwiYmFja2dyb3VuZCIsImJvcmRlciIsIm1hcmdpbiIsInBhZGRpbmciLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsIm1ha2VUcmFuc3BhcmVudEltYWdlIiwiaW1nIiwiQnJvd3NlciIsInZlbmRvciIsIm9ubG9hZCIsImZpbHRlciIsInNldEVsZW1lbnRPcGFjaXR5IiwidXNlc0FscGhhIiwiaWVGaWx0ZXIiLCJhbHBoYSIsInJvdW5kIiwic2V0RWxlbWVudFRvdWNoQWN0aW9uTm9uZSIsInRvdWNoQWN0aW9uIiwibXNUb3VjaEFjdGlvbiIsImFkZENsYXNzIiwiY2xhc3NOYW1lIiwiYXJyYXkiLCJzZWFyY2hFbGVtZW50IiwiZnJvbUluZGV4IiwicGl2b3QiLCJUeXBlRXJyb3IiLCJhYnMiLCJyZW1vdmVDbGFzcyIsIm9sZENsYXNzZXMiLCJuZXdDbGFzc2VzIiwic3BsaXQiLCJwdXNoIiwiam9pbiIsImFkZEV2ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJ1c2VDYXB0dXJlIiwiYXR0YWNoRXZlbnQiLCJyZW1vdmVFdmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsImNhbmNlbEV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjYW5jZWwiLCJyZXR1cm5WYWx1ZSIsInN0b3BFdmVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsImNyZWF0ZUNhbGxiYWNrIiwiaW5pdGlhbEFyZ3MiLCJjb25jYXQiLCJnZXRVcmxQYXJhbWV0ZXIiLCJVUkxQQVJBTVMiLCJnZXRVcmxQcm90b2NvbCIsInVybCIsIm1hdGNoIiwibG9jYXRpb24iLCJwcm90b2NvbCIsInRvTG93ZXJDYXNlIiwiY3JlYXRlQWpheFJlcXVlc3QiLCJsb2NhbCIsInN1cHBvcnRBY3RpdmVYIiwiQWN0aXZlWE9iamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwibWFrZUFqYXhSZXF1ZXN0Iiwib25TdWNjZXNzIiwib25FcnJvciIsIndpdGhDcmVkZW50aWFscyIsImhlYWRlcnMiLCJyZXNwb25zZVR5cGUiLCJzdWNjZXNzIiwiZXJyb3IiLCJyZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImNvbnNvbGUiLCJsb2ciLCJvcGVuIiwiaGVhZGVyTmFtZSIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwibXNnIiwibWVzc2FnZSIsIlhEb21haW5SZXF1ZXN0IiwieGRyIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9uZXJyb3IiLCJlMiIsImpzb25wIiwic2NyaXB0IiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwianNvbnBDYWxsYmFjayIsImNhbGxiYWNrTmFtZSIsInJlcGxhY2UiLCJjYWxsYmFja1BhcmFtIiwicGFyYW0iLCJjYWxsYmFjayIsInRlc3QiLCJyZXNwb25zZSIsImFzeW5jIiwic2NyaXB0Q2hhcnNldCIsImNoYXJzZXQiLCJfIiwiaXNBYm9ydCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJjcmVhdGVGcm9tRFpJIiwicGFyc2VYbWwiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJ4bWxEb2MiLCJsb2FkWE1MIiwicGFyc2VKU09OIiwiSlNPTiIsInBhcnNlIiwiZXZhbCIsImltYWdlRm9ybWF0U3VwcG9ydGVkIiwiZXh0ZW5zaW9uIiwiRklMRUZPUk1BVFMiLCJibXAiLCJqcGVnIiwianBnIiwicG5nIiwidGlmIiwid2RwIiwidmVyIiwiYXBwVmVyc2lvbiIsInVhIiwiYXBwTmFtZSIsInBhcnNlRmxvYXQiLCJzdWJzdHJpbmciLCJsYXN0SW5kZXhPZiIsIlJlZ0V4cCIsImV4ZWMiLCIkMSIsInBhcnQiLCJzZXAiLCJwYXJ0cyIsInNlYXJjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsIm51bGxmdW5jdGlvbiIsImRlYnVnIiwiaW5mbyIsIndhcm4iLCJhc3NlcnQiLCJ3IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaUludGVydmFsSWQiLCJhQW5pbVF1ZXVlIiwicHJvY2Vzc2luZyIsImlSZXF1ZXN0SWQiLCJzZXRJbnRlcnZhbCIsInRpbWUiLCJ0ZW1wIiwic2hpZnQiLCJjbGVhckludGVydmFsIiwicmVxdWVzdElkIiwiaiIsInNwbGljZSIsInN1cHBvcnRzRnVsbFNjcmVlbiIsImlzRnVsbFNjcmVlbiIsImdldEZ1bGxTY3JlZW5FbGVtZW50IiwicmVxdWVzdEZ1bGxTY3JlZW4iLCJleGl0RnVsbFNjcmVlbiIsImNhbmNlbEZ1bGxTY3JlZW4iLCJmdWxsU2NyZWVuRXZlbnROYW1lIiwiZnVsbFNjcmVlbkVycm9yRXZlbnROYW1lIiwiZXhpdEZ1bGxzY3JlZW4iLCJmdWxsc2NyZWVuRWxlbWVudCIsInJlcXVlc3RGdWxsc2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsIm1zRnVsbHNjcmVlbkVsZW1lbnQiLCJtc1JlcXVlc3RGdWxsc2NyZWVuIiwid2Via2l0RXhpdEZ1bGxzY3JlZW4iLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuIiwid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsIndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudCIsIndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIiwibW96Q2FuY2VsRnVsbFNjcmVlbiIsIm1vekZ1bGxTY3JlZW5FbGVtZW50IiwibW96UmVxdWVzdEZ1bGxTY3JlZW4iLCJFdmVudFNvdXJjZSIsImV2ZW50cyIsImFkZE9uY2VIYW5kbGVyIiwidXNlckRhdGEiLCJ0aW1lcyIsInNlbGYiLCJjb3VudCIsIm9uY2VIYW5kbGVyIiwicmVtb3ZlSGFuZGxlciIsImFkZEhhbmRsZXIiLCJoYW5kbGVycyIsInJlbW92ZUFsbEhhbmRsZXJzIiwiZXZlbnRUeXBlIiwiZ2V0SGFuZGxlciIsInNvdXJjZSIsImV2ZW50U291cmNlIiwicmFpc2VFdmVudCIsImV2ZW50QXJncyIsInRyYWNrZXJQb2ludHMiLCJpbnRlcnZhbElkIiwibGFzdFRpbWUiLCJfZ2VuZXJhdGVHdWlkIiwiX2RvVHJhY2tpbmciLCJkaXZFbGVtZW50IiwiTU9VU0VUUkFDS0VSUyIsIlRISVMiLCJjbGVhclRyYWNrZWRQb2ludGVycyIsInRyYWNrZXIiLCJoYXNoIiwicG9pbnRlckxpc3RDb3VudCIsImFjdGl2ZVBvaW50ZXJzTGlzdHMiLCJjYXB0dXJlQ291bnQiLCJNb3VzZVRyYWNrZXIiLCJjYXB0dXJlRWxlbWVudCIsIm1vdXNlbW92ZWNhcHR1cmVkIiwibW91c2V1cGNhcHR1cmVkIiwidW5wcmVmaXhlZFBvaW50ZXJFdmVudHMiLCJwb2ludGVybW92ZWNhcHR1cmVkIiwicG9pbnRlcnVwY2FwdHVyZWQiLCJ0b3VjaG1vdmVjYXB0dXJlZCIsInRvdWNoZW5kY2FwdHVyZWQiLCJwb3AiLCJzdG9wVHJhY2tpbmciLCJ0cmFja2luZyIsInN1YnNjcmliZUV2ZW50cyIsImdldENhcHR1cmVFdmVudFBhcmFtcyIsInBvaW50ZXJUeXBlIiwidXBOYW1lIiwidXBIYW5kbGVyIiwibW92ZU5hbWUiLCJtb3ZlSGFuZGxlciIsImNhcHR1cmVQb2ludGVyIiwicG9pbnRlckNvdW50IiwiZXZlbnRQYXJhbXMiLCJwb2ludHNMaXN0IiwiZ2V0QWN0aXZlUG9pbnRlcnNMaXN0QnlUeXBlIiwic2V0Q2FwdHVyZSIsImhhdmVQb2ludGVyRXZlbnRzIiwiaXNJbklmcmFtZSIsImNhbkFjY2Vzc0V2ZW50cyIsInJlbGVhc2VQb2ludGVyIiwicmVsZWFzZUNhcHR1cmUiLCJnZXRQb2ludGVyVHlwZSIsInBvaW50ZXJUeXBlU3RyIiwiZ2V0TW91c2VBYnNvbHV0ZSIsImdldE1vdXNlUmVsYXRpdmUiLCJnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSIsIm1pbnVzIiwiZ2V0Q2VudGVyUG9pbnQiLCJwb2ludDEiLCJwb2ludDIiLCJvbk1vdXNlV2hlZWwiLCJzaW11bGF0ZWRFdmVudCIsInNyY0VsZW1lbnQiLCJzaGlmdEtleSIsImRlbHRhTW9kZSIsImRlbHRhWCIsImRlbHRhWiIsIndoZWVsRXZlbnROYW1lIiwiZGVsdGFZIiwid2hlZWxEZWx0YSIsImRldGFpbCIsImhhbmRsZVdoZWVsRXZlbnQiLCJvcmlnaW5hbEV2ZW50IiwibkRlbHRhIiwic2Nyb2xsSGFuZGxlciIsImlzVG91Y2hFdmVudCIsInByZXZlbnREZWZhdWx0QWN0aW9uIiwiaXNQYXJlbnRDaGlsZCIsInBhcmVudCIsImNoaWxkIiwiaGFuZGxlTW91c2VFbnRlciIsInVwZGF0ZVBvaW50ZXJzRW50ZXIiLCJpZCIsIm1vdXNlUG9pbnRlcklkIiwiaXNQcmltYXJ5IiwiY3VycmVudFBvcyIsImN1cnJlbnRUaW1lIiwiaGFuZGxlTW91c2VFeGl0IiwidXBkYXRlUG9pbnRlcnNFeGl0IiwiZ2V0U3RhbmRhcmRpemVkQnV0dG9uIiwiYnV0dG9uIiwiaGFuZGxlTW91c2VVcCIsInVwZGF0ZVBvaW50ZXJzVXAiLCJoYW5kbGVNb3VzZU1vdmUiLCJ1cGRhdGVQb2ludGVyc01vdmUiLCJhYm9ydENvbnRhY3RzIiwiZ1BvaW50Q291bnQiLCJnZXRMZW5ndGgiLCJhYm9ydEdQb2ludHMiLCJjb250YWN0cyIsImdldEJ5SW5kZXgiLCJoYW5kbGVUb3VjaEVuZCIsInBhcmVudEdQb2ludHMiLCJ0b3VjaENvdW50IiwiY2hhbmdlZFRvdWNoZXMiLCJnUG9pbnRzIiwiaWRlbnRpZmllciIsImlzVHJhY2tpbmciLCJoYW5kbGVUb3VjaE1vdmUiLCJvblBvaW50ZXJPdmVyIiwiY3VycmVudFRhcmdldCIsInJlbGF0ZWRUYXJnZXQiLCJwb2ludGVySWQiLCJvblBvaW50ZXJPdXQiLCJvblBvaW50ZXJEb3duIiwiZ1BvaW50IiwidXBkYXRlUG9pbnRlcnNEb3duIiwiY2xpY2tIYW5kbGVyIiwiZGJsQ2xpY2tIYW5kbGVyIiwicHJlc3NIYW5kbGVyIiwiZHJhZ0hhbmRsZXIiLCJkcmFnRW5kSGFuZGxlciIsInBpbmNoSGFuZGxlciIsIm9uUG9pbnRlclVwIiwiaGFuZGxlUG9pbnRlclVwIiwib25Qb2ludGVyTW92ZSIsImhhbmRsZVBvaW50ZXJNb3ZlIiwib25Qb2ludGVyQ2FuY2VsIiwidXBkYXRlUG9pbnRlcnNDYW5jZWwiLCJzdGFydFRyYWNraW5nUG9pbnRlciIsInNwZWVkIiwiZGlyZWN0aW9uIiwiY29udGFjdFBvcyIsImNvbnRhY3RUaW1lIiwibGFzdFBvcyIsImFkZCIsInN0b3BUcmFja2luZ1BvaW50ZXIiLCJsaXN0TGVuZ3RoIiwicHJpbWFyeVBvaW50IiwiZ2V0QnlJZCIsInJlbW92ZUJ5SWQiLCJnZXRQcmltYXJ5IiwiY3VyR1BvaW50IiwidXBkYXRlR1BvaW50IiwiaW5zaWRlRWxlbWVudCIsImNhcHR1cmVkIiwiaW5zaWRlRWxlbWVudFByZXNzZWQiLCJlbnRlckhhbmRsZXIiLCJidXR0b25zIiwicG9pbnRlcnMiLCJnZXRBY3RpdmVQb2ludGVyQ291bnQiLCJidXR0b25Eb3duQW55IiwiZXhpdEhhbmRsZXIiLCJidXR0b25DaGFuZ2VkIiwib3RoZXJQb2ludHNMaXN0cyIsImdldEFjdGl2ZVBvaW50ZXJzTGlzdHNFeGNlcHRUeXBlIiwibm9uUHJpbWFyeVByZXNzSGFuZGxlciIsImFkZENvbnRhY3QiLCJnZXN0dXJlUG9pbnRWZWxvY2l0eVRyYWNrZXIiLCJhZGRQb2ludCIsInBpbmNoR1BvaW50cyIsImFzQXJyYXkiLCJsYXN0UGluY2hEaXN0IiwiY3VycmVudFBpbmNoRGlzdCIsImRpc3RhbmNlVG8iLCJsYXN0UGluY2hDZW50ZXIiLCJjdXJyZW50UGluY2hDZW50ZXIiLCJyZWxlYXNlUG9pbnQiLCJyZWxlYXNlVGltZSIsInF1aWNrIiwid2FzQ2FwdHVyZWQiLCJub25QcmltYXJ5UmVsZWFzZUhhbmRsZXIiLCJyZW1vdmVDb250YWN0IiwicmVtb3ZlUG9pbnQiLCJyZWxlYXNlSGFuZGxlciIsImluc2lkZUVsZW1lbnRSZWxlYXNlZCIsImVxdWFscyIsImNsaWNrcyIsImxhc3RDbGlja1BvcyIsImRibENsaWNrVGltZU91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJnUG9pbnRBcnJheSIsImRlbHRhIiwic3RvcEhhbmRsZXIiLCJzdG9wVGltZU91dCIsIm9yaWdpbmFsTW92ZUV2ZW50IiwiaGFuZGxlUG9pbnRlclN0b3AiLCJzdG9wRGVsYXkiLCJnZXN0dXJlUG9pbnRzIiwibGFzdENlbnRlciIsImNlbnRlciIsImxhc3REaXN0YW5jZSIsImRpc3RhbmNlIiwicmFuZG9tIiwia2V5RG93bkhhbmRsZXIiLCJrZXlVcEhhbmRsZXIiLCJrZXlIYW5kbGVyIiwiZm9jdXNIYW5kbGVyIiwiYmx1ckhhbmRsZXIiLCJfdGhpcyIsImNsaWNrIiwib25DbGljayIsImRibGNsaWNrIiwib25EYmxDbGljayIsImtleWRvd24iLCJrZXlDb2RlIiwiY2hhckNvZGUiLCJjdHJsIiwiY3RybEtleSIsImFsdCIsImFsdEtleSIsIm1ldGEiLCJtZXRhS2V5Iiwib25LZXlEb3duIiwia2V5dXAiLCJvbktleVVwIiwia2V5cHJlc3MiLCJvbktleVByZXNzIiwiZm9jdXMiLCJvbkZvY3VzIiwiYmx1ciIsIm9uQmx1ciIsIndoZWVsIiwib25XaGVlbCIsIm1vdXNld2hlZWwiLCJET01Nb3VzZVNjcm9sbCIsIk1vek1vdXNlUGl4ZWxTY3JvbGwiLCJtb3VzZWVudGVyIiwib25Nb3VzZUVudGVyIiwibW91c2VsZWF2ZSIsIm9uTW91c2VMZWF2ZSIsIm1vdXNlb3ZlciIsIm9uTW91c2VPdmVyIiwibW91c2VvdXQiLCJvbk1vdXNlT3V0IiwibW91c2Vkb3duIiwib25Nb3VzZURvd24iLCJtb3VzZXVwIiwib25Nb3VzZVVwIiwib25Nb3VzZVVwQ2FwdHVyZWQiLCJtb3VzZW1vdmUiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VNb3ZlQ2FwdHVyZWQiLCJ0b3VjaHN0YXJ0IiwidG91Y2hlcyIsIm9uVG91Y2hTdGFydCIsInRvdWNoZW5kIiwib25Ub3VjaEVuZCIsIm9uVG91Y2hFbmRDYXB0dXJlZCIsInRvdWNobW92ZSIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaE1vdmVDYXB0dXJlZCIsInRvdWNoY2FuY2VsIiwib25Ub3VjaENhbmNlbCIsImdlc3R1cmVzdGFydCIsIm9uR2VzdHVyZVN0YXJ0IiwiZ2VzdHVyZWNoYW5nZSIsIm9uR2VzdHVyZUNoYW5nZSIsInBvaW50ZXJvdmVyIiwiTVNQb2ludGVyT3ZlciIsInBvaW50ZXJvdXQiLCJNU1BvaW50ZXJPdXQiLCJwb2ludGVyZG93biIsIk1TUG9pbnRlckRvd24iLCJwb2ludGVydXAiLCJNU1BvaW50ZXJVcCIsInBvaW50ZXJtb3ZlIiwiTVNQb2ludGVyTW92ZSIsInBvaW50ZXJjYW5jZWwiLCJNU1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJVcENhcHR1cmVkIiwib25Qb2ludGVyTW92ZUNhcHR1cmVkIiwic3RhcnREaXNhYmxlZCIsInNldFRyYWNraW5nIiwiZGVzdHJveSIsInRyYWNrIiwic3RhcnRUcmFja2luZyIsImxpc3RBcnJheSIsImxpc3QiLCJsZW4iLCJHZXN0dXJlUG9pbnRMaXN0IiwicmVzZXRBbGxNb3VzZVRyYWNrZXJzIiwidHJhY2tQb2ludCIsImVsYXBzZWRUaW1lIiwiYXRhbjIiLCJndWlkIiwib25tb3VzZXdoZWVsIiwic3VwcG9ydHNNb3VzZUNhcHR1cmUiLCJQb2ludGVyRXZlbnQiLCJwb2ludGVyRW5hYmxlZCIsIm1heFRvdWNoUG9pbnRzIiwiaGF2ZU1vdXNlRW50ZXIiLCJNU1BvaW50ZXJFdmVudCIsIm1zUG9pbnRlckVuYWJsZWQiLCJtc01heFRvdWNoUG9pbnRzIiwiX2dQb2ludHMiLCJncCIsImluZGV4IiwiQ29udHJvbEFuY2hvciIsIk5PTkUiLCJUT1BfTEVGVCIsIlRPUF9SSUdIVCIsIkJPVFRPTV9SSUdIVCIsIkJPVFRPTV9MRUZUIiwiQUJTT0xVVEUiLCJDb250cm9sIiwiY29udGFpbmVyIiwiYW5jaG9yIiwiYXR0YWNoVG9WaWV3ZXIiLCJhdXRvRmFkZSIsIndyYXBwZXIiLCJpc1Zpc2libGUiLCJzZXRWaXNpYmxlIiwidmlzaWJsZSIsInNldE9wYWNpdHkiLCJnZXRDb250cm9sSW5kZXgiLCJkb2NrIiwiY29udHJvbHMiLCJDb250cm9sRG9jayIsImxheW91dCIsImxheW91dHMiLCJmbG9vciIsIm9uc3VibWl0IiwicmlnaHQiLCJib3R0b20iLCJ0b3BsZWZ0IiwidG9wcmlnaHQiLCJib3R0b21yaWdodCIsImJvdHRvbWxlZnQiLCJhZGRDb250cm9sIiwiY29udHJvbE9wdGlvbnMiLCJkaXYiLCJwYWRkaW5nUmlnaHQiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsInBhZGRpbmdMZWZ0IiwicmVtb3ZlQ29udHJvbCIsImNsZWFyQ29udHJvbHMiLCJhcmVDb250cm9sc0VuYWJsZWQiLCJzZXRDb250cm9sc0VuYWJsZWQiLCJlbmFibGVkIiwiUGxhY2VtZW50IiwiQ0VOVEVSIiwiVE9QIiwiUklHSFQiLCJCT1RUT00iLCJMRUZUIiwicHJvcGVydGllcyIsIjAiLCJpc0xlZnQiLCJpc0hvcml6b250YWxseUNlbnRlcmVkIiwiaXNSaWdodCIsImlzVG9wIiwiaXNWZXJ0aWNhbGx5Q2VudGVyZWQiLCJpc0JvdHRvbSIsIjEiLCIyIiwiMyIsIjQiLCI1IiwiNiIsIjciLCI4IiwibmV4dEhhc2giLCJfZ2V0U2FmZUVsZW1TaXplIiwib0VsZW1lbnQiLCJnZXRPdmVybGF5T2JqZWN0Iiwidmlld2VyIiwib3ZlcmxheSIsIk92ZXJsYXkiLCJocmVmIiwicHgiLCJyZWN0Iiwidmlld3BvcnQiLCJpbWFnZVRvVmlld3BvcnRSZWN0YW5nbGUiLCJSZWN0IiwicHkiLCJwbGFjZW1lbnQiLCJvbkRyYXciLCJjaGVja1Jlc2l6ZSIsInJvdGF0aW9uTW9kZSIsImdldE92ZXJsYXlJbmRleCIsIm92ZXJsYXlzIiwic2NoZWR1bGVVcGRhdGUiLCJ1cGRhdGVGdW5jIiwic2NoZWR1bGVDb250cm9sc0ZhZGUiLCJkZWx0YVRpbWUiLCJjb250cm9sc1Nob3VsZEZhZGUiLCJjb250cm9sc0ZhZGVCZWdpblRpbWUiLCJtaW4iLCJ1cGRhdGVDb250cm9sc0ZhZGUiLCJiZWdpbkNvbnRyb2xzQXV0b0hpZGUiLCJhYm9ydENvbnRyb2xzQXV0b0hpZGUiLCJvbkNhbnZhc0tleURvd24iLCJ6b29tQnkiLCJwYW5CeSIsImRlbHRhUG9pbnRzRnJvbVBpeGVscyIsImFwcGx5Q29uc3RyYWludHMiLCJvbkNhbnZhc0tleVByZXNzIiwiZ29Ib21lIiwib25DYW52YXNDbGljayIsImFjdGl2ZUVsZW1lbnQiLCJjYW52YXNDbGlja0V2ZW50QXJncyIsImdlc3R1cmVTZXR0aW5nc0J5RGV2aWNlVHlwZSIsInBvaW50RnJvbVBpeGVsIiwib25DYW52YXNEYmxDbGljayIsIm9uQ2FudmFzRHJhZyIsImdlc3R1cmVTZXR0aW5ncyIsImNhbnZhc0RyYWdFdmVudEFyZ3MiLCJuZWdhdGUiLCJjZW50ZXJTcHJpbmdYIiwiY2VudGVyU3ByaW5nWSIsImJvdW5kcyIsImdldEJvdW5kcyIsImNvbnN0cmFpbmVkQm91bmRzIiwiZ2V0Q29uc3RyYWluZWRCb3VuZHMiLCJvbkNhbnZhc0RyYWdFbmQiLCJhbXBsaXR1ZGVYIiwiY29zIiwiYW1wbGl0dWRlWSIsInNpbiIsInBpeGVsRnJvbVBvaW50IiwiZ2V0Q2VudGVyIiwicGFuVG8iLCJvbkNhbnZhc0VudGVyIiwib25DYW52YXNFeGl0Iiwib25DYW52YXNQcmVzcyIsIm9uQ2FudmFzUmVsZWFzZSIsIm9uQ2FudmFzTm9uUHJpbWFyeVByZXNzIiwib25DYW52YXNOb25QcmltYXJ5UmVsZWFzZSIsIm9uQ2FudmFzUGluY2giLCJjZW50ZXJQdCIsInBhbkJ5UHQiLCJhbmdsZTEiLCJhbmdsZTIiLCJzZXRSb3RhdGlvbiIsImdldFJvdGF0aW9uIiwiUEkiLCJvbkNhbnZhc1Njcm9sbCIsImZhY3RvciIsInRoaXNTY3JvbGxUaW1lIiwiX2xhc3RTY3JvbGxUaW1lIiwicG93Iiwib25Db250YWluZXJFbnRlciIsIm1vdXNlSW5zaWRlIiwib25Db250YWluZXJFeGl0IiwiYW5pbWF0aW5nIiwidXBkYXRlTXVsdGkiLCJfb3BlbmluZyIsImNvbnRhaW5lclNpemUiLCJwcmV2Q29udGFpbmVyU2l6ZSIsInJlc2l6ZVJhdGlvIiwiem9vbSIsImdldFpvb20iLCJyZXNpemUiLCJ6b29tVG8iLCJvbGRCb3VuZHMiLCJmaXRCb3VuZHNXaXRoQ29uc3RyYWludHMiLCJmb3JjZVJlZHJhdyIsInZpZXdwb3J0Q2hhbmdlIiwidXBkYXRlIiwiYW5pbWF0ZWQiLCJ3b3JsZCIsInJlZmVyZW5jZVN0cmlwIiwibmVlZHNEcmF3IiwiaW1hZ2VMb2FkZXIiLCJjbGVhciIsImRyYXdlciIsImRyYXciLCJkcmF3V29ybGQiLCJfZHJhd092ZXJsYXlzIiwidXBkYXRlT25jZSIsImlzT3BlbiIsIl91cGRhdGVSZXF1ZXN0SWQiLCJyZXNvbHZlVXJsIiwicHJlZml4IiwiYmVnaW5ab29taW5nSW4iLCJsYXN0Wm9vbVRpbWUiLCJ6b29tRmFjdG9yIiwiem9vbWluZyIsInNjaGVkdWxlWm9vbSIsImJlZ2luWm9vbWluZ091dCIsImVuZFpvb21pbmciLCJkb1pvb20iLCJhZGp1c3RlZEZhY3RvciIsImRvU2luZ2xlWm9vbUluIiwiZG9TaW5nbGVab29tT3V0IiwibGlnaHRVcCIsImVtdWxhdGVFbnRlciIsImVtdWxhdGVFeGl0Iiwib25Ib21lIiwib25GdWxsU2NyZWVuIiwiaXNGdWxsUGFnZSIsInNldEZ1bGxQYWdlIiwic2V0RnVsbFNjcmVlbiIsImZ1bGxQYWdlQnV0dG9uIiwib25Sb3RhdGVMZWZ0IiwiY3VyclJvdGF0aW9uIiwib25Sb3RhdGVSaWdodCIsIm9uUHJldmlvdXMiLCJfc2VxdWVuY2VJbmRleCIsImdvVG9QYWdlIiwib25OZXh0IiwiY29uZmlnIiwib3ZlcmxheXNDb250YWluZXIiLCJwcmV2aW91c0JvZHkiLCJjdXN0b21Db250cm9scyIsImNvbGxlY3Rpb25WaWV3cG9ydCIsImNvbGxlY3Rpb25EcmF3ZXIiLCJwcm9maWxlciIsImZzQm91bmRzRGVsdGEiLCJncm91cCIsImZ1bGxQYWdlIiwib25mdWxsc2NyZWVuY2hhbmdlIiwiX2ZpcnN0T3BlbiIsIl9sb2FkUXVldWUiLCJjdXJyZW50T3ZlcmxheXMiLCJnZXRTdHJpbmciLCJfc2hvd01lc3NhZ2UiLCJvdmVyZmxvdyIsInRhYkluZGV4IiwiYm9keVdpZHRoIiwiYm9keUhlaWdodCIsImJvZHlPdmVyZmxvdyIsImRvY092ZXJmbG93IiwiaW5uZXJUcmFja2VyIiwib3V0ZXJUcmFja2VyIiwidG9vbGJhciIsImJpbmRTdGFuZGFyZENvbnRyb2xzIiwiV29ybGQiLCJnZXRJdGVtQXQiLCJnZXRJdGVtQ291bnQiLCJfc2V0Q29udGVudEJvdW5kcyIsImdldEhvbWVCb3VuZHMiLCJnZXRDb250ZW50RmFjdG9yIiwiVmlld3BvcnQiLCJtYXJnaW5zIiwidmlld3BvcnRNYXJnaW5zIiwiSW1hZ2VMb2FkZXIiLCJqb2JMaW1pdCIsInRpbGVDYWNoZSIsIlRpbGVDYWNoZSIsIkRyYXdlciIsImNhblJvdGF0ZSIsInJvdGF0ZUxlZnQiLCJyb3RhdGVSaWdodCIsIk5hdmlnYXRvciIsInNpemVSYXRpbyIsIm1haW50YWluU2l6ZVJhdGlvIiwic2VxdWVuY2VNb2RlIiwiYmluZFNlcXVlbmNlQ29udHJvbHMiLCJvcGVuRHppIiwiZHppIiwib3BlblRpbGVTb3VyY2UiLCJ0aWxlU291cmNlIiwiY2xvc2UiLCJpc05hTiIsImFkZFJlZmVyZW5jZVN0cmlwIiwiX3VwZGF0ZVNlcXVlbmNlQnV0dG9ucyIsImZhaWxFdmVudCIsImV4cGVjdGVkIiwic3VjY2Vzc2VzIiwiZmFpbHVyZXMiLCJjaGVja0NvbXBsZXRpb24iLCJkb09uZSIsImNvbGxlY3Rpb25JbW1lZGlhdGVseSIsIm9yaWdpbmFsU3VjY2VzcyIsImFkZE92ZXJsYXkiLCJvcmlnaW5hbEVycm9yIiwiYWRkVGlsZWRJbWFnZSIsImNsZWFyT3ZlcmxheXMiLCJpbm5lckhUTUwiLCJyZW1vdmVBbGwiLCJpc01vdXNlTmF2RW5hYmxlZCIsInNldE1vdXNlTmF2RW5hYmxlZCIsImlzVmlzaWJpbGUiLCJzZXREZWJ1Z01vZGUiLCJub2RlcyIsImJvZHlTdHlsZSIsImRvY1N0eWxlIiwiZnVsbFBhZ2VFdmVudEFyZ3MiLCJlbGVtZW50U2l6ZSIsInBhZ2VTY3JvbGwiLCJlbGVtZW50TWFyZ2luIiwiZWxlbWVudFBhZGRpbmciLCJib2R5TWFyZ2luIiwiZG9jTWFyZ2luIiwiYm9keVBhZGRpbmciLCJkb2NQYWRkaW5nIiwiZG9jV2lkdGgiLCJkb2NIZWlnaHQiLCJwcmV2RWxlbWVudFBhcmVudCIsInByZXZOZXh0U2libGluZyIsIm5leHRTaWJsaW5nIiwicHJldkVsZW1lbnRXaWR0aCIsInByZXZFbGVtZW50SGVpZ2h0IiwiY2hpbGROb2RlcyIsInJlc3RvcmVTY3JvbGxDb3VudGVyIiwicmVzdG9yZVNjcm9sbCIsImZ1bGxTY3JlZW4iLCJmdWxsU2NyZWVFdmVudEFyZ3MiLCJmdWxsUGFnZVN0eWxlV2lkdGgiLCJmdWxsUGFnZVN0eWxlSGVpZ2h0Iiwib25GdWxsU2NyZWVuQ2hhbmdlIiwidmlzaWJpbGl0eSIsInJlcGxhY2VJdGVtIiwiX2hpZGVNZXNzYWdlIiwibXlRdWV1ZUl0ZW0iLCJyYWlzZUFkZEl0ZW1GYWlsZWQiLCJyZWZyZXNoV29ybGQiLCJ0aGVJdGVtIiwiYXJyYW5nZSIsImltbWVkaWF0ZWx5Iiwicm93cyIsImNvbHVtbnMiLCJ0aWxlU2l6ZSIsInRpbGVNYXJnaW4iLCJzZXRBdXRvUmVmaWd1cmVTaXplcyIsInByb2Nlc3NSZWFkeUl0ZW1zIiwicXVldWVJdGVtIiwidGlsZWRJbWFnZSIsIm9wdGlvbnNDbG9uZSIsIm5ld0luZGV4IiwiZ2V0SW5kZXhPZkl0ZW0iLCJyZW1vdmVJdGVtIiwiVGlsZWRJbWFnZSIsImZpdEJvdW5kcyIsImZpdEJvdW5kc1BsYWNlbWVudCIsImNsaXAiLCJhZGRJdGVtIiwib3JpZ2luYWxUaWxlZEltYWdlIiwiaXRlbSIsImltZ09wdGlvbnMiLCJzdWNjZXNzQ2FsbGJhY2siLCJmYWlsQ2FsbGJhY2siLCJ0aWxlU291cmNlSiIsIndhaXRVbnRpbFJlYWR5Iiwib3JpZ2luYWxUaWxlU291cmNlIiwicmVhZHkiLCJUaWxlU291cmNlIiwiZ2V0VGlsZVVybCIsImN1c3RvbVRpbGVTb3VyY2UiLCIkVGlsZVNvdXJjZSIsImRldGVybWluZVR5cGUiLCJjb25maWd1cmUiLCJnZXRUaWxlU291cmNlSW1wbGVtZW50YXRpb24iLCJhZGRTaW1wbGVJbWFnZSIsIm9wdHMiLCJhZGRMYXllciIsImdldExheWVyQXRMZXZlbCIsImxldmVsIiwiZ2V0TGV2ZWxPZkxheWVyIiwiZ2V0TGF5ZXJzQ291bnQiLCJzZXRMYXllckxldmVsIiwic2V0SXRlbUluZGV4IiwicmVtb3ZlTGF5ZXIiLCJvbkZvY3VzSGFuZGxlciIsIm9uQmx1ckhhbmRsZXIiLCJvbk5leHRIYW5kbGVyIiwib25QcmV2aW91c0hhbmRsZXIiLCJ1c2VHcm91cCIsInByZXZpb3VzQnV0dG9uIiwibmV4dEJ1dHRvbiIsIkJ1dHRvbiIsInRvb2x0aXAiLCJzcmNSZXN0Iiwic3JjR3JvdXAiLCJzcmNIb3ZlciIsInNyY0Rvd24iLCJvblJlbGVhc2UiLCJkaXNhYmxlIiwicGFnaW5nIiwiQnV0dG9uR3JvdXAiLCJwYWdpbmdDb250cm9sIiwiYmVnaW5ab29taW5nSW5IYW5kbGVyIiwiZW5kWm9vbWluZ0hhbmRsZXIiLCJkb1NpbmdsZVpvb21JbkhhbmRsZXIiLCJiZWdpblpvb21pbmdPdXRIYW5kbGVyIiwiZG9TaW5nbGVab29tT3V0SGFuZGxlciIsIm9uSG9tZUhhbmRsZXIiLCJvbkZ1bGxTY3JlZW5IYW5kbGVyIiwib25Sb3RhdGVMZWZ0SGFuZGxlciIsIm9uUm90YXRlUmlnaHRIYW5kbGVyIiwiem9vbUluQnV0dG9uIiwiem9vbU91dEJ1dHRvbiIsImhvbWVCdXR0b24iLCJyb3RhdGVMZWZ0QnV0dG9uIiwicm90YXRlUmlnaHRCdXR0b24iLCJvblByZXNzIiwib25FbnRlciIsIm9uRXhpdCIsIm5hdkNvbnRyb2wiLCJjdXJyZW50UGFnZSIsInBhZ2UiLCJzZXRGb2N1cyIsImRyYXdIVE1MIiwidXBkYXRlT3ZlcmxheSIsInJlbW92ZU92ZXJsYXkiLCJnZXRPdmVybGF5QnlJZCIsImVuYWJsZSIsImNyZWF0ZVRleHROb2RlIiwibWVzc2FnZURpdiIsIl9jYW5jZWxQZW5kaW5nSW1hZ2VzIiwicmVtb3ZlUmVmZXJlbmNlU3RyaXAiLCJSZWZlcmVuY2VTdHJpcCIsIl9zZXRUcmFuc2Zvcm1Sb3RhdGUiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJtb3pUcmFuc2Zvcm0iLCJtc1RyYW5zZm9ybSIsIm9UcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJ2aWV3ZXJTaXplIiwibmF2aWdhdG9yU2l6ZSIsImJvcmRlcldpZHRoIiwicm90YXRlIiwiZGlzcGxheVJlZ2lvbkNvbnRhaW5lciIsImRpc3BsYXlSZWdpb24iLCJmdWRnZSIsInRvdGFsQm9yZGVyV2lkdGhzIiwiZm9udFNpemUiLCJjc3NGbG9hdCIsInN0eWxlRmxvYXQiLCJ6SW5kZXgiLCJjdXJzb3IiLCJfcmVzaXplV2l0aFZpZXdlciIsIm9sZFZpZXdlclNpemUiLCJlbGVtZW50QXJlYSIsIm9sZENvbnRhaW5lclNpemUiLCJwcmV2aW91c0luZGV4IiwidGhlaXJJdGVtIiwibXlJdGVtIiwiX2dldE1hdGNoaW5nSXRlbSIsInVwZGF0ZVNpemUiLCJuZXdXaWR0aCIsIm5ld0hlaWdodCIsInNxcnQiLCJnZXRCb3VuZHNOb1JvdGF0ZSIsInBpeGVsRnJvbVBvaW50Tm9Sb3RhdGUiLCJnZXRUb3BMZWZ0IiwiZ2V0Qm90dG9tUmlnaHQiLCJvcmlnaW5hbCIsIm1hdGNoQm91bmRzIiwiX21hdGNoQm91bmRzIiwiX29yaWdpbmFsRm9yTmF2aWdhdG9yIiwiX21hdGNoT3BhY2l0eSIsIl9tYXRjaENvbXBvc2l0ZU9wZXJhdGlvbiIsInNldFBvc2l0aW9uIiwic2V0V2lkdGgiLCJzZXRDbGlwIiwiZ2V0Q2xpcCIsInNldENvbXBvc2l0ZU9wZXJhdGlvbiIsIkkxOE4iLCJFcnJvcnMiLCJEemMiLCJEemkiLCJYbWwiLCJJbWFnZUZvcm1hdCIsIlNlY3VyaXR5IiwiU3RhdHVzIiwiT3BlbkZhaWxlZCIsIlRvb2x0aXBzIiwiRnVsbFBhZ2UiLCJIb21lIiwiWm9vbUluIiwiWm9vbU91dCIsIk5leHRQYWdlIiwiUHJldmlvdXNQYWdlIiwiUm90YXRlTGVmdCIsIlJvdGF0ZVJpZ2h0IiwicHJvcHMiLCJjYXB0dXJlIiwic2V0U3RyaW5nIiwiZGl2aWRlIiwic3F1YXJlZERpc3RhbmNlVG8iLCJmdW5jIiwiYW5nbGUiLCJ0aWxlT3ZlcmxhcCIsIm1pbkxldmVsIiwibWF4TGV2ZWwiLCJhc3BlY3RSYXRpbyIsImRpbWVuc2lvbnMiLCJfdGlsZVdpZHRoIiwiX3RpbGVIZWlnaHQiLCJnZXRJbWFnZUluZm8iLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiY2VpbCIsImdldFRpbGVTaXplIiwiZ2V0VGlsZVdpZHRoIiwiZ2V0VGlsZUhlaWdodCIsImdldExldmVsU2NhbGUiLCJsZXZlbFNjYWxlQ2FjaGUiLCJfbGV2ZWwiLCJnZXROdW1UaWxlcyIsInNjYWxlIiwiZ2V0UGl4ZWxSYXRpbyIsImltYWdlU2l6ZVNjYWxlZCIsInJ4IiwicnkiLCJnZXRDbG9zZXN0TGV2ZWwiLCJ0aWxlcyIsImdldFRpbGVBdFBvaW50IiwidmFsaWRQb2ludCIsIndpZHRoU2NhbGVkIiwicGl4ZWxYIiwicGl4ZWxZIiwiZ2V0VGlsZUJvdW5kcyIsImRpbWVuc2lvbnNTY2FsZWQiLCJzeCIsInN5IiwicmVhZHlTb3VyY2UiLCJ1cmxQYXJ0cyIsImZpbGVuYW1lIiwibGFzdERvdCIsImRhdGEiLCJ4aHIiLCJyZXNwb25zZVhNTCIsInByb2Nlc3NSZXNwb25zZSIsImV4YyIsInN1cHBvcnRzIiwiZ2V0VGlsZUFqYXhIZWFkZXJzIiwidGlsZUV4aXN0cyIsIm51bVRpbGVzIiwiY29uZmlndXJlRnJvbU9iamVjdCIsImNvbmZpZ3VyYXRpb24iLCJyZWN0RGF0YSIsImltYWdlRGF0YSIsIkltYWdlIiwidGlsZXNVcmwiLCJVcmwiLCJmaWxlRm9ybWF0IiwiRm9ybWF0Iiwic2l6ZURhdGEiLCJTaXplIiwiZGlzcFJlY3REYXRhIiwiRGlzcGxheVJlY3QiLCJXaWR0aCIsIkhlaWdodCIsIlRpbGVTaXplIiwiT3ZlcmxhcCIsImRpc3BsYXlSZWN0cyIsIlgiLCJZIiwiTWluTGV2ZWwiLCJNYXhMZXZlbCIsIkR6aVRpbGVTb3VyY2UiLCJfbGV2ZWxSZWN0cyIsIm5zIiwieG1sbnMiLCJsb2NhbE5hbWUiLCJuYW1lc3BhY2VVUkkiLCJkaXNwUmVjdE5vZGVzIiwiZGlzcFJlY3ROb2RlIiwicmVjdE5vZGUiLCJzaXplTm9kZSIsInJvb3QiLCJyb290TmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lTlMiLCJnZXRBdHRyaWJ1dGUiLCJtZXNzYWdlTm9kZSIsIm5vZGVWYWx1ZSIsImNvbmZpZ3VyZUZyb21YTUwiLCJxdWVyeVBhcmFtcyIsInhNaW4iLCJ5TWluIiwieE1heCIsInlNYXgiLCJyZWN0cyIsIklJSUZUaWxlU291cmNlIiwidGlsZVNpemVQZXJTY2FsZUZhY3RvciIsInRpbGVfd2lkdGgiLCJ0aWxlX2hlaWdodCIsInNjYWxlX2ZhY3RvcnMiLCJzY2FsZUZhY3RvcnMiLCJ0Iiwic2YiLCJzY2FsZUZhY3RvciIsInByb2ZpbGUiLCJzaG9ydERpbSIsInRpbGVPcHRpb25zIiwic21hbGxlclRpbGVzIiwic2l6ZXMiLCJlbXVsYXRlTGVnYWN5SW1hZ2VQeXJhbWlkIiwibGV2ZWxzIiwic29ydCIsImEiLCJiIiwiY29uc3RydWN0TGV2ZWxzIiwiTnVtYmVyIiwicGFyc2VYTUwxMCIsIm5vZGUiLCJ0cmltIiwibm9kZU5hbWUiLCJjb25maWd1cmVGcm9tWG1sMTAiLCJsZXZlbFNjYWxlIiwiTmFOIiwiaWlpZlRpbGVTaXplV2lkdGgiLCJpaWlmVGlsZVNpemVIZWlnaHQiLCJpaWlmUmVnaW9uIiwiaWlpZlRpbGVYIiwiaWlpZlRpbGVZIiwiaWlpZlRpbGVXIiwiaWlpZlRpbGVIIiwiaWlpZlNpemUiLCJpaWlmUXVhbGl0eSIsImxldmVsV2lkdGgiLCJsZXZlbEhlaWdodCIsIk9zbVRpbGVTb3VyY2UiLCJUbXNUaWxlU291cmNlIiwiYnVmZmVyZWRXaWR0aCIsImJ1ZmZlcmVkSGVpZ2h0IiwieVRpbGVzIiwiWm9vbWlmeVRpbGVTb3VyY2UiLCJjdXJyZW50SW1hZ2VTaXplIiwiaW1hZ2VTaXplcyIsImdyaWRTaXplIiwiX2dldEdyaWRTaXplIiwicmV2ZXJzZSIsIl9jYWxjdWxhdGVBYnNvbHV0ZVRpbGVOdW1iZXIiLCJudW0iLCJ6IiwiTGVnYWN5VGlsZVNvdXJjZSIsImZpbGVzIiwiZmlsZSIsImZpbHRlcmVkIiwiZmlsdGVyRmlsZXMiLCJkYXRhVXJsIiwiY29uZiIsIkltYWdlVGlsZVNvdXJjZSIsImJ1aWxkUHlyYW1pZCIsImltYWdlIiwiX2ltYWdlIiwiY3Jvc3NPcmlnaW4iLCJ1c2VDcmVkZW50aWFscyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJfYnVpbGRMZXZlbHMiLCJnZXRDb250ZXh0MkQiLCJjb250ZXh0MkQiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwiYmlnQ2FudmFzIiwiYmlnQ29udGV4dCIsImRyYXdJbWFnZSIsInNtYWxsQ2FudmFzIiwic21hbGxDb250ZXh0IiwiVGlsZVNvdXJjZUNvbGxlY3Rpb24iLCJzY2hlZHVsZUZhZGUiLCJzaG91bGRGYWRlIiwiZmFkZUJlZ2luVGltZSIsImZhZGVMZW5ndGgiLCJpbWdHcm91cCIsInVwZGF0ZUZhZGUiLCJpblRvIiwibmV3U3RhdGUiLCJkaXNhYmxlZCIsIkJ1dHRvblN0YXRlIiwiY3VycmVudFN0YXRlIiwic3RvcEZhZGluZyIsImltZ0hvdmVyIiwiaW1nRG93biIsIm91dFRvIiwiZmFkZURlbGF5IiwiYmVnaW5GYWRpbmciLCJpbWdSZXN0IiwidGl0bGUiLCJub3RpZnlHcm91cEVudGVyIiwibm90aWZ5R3JvdXBFeGl0IiwibGFiZWxUZXh0IiwibGFiZWwiLCJuZXdUb3BMZWZ0IiwiZ2V0VG9wUmlnaHQiLCJnZXRCb3R0b21MZWZ0IiwiZnJvbVN1bW1pdHMiLCJ0b3BMZWZ0IiwidG9wUmlnaHQiLCJib3R0b21MZWZ0IiwiZGlmZiIsInJhZGlhbnMiLCJhdGFuIiwiZ2V0QXNwZWN0UmF0aW8iLCJnZXRTaXplIiwib3RoZXIiLCJ0cmFuc2xhdGUiLCJ1bmlvbiIsInRoaXNCb3VuZGluZ0JveCIsImdldEJvdW5kaW5nQm94Iiwib3RoZXJCb3VuZGluZ0JveCIsImludGVyc2VjdGlvbiIsIkVQU0lMT04iLCJpbnRlcnNlY3Rpb25Qb2ludHMiLCJ0aGlzVG9wTGVmdCIsImNvbnRhaW5zUG9pbnQiLCJ0aGlzVG9wUmlnaHQiLCJ0aGlzQm90dG9tTGVmdCIsInRoaXNCb3R0b21SaWdodCIsInJlY3RUb3BMZWZ0IiwicmVjdFRvcFJpZ2h0IiwicmVjdEJvdHRvbUxlZnQiLCJyZWN0Qm90dG9tUmlnaHQiLCJ0aGlzU2VnbWVudHMiLCJfZ2V0U2VnbWVudHMiLCJyZWN0U2VnbWVudHMiLCJ0aGlzU2VnbWVudCIsInJlY3RTZWdtZW50IiwiaW50ZXJzZWN0IiwiZ2V0SW50ZXJzZWN0aW9uIiwiYWJWZWN0b3IiLCJjZFZlY3RvciIsImRlbm9tIiwibWluWCIsIm1heFgiLCJtaW5ZIiwibWF4WSIsImsiLCJib3R0b21SaWdodCIsImdldEludGVnZXJCb3VuZGluZ0JveCIsImJvdW5kaW5nQm94IiwiZXBzaWxvbiIsInRvcERpZmYiLCJsZWZ0RGlmZiIsIm9uU3RyaXBEcmFnIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsInNjcm9sbFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwiZHJhZ2dpbmciLCJsb2FkUGFuZWxzIiwib25TdHJpcFNjcm9sbCIsInN0cmlwIiwicGFuZWxTaXplIiwiYWN0aXZlUGFuZWxzU3RhcnQiLCJhY3RpdmVQYW5lbHNFbmQiLCJtaW5pVmlld2VyIiwicGFuZWxXaWR0aCIsInBhbmVsSGVpZ2h0IiwicGFuZWxzIiwiYWN0aXZlUGFuZWwiLCJtaW5pVGlsZVNvdXJjZSIsInJlZmVyZW5jZVN0cmlwVGh1bWJuYWlsVXJsIiwiZmxvYXQiLCJtaW5pVmlld2VycyIsIm9uU3RyaXBFbnRlciIsIm1hcmdpbkJvdHRvbSIsIm9uU3RyaXBFeGl0IiwibWFyZ2luUmlnaHQiLCJjdXJyZW50U2VsZWN0ZWQiLCJTcHJpbmciLCJpbml0aWFsIiwiZXhwb25lbnRpYWwiLCJfZXhwb25lbnRpYWwiLCJjdXJyZW50Iiwic3RhcnQiLCJfbG9nVmFsdWUiLCJyZXNldFRvIiwic3ByaW5nVG8iLCJzaGlmdEJ5Iiwic2V0RXhwb25lbnRpYWwiLCJzdGFydFZhbHVlIiwidGFyZ2V0VmFsdWUiLCJzdGlmZm5lc3MiLCJjdXJyZW50VmFsdWUiLCJleHAiLCJvbGRWYWx1ZSIsImlzQXRUYXJnZXRWYWx1ZSIsIkltYWdlSm9iIiwiam9iSWQiLCJlcnJvck1zZyIsInNlbGZBYm9ydCIsImFib3J0IiwiZmluaXNoIiwib25hYm9ydCIsImxvYWRXaXRoQWpheCIsImJsYiIsIkJsb2IiLCJCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiYmIiLCJhcHBlbmQiLCJnZXRCbG9iIiwiVVJMIiwid2Via2l0VVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwic3VjY2Vzc2Z1bCIsImpvYlF1ZXVlIiwiam9ic0luUHJvZ3Jlc3MiLCJhZGRKb2IiLCJuZXdKb2IiLCJqb2IiLCJsb2FkZXIiLCJjb21wbGV0ZUpvYiIsIlRpbGUiLCJleGlzdHMiLCJjYWNoZUtleSIsInN0cmluZ2lmeSIsImxvYWRlZCIsImxvYWRpbmciLCJpbWdFbGVtZW50IiwiYmxlbmRTdGFydCIsInNxdWFyZWREaXN0YW5jZSIsImJlaW5nRHJhd24iLCJsYXN0VG91Y2hUaW1lIiwiaXNSaWdodE1vc3QiLCJpc0JvdHRvbU1vc3QiLCJfaGFzVHJhbnNwYXJlbmN5Q2hhbm5lbCIsImNhY2hlSW1hZ2VSZWNvcmQiLCJnZXRJbWFnZSIsImNsb25lTm9kZSIsIm1zSW50ZXJwb2xhdGlvbk1vZGUiLCJkcmF3Q2FudmFzIiwiZHJhd2luZ0hhbmRsZXIiLCJyZW5kZXJlZCIsImdldFJlbmRlcmVkQ29udGV4dCIsInNhdmUiLCJnbG9iYWxBbHBoYSIsImNsZWFyUmVjdCIsInRpbGUiLCJyZXN0b3JlIiwiZ2V0U2NhbGVGb3JFZGdlU21vb3RoaW5nIiwiZ2V0VHJhbnNsYXRpb25Gb3JFZGdlU21vb3RoaW5nIiwiY2FudmFzU2l6ZSIsInNrZXRjaENhbnZhc1NpemUiLCJ1bmxvYWQiLCJPdmVybGF5UGxhY2VtZW50IiwiT3ZlcmxheVJvdGF0aW9uTW9kZSIsIk5PX1JPVEFUSU9OIiwiRVhBQ1QiLCJCT1VORElOR19CT1giLCJfaW5pdCIsInNjYWxlcyIsImFkanVzdCIsInRyYW5zZm9ybU9yaWdpblByb3AiLCJ0cmFuc2Zvcm1Qcm9wIiwicG9zaXRpb25BbmRTaXplIiwiX2dldE92ZXJsYXlQb3NpdGlvbkFuZFNpemUiLCJfZ2V0VHJhbnNmb3JtT3JpZ2luIiwiX2dldFNpemVJblBpeGVscyIsIl9nZXRCb3VuZGluZ0JveCIsInNjYWxlZFNpemUiLCJkZWx0YVBpeGVsc0Zyb21Qb2ludHNOb1JvdGF0ZSIsImVsdFNpemUiLCJyZWZQb2ludCIsIl9nZXRQbGFjZW1lbnRQb2ludCIsImRlbHRhUG9pbnRzRnJvbVBpeGVsc05vUm90YXRlIiwiX2FkanVzdEJvdW5kc0ZvclJvdGF0aW9uIiwidmlld2VyRWxlbWVudFRvVmlld3BvcnRSZWN0YW5nbGUiLCJza2V0Y2hDYW52YXMiLCJza2V0Y2hDb250ZXh0IiwiZGlyIiwidmlld3BvcnRTaXplIiwiX2NhbGN1bGF0ZUNhbnZhc1NpemUiLCJnZXRPcGFjaXR5IiwibWF4T3BhY2l0eSIsIm5lZWRzVXBkYXRlIiwibnVtVGlsZXNMb2FkZWQiLCJyZXNldCIsInJlc2V0SXRlbXMiLCJfY2FsY3VsYXRlU2tldGNoQ2FudmFzU2l6ZSIsIl9jbGVhciIsInVzZVNrZXRjaCIsIl9nZXRDb250ZXh0Iiwidmlld3BvcnRUb0RyYXdlclJlY3RhbmdsZSIsInJlY3RhbmdsZSIsImRyYXdUaWxlIiwicmVzaXplU2tldGNoQ2FudmFzIiwic2F2ZUNvbnRleHQiLCJyZXN0b3JlQ29udGV4dCIsImJlZ2luUGF0aCIsImRyYXdSZWN0YW5nbGUiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsImJsZW5kU2tldGNoIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwid2lkdGhFeHQiLCJoZWlnaHRFeHQiLCJ3aWR0aERpZmYiLCJoZWlnaHREaWZmIiwiZHJhd0RlYnVnSW5mbyIsImNvbG9ySW5kZXgiLCJsaW5lV2lkdGgiLCJmb250Iiwic3Ryb2tlU3R5bGUiLCJfb2Zmc2V0Rm9yUm90YXRpb24iLCJfZ2V0Um90YXRpb25Qb2ludCIsInN0cm9rZVJlY3QiLCJ0aWxlQ2VudGVyWCIsInRpbGVDZW50ZXJZIiwiZmlsbFRleHQiLCJfcmVzdG9yZVJvdGF0aW9uQ2hhbmdlcyIsImRlYnVnUmVjdCIsImdldENhbnZhc1NpemUiLCJza2V0Y2giLCJnZXRDYW52YXNDZW50ZXIiLCJnZXRDb250YWluZXJTaXplIiwiY29udGVudFNpemUiLCJfbWFyZ2lucyIsInpvb21Qb2ludCIsIl91cGRhdGVDb250YWluZXJJbm5lclNpemUiLCJ6b29tU3ByaW5nIiwiX29sZENlbnRlclgiLCJfb2xkQ2VudGVyWSIsIl9vbGRab29tIiwicmVzZXRDb250ZW50U2l6ZSIsInNldEhvbWVCb3VuZHMiLCJjb250ZW50RmFjdG9yIiwiX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZSIsIl9jb250ZW50U2l6ZU5vUm90YXRlIiwiX2NvbnRlbnRCb3VuZHMiLCJfY29udGVudFNpemUiLCJfY29udGVudEFzcGVjdFJhdGlvIiwiaG9tZUJvdW5kcyIsImNvbnRlbnRCb3VuZHMiLCJnZXRIb21lWm9vbSIsImFzcGVjdEZhY3RvciIsImdldEhvbWVCb3VuZHNOb1JvdGF0ZSIsImdldE1pblpvb20iLCJob21lWm9vbSIsImdldE1heFpvb20iLCJfY29udGFpbmVySW5uZXJTaXplIiwiZ2V0TWFyZ2lucyIsInNldE1hcmdpbnMiLCJnZXRCb3VuZHNXaXRoTWFyZ2lucyIsImdldEJvdW5kc05vUm90YXRlV2l0aE1hcmdpbnMiLCJvbGRab29tUGl4ZWwiLCJkZWx0YVpvb21Qb2ludHMiLCJjZW50ZXJDdXJyZW50IiwiY2VudGVyVGFyZ2V0IiwiX3BpeGVsRnJvbVBvaW50IiwiX2FwcGx5Wm9vbUNvbnN0cmFpbnRzIiwiX2FwcGx5Qm91bmRhcnlDb25zdHJhaW50cyIsIm5ld0JvdW5kcyIsImhvcml6b250YWxUaHJlc2hvbGQiLCJib3VuZHNSaWdodCIsImNvbnRlbnRSaWdodCIsImxlZnREeCIsInJpZ2h0RHgiLCJ2ZXJ0aWNhbFRocmVzaG9sZCIsImJvdW5kc0JvdHRvbSIsImNvbnRlbnRCb3R0b20iLCJ0b3BEeSIsImJvdHRvbUR5IiwiX3JhaXNlQ29uc3RyYWludHNFdmVudCIsImFjdHVhbFpvb20iLCJjb25zdHJhaW5lZFpvb20iLCJlbnN1cmVWaXNpYmxlIiwiX2ZpdEJvdW5kcyIsImNvbnN0cmFpbnRzIiwiYXNwZWN0IiwibmV3Wm9vbSIsIm5ld0JvdW5kc0FzcGVjdFJhdGlvIiwibmV3Q29uc3RyYWluZWRab29tIiwib2xkWm9vbSIsInJlZmVyZW5jZVBvaW50IiwiZml0VmVydGljYWxseSIsImJveCIsImZpdEhvcml6b250YWxseSIsIl9hZGp1c3RDZW50ZXJTcHJpbmdzRm9yWm9vbVBvaW50IiwibmV3Q29udGFpbmVyU2l6ZSIsIm1haW50YWluIiwid2lkdGhEZWx0YUZhY3RvciIsImNoYW5nZWQiLCJ6b29tU3ByaW5nSGFuZGxlciIsImRlbHRhWm9vbVBpeGVscyIsImRlbHRhUG9pbnRzIiwiZGVsdGFQaXhlbHNGcm9tUG9pbnRzIiwiZGVsdGFQaXhlbHMiLCJfcGl4ZWxGcm9tUG9pbnROb1JvdGF0ZSIsInBvaW50RnJvbVBpeGVsTm9Sb3RhdGUiLCJwaXhlbCIsIl92aWV3cG9ydFRvSW1hZ2VEZWx0YSIsInZpZXdlclgiLCJ2aWV3ZXJZIiwidmlld3BvcnRUb0ltYWdlQ29vcmRpbmF0ZXMiLCJfaW1hZ2VUb1ZpZXdwb3J0RGVsdGEiLCJpbWFnZVgiLCJpbWFnZVkiLCJpbWFnZVRvVmlld3BvcnRDb29yZGluYXRlcyIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsImNvb3JkQSIsImNvb3JkQiIsInZpZXdwb3J0VG9JbWFnZVJlY3RhbmdsZSIsInBvaW50V2lkdGgiLCJwb2ludEhlaWdodCIsInZpZXdlckVsZW1lbnRUb0ltYWdlQ29vcmRpbmF0ZXMiLCJpbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzIiwid2luZG93VG9JbWFnZUNvb3JkaW5hdGVzIiwidmlld2VyQ29vcmRpbmF0ZXMiLCJpbWFnZVRvV2luZG93Q29vcmRpbmF0ZXMiLCJ2aWV3ZXJFbGVtZW50VG9WaWV3cG9ydENvb3JkaW5hdGVzIiwidmlld3BvcnRUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyIsInZpZXdwb3J0VG9WaWV3ZXJFbGVtZW50UmVjdGFuZ2xlIiwid2luZG93VG9WaWV3cG9ydENvb3JkaW5hdGVzIiwidmlld3BvcnRUb1dpbmRvd0Nvb3JkaW5hdGVzIiwidmlld3BvcnRUb0ltYWdlWm9vbSIsInZpZXdwb3J0Wm9vbSIsImltYWdlV2lkdGgiLCJpbWFnZVRvVmlld3BvcnRab29tIiwiaW1hZ2Vab29tIiwidXBkYXRlTGV2ZWwiLCJoYXZlRHJhd24iLCJkcmF3TGV2ZWwiLCJsZXZlbE9wYWNpdHkiLCJsZXZlbFZpc2liaWxpdHkiLCJkcmF3QXJlYSIsImJlc3QiLCJ0b3BMZWZ0Qm91bmQiLCJib3R0b21SaWdodEJvdW5kIiwiaGF2ZWRyYXduIiwiY3VycmVudHRpbWUiLCJyZXNldENvdmVyYWdlIiwiY292ZXJhZ2UiLCJsb2FkaW5nQ292ZXJhZ2UiLCJjb3JuZXJUaWxlcyIsIl9nZXRDb3JuZXJUaWxlcyIsInRvcExlZnRUaWxlIiwiYm90dG9tUmlnaHRUaWxlIiwibnVtYmVyT2ZUaWxlcyIsInZpZXdwb3J0Q2VudGVyIiwidGlsZUJvdW5kcyIsInVwZGF0ZVRpbGUiLCJ0aWxlc01hdHJpeCIsIndvcmxkV2lkdGgiLCJ3b3JsZEhlaWdodCIsInhNb2QiLCJ5TW9kIiwiZ2V0VGlsZSIsIl93b3JsZFdpZHRoQ3VycmVudCIsIl93b3JsZEhlaWdodEN1cnJlbnQiLCJzZXRDb3ZlcmFnZSIsImlzQ292ZXJlZCIsIm92ZXJsYXAiLCJib3VuZHNUTCIsIl9zY2FsZVNwcmluZyIsIl94U3ByaW5nIiwiX3lTcHJpbmciLCJib3VuZHNTaXplIiwicG9zaXRpb25DIiwicG9zaXRpb25UIiwic2l6ZUMiLCJzaXplVCIsInRpbGVDZW50ZXIiLCJ0aWxlU3F1YXJlZERpc3RhbmNlIiwicG9zaXRpb25UaWxlIiwic2V0VGlsZUxvYWRlZCIsImltYWdlUmVjb3JkIiwiX3RpbGVDYWNoZSIsImdldEltYWdlUmVjb3JkIiwiYmxlbmRUaW1lTWlsbGlzIiwibGFzdERyYXduIiwiX2hhc09wYXF1ZVRpbGUiLCJibGVuZFRpbGUiLCJfbmVlZHNEcmF3IiwiX3RpbGVzTG9hZGluZyIsInByZXZpb3VzQmVzdCIsImNvbXBhcmVUaWxlcyIsImN1dG9mZiIsInRpbGVSZXF1ZXN0IiwiaW5jcmVtZW50IiwiZ2V0Q29tcGxldGlvbkNhbGxiYWNrIiwiY29tcGxldGlvbkNhbGxiYWNrIiwiY2FjaGVUaWxlIiwicHJvdmlkZXNDb3ZlcmFnZSIsImNvbHMiLCJjb3ZlcnMiLCJfZHJhd2VyIiwiX2ltYWdlTG9hZGVyIiwiX2NsaXAiLCJub3JtSGVpZ2h0IiwiY29udGVudEFzcGVjdFgiLCJsYXN0UmVzZXRUaW1lIiwiX21pZERyYXciLCJfcHJlbG9hZCIsIl9mdWxseUxvYWRlZCIsIl9kZWdyZWVzU3ByaW5nIiwiX3VwZGF0ZUZvclNjYWxlIiwiX2RyYXdpbmdIYW5kbGVyIiwiZ2V0RnVsbHlMb2FkZWQiLCJfc2V0RnVsbHlMb2FkZWQiLCJmbGFnIiwiZnVsbHlMb2FkZWQiLCJjbGVhclRpbGVzRm9yIiwieFVwZGF0ZWQiLCJ5VXBkYXRlZCIsInNjYWxlVXBkYXRlZCIsImRlZ3JlZXNVcGRhdGVkIiwiX3VwZGF0ZVZpZXdwb3J0IiwiX3dvcmxkV2lkdGhUYXJnZXQiLCJfd29ybGRIZWlnaHRUYXJnZXQiLCJnZXRXb3JsZEJvdW5kcyIsImdldENsaXBwZWRCb3VuZHMiLCJyYXRpbyIsImdldENvbnRlbnRTaXplIiwiX3ZpZXdwb3J0VG9UaWxlZEltYWdlUmVjdGFuZ2xlIiwic2FtZVRhcmdldCIsIl9yYWlzZUJvdW5kc0NoYW5nZSIsIl9zZXRTY2FsZSIsInNldEhlaWdodCIsImFuY2hvclByb3BlcnRpZXMiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImRpc3BsYXllZFdpZHRoUmF0aW8iLCJkaXNwbGF5ZWRIZWlnaHRSYXRpbyIsIm5ld0NsaXAiLCJnZXRQcmVsb2FkIiwic2V0UHJlbG9hZCIsImdldENvbXBvc2l0ZU9wZXJhdGlvbiIsIl9pc0JvdHRvbUl0ZW0iLCJfZ2V0TGV2ZWxzSW50ZXJ2YWwiLCJsb3dlc3RMZXZlbCIsImN1cnJlbnRaZXJvUmF0aW8iLCJoaWdoZXN0TGV2ZWwiLCJ0aWxlZEltYWdlQm91bmRzIiwibGV2ZWxzSW50ZXJ2YWwiLCJiZXN0VGlsZSIsImN1cnJlbnRSZW5kZXJQaXhlbFJhdGlvIiwidGFyZ2V0UmVuZGVyUGl4ZWxSYXRpbyIsInRhcmdldFplcm9SYXRpbyIsIm9wdGltYWxSYXRpbyIsInNrZXRjaFNjYWxlIiwic2tldGNoVHJhbnNsYXRlIiwidXNlZENsaXAiLCJjbGlwUmVjdCIsInBsYWNlaG9sZGVyUmVjdCIsImRyYXdUaWxlcyIsIm9uVGlsZUxvYWQiLCJsb2FkVGlsZSIsImxlZnRYIiwicmlnaHRYIiwidG9wWSIsImJvdHRvbVkiLCJJbWFnZVJlY29yZCIsIl90aWxlcyIsIl9yZW5kZXJlZENvbnRleHQiLCJzZXRSZW5kZXJlZENvbnRleHQiLCJyZW5kZXJlZENvbnRleHQiLCJhZGRUaWxlIiwicmVtb3ZlVGlsZSIsImdldFRpbGVDb3VudCIsIl9tYXhJbWFnZUNhY2hlQ291bnQiLCJfdGlsZXNMb2FkZWQiLCJfaW1hZ2VzTG9hZGVkIiwiX2ltYWdlc0xvYWRlZENvdW50IiwiaW5zZXJ0aW9uSW5kZXgiLCJwcmV2VGlsZSIsIndvcnN0VGltZSIsIndvcnN0TGV2ZWwiLCJwcmV2VGltZSIsInByZXZMZXZlbCIsInByZXZUaWxlUmVjb3JkIiwid29yc3RUaWxlIiwid29yc3RUaWxlSW5kZXgiLCJ3b3JzdFRpbGVSZWNvcmQiLCJfdW5sb2FkVGlsZSIsInRpbGVSZWNvcmQiLCJfaXRlbXMiLCJfYXV0b1JlZmlndXJlU2l6ZXMiLCJfbmVlZHNTaXplc0ZpZ3VyZWQiLCJfZGVsZWdhdGVkRmlndXJlU2l6ZXMiLCJfZmlndXJlU2l6ZXMiLCJvbGRJbmRleCIsIl9yYWlzZVJlbW92ZUl0ZW0iLCJyZW1vdmVkSXRlbXMiLCJfaG9tZUJvdW5kcyIsIl9jb250ZW50RmFjdG9yIiwid3JhcCIsIm9sZEhvbWVCb3VuZHMiLCJvbGRDb250ZW50U2l6ZSIsIm9sZENvbnRlbnRGYWN0b3IiLCJjbGlwcGVkQm91bmRzIiwiZ2xvYmFsIiwiZmFjdG9yeSIsIm5vR2xvYmFsIiwiYXJyIiwiZ2V0UHJvdG8iLCJnZXRQcm90b3R5cGVPZiIsImZuVG9TdHJpbmciLCJPYmplY3RGdW5jdGlvblN0cmluZyIsInN1cHBvcnQiLCJwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzIiwibm9Nb2R1bGUiLCJET01FdmFsIiwiY29kZSIsInRleHQiLCJ0b1R5cGUiLCJqUXVlcnkiLCJzZWxlY3RvciIsImZuIiwiaW5pdCIsInJ0cmltIiwiaXNBcnJheUxpa2UiLCJqcXVlcnkiLCJ0b0FycmF5IiwicHVzaFN0YWNrIiwiZWxlbXMiLCJyZXQiLCJtZXJnZSIsInByZXZPYmplY3QiLCJlYWNoIiwibWFwIiwiZWxlbSIsImZpcnN0IiwiZXEiLCJsYXN0IiwiZW5kIiwiZXhwYW5kbyIsImlzUmVhZHkiLCJub29wIiwicHJvdG8iLCJDdG9yIiwiZ2xvYmFsRXZhbCIsIm1ha2VBcnJheSIsInJlc3VsdHMiLCJpbkFycmF5Iiwic2Vjb25kIiwiZ3JlcCIsImludmVydCIsIm1hdGNoZXMiLCJjYWxsYmFja0V4cGVjdCIsImFyZyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiU2l6emxlIiwiRXhwciIsImdldFRleHQiLCJpc1hNTCIsInRva2VuaXplIiwiY29tcGlsZSIsInNlbGVjdCIsIm91dGVybW9zdENvbnRleHQiLCJzb3J0SW5wdXQiLCJoYXNEdXBsaWNhdGUiLCJzZXREb2N1bWVudCIsImRvY0VsZW0iLCJkb2N1bWVudElzSFRNTCIsInJidWdneVFTQSIsInJidWdneU1hdGNoZXMiLCJjb250YWlucyIsInByZWZlcnJlZERvYyIsImRpcnJ1bnMiLCJkb25lIiwiY2xhc3NDYWNoZSIsImNyZWF0ZUNhY2hlIiwidG9rZW5DYWNoZSIsImNvbXBpbGVyQ2FjaGUiLCJzb3J0T3JkZXIiLCJwdXNoX25hdGl2ZSIsImJvb2xlYW5zIiwid2hpdGVzcGFjZSIsImF0dHJpYnV0ZXMiLCJwc2V1ZG9zIiwicndoaXRlc3BhY2UiLCJyY29tbWEiLCJyY29tYmluYXRvcnMiLCJyYXR0cmlidXRlUXVvdGVzIiwicnBzZXVkbyIsInJpZGVudGlmaWVyIiwibWF0Y2hFeHByIiwiSUQiLCJDTEFTUyIsIlRBRyIsIkFUVFIiLCJQU0VVRE8iLCJDSElMRCIsImJvb2wiLCJuZWVkc0NvbnRleHQiLCJyaW5wdXRzIiwicmhlYWRlciIsInJuYXRpdmUiLCJycXVpY2tFeHByIiwicnNpYmxpbmciLCJydW5lc2NhcGUiLCJmdW5lc2NhcGUiLCJlc2NhcGVkIiwiZXNjYXBlZFdoaXRlc3BhY2UiLCJoaWdoIiwiZnJvbUNoYXJDb2RlIiwicmNzc2VzY2FwZSIsImZjc3Nlc2NhcGUiLCJjaCIsImFzQ29kZVBvaW50IiwiY2hhckNvZGVBdCIsInVubG9hZEhhbmRsZXIiLCJkaXNhYmxlZEFuY2VzdG9yIiwiYWRkQ29tYmluYXRvciIsImVscyIsInNlZWQiLCJuaWQiLCJncm91cHMiLCJuZXdTZWxlY3RvciIsIm5ld0NvbnRleHQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicXNhIiwic2V0QXR0cmlidXRlIiwidG9TZWxlY3RvciIsInRlc3RDb250ZXh0IiwicXVlcnlTZWxlY3RvckFsbCIsInFzYUVycm9yIiwicmVtb3ZlQXR0cmlidXRlIiwia2V5cyIsImNhY2hlIiwiY2FjaGVMZW5ndGgiLCJtYXJrRnVuY3Rpb24iLCJlbCIsImFkZEhhbmRsZSIsImF0dHJzIiwiYXR0ckhhbmRsZSIsInNpYmxpbmdDaGVjayIsImN1ciIsInNvdXJjZUluZGV4IiwiY3JlYXRlSW5wdXRQc2V1ZG8iLCJjcmVhdGVCdXR0b25Qc2V1ZG8iLCJjcmVhdGVEaXNhYmxlZFBzZXVkbyIsImlzRGlzYWJsZWQiLCJjcmVhdGVQb3NpdGlvbmFsUHNldWRvIiwiYXJndW1lbnQiLCJtYXRjaEluZGV4ZXMiLCJoYXNDb21wYXJlIiwic3ViV2luZG93IiwiY3JlYXRlQ29tbWVudCIsImdldEVsZW1lbnRzQnlOYW1lIiwiYXR0cklkIiwiZmluZCIsImdldEF0dHJpYnV0ZU5vZGUiLCJ0YWciLCJ0bXAiLCJpbnB1dCIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsImRpc2Nvbm5lY3RlZE1hdGNoIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJhZG93biIsImJ1cCIsImNvbXBhcmUiLCJzb3J0RGV0YWNoZWQiLCJhdXAiLCJhcCIsImJwIiwidW5zaGlmdCIsImV4cHIiLCJlbGVtZW50cyIsImF0dHIiLCJ2YWwiLCJzcGVjaWZpZWQiLCJlc2NhcGUiLCJzZWwiLCJ1bmlxdWVTb3J0IiwiZHVwbGljYXRlcyIsImRldGVjdER1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwidGV4dENvbnRlbnQiLCJzZWxlY3RvcnMiLCJjcmVhdGVQc2V1ZG8iLCJyZWxhdGl2ZSIsIj4iLCIgIiwiKyIsIn4iLCJwcmVGaWx0ZXIiLCJleGNlc3MiLCJ1bnF1b3RlZCIsIm5vZGVOYW1lU2VsZWN0b3IiLCJwYXR0ZXJuIiwib3BlcmF0b3IiLCJjaGVjayIsIndoYXQiLCJzaW1wbGUiLCJmb3J3YXJkIiwib2ZUeXBlIiwieG1sIiwidW5pcXVlQ2FjaGUiLCJvdXRlckNhY2hlIiwibm9kZUluZGV4IiwidXNlQ2FjaGUiLCJsYXN0Q2hpbGQiLCJ1bmlxdWVJRCIsInBzZXVkbyIsInNldEZpbHRlcnMiLCJpZHgiLCJtYXRjaGVkIiwibm90IiwibWF0Y2hlciIsInVubWF0Y2hlZCIsImhhcyIsImlubmVyVGV4dCIsImxhbmciLCJlbGVtTGFuZyIsImhhc0ZvY3VzIiwiY2hlY2tlZCIsInNlbGVjdGVkIiwic2VsZWN0ZWRJbmRleCIsImVtcHR5IiwiaGVhZGVyIiwiZXZlbiIsIm9kZCIsImx0IiwiZ3QiLCJyYWRpbyIsImNoZWNrYm94IiwicGFzc3dvcmQiLCJzdWJtaXQiLCJ0b2tlbnMiLCJjb21iaW5hdG9yIiwiYmFzZSIsInNraXAiLCJjaGVja05vbkVsZW1lbnRzIiwiZG9uZU5hbWUiLCJvbGRDYWNoZSIsIm5ld0NhY2hlIiwiZWxlbWVudE1hdGNoZXIiLCJtYXRjaGVycyIsImNvbmRlbnNlIiwibmV3VW5tYXRjaGVkIiwibWFwcGVkIiwic2V0TWF0Y2hlciIsInBvc3RGaWx0ZXIiLCJwb3N0RmluZGVyIiwicG9zdFNlbGVjdG9yIiwicHJlTWFwIiwicG9zdE1hcCIsInByZWV4aXN0aW5nIiwiY29udGV4dHMiLCJtdWx0aXBsZUNvbnRleHRzIiwibWF0Y2hlckluIiwibWF0Y2hlck91dCIsIm1hdGNoZXJGcm9tVG9rZW5zIiwiY2hlY2tDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwiaW1wbGljaXRSZWxhdGl2ZSIsIm1hdGNoQ29udGV4dCIsIm1hdGNoQW55Q29udGV4dCIsImZpbHRlcnMiLCJwYXJzZU9ubHkiLCJzb0ZhciIsInByZUZpbHRlcnMiLCJjYWNoZWQiLCJzZXRNYXRjaGVycyIsImVsZW1lbnRNYXRjaGVycyIsImJ5U2V0IiwiYnlFbGVtZW50Iiwic3VwZXJNYXRjaGVyIiwib3V0ZXJtb3N0IiwibWF0Y2hlZENvdW50Iiwic2V0TWF0Y2hlZCIsImNvbnRleHRCYWNrdXAiLCJkaXJydW5zVW5pcXVlIiwibWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzIiwidG9rZW4iLCJjb21waWxlZCIsImRlZmF1bHRWYWx1ZSIsInVuaXF1ZSIsImlzWE1MRG9jIiwiZXNjYXBlU2VsZWN0b3IiLCJ1bnRpbCIsInRydW5jYXRlIiwiaXMiLCJzaWJsaW5ncyIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwid2lubm93IiwicXVhbGlmaWVyIiwicm9vdGpRdWVyeSIsInBhcnNlSFRNTCIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsImNvbnRlbnRzIiwicHJldiIsInNpYmxpbmciLCJ0YXJnZXRzIiwiY2xvc2VzdCIsInByZXZBbGwiLCJhZGRCYWNrIiwicGFyZW50cyIsInBhcmVudHNVbnRpbCIsIm5leHRBbGwiLCJuZXh0VW50aWwiLCJwcmV2VW50aWwiLCJjb250ZW50RG9jdW1lbnQiLCJjb250ZW50Iiwicm5vdGh0bWx3aGl0ZSIsIklkZW50aXR5IiwidiIsIlRocm93ZXIiLCJleCIsImFkb3B0VmFsdWUiLCJyZXNvbHZlIiwicmVqZWN0Iiwibm9WYWx1ZSIsInByb21pc2UiLCJmYWlsIiwidGhlbiIsIkNhbGxiYWNrcyIsImNyZWF0ZU9wdGlvbnMiLCJmaXJpbmciLCJtZW1vcnkiLCJmaXJlZCIsImxvY2tlZCIsInF1ZXVlIiwiZmlyaW5nSW5kZXgiLCJmaXJlIiwib25jZSIsInN0b3BPbkZhbHNlIiwicmVtb3ZlIiwibG9jayIsImZpcmVXaXRoIiwiRGVmZXJyZWQiLCJ0dXBsZXMiLCJzdGF0ZSIsImFsd2F5cyIsImRlZmVycmVkIiwiY2F0Y2giLCJwaXBlIiwiZm5zIiwibmV3RGVmZXIiLCJ0dXBsZSIsInJldHVybmVkIiwicHJvZ3Jlc3MiLCJub3RpZnkiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJvblByb2dyZXNzIiwibWF4RGVwdGgiLCJkZXB0aCIsInNwZWNpYWwiLCJ0aGF0IiwibWlnaHRUaHJvdyIsIm5vdGlmeVdpdGgiLCJyZXNvbHZlV2l0aCIsInByb2Nlc3MiLCJleGNlcHRpb25Ib29rIiwic3RhY2tUcmFjZSIsInJlamVjdFdpdGgiLCJnZXRTdGFja0hvb2siLCJzdGF0ZVN0cmluZyIsIndoZW4iLCJzaW5nbGVWYWx1ZSIsInJlbWFpbmluZyIsInJlc29sdmVDb250ZXh0cyIsInJlc29sdmVWYWx1ZXMiLCJtYXN0ZXIiLCJyZXJyb3JOYW1lcyIsInN0YWNrIiwicmVhZHlFeGNlcHRpb24iLCJyZWFkeUxpc3QiLCJjb21wbGV0ZWQiLCJyZWFkeVdhaXQiLCJ3YWl0IiwiZG9TY3JvbGwiLCJhY2Nlc3MiLCJjaGFpbmFibGUiLCJlbXB0eUdldCIsInJhdyIsImJ1bGsiLCJybXNQcmVmaXgiLCJyZGFzaEFscGhhIiwiZmNhbWVsQ2FzZSIsImFsbCIsImxldHRlciIsImNhbWVsQ2FzZSIsImFjY2VwdERhdGEiLCJvd25lciIsIkRhdGEiLCJ1aWQiLCJzZXQiLCJoYXNEYXRhIiwiZGF0YVByaXYiLCJkYXRhVXNlciIsInJicmFjZSIsInJtdWx0aURhc2giLCJkYXRhQXR0ciIsImdldERhdGEiLCJyZW1vdmVEYXRhIiwiX2RhdGEiLCJfcmVtb3ZlRGF0YSIsImRlcXVldWUiLCJzdGFydExlbmd0aCIsImhvb2tzIiwiX3F1ZXVlSG9va3MiLCJzdG9wIiwic2V0dGVyIiwiY2xlYXJRdWV1ZSIsImRlZmVyIiwicG51bSIsInJjc3NOdW0iLCJjc3NFeHBhbmQiLCJpc0hpZGRlbldpdGhpblRyZWUiLCJjc3MiLCJzd2FwIiwib2xkIiwiYWRqdXN0Q1NTIiwidmFsdWVQYXJ0cyIsInR3ZWVuIiwiYWRqdXN0ZWQiLCJtYXhJdGVyYXRpb25zIiwidW5pdCIsImNzc051bWJlciIsImluaXRpYWxJblVuaXQiLCJkZWZhdWx0RGlzcGxheU1hcCIsImdldERlZmF1bHREaXNwbGF5Iiwic2hvd0hpZGUiLCJzaG93IiwidmFsdWVzIiwiaGlkZSIsInRvZ2dsZSIsInJjaGVja2FibGVUeXBlIiwicnRhZ05hbWUiLCJyc2NyaXB0VHlwZSIsIndyYXBNYXAiLCJvcHRpb24iLCJ0aGVhZCIsImNvbCIsInRyIiwidGQiLCJfZGVmYXVsdCIsImdldEFsbCIsInNldEdsb2JhbEV2YWwiLCJyZWZFbGVtZW50cyIsIm9wdGdyb3VwIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwicmh0bWwiLCJidWlsZEZyYWdtZW50Iiwic2NyaXB0cyIsInNlbGVjdGlvbiIsImlnbm9yZWQiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJodG1sUHJlZmlsdGVyIiwiY2hlY2tDbG9uZSIsIm5vQ2xvbmVDaGVja2VkIiwicmtleUV2ZW50Iiwicm1vdXNlRXZlbnQiLCJydHlwZW5hbWVzcGFjZSIsInJldHVyblRydWUiLCJyZXR1cm5GYWxzZSIsInNhZmVBY3RpdmVFbGVtZW50IiwiZXJyIiwib24iLCJ0eXBlcyIsIm9uZSIsIm9yaWdGbiIsIm9mZiIsImhhbmRsZU9iakluIiwiZXZlbnRIYW5kbGUiLCJoYW5kbGVPYmoiLCJuYW1lc3BhY2VzIiwib3JpZ1R5cGUiLCJlbGVtRGF0YSIsImhhbmRsZSIsInRyaWdnZXJlZCIsImRpc3BhdGNoIiwiZGVsZWdhdGVUeXBlIiwiYmluZFR5cGUiLCJuYW1lc3BhY2UiLCJkZWxlZ2F0ZUNvdW50Iiwic2V0dXAiLCJtYXBwZWRUeXBlcyIsIm9yaWdDb3VudCIsInRlYXJkb3duIiwibmF0aXZlRXZlbnQiLCJoYW5kbGVyUXVldWUiLCJmaXgiLCJkZWxlZ2F0ZVRhcmdldCIsInByZURpc3BhdGNoIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsInJuYW1lc3BhY2UiLCJwb3N0RGlzcGF0Y2giLCJtYXRjaGVkSGFuZGxlcnMiLCJtYXRjaGVkU2VsZWN0b3JzIiwiYWRkUHJvcCIsImhvb2siLCJFdmVudCIsIndyaXRhYmxlIiwibG9hZCIsIm5vQnViYmxlIiwidHJpZ2dlciIsImJlZm9yZXVubG9hZCIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJ0aW1lU3RhbXAiLCJpc1NpbXVsYXRlZCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZXZlbnRQaGFzZSIsInZpZXciLCJjaGFyIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJzY3JlZW5YIiwic2NyZWVuWSIsInRhcmdldFRvdWNoZXMiLCJ0b0VsZW1lbnQiLCJ3aGljaCIsInBvaW50ZXJlbnRlciIsInBvaW50ZXJsZWF2ZSIsIm9yaWciLCJyZWxhdGVkIiwicnhodG1sVGFnIiwicm5vSW5uZXJodG1sIiwicmNoZWNrZWQiLCJyY2xlYW5TY3JpcHQiLCJtYW5pcHVsYXRpb25UYXJnZXQiLCJkaXNhYmxlU2NyaXB0IiwicmVzdG9yZVNjcmlwdCIsImNsb25lQ29weUV2ZW50IiwiZGVzdCIsInBkYXRhT2xkIiwicGRhdGFDdXIiLCJ1ZGF0YU9sZCIsInVkYXRhQ3VyIiwiZG9tTWFuaXAiLCJjb2xsZWN0aW9uIiwiaGFzU2NyaXB0cyIsImlOb0Nsb25lIiwidmFsdWVJc0Z1bmN0aW9uIiwiaHRtbCIsIl9ldmFsVXJsIiwia2VlcERhdGEiLCJjbGVhbkRhdGEiLCJkYXRhQW5kRXZlbnRzIiwiZGVlcERhdGFBbmRFdmVudHMiLCJzcmNFbGVtZW50cyIsImRlc3RFbGVtZW50cyIsImluUGFnZSIsImRldGFjaCIsInByZXBlbmQiLCJiZWZvcmUiLCJhZnRlciIsInJlcGxhY2VXaXRoIiwicmVwbGFjZUNoaWxkIiwiYXBwZW5kVG8iLCJwcmVwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlcGxhY2VBbGwiLCJpbnNlcnQiLCJybnVtbm9ucHgiLCJnZXRTdHlsZXMiLCJvcGVuZXIiLCJyYm94U3R5bGUiLCJjdXJDU1MiLCJjb21wdXRlZCIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGl4ZWxCb3hTdHlsZXMiLCJhZGRHZXRIb29rSWYiLCJjb25kaXRpb25GbiIsImhvb2tGbiIsImNvbXB1dGVTdHlsZVRlc3RzIiwiY3NzVGV4dCIsImRpdlN0eWxlIiwicGl4ZWxQb3NpdGlvblZhbCIsInJlbGlhYmxlTWFyZ2luTGVmdFZhbCIsInJvdW5kUGl4ZWxNZWFzdXJlcyIsInBpeGVsQm94U3R5bGVzVmFsIiwiYm94U2l6aW5nUmVsaWFibGVWYWwiLCJzY3JvbGxib3hTaXplVmFsIiwib2Zmc2V0V2lkdGgiLCJtZWFzdXJlIiwiYmFja2dyb3VuZENsaXAiLCJjbGVhckNsb25lU3R5bGUiLCJib3hTaXppbmdSZWxpYWJsZSIsInBpeGVsUG9zaXRpb24iLCJyZWxpYWJsZU1hcmdpbkxlZnQiLCJzY3JvbGxib3hTaXplIiwicmRpc3BsYXlzd2FwIiwicmN1c3RvbVByb3AiLCJjc3NTaG93IiwiY3NzTm9ybWFsVHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImZvbnRXZWlnaHQiLCJjc3NQcmVmaXhlcyIsImVtcHR5U3R5bGUiLCJmaW5hbFByb3BOYW1lIiwiY3NzUHJvcHMiLCJjYXBOYW1lIiwidmVuZG9yUHJvcE5hbWUiLCJzZXRQb3NpdGl2ZU51bWJlciIsInN1YnRyYWN0IiwiYm94TW9kZWxBZGp1c3RtZW50IiwiZGltZW5zaW9uIiwiaXNCb3JkZXJCb3giLCJzdHlsZXMiLCJjb21wdXRlZFZhbCIsImV4dHJhIiwiZ2V0V2lkdGhPckhlaWdodCIsInZhbHVlSXNCb3JkZXJCb3giLCJUd2VlbiIsImVhc2luZyIsImNzc0hvb2tzIiwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQiLCJjb2x1bW5Db3VudCIsImZpbGxPcGFjaXR5IiwiZmxleEdyb3ciLCJmbGV4U2hyaW5rIiwibGluZUhlaWdodCIsIm9yZGVyIiwib3JwaGFucyIsIndpZG93cyIsIm9yaWdOYW1lIiwiaXNDdXN0b21Qcm9wIiwic2V0UHJvcGVydHkiLCJpc0Zpbml0ZSIsImdldENsaWVudFJlY3RzIiwiZXhwYW5kIiwiZXhwYW5kZWQiLCJwcm9wSG9va3MiLCJydW4iLCJwZXJjZW50IiwiZWFzZWQiLCJkdXJhdGlvbiIsInBvcyIsInN0ZXAiLCJmeCIsImxpbmVhciIsInN3aW5nIiwiZnhOb3ciLCJpblByb2dyZXNzIiwicmZ4dHlwZXMiLCJycnVuIiwic2NoZWR1bGUiLCJoaWRkZW4iLCJpbnRlcnZhbCIsInRpY2siLCJjcmVhdGVGeE5vdyIsImdlbkZ4IiwiaW5jbHVkZVdpZHRoIiwiY3JlYXRlVHdlZW4iLCJhbmltYXRpb24iLCJBbmltYXRpb24iLCJ0d2VlbmVycyIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwic3RhcnRUaW1lIiwidHdlZW5zIiwic3BlY2lhbEVhc2luZyIsIm9yaWdpbmFsUHJvcGVydGllcyIsIm9yaWdpbmFsT3B0aW9ucyIsImdvdG9FbmQiLCJwcm9wRmlsdGVyIiwiYmluZCIsImNvbXBsZXRlIiwidGltZXIiLCJhbmltIiwiKiIsInR3ZWVuZXIiLCJvbGRmaXJlIiwicHJvcFR3ZWVuIiwicmVzdG9yZURpc3BsYXkiLCJpc0JveCIsImRhdGFTaG93IiwidW5xdWV1ZWQiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJwcmVmaWx0ZXIiLCJvcHQiLCJzcGVlZHMiLCJmYWRlVG8iLCJ0byIsImFuaW1hdGUiLCJvcHRhbGwiLCJkb0FuaW1hdGlvbiIsInN0b3BRdWV1ZSIsInRpbWVycyIsImNzc0ZuIiwic2xpZGVEb3duIiwic2xpZGVVcCIsInNsaWRlVG9nZ2xlIiwiZmFkZUluIiwiZmFkZU91dCIsImZhZGVUb2dnbGUiLCJzbG93IiwiZmFzdCIsImRlbGF5IiwiY2hlY2tPbiIsIm9wdFNlbGVjdGVkIiwicmFkaW9WYWx1ZSIsImJvb2xIb29rIiwicmVtb3ZlQXR0ciIsIm5UeXBlIiwiYXR0ckhvb2tzIiwiYXR0ck5hbWVzIiwibG93ZXJjYXNlTmFtZSIsInJmb2N1c2FibGUiLCJyY2xpY2thYmxlIiwic3RyaXBBbmRDb2xsYXBzZSIsImdldENsYXNzIiwiY2xhc3Nlc1RvQXJyYXkiLCJyZW1vdmVQcm9wIiwicHJvcEZpeCIsInRhYmluZGV4IiwiZm9yIiwiY2xhc3MiLCJjbGFzc2VzIiwiY3VyVmFsdWUiLCJjbGF6eiIsImZpbmFsVmFsdWUiLCJ0b2dnbGVDbGFzcyIsInN0YXRlVmFsIiwiaXNWYWxpZFZhbHVlIiwiY2xhc3NOYW1lcyIsImhhc0NsYXNzIiwicnJldHVybiIsInZhbEhvb2tzIiwib3B0aW9uU2V0IiwiZm9jdXNpbiIsInJmb2N1c01vcnBoIiwic3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2siLCJvbmx5SGFuZGxlcnMiLCJidWJibGVUeXBlIiwib250eXBlIiwibGFzdEVsZW1lbnQiLCJldmVudFBhdGgiLCJpc1RyaWdnZXIiLCJzaW11bGF0ZSIsInRyaWdnZXJIYW5kbGVyIiwiYXR0YWNoZXMiLCJub25jZSIsInJxdWVyeSIsInBhcnNlWE1MIiwicmJyYWNrZXQiLCJyQ1JMRiIsInJzdWJtaXR0ZXJUeXBlcyIsInJzdWJtaXR0YWJsZSIsImJ1aWxkUGFyYW1zIiwidHJhZGl0aW9uYWwiLCJ2YWx1ZU9yRnVuY3Rpb24iLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemUiLCJzZXJpYWxpemVBcnJheSIsInIyMCIsInJoYXNoIiwicmFudGlDYWNoZSIsInJoZWFkZXJzIiwicm5vQ29udGVudCIsInJwcm90b2NvbCIsInRyYW5zcG9ydHMiLCJhbGxUeXBlcyIsIm9yaWdpbkFuY2hvciIsImFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyIsInN0cnVjdHVyZSIsImRhdGFUeXBlRXhwcmVzc2lvbiIsImRhdGFUeXBlIiwiZGF0YVR5cGVzIiwiaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMiLCJqcVhIUiIsImluc3BlY3RlZCIsInNlZWtpbmdUcmFuc3BvcnQiLCJpbnNwZWN0IiwicHJlZmlsdGVyT3JGYWN0b3J5IiwiZGF0YVR5cGVPclRyYW5zcG9ydCIsImFqYXhFeHRlbmQiLCJmbGF0T3B0aW9ucyIsImFqYXhTZXR0aW5ncyIsImFjdGl2ZSIsImxhc3RNb2RpZmllZCIsImV0YWciLCJpc0xvY2FsIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsImFjY2VwdHMiLCJqc29uIiwicmVzcG9uc2VGaWVsZHMiLCJjb252ZXJ0ZXJzIiwiKiB0ZXh0IiwidGV4dCBodG1sIiwidGV4dCBqc29uIiwidGV4dCB4bWwiLCJhamF4U2V0dXAiLCJzZXR0aW5ncyIsImFqYXhQcmVmaWx0ZXIiLCJhamF4VHJhbnNwb3J0IiwiYWpheCIsInRyYW5zcG9ydCIsImNhY2hlVVJMIiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwicmVzcG9uc2VIZWFkZXJzIiwidGltZW91dFRpbWVyIiwidXJsQW5jaG9yIiwiZmlyZUdsb2JhbHMiLCJ1bmNhY2hlZCIsImNhbGxiYWNrQ29udGV4dCIsImdsb2JhbEV2ZW50Q29udGV4dCIsImNvbXBsZXRlRGVmZXJyZWQiLCJzdGF0dXNDb2RlIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJnZXRSZXNwb25zZUhlYWRlciIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsIm92ZXJyaWRlTWltZVR5cGUiLCJtaW1lVHlwZSIsImZpbmFsVGV4dCIsImNyb3NzRG9tYWluIiwiaG9zdCIsImhhc0NvbnRlbnQiLCJpZk1vZGlmaWVkIiwiYmVmb3JlU2VuZCIsIm5hdGl2ZVN0YXR1c1RleHQiLCJyZXNwb25zZXMiLCJpc1N1Y2Nlc3MiLCJtb2RpZmllZCIsImN0IiwiZmluYWxEYXRhVHlwZSIsImZpcnN0RGF0YVR5cGUiLCJhamF4SGFuZGxlUmVzcG9uc2VzIiwiY29udjIiLCJjb252IiwiZGF0YUZpbHRlciIsInRocm93cyIsImFqYXhDb252ZXJ0IiwiZ2V0SlNPTiIsImdldFNjcmlwdCIsIndyYXBBbGwiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIndyYXBJbm5lciIsImh0bWxJc0Z1bmN0aW9uIiwidW53cmFwIiwib2Zmc2V0SGVpZ2h0IiwieGhyU3VjY2Vzc1N0YXR1cyIsIjEyMjMiLCJ4aHJTdXBwb3J0ZWQiLCJjb3JzIiwiZXJyb3JDYWxsYmFjayIsInVzZXJuYW1lIiwieGhyRmllbGRzIiwib250aW1lb3V0IiwiYmluYXJ5IiwidGV4dCBzY3JpcHQiLCJldnQiLCJvbGRDYWxsYmFja3MiLCJyanNvbnAiLCJvcmlnaW5hbFNldHRpbmdzIiwib3ZlcndyaXR0ZW4iLCJyZXNwb25zZUNvbnRhaW5lciIsImpzb25Qcm9wIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJrZWVwU2NyaXB0cyIsInBhcnNlZCIsInBhcmFtcyIsInNldE9mZnNldCIsImN1clBvc2l0aW9uIiwiY3VyTGVmdCIsImN1ckNTU1RvcCIsImN1clRvcCIsImN1ck9mZnNldCIsImN1ckNTU0xlZnQiLCJjdXJFbGVtIiwidXNpbmciLCJwYXJlbnRPZmZzZXQiLCIiLCJkZWZhdWx0RXh0cmEiLCJmdW5jTmFtZSIsImhvdmVyIiwiZm5PdmVyIiwiZm5PdXQiLCJ1bmJpbmQiLCJ1bmRlbGVnYXRlIiwicHJveHkiLCJob2xkUmVhZHkiLCJob2xkIiwiaXNOdW1lcmljIiwiX2pRdWVyeSIsIl8kIiwibm9Db25mbGljdCIsIkxBUkdFX0FSUkFZX1NJWkUiLCJDT1JFX0VSUk9SX1RFWFQiLCJGVU5DX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIk1BWF9NRU1PSVpFX1NJWkUiLCJQTEFDRUhPTERFUiIsIkNMT05FX0RFRVBfRkxBRyIsIkNMT05FX0ZMQVRfRkxBRyIsIkNMT05FX1NZTUJPTFNfRkxBRyIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiQ09NUEFSRV9VTk9SREVSRURfRkxBRyIsIldSQVBfQklORF9GTEFHIiwiV1JBUF9CSU5EX0tFWV9GTEFHIiwiV1JBUF9DVVJSWV9CT1VORF9GTEFHIiwiV1JBUF9DVVJSWV9GTEFHIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJXUkFQX0ZMSVBfRkxBRyIsIkRFRkFVTFRfVFJVTkNfTEVOR1RIIiwiREVGQVVMVF9UUlVOQ19PTUlTU0lPTiIsIkhPVF9DT1VOVCIsIkhPVF9TUEFOIiwiTEFaWV9GSUxURVJfRkxBRyIsIkxBWllfTUFQX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNQVhfSU5URUdFUiIsIk5BTiIsIk1BWF9BUlJBWV9MRU5HVEgiLCJNQVhfQVJSQVlfSU5ERVgiLCJIQUxGX01BWF9BUlJBWV9MRU5HVEgiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJhc3luY1RhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZG9tRXhjVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwibnVsbFRhZyIsIm9iamVjdFRhZyIsInByb3h5VGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwidW5kZWZpbmVkVGFnIiwid2Vha01hcFRhZyIsIndlYWtTZXRUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDhDbGFtcGVkVGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW0iLCJyZVRyaW1TdGFydCIsInJlVHJpbUVuZCIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRXNjYXBlQ2hhciIsInJlRXNUZW1wbGF0ZSIsInJlRmxhZ3MiLCJyZUlzQmFkSGV4IiwicmVJc0JpbmFyeSIsInJlSXNIb3N0Q3RvciIsInJlSXNPY3RhbCIsInJlSXNVaW50IiwicmVMYXRpbiIsInJlTm9NYXRjaCIsInJlVW5lc2NhcGVkU3RyaW5nIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNNaXNjTG93ZXIiLCJyc01pc2NVcHBlciIsInJlT3B0TW9kIiwicnNTZXEiLCJyc0Vtb2ppIiwicnNTeW1ib2wiLCJyZUFwb3MiLCJyZUNvbWJvTWFyayIsInJlVW5pY29kZSIsInJlVW5pY29kZVdvcmQiLCJyZUhhc1VuaWNvZGUiLCJyZUhhc1VuaWNvZGVXb3JkIiwiY29udGV4dFByb3BzIiwidGVtcGxhdGVDb3VudGVyIiwidHlwZWRBcnJheVRhZ3MiLCJjbG9uZWFibGVUYWdzIiwic3RyaW5nRXNjYXBlcyIsIlxcIiwiJyIsIlxuIiwiXHIiLCLigKgiLCLigKkiLCJmcmVlUGFyc2VGbG9hdCIsImZyZWVQYXJzZUludCIsImZyZWVHbG9iYWwiLCJmcmVlU2VsZiIsIkZ1bmN0aW9uIiwiZnJlZUV4cG9ydHMiLCJmcmVlTW9kdWxlIiwibW9kdWxlRXhwb3J0cyIsImZyZWVQcm9jZXNzIiwibm9kZVV0aWwiLCJiaW5kaW5nIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJ0aGlzQXJnIiwiYXJyYXlBZ2dyZWdhdG9yIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImFycmF5RWFjaCIsImFycmF5RWFjaFJpZ2h0IiwiYXJyYXlFdmVyeSIsInByZWRpY2F0ZSIsImFycmF5RmlsdGVyIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImNvbXBhcmF0b3IiLCJhcnJheU1hcCIsImFycmF5UHVzaCIsImFycmF5UmVkdWNlIiwiaW5pdEFjY3VtIiwiYXJyYXlSZWR1Y2VSaWdodCIsImFycmF5U29tZSIsImFzY2lpU2l6ZSIsImJhc2VQcm9wZXJ0eSIsImJhc2VGaW5kS2V5IiwiZWFjaEZ1bmMiLCJiYXNlRmluZEluZGV4IiwiZnJvbVJpZ2h0Iiwic3RyaWN0SW5kZXhPZiIsImJhc2VJc05hTiIsImJhc2VJbmRleE9mV2l0aCIsImJhc2VNZWFuIiwiYmFzZVN1bSIsImJhc2VQcm9wZXJ0eU9mIiwiYmFzZVJlZHVjZSIsImJhc2VUaW1lcyIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJjYWNoZUhhcyIsImNoYXJzU3RhcnRJbmRleCIsInN0clN5bWJvbHMiLCJjaHJTeW1ib2xzIiwiY2hhcnNFbmRJbmRleCIsImRlYnVyckxldHRlciIsIsOAIiwiw4EiLCLDgiIsIsODIiwiw4QiLCLDhSIsIsOgIiwiw6EiLCLDoiIsIsOjIiwiw6QiLCLDpSIsIsOHIiwiw6ciLCLDkCIsIsOwIiwiw4giLCLDiSIsIsOKIiwiw4siLCLDqCIsIsOpIiwiw6oiLCLDqyIsIsOMIiwiw40iLCLDjiIsIsOPIiwiw6wiLCLDrSIsIsOuIiwiw68iLCLDkSIsIsOxIiwiw5IiLCLDkyIsIsOUIiwiw5UiLCLDliIsIsOYIiwiw7IiLCLDsyIsIsO0Iiwiw7UiLCLDtiIsIsO4Iiwiw5kiLCLDmiIsIsObIiwiw5wiLCLDuSIsIsO6Iiwiw7siLCLDvCIsIsOdIiwiw70iLCLDvyIsIsOGIiwiw6YiLCLDniIsIsO+Iiwiw58iLCLEgCIsIsSCIiwixIQiLCLEgSIsIsSDIiwixIUiLCLEhiIsIsSIIiwixIoiLCLEjCIsIsSHIiwixIkiLCLEiyIsIsSNIiwixI4iLCLEkCIsIsSPIiwixJEiLCLEkiIsIsSUIiwixJYiLCLEmCIsIsSaIiwixJMiLCLElSIsIsSXIiwixJkiLCLEmyIsIsScIiwixJ4iLCLEoCIsIsSiIiwixJ0iLCLEnyIsIsShIiwixKMiLCLEpCIsIsSmIiwixKUiLCLEpyIsIsSoIiwixKoiLCLErCIsIsSuIiwixLAiLCLEqSIsIsSrIiwixK0iLCLEryIsIsSxIiwixLQiLCLEtSIsIsS2IiwixLciLCLEuCIsIsS5IiwixLsiLCLEvSIsIsS/IiwixYEiLCLEuiIsIsS8IiwixL4iLCLFgCIsIsWCIiwixYMiLCLFhSIsIsWHIiwixYoiLCLFhCIsIsWGIiwixYgiLCLFiyIsIsWMIiwixY4iLCLFkCIsIsWNIiwixY8iLCLFkSIsIsWUIiwixZYiLCLFmCIsIsWVIiwixZciLCLFmSIsIsWaIiwixZwiLCLFniIsIsWgIiwixZsiLCLFnSIsIsWfIiwixaEiLCLFoiIsIsWkIiwixaYiLCLFoyIsIsWlIiwixaciLCLFqCIsIsWqIiwixawiLCLFriIsIsWwIiwixbIiLCLFqSIsIsWrIiwixa0iLCLFryIsIsWxIiwixbMiLCLFtCIsIsW1IiwixbYiLCLFtyIsIsW4IiwixbkiLCLFuyIsIsW9IiwixboiLCLFvCIsIsW+IiwixLIiLCLEsyIsIsWSIiwixZMiLCLFiSIsIsW/IiwiZXNjYXBlSHRtbENoYXIiLCImIiwiPCIsIlwiIiwiZXNjYXBlU3RyaW5nQ2hhciIsImNociIsImhhc1VuaWNvZGUiLCJtYXBUb0FycmF5IiwiZm9yRWFjaCIsIm92ZXJBcmciLCJyZXBsYWNlSG9sZGVycyIsInBsYWNlaG9sZGVyIiwic2FmZUdldCIsInNldFRvQXJyYXkiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsIiZhbXA7IiwiJmx0OyIsIiZndDsiLCImcXVvdDsiLCImIzM5OyIsInJ1bkluQ29udGV4dCIsImRlZmF1bHRzIiwicGljayIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJpZENvdW50ZXIiLCJtYXNrU3JjS2V5IiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsIm9iamVjdENyZWF0ZSIsImNyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJ0b1N0cmluZ1RhZyIsImdldE5hdGl2ZSIsImN0eENsZWFyVGltZW91dCIsImN0eE5vdyIsImN0eFNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwibmF0aXZlRmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwibmF0aXZlSm9pbiIsIm5hdGl2ZUtleXMiLCJuYXRpdmVNYXgiLCJuYXRpdmVNaW4iLCJuYXRpdmVOb3ciLCJuYXRpdmVQYXJzZUludCIsIm5hdGl2ZVJhbmRvbSIsIm5hdGl2ZVJldmVyc2UiLCJEYXRhVmlldyIsIk1hcCIsIlByb21pc2UiLCJTZXQiLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwibWV0YU1hcCIsInJlYWxOYW1lcyIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsInN5bWJvbFRvU3RyaW5nIiwibG9kYXNoIiwiaXNPYmplY3RMaWtlIiwiTGF6eVdyYXBwZXIiLCJMb2Rhc2hXcmFwcGVyIiwid3JhcHBlckNsb25lIiwiYmFzZUNyZWF0ZSIsImlzT2JqZWN0IiwiYmFzZUxvZGFzaCIsImNoYWluQWxsIiwiX193cmFwcGVkX18iLCJfX2FjdGlvbnNfXyIsIl9fY2hhaW5fXyIsIl9faW5kZXhfXyIsIl9fdmFsdWVzX18iLCJfX2Rpcl9fIiwiX19maWx0ZXJlZF9fIiwiX19pdGVyYXRlZXNfXyIsIl9fdGFrZUNvdW50X18iLCJfX3ZpZXdzX18iLCJIYXNoIiwiZW50cmllcyIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiU3RhY2siLCJhcnJheUxpa2VLZXlzIiwiaW5oZXJpdGVkIiwiaXNBcnIiLCJpc0FyZyIsImlzQXJndW1lbnRzIiwiaXNCdWZmIiwiaXNUeXBlIiwic2tpcEluZGV4ZXMiLCJpc0luZGV4IiwiYXJyYXlTYW1wbGUiLCJiYXNlUmFuZG9tIiwiYXJyYXlTYW1wbGVTaXplIiwic2h1ZmZsZVNlbGYiLCJjb3B5QXJyYXkiLCJiYXNlQ2xhbXAiLCJhcnJheVNodWZmbGUiLCJhc3NpZ25NZXJnZVZhbHVlIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwiY29weU9iamVjdCIsImJhc2VBdCIsInBhdGhzIiwibG93ZXIiLCJ1cHBlciIsImJhc2VDbG9uZSIsImJpdG1hc2siLCJjdXN0b21pemVyIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiaW5pdENsb25lQXJyYXkiLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJzeW1ib2wiLCJyZWdleHAiLCJjbG9uZUFycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsInZhcmlhYmxlIiwiaW1wb3J0cyIsImdldE1hcERhdGEiLCJwYWlycyIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJiYXNlSGFzIiwiYmFzZUhhc0luIiwiYmFzZUludGVyc2VjdGlvbiIsImFycmF5cyIsIm90aExlbmd0aCIsIm90aEluZGV4IiwiY2FjaGVzIiwibWF4TGVuZ3RoIiwiSW5maW5pdHkiLCJzZWVuIiwiYmFzZUludm9rZSIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJiYXNlSXNOYXRpdmUiLCJiYXNlSXRlcmF0ZWUiLCJpZGVudGl0eSIsImJhc2VNYXRjaGVzUHJvcGVydHkiLCJiYXNlTWF0Y2hlcyIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJiYXNlS2V5c0luIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VMdCIsImJhc2VNYXAiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsIm5ld1ZhbHVlIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwidG9QbGFpbk9iamVjdCIsImJhc2VNZXJnZURlZXAiLCJiYXNlTnRoIiwiYmFzZU9yZGVyQnkiLCJpdGVyYXRlZXMiLCJvcmRlcnMiLCJnZXRJdGVyYXRlZSIsImNvbXBhcmVyIiwiYmFzZVNvcnRCeSIsImNyaXRlcmlhIiwib2JqQ3JpdGVyaWEiLCJvdGhDcml0ZXJpYSIsIm9yZGVyc0xlbmd0aCIsImNvbXBhcmVBc2NlbmRpbmciLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwibG93IiwibWlkIiwiYmFzZVNvcnRlZEluZGV4QnkiLCJ2YWxJc05hTiIsInZhbElzTnVsbCIsInZhbElzU3ltYm9sIiwidmFsSXNVbmRlZmluZWQiLCJvdGhJc0RlZmluZWQiLCJvdGhJc051bGwiLCJvdGhJc1JlZmxleGl2ZSIsIm90aElzU3ltYm9sIiwic2V0TG93IiwiYmFzZVNvcnRlZFVuaXEiLCJiYXNlVG9OdW1iZXIiLCJiYXNlVG9TdHJpbmciLCJiYXNlVW5pcSIsImNyZWF0ZVNldCIsInNlZW5JbmRleCIsImJhc2VVcGRhdGUiLCJ1cGRhdGVyIiwiYmFzZVdoaWxlIiwiaXNEcm9wIiwiYmFzZVdyYXBwZXJWYWx1ZSIsImFjdGlvbnMiLCJhY3Rpb24iLCJiYXNlWG9yIiwiYmFzZVppcE9iamVjdCIsImFzc2lnbkZ1bmMiLCJ2YWxzTGVuZ3RoIiwiY2FzdEFycmF5TGlrZU9iamVjdCIsImNhc3RGdW5jdGlvbiIsInN0cmluZ1RvUGF0aCIsImNhc3RSZXN0IiwiY2FzdFNsaWNlIiwiYXJyYXlCdWZmZXIiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiaW5pdGlhbGl6ZXIiLCJjcmVhdGVBc3NpZ25lciIsImFzc2lnbmVyIiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJpdGVyYWJsZSIsImNyZWF0ZUNhc2VGaXJzdCIsIm1ldGhvZE5hbWUiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImNyZWF0ZUN0b3IiLCJ0aGlzQmluZGluZyIsImNyZWF0ZUZpbmQiLCJmaW5kSW5kZXhGdW5jIiwiY3JlYXRlRmxvdyIsImZsYXRSZXN0IiwiZnVuY3MiLCJwcmVyZXEiLCJ0aHJ1IiwiZ2V0RnVuY05hbWUiLCJpc0xhemlhYmxlIiwicGxhbnQiLCJjcmVhdGVIeWJyaWQiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0FyeSIsImlzQmluZCIsImlzQmluZEtleSIsImlzRmxpcCIsImdldEhvbGRlciIsImhvbGRlcnNDb3VudCIsImNvdW50SG9sZGVycyIsIm5ld0hvbGRlcnMiLCJjcmVhdGVSZWN1cnJ5IiwiYXJyTGVuZ3RoIiwib2xkQXJyYXkiLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwidG9GaW5pdGUiLCJiYXNlUmFuZ2UiLCJjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uIiwidG9OdW1iZXIiLCJ3cmFwRnVuYyIsImlzQ3VycnkiLCJuZXdEYXRhIiwic2V0RGF0YSIsInNldFdyYXBUb1N0cmluZyIsImNyZWF0ZVJvdW5kIiwicHJlY2lzaW9uIiwidG9JbnRlZ2VyIiwicGFpciIsImNyZWF0ZVRvUGFpcnMiLCJiYXNlVG9QYWlycyIsImNyZWF0ZVdyYXAiLCJzcmNCaXRtYXNrIiwibmV3Qml0bWFzayIsImlzQ29tYm8iLCJtZXJnZURhdGEiLCJjcmVhdGVDdXJyeSIsImNyZWF0ZVBhcnRpYWwiLCJjcmVhdGVCaW5kIiwiY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiIsImN1c3RvbURlZmF1bHRzTWVyZ2UiLCJjdXN0b21PbWl0Q2xvbmUiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsImN0b3JTdHJpbmciLCJpc01hc2thYmxlIiwic3R1YkZhbHNlIiwib3RoZXJBcmdzIiwic2hvcnRPdXQiLCJyZWZlcmVuY2UiLCJkZXRhaWxzIiwiaW5zZXJ0V3JhcERldGFpbHMiLCJ1cGRhdGVXcmFwRGV0YWlscyIsImdldFdyYXBEZXRhaWxzIiwibGFzdENhbGxlZCIsInN0YW1wIiwicmFuZCIsIm1lbW9pemUiLCJtZW1vaXplQ2FwcGVkIiwicXVvdGUiLCJzdWJTdHJpbmciLCJkaWZmZXJlbmNlIiwiZGlmZmVyZW5jZUJ5IiwiZGlmZmVyZW5jZVdpdGgiLCJmaW5kSW5kZXgiLCJmaW5kTGFzdEluZGV4IiwiaW50ZXJzZWN0aW9uQnkiLCJpbnRlcnNlY3Rpb25XaXRoIiwicHVsbCIsInB1bGxBbGwiLCJwdWxsQXQiLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwidW56aXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiaW5kS2V5IiwiZGVib3VuY2UiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwic2hvdWxkSW52b2tlIiwidGltZVNpbmNlTGFzdENhbGwiLCJ0aW1lckV4cGlyZWQiLCJ0cmFpbGluZ0VkZ2UiLCJ0aW1lV2FpdGluZyIsInJlbWFpbmluZ1dhaXQiLCJkZWJvdW5jZWQiLCJpc0ludm9raW5nIiwibGVhZGluZ0VkZ2UiLCJmbHVzaCIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJDYWNoZSIsIm92ZXJBcmdzIiwidHJhbnNmb3JtcyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3RlIiwiaXNFcnJvciIsImlzSW50ZWdlciIsImlzTnVtYmVyIiwiaXNTdHJpbmciLCJsdGUiLCJpdGVyYXRvclRvQXJyYXkiLCJyZW1haW5kZXIiLCJ0b0xlbmd0aCIsImlzQmluYXJ5IiwiYXNzaWduIiwiYXNzaWduSW4iLCJhc3NpZ25JbldpdGgiLCJhc3NpZ25XaXRoIiwiYXQiLCJwcm9wc0luZGV4IiwicHJvcHNMZW5ndGgiLCJkZWZhdWx0c0RlZXAiLCJtZXJnZVdpdGgiLCJpbnZlcnRCeSIsImludm9rZSIsIm9taXQiLCJiYXNlUGljayIsInBpY2tCeSIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJ3b3JkIiwiY2FwaXRhbGl6ZSIsInVwcGVyRmlyc3QiLCJrZWJhYkNhc2UiLCJsb3dlckNhc2UiLCJsb3dlckZpcnN0Iiwic25ha2VDYXNlIiwic3RhcnRDYXNlIiwidXBwZXJDYXNlIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb21wYWN0IiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImJhc2VGaWxsIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJtYXBLZXlzIiwibWFwVmFsdWVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXEiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwiemlwT2JqZWN0IiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJlc2NhcGVSZWdFeHAiLCJldmVyeSIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFbXB0eSIsImlzRXF1YWwiLCJpc0VxdWFsV2l0aCIsImlzTWF0Y2giLCJpc01hdGNoV2l0aCIsImlzTmF0aXZlIiwiaXNOaWwiLCJpc051bGwiLCJpc1NhZmVJbnRlZ2VyIiwiaXNVbmRlZmluZWQiLCJpc1dlYWtNYXAiLCJpc1dlYWtTZXQiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsInBhZCIsInN0ckxlbmd0aCIsInBhZEVuZCIsInBhZFN0YXJ0IiwicmFkaXgiLCJmbG9hdGluZyIsInJlZHVjZSIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29tZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5IiwidGVtcGxhdGUiLCJpc0VzY2FwaW5nIiwiaXNFdmFsdWF0aW5nIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwicmVEZWxpbWl0ZXJzIiwic291cmNlVVJMIiwiZXNjYXBlVmFsdWUiLCJpbnRlcnBvbGF0ZVZhbHVlIiwiZXNUZW1wbGF0ZVZhbHVlIiwiZXZhbHVhdGVWYWx1ZSIsInRvTG93ZXIiLCJ0b1NhZmVJbnRlZ2VyIiwidG9VcHBlciIsInRyaW1FbmQiLCJ0cmltU3RhcnQiLCJvbWlzc2lvbiIsIm5ld0VuZCIsInVuZXNjYXBlIiwidW5pcXVlSWQiLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImdldFZpZXciLCJpdGVyTGVuZ3RoIiwidGFrZUNvdW50IiwiaXRlckluZGV4IiwiY29tbWl0Iiwid3JhcHBlZCIsInRvSlNPTiIsIkFwcGx5IiwicHJpdmF0ZU1hcCIsImludGVybmFsIiwianF1ZXJ5X2RlZmF1bHQiLCJBcHAiLCJvbkFqYXhSZXF1ZXN0RXJyb3IiLCJvbkFqYXhSZXF1ZXN0U3VjY2VzcyIsImVlIiwiZW1pdCIsInJlcXVlc3RVcmwiLCJvcGVuc2VhZHJhZ29uX2RlZmF1bHQiLCJYLVBKQVgiLCJyZXF1ZXN0QnlTZWxlY3RvciIsIiRlbGVtIiwibWF4TGlzdGVuZXJzIiwibG9jYWxDb25zb2xlIiwiX2V2ZW50cyIsIl9jYWxsYmFja3MiLCJfY29uc29sZSIsIl9tYXhMaXN0ZW5lcnMiLCJ3ZWlnaHQiLCJfZ2V0Q2FsbGJhY2tzIiwiX2hhcyIsImxpc3RlbmVyc051bWJlciIsImNhbGxiYWNrSW5kIiwiX2dldENhbGxiYWNrSW5kZXgiLCJhY3RpdmVDYWxsYmFjayIsIl9hY2hpZXZlTWF4TGlzdGVuZXIiLCJfY2FsbGJhY2tJc0V4aXN0cyIsIl9hZGRDYWxsYmFjayIsIm9uY2VDYWxsYmFjayIsImRlbGV0ZSIsIiRtYXAiLCIkdGh1bWJuYWlscyIsIiRkcmFnb24iLCJsb2NhbENvbmZpZ3VyYXRpb24iLCJwYWdldlZpZXciLCJsb2Rhc2hfZGVmYXVsdCIsInNsaWRlcl92YWx1ZSIsInNlcXVlbmNlIiwiJHJlc3BvbnNlVGV4dCIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsImciXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixF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RUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLGNBQUEsSUFDQUMsY0FBQSxJQUNBQyxhQUFBLEdBRUFDLHNCQUNBUixjQUFBLEVBQ0FDLGFBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLGNBQUEsSUFDQUMsY0FBQSxJQUNBQyxhQUFBLEdBRUFFLG9CQUNBVCxjQUFBLEVBQ0FDLGFBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLGNBQUEsSUFDQUMsY0FBQSxJQUNBQyxhQUFBLEdBRUFHLHdCQUNBVixjQUFBLEVBQ0FDLGFBQUEsRUFDQUMsZ0JBQUEsRUFDQUMsYUFBQSxFQUNBQyxjQUFBLEVBQ0FDLGNBQUEsSUFDQUMsY0FBQSxJQUNBQyxhQUFBLEdBRUFJLGFBQUEsRUFDQUMsY0FBQSxJQUNBQyxjQUFBLEVBQ0FDLFVBQUEsRUFDQUMsYUFBQSxFQUNBQyxrQkFBQSxFQUNBQyxpQkFBQSxFQUNBQyxrQkFBQSxHQUNBQyxrQkFBQSxJQUNBQyx1QkFBQSxJQUNBQyxVQUFBcEQsY0FDQXFELG1CQUFBLEdBQ0FDLFlBQUEsRUFDQUMsMkJBQUEsRUFDQUMsbUJBQUEsR0FHQUMscUJBQUEsRUFDQUMsc0JBQUEsS0FDQUMsa0JBQUEsRUFDQUMsa0JBQUEsRUFDQUMsaUJBQUEsRUFDQUMsdUJBQUEsRUFDQUMsd0JBQUEsS0FDQUMsaUJBQUEsRUFDQUMsaUJBQUEsRUFDQUMscUJBQUEsRUFDQUMscUJBQUEsRUFDQUMsa0JBQUEsSUFDQUMsbUJBQUEsS0FDQUMsaUJBQUEsRUFHQUMsZUFBQSxFQUNBQyxZQUFBLEtBQ0FDLGtCQUFBLEtBQ0FDLG1CQUFBLEdBQ0FDLDRCQUFBLEVBQ0FDLGFBQUEsS0FDQUMsY0FBQSxLQUNBQyxnQkFBQSxLQUNBQyxlQUFBLEtBQ0FDLHFCQUFBLEVBQ0FDLG1CQUFBLEVBQ0FDLGlCQUFBLEVBR0FDLFFBQUEsRUFHQUMsUUFBQSxFQUNBQyxTQUFBLEVBQ0FDLG1CQUFBLEtBQ0FDLHFCQUFBLEtBR0FDLG9CQUFBLEVBQ0FD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SUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsS0FBQUMsSUFBQSxLQUNBQyxJQUFBLEtBQUFDLElBQUEsS0FDQUMsSUFBQSxLQUVBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQ0FDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFBQUMsSUFBQSxJQUNBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJQUFBLElBQUFDLElBQUEsSUFDQUMsSUFBQSxJQUFBQyxJ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QUFrZ0QsRUFBQWo2RCxLQUFBLG1CQXlCQWc0RCxFQUFBQyxLQUFBLGtCQUdBMThILEVBQUEsV0FBQTI0RSxHQUFBLG9CQUNBOGpELEVBQUFDLEtBQUEsdUJBQUFyNEgsS0FBQWpGLFNBSUFZLEVBQUEsV0FBQTI0RSxHQUFBLG1CQUNBMzRFLEVBQUEsbUJBQUE4N0QsS0FBQXozRCxLQUFBakYsMEJDL09BakIsRUFBQUQsUUFBQSxTQUFBQyxHQW9CQSxPQW5CQUEsRUFBQXdnSSxrQkFDQXhnSSxFQUFBeWdJLFVBQUEsYUFDQXpnSSxFQUFBaTNHLFNBRUFqM0csRUFBQXd2RSxXQUFBeHZFLEVBQUF3dkUsYUFDQTd1RSxPQUFBQyxlQUFBWixFQUFBLFVBQ0FjLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE9BQUFmLEVBQUFFLEtBR0FTLE9BQUFDLGVBQUFaLEVBQUEsTUFDQWMsWUFBQSxFQUNBQyxJQUFBLFdBQ0EsT0FBQWYsRUFBQUMsS0FHQUQsRUFBQXdnSSxnQkFBQSxHQUVBeGdJLGtCQ3BCQSxJQUFBMGdJLEVBR0FBLEVBQUEsV0FDQSxPQUFBeDZILEtBREEsR0FJQSxJQUVBdzZILEtBQUFwaUMsU0FBQSxjQUFBQSxLQUFBLEVBQUE5aUYsTUFBQSxRQUNDLE1BQUE1VyxHQUVELGlCQUFBSSxTQUFBMDdILEVBQUExN0gsUUFPQWhGLEVBQUFELFFBQUEyZ0kiLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiLy8hIG9wZW5zZWFkcmFnb24gMi4zLjFcbi8vISBCdWlsdCBvbiAyMDE3LTA5LTE5XG4vLyEgR2l0IGNvbW1pdDogdjIuMy4xLTAtMDg0MTRjZFxuLy8hIGh0dHA6Ly9vcGVuc2VhZHJhZ29uLmdpdGh1Yi5pb1xuLy8hIExpY2Vuc2U6IGh0dHA6Ly9vcGVuc2VhZHJhZ29uLmdpdGh1Yi5pby9saWNlbnNlL1xuXG4vKlxuICogT3BlblNlYWRyYWdvblxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4vKlxuICogUG9ydGlvbnMgb2YgdGhpcyBzb3VyY2UgZmlsZSB0YWtlbiBmcm9tIGpRdWVyeTpcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSBKb2huIFJlc2lnXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG4gKiBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG4gKiBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbiAqIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZVxuICogaW5jbHVkZWQgaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbiAqIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkRcbiAqIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkVcbiAqIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT05cbiAqIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTlxuICogV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuLypcbiAqIFBvcnRpb25zIG9mIHRoaXMgc291cmNlIGZpbGUgdGFrZW4gZnJvbSBtYXR0c25pZGVyLmNvbTpcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMDYtMjAxMyBNYXR0IFNuaWRlclxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4gKiBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksXG4gKiB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uXG4gKiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSxcbiAqIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZVxuICogU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULlxuICogSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTllcbiAqIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlRcbiAqIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUlxuICogVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cblxuXG4vKipcbiAqIEBuYW1lc3BhY2UgT3BlblNlYWRyYWdvblxuICogQHZlcnNpb24gb3BlbnNlYWRyYWdvbiAyLjMuMVxuICogQGNsYXNzZGVzYyBUaGUgcm9vdCBuYW1lc3BhY2UgZm9yIE9wZW5TZWFkcmFnb24uICBBbGwgdXRpbGl0eSBtZXRob2RzXG4gKiBhbmQgY2xhc3NlcyBhcmUgZGVmaW5lZCBvbiBvciBiZWxvdyB0aGlzIG5hbWVzcGFjZS5cbiAqXG4gKi9cblxuXG4vLyBUeXBlZGVmc1xuXG4gLyoqXG4gICogQWxsIHJlcXVpcmVkIGFuZCBvcHRpb25hbCBzZXR0aW5ncyBmb3IgaW5zdGFudGlhdGluZyBhIG5ldyBpbnN0YW5jZSBvZiBhbiBPcGVuU2VhZHJhZ29uIGltYWdlIHZpZXdlci5cbiAgKlxuICAqIEB0eXBlZGVmIHtPYmplY3R9IE9wdGlvbnNcbiAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAqXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IGlkXG4gICogICAgIElkIG9mIHRoZSBlbGVtZW50IHRvIGFwcGVuZCB0aGUgdmlld2VyJ3MgY29udGFpbmVyIGVsZW1lbnQgdG8uIElmIG5vdCBwcm92aWRlZCwgdGhlICdlbGVtZW50JyBwcm9wZXJ0eSBtdXN0IGJlIHByb3ZpZGVkLlxuICAqICAgICBJZiBib3RoIHRoZSBlbGVtZW50IGFuZCBpZCBwcm9wZXJ0aWVzIGFyZSBzcGVjaWZpZWQsIHRoZSB2aWV3ZXIgaXMgYXBwZW5kZWQgdG8gdGhlIGVsZW1lbnQgcHJvdmlkZWQgaW4gdGhlIGVsZW1lbnQgcHJvcGVydHkuXG4gICpcbiAgKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnRcbiAgKiAgICAgVGhlIGVsZW1lbnQgdG8gYXBwZW5kIHRoZSB2aWV3ZXIncyBjb250YWluZXIgZWxlbWVudCB0by4gSWYgbm90IHByb3ZpZGVkLCB0aGUgJ2lkJyBwcm9wZXJ0eSBtdXN0IGJlIHByb3ZpZGVkLlxuICAqICAgICBJZiBib3RoIHRoZSBlbGVtZW50IGFuZCBpZCBwcm9wZXJ0aWVzIGFyZSBzcGVjaWZpZWQsIHRoZSB2aWV3ZXIgaXMgYXBwZW5kZWQgdG8gdGhlIGVsZW1lbnQgcHJvdmlkZWQgaW4gdGhlIGVsZW1lbnQgcHJvcGVydHkuXG4gICpcbiAgKiBAcHJvcGVydHkge0FycmF5fFN0cmluZ3xGdW5jdGlvbnxPYmplY3R9IFt0aWxlU291cmNlcz1udWxsXVxuICAqICAgICBUaWxlIHNvdXJjZShzKSB0byBvcGVuIGluaXRpYWxseS4gVGhpcyBpcyBhIGNvbXBsZXggcGFyYW1ldGVyOyBzZWVcbiAgKiAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI29wZW59IGZvciBkZXRhaWxzLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFt0YWJJbmRleD0wXVxuICAqICAgICBUYWJiaW5nIG9yZGVyIGluZGV4IHRvIGFzc2lnbiB0byB0aGUgdmlld2VyIGVsZW1lbnQuIFBvc2l0aXZlIHZhbHVlcyBhcmUgc2VsZWN0ZWQgaW4gaW5jcmVhc2luZyBvcmRlci4gV2hlbiB0YWJJbmRleCBpcyAwXG4gICogICAgIHNvdXJjZSBvcmRlciBpcyB1c2VkLiBBIG5lZ2F0aXZlIHZhbHVlIG9taXRzIHRoZSB2aWV3ZXIgZnJvbSB0aGUgdGFiYmluZyBvcmRlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7QXJyYXl9IG92ZXJsYXlzIEFycmF5IG9mIG9iamVjdHMgZGVmaW5pbmcgcGVybWFuZW50IG92ZXJsYXlzIG9mXG4gICogICAgIHRoZSB2aWV3ZXIuIFRoZSBvdmVybGF5cyBhZGRlZCB2aWEgdGhpcyBvcHRpb24gYW5kIGxhdGVyIHJlbW92ZWQgd2l0aFxuICAqICAgICB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjcmVtb3ZlT3ZlcmxheX0gd2lsbCBiZSBhZGRlZCBiYWNrIHdoZW4gYSBuZXdcbiAgKiAgICAgaW1hZ2UgaXMgb3BlbmVkLlxuICAqICAgICBUbyBhZGQgb3ZlcmxheXMgd2hpY2ggY2FuIGJlIGRlZmluaXRpdmVseSByZW1vdmVkLCBvbmUgbXVzdCB1c2VcbiAgKiAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2FkZE92ZXJsYXl9XG4gICogICAgIElmIGRpc3BsYXlpbmcgYSBzZXF1ZW5jZSBvZiBpbWFnZXMsIHRoZSBvdmVybGF5cyBjYW4gYmUgYXNzb2NpYXRlZFxuICAqICAgICB3aXRoIGEgc3BlY2lmaWMgcGFnZSBieSBwYXNzaW5nIHRoZSBvdmVybGF5cyBhcnJheSB0byB0aGUgcGFnZSdzXG4gICogICAgIHRpbGUgc291cmNlIGNvbmZpZ3VyYXRpb24uXG4gICogICAgIEV4cGVjdGVkIHByb3BlcnRpZXM6XG4gICogICAgICogeCwgeSwgKG9yIHB4LCBweSBmb3IgcGl4ZWwgY29vcmRpbmF0ZXMpIHRvIGRlZmluZSB0aGUgbG9jYXRpb24uXG4gICogICAgICogd2lkdGgsIGhlaWdodCBpbiBwb2ludCBpZiB1c2luZyB4LHkgb3IgaW4gcGl4ZWxzIGlmIHVzaW5nIHB4LHB5LiBJZiB3aWR0aFxuICAqICAgICAgIGFuZCBoZWlnaHQgYXJlIHNwZWNpZmllZCwgdGhlIG92ZXJsYXkgc2l6ZSBpcyBhZGp1c3RlZCB3aGVuIHpvb21pbmcsXG4gICogICAgICAgb3RoZXJ3aXNlIHRoZSBzaXplIHN0YXlzIHRoZSBzaXplIG9mIHRoZSBjb250ZW50IChvciB0aGUgc2l6ZSBkZWZpbmVkIGJ5IENTUykuXG4gICogICAgICogY2xhc3NOYW1lIHRvIGFzc29jaWF0ZSBhIGNsYXNzIHRvIHRoZSBvdmVybGF5XG4gICogICAgICogaWQgdG8gc2V0IHRoZSBvdmVybGF5IGVsZW1lbnQuIElmIGFuIGVsZW1lbnQgd2l0aCB0aGlzIGlkIGFscmVhZHkgZXhpc3RzLFxuICAqICAgICAgIGl0IGlzIHJldXNlZCwgb3RoZXJ3aXNlIGl0IGlzIGNyZWF0ZWQuIElmIG5vdCBzcGVjaWZpZWQsIGEgbmV3IGVsZW1lbnQgaXNcbiAgKiAgICAgICBjcmVhdGVkLlxuICAqICAgICAqIHBsYWNlbWVudCBhIHN0cmluZyB0byBkZWZpbmUgdGhlIHJlbGF0aXZlIHBvc2l0aW9uIHRvIHRoZSB2aWV3cG9ydC5cbiAgKiAgICAgICBPbmx5IHVzZWQgaWYgbm8gd2lkdGggYW5kIGhlaWdodCBhcmUgc3BlY2lmaWVkLiBEZWZhdWx0OiAnVE9QX0xFRlQnLlxuICAqICAgICAgIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IGZvciBwb3NzaWJsZSB2YWx1ZXMuXG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gW3htbFBhdGg9bnVsbF1cbiAgKiAgICAgPHN0cm9uZz5ERVBSRUNBVEVEPC9zdHJvbmc+LiBBIHJlbGF0aXZlIHBhdGggdG8gbG9hZCBhIERaSSBmaWxlIGZyb20gdGhlIHNlcnZlci5cbiAgKiAgICAgUHJlZmVyIHRoZSBuZXdlciBPcHRpb25zLnRpbGVTb3VyY2VzLlxuICAqXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IFtwcmVmaXhVcmw9Jy9pbWFnZXMvJ11cbiAgKiAgICAgUHJlcGVuZHMgdGhlIHByZWZpeFVybCB0byBuYXZJbWFnZXMgcGF0aHMsIHdoaWNoIGlzIHZlcnkgdXNlZnVsXG4gICogICAgIHNpbmNlIHRoZSBkZWZhdWx0IHBhdGhzIGFyZSByYXJlbHkgdXNlZnVsIGZvciBwcm9kdWN0aW9uXG4gICogICAgIGVudmlyb25tZW50cy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5OYXZJbWFnZXN9IFtuYXZJbWFnZXNdXG4gICogICAgIEFuIG9iamVjdCB3aXRoIGEgcHJvcGVydHkgZm9yIGVhY2ggYnV0dG9uIG9yIG90aGVyIGJ1aWx0LWluIG5hdmlnYXRpb25cbiAgKiAgICAgY29udHJvbCwgZWcgdGhlIGN1cnJlbnQgJ3pvb21JbicsICd6b29tT3V0JywgJ2hvbWUnLCBhbmQgJ2Z1bGxwYWdlJy5cbiAgKiAgICAgRWFjaCBvZiB0aG9zZSBpbiB0dXJuIHByb3ZpZGVzIGFuIGltYWdlIHBhdGggZm9yIGVhY2ggc3RhdGUgb2YgdGhlIGJ1dHRvblxuICAqICAgICBvciBuYXZpZ2F0aW9uIGNvbnRyb2wsIGVnICdSRVNUJywgJ0dST1VQJywgJ0hPVkVSJywgJ1BSRVNTJy4gRmluYWxseSB0aGVcbiAgKiAgICAgaW1hZ2UgcGF0aHMsIGJ5IGRlZmF1bHQgYXNzdW1lIHRoZXJlIGlzIGEgZm9sZGVyIG9uIHRoZSBzZXJ2ZXJzIHJvb3QgcGF0aFxuICAqICAgICBjYWxsZWQgJy9pbWFnZXMnLCBlZyAnL2ltYWdlcy96b29taW5fcmVzdC5wbmcnLiAgSWYgeW91IG5lZWQgdG8gYWRqdXN0XG4gICogICAgIHRoZXNlIHBhdGhzLCBwcmVmZXIgc2V0dGluZyB0aGUgb3B0aW9uLnByZWZpeFVybCByYXRoZXIgdGhhbiBvdmVycmlkaW5nXG4gICogICAgIGV2ZXJ5IGltYWdlIHBhdGggZGlyZWN0bHkgdGhyb3VnaCB0aGlzIHNldHRpbmcuXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtkZWJ1Z01vZGU9ZmFsc2VdXG4gICogICAgIFRPRE86IHByb3ZpZGUgYW4gaW4tc2NyZWVuIHBhbmVsIHByb3ZpZGluZyBldmVudCBkZXRhaWwgZmVlZGJhY2suXG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gW2RlYnVnR3JpZENvbG9yPVsnIzQzN0FCMicsICcjMUI5RTc3JywgJyNEOTVGMDInLCAnIzc1NzBCMycsICcjRTcyOThBJywgJyM2NkE2MUUnLCAnI0U2QUIwMicsICcjQTY3NjFEJywgJyM2NjY2NjYnXV1cbiAgKiAgICAgVGhlIGNvbG9ycyBvZiBncmlkcyBpbiBkZWJ1ZyBtb2RlLiBFYWNoIHRpbGVkIGltYWdlJ3MgZ3JpZCB1c2VzIGEgY29uc2VjdXRpdmUgY29sb3IuXG4gICogICAgIElmIHRoZXJlIGFyZSBtb3JlIHRpbGVkIGltYWdlcyB0aGFuIHByb3ZpZGVkIGNvbG9ycywgdGhlIGNvbG9yIHZlY3RvciBpcyByZWN5Y2xlZC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbYmxlbmRUaW1lPTBdXG4gICogICAgIFNwZWNpZmllcyB0aGUgZHVyYXRpb24gb2YgYW5pbWF0aW9uIGFzIGhpZ2hlciBvciBsb3dlciBsZXZlbCB0aWxlcyBhcmVcbiAgKiAgICAgcmVwbGFjaW5nIHRoZSBleGlzdGluZyB0aWxlLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbYWx3YXlzQmxlbmQ9ZmFsc2VdXG4gICogICAgIEZvcmNlcyB0aGUgdGlsZSB0byBhbHdheXMgYmxlbmQuICBCeSBkZWZhdWx0IHRoZSB0aWxlcyBza2lwIGJsZW5kaW5nXG4gICogICAgIHdoZW4gdGhlIGJsZW5kVGltZSBpcyBzdXJwYXNzZWQgYW5kIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZSB3b3VsZFxuICAqICAgICBub3QgY29tcGxldGUgdGhlIGJsZW5kLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbYXV0b0hpZGVDb250cm9scz10cnVlXVxuICAqICAgICBJZiB0aGUgdXNlciBzdG9wcyBpbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3cG9ydCwgZmFkZSB0aGUgbmF2aWdhdGlvblxuICAqICAgICBjb250cm9scy4gIFVzZWZ1bCBmb3IgcHJlc2VudGF0aW9uIHNpbmNlIHRoZSBjb250cm9scyBhcmUgYnkgZGVmYXVsdFxuICAqICAgICBmbG9hdGVkIG9uIHRvcCBvZiB0aGUgaW1hZ2UgdGhlIHVzZXIgaXMgdmlld2luZy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZVJlbmRlcj1mYWxzZV1cbiAgKiAgICAgUmVuZGVyIHRoZSBiZXN0IGNsb3Nlc3QgbGV2ZWwgZmlyc3QsIGlnbm9yaW5nIHRoZSBsb3dlcmluZyBsZXZlbHMgd2hpY2hcbiAgKiAgICAgcHJvdmlkZSB0aGUgZWZmZWN0IG9mIHZlcnkgYmx1cnJ5IHRvIHNoYXJwLiBJdCBpcyByZWNvbW1lbmRlZCB0byBjaGFuZ2VcbiAgKiAgICAgc2V0dGluZyB0byB0cnVlIGZvciBtb2JpbGUgZGV2aWNlcy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZGVmYXVsdFpvb21MZXZlbD0wXVxuICAqICAgICBab29tIGxldmVsIHRvIHVzZSB3aGVuIGltYWdlIGlzIGZpcnN0IG9wZW5lZCBvciB0aGUgaG9tZSBidXR0b24gaXMgY2xpY2tlZC5cbiAgKiAgICAgSWYgMCwgYWRqdXN0cyB0byBmaXQgdmlld2VyLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtvcGFjaXR5PTFdXG4gICogICAgIERlZmF1bHQgcHJvcG9ydGlvbmFsIG9wYWNpdHkgb2YgdGhlIHRpbGVkIGltYWdlcyAoMT1vcGFxdWUsIDA9aGlkZGVuKVxuICAqICAgICBIaWRkZW4gaW1hZ2VzIGRvIG5vdCBkcmF3IGFuZCBvbmx5IGxvYWQgd2hlbiBwcmVsb2FkaW5nIGlzIGFsbG93ZWQuXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtwcmVsb2FkPWZhbHNlXVxuICAqICAgICBEZWZhdWx0IHN3aXRjaCBmb3IgbG9hZGluZyBoaWRkZW4gaW1hZ2VzICh0cnVlIGxvYWRzLCBmYWxzZSBibG9ja3MpXG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gW2NvbXBvc2l0ZU9wZXJhdGlvbj1udWxsXVxuICAqICAgICBWYWxpZCB2YWx1ZXMgYXJlICdzb3VyY2Utb3ZlcicsICdzb3VyY2UtYXRvcCcsICdzb3VyY2UtaW4nLCAnc291cmNlLW91dCcsXG4gICogICAgICdkZXN0aW5hdGlvbi1vdmVyJywgJ2Rlc3RpbmF0aW9uLWF0b3AnLCAnZGVzdGluYXRpb24taW4nLFxuICAqICAgICAnZGVzdGluYXRpb24tb3V0JywgJ2xpZ2h0ZXInLCAnY29weScgb3IgJ3hvcidcbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm58RnVuY3Rpb259IFtwbGFjZWhvbGRlckZpbGxTdHlsZT1udWxsXVxuICAqICAgICBEcmF3cyBhIGNvbG9yZWQgcmVjdGFuZ2xlIGJlaGluZCB0aGUgdGlsZSBpZiBpdCBpcyBub3QgbG9hZGVkIHlldC5cbiAgKiAgICAgWW91IGNhbiBwYXNzIGEgQ1NTIGNvbG9yIHZhbHVlIGxpa2UgXCIjRkY4ODAwXCIuXG4gICogICAgIFdoZW4gcGFzc2luZyBhIGZ1bmN0aW9uIHRoZSB0aWxlZEltYWdlIGFuZCBjYW52YXMgY29udGV4dCBhcmUgYXZhaWxhYmxlIGFzIGFyZ3VtZW50IHdoaWNoIGlzIHVzZWZ1bCB3aGVuIHlvdSBkcmF3IGEgZ3JhZGllbnQgb3IgcGF0dGVybi5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZGVncmVlcz0wXVxuICAqICAgICBJbml0aWFsIHJvdGF0aW9uLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFttaW5ab29tTGV2ZWw9bnVsbF1cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbWF4Wm9vbUxldmVsPW51bGxdXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtob21lRmlsbHNWaWV3ZXI9ZmFsc2VdXG4gICogICAgIE1ha2UgdGhlICdob21lJyBidXR0b24gZmlsbCB0aGUgdmlld2VyIGFuZCBjbGlwIHRoZSBpbWFnZSwgaW5zdGVhZFxuICAqICAgICBvZiBmaXR0aW5nIHRoZSBpbWFnZSB0byB0aGUgdmlld2VyIGFuZCBsZXR0ZXJib3hpbmcuXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtwYW5Ib3Jpem9udGFsPXRydWVdXG4gICogICAgIEFsbG93IGhvcml6b250YWwgcGFuLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbcGFuVmVydGljYWw9dHJ1ZV1cbiAgKiAgICAgQWxsb3cgdmVydGljYWwgcGFuLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbY29uc3RyYWluRHVyaW5nUGFuPWZhbHNlXVxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbd3JhcEhvcml6b250YWw9ZmFsc2VdXG4gICogICAgIFNldCB0byB0cnVlIHRvIGZvcmNlIHRoZSBpbWFnZSB0byB3cmFwIGhvcml6b250YWxseSB3aXRoaW4gdGhlIHZpZXdwb3J0LlxuICAqICAgICBVc2VmdWwgZm9yIG1hcHMgb3IgaW1hZ2VzIHJlcHJlc2VudGluZyB0aGUgc3VyZmFjZSBvZiBhIHNwaGVyZSBvciBjeWxpbmRlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3dyYXBWZXJ0aWNhbD1mYWxzZV1cbiAgKiAgICAgU2V0IHRvIHRydWUgdG8gZm9yY2UgdGhlIGltYWdlIHRvIHdyYXAgdmVydGljYWxseSB3aXRoaW4gdGhlIHZpZXdwb3J0LlxuICAqICAgICBVc2VmdWwgZm9yIG1hcHMgb3IgaW1hZ2VzIHJlcHJlc2VudGluZyB0aGUgc3VyZmFjZSBvZiBhIHNwaGVyZSBvciBjeWxpbmRlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbWluWm9vbUltYWdlUmF0aW89MC45XVxuICAqICAgICBUaGUgbWluaW11bSBwZXJjZW50YWdlICggZXhwcmVzc2VkIGFzIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSApIG9mXG4gICogICAgIHRoZSB2aWV3cG9ydCBoZWlnaHQgb3Igd2lkdGggYXQgd2hpY2ggdGhlIHpvb20gb3V0IHdpbGwgYmUgY29uc3RyYWluZWQuXG4gICogICAgIFNldHRpbmcgaXQgdG8gMCwgZm9yIGV4YW1wbGUgd2lsbCBhbGxvdyB5b3UgdG8gem9vbSBvdXQgaW5maW5pdHkuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW21heFpvb21QaXhlbFJhdGlvPTEuMV1cbiAgKiAgICAgVGhlIG1heGltdW0gcmF0aW8gdG8gYWxsb3cgYSB6b29tLWluIHRvIGFmZmVjdCB0aGUgaGlnaGVzdCBsZXZlbCBwaXhlbFxuICAqICAgICByYXRpby4gVGhpcyBjYW4gYmUgc2V0IHRvIEluZmluaXR5IHRvIGFsbG93ICdpbmZpbml0ZScgem9vbWluZyBpbnRvIHRoZVxuICAqICAgICBpbWFnZSB0aG91Z2ggaXQgaXMgbGVzcyBlZmZlY3RpdmUgdmlzdWFsbHkgaWYgdGhlIEhUTUw1IENhbnZhcyBpcyBub3RcbiAgKiAgICAgYXZhaWxibGUgb24gdGhlIHZpZXdpbmcgZGV2aWNlLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtzbW9vdGhUaWxlRWRnZXNNaW5ab29tPTEuMV1cbiAgKiAgICAgQSB6b29tIHBlcmNlbnRhZ2UgKCB3aGVyZSAxIGlzIDEwMCUgKSBvZiB0aGUgaGlnaGVzdCByZXNvbHV0aW9uIGxldmVsLlxuICAqICAgICBXaGVuIHpvb21lZCBpbiBiZXlvbmQgdGhpcyB2YWx1ZSBhbHRlcm5hdGl2ZSBjb21wb3NpdGluZyB3aWxsIGJlIHVzZWQgdG9cbiAgKiAgICAgc21vb3RoIG91dCB0aGUgZWRnZXMgYmV0d2VlbiB0aWxlcy4gVGhpcyB3aWxsIGhhdmUgYSBwZXJmb3JtYW5jZSBpbXBhY3QuXG4gICogICAgIENhbiBiZSBzZXQgdG8gSW5maW5pdHkgdG8gdHVybiBpdCBvZmYuXG4gICogICAgIE5vdGU6IFRoaXMgc2V0dGluZyBpcyBpZ25vcmVkIG9uIGlPUyBkZXZpY2VzIGR1ZSB0byBhIGtub3duIGJ1ZyAoU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vb3BlbnNlYWRyYWdvbi9vcGVuc2VhZHJhZ29uL2lzc3Vlcy85NTJ9KVxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbaU9TRGV2aWNlPT9dXG4gICogICAgIFRydWUgaWYgcnVubmluZyBvbiBhbiBpT1MgZGV2aWNlLCBmYWxzZSBvdGhlcndpc2UuXG4gICogICAgIFVzZWQgdG8gZGlzYWJsZSBjZXJ0YWluIGZlYXR1cmVzIHRoYXQgYmVoYXZlIGRpZmZlcmVudGx5IG9uIGlPUyBkZXZpY2VzLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbYXV0b1Jlc2l6ZT10cnVlXVxuICAqICAgICBTZXQgdG8gZmFsc2UgdG8gcHJldmVudCBwb2xsaW5nIGZvciB2aWV3ZXIgc2l6ZSBjaGFuZ2VzLiBVc2VmdWwgZm9yIHByb3ZpZGluZyBjdXN0b20gcmVzaXplIGJlaGF2aW9yLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbcHJlc2VydmVJbWFnZVNpemVPblJlc2l6ZT1mYWxzZV1cbiAgKiAgICAgU2V0IHRvIHRydWUgdG8gaGF2ZSB0aGUgaW1hZ2Ugc2l6ZSBwcmVzZXJ2ZWQgd2hlbiB0aGUgdmlld2VyIGlzIHJlc2l6ZWQuIFRoaXMgcmVxdWlyZXMgYXV0b1Jlc2l6ZT10cnVlIChkZWZhdWx0KS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbbWluU2Nyb2xsRGVsdGFUaW1lPTUwXVxuICAqICAgICBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gY2FudmFzLXNjcm9sbCBldmVudHMuIFRoaXMgdmFsdWUgaGVscHMgbm9ybWFsaXplIHRoZSByYXRlIG9mIGNhbnZhcy1zY3JvbGxcbiAgKiAgICAgZXZlbnRzIGJldHdlZW4gZGlmZmVyZW50IGRldmljZXMsIGNhdXNpbmcgdGhlIGZhc3RlciBkZXZpY2VzIHRvIHNsb3cgZG93biBlbm91Z2ggdG8gbWFrZSB0aGUgem9vbSBjb250cm9sXG4gICogICAgIG1vcmUgbWFuYWdlYWJsZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbcGl4ZWxzUGVyV2hlZWxMaW5lPTQwXVxuICAqICAgICBGb3IgcGl4ZWwtcmVzb2x1dGlvbiBzY3JvbGxpbmcgZGV2aWNlcywgdGhlIG51bWJlciBvZiBwaXhlbHMgZXF1YWwgdG8gb25lIHNjcm9sbCBsaW5lLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFt2aXNpYmlsaXR5UmF0aW89MC41XVxuICAqICAgICBUaGUgcGVyY2VudGFnZSAoIGFzIGEgbnVtYmVyIGZyb20gMCB0byAxICkgb2YgdGhlIHNvdXJjZSBpbWFnZSB3aGljaFxuICAqICAgICBtdXN0IGJlIGtlcHQgd2l0aGluIHRoZSB2aWV3cG9ydC4gIElmIHRoZSBpbWFnZSBpcyBkcmFnZ2VkIGJleW9uZCB0aGF0XG4gICogICAgIGxpbWl0LCBpdCB3aWxsICdib3VuY2UnIGJhY2sgdW50aWwgdGhlIG1pbmltdW0gdmlzaWJpbGl0eSByYXRpbyBpc1xuICAqICAgICBhY2hpZXZlZC4gIFNldHRpbmcgdGhpcyB0byAwIGFuZCB3cmFwSG9yaXpvbnRhbCAoIG9yIHdyYXBWZXJ0aWNhbCApIHRvXG4gICogICAgIHRydWUgd2lsbCBwcm92aWRlIHRoZSBlZmZlY3Qgb2YgYW4gaW5maW5pdGVseSBzY3JvbGxpbmcgdmlld3BvcnQuXG4gICpcbiAgKiBAcHJvcGVydHkge09iamVjdH0gW3ZpZXdwb3J0TWFyZ2lucz17fV1cbiAgKiAgICAgUHVzaGVzIHRoZSBcImhvbWVcIiByZWdpb24gaW4gZnJvbSB0aGUgc2lkZXMgYnkgdGhlIHNwZWNpZmllZCBhbW91bnRzLlxuICAqICAgICBQb3NzaWJsZSBzdWJwcm9wZXJ0aWVzIChOdW1iZXJzLCBpbiBzY3JlZW4gY29vcmRpbmF0ZXMpOiBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20uXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2ltYWdlTG9hZGVyTGltaXQ9MF1cbiAgKiAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGltYWdlIHJlcXVlc3RzIHRvIG1ha2UgY29uY3VycmVudGx5LiBCeSBkZWZhdWx0XG4gICogICAgIGl0IGlzIHNldCB0byAwIGFsbG93aW5nIHRoZSBicm93c2VyIHRvIG1ha2UgdGhlIG1heGltdW0gbnVtYmVyIG9mXG4gICogICAgIGltYWdlIHJlcXVlc3RzIGluIHBhcmFsbGVsIGFzIGFsbG93ZWQgYnkgdGhlIGJyb3dzZXJzIHBvbGljeS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbY2xpY2tUaW1lVGhyZXNob2xkPTMwMF1cbiAgKiAgICAgIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHdpdGhpbiB3aGljaCBhIHBvaW50ZXIgZG93bi11cCBldmVudCBjb21iaW5hdGlvblxuICAqICAgICAgd2lsbCBiZSB0cmVhdGVkIGFzIGEgY2xpY2sgZ2VzdHVyZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbY2xpY2tEaXN0VGhyZXNob2xkPTVdXG4gICogICAgICBUaGUgbWF4aW11bSBkaXN0YW5jZSBhbGxvd2VkIGJldHdlZW4gYSBwb2ludGVyIGRvd24gZXZlbnQgYW5kIGEgcG9pbnRlciB1cCBldmVudFxuICAqICAgICAgdG8gYmUgdHJlYXRlZCBhcyBhIGNsaWNrIGdlc3R1cmUuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2RibENsaWNrVGltZVRocmVzaG9sZD0zMDBdXG4gICogICAgICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB3aXRoaW4gd2hpY2ggdHdvIHBvaW50ZXIgZG93bi11cCBldmVudCBjb21iaW5hdGlvbnNcbiAgKiAgICAgIHdpbGwgYmUgdHJlYXRlZCBhcyBhIGRvdWJsZS1jbGljayBnZXN0dXJlLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtkYmxDbGlja0Rpc3RUaHJlc2hvbGQ9MjBdXG4gICogICAgICBUaGUgbWF4aW11bSBkaXN0YW5jZSBhbGxvd2VkIGJldHdlZW4gdHdvIHBvaW50ZXIgY2xpY2sgZXZlbnRzXG4gICogICAgICB0byBiZSB0cmVhdGVkIGFzIGEgZG91YmxlLWNsaWNrIGdlc3R1cmUuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW3NwcmluZ1N0aWZmbmVzcz02LjVdXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2FuaW1hdGlvblRpbWU9MS4yXVxuICAqICAgICBTcGVjaWZpZXMgdGhlIGFuaW1hdGlvbiBkdXJhdGlvbiBwZXIgZWFjaCB7QGxpbmsgT3BlblNlYWRyYWdvbi5TcHJpbmd9XG4gICogICAgIHdoaWNoIG9jY3VyIHdoZW4gdGhlIGltYWdlIGlzIGRyYWdnZWQgb3Igem9vbWVkLlxuICAqXG4gICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLkdlc3R1cmVTZXR0aW5nc30gW2dlc3R1cmVTZXR0aW5nc01vdXNlXVxuICAqICAgICBTZXR0aW5ncyBmb3IgZ2VzdHVyZXMgZ2VuZXJhdGVkIGJ5IGEgbW91c2UgcG9pbnRlciBkZXZpY2UuIChTZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzfSlcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NNb3VzZS5zY3JvbGxUb1pvb209dHJ1ZV0gLSBab29tIG9uIHNjcm9sbCBnZXN0dXJlXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzTW91c2UuY2xpY2tUb1pvb209dHJ1ZV0gLSBab29tIG9uIGNsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NNb3VzZS5kYmxDbGlja1RvWm9vbT1mYWxzZV0gLSBab29tIG9uIGRvdWJsZS1jbGljayBnZXN0dXJlLiBOb3RlOiBJZiBzZXQgdG8gdHJ1ZVxuICAqICAgICB0aGVuIGNsaWNrVG9ab29tIHNob3VsZCBiZSBzZXQgdG8gZmFsc2UgdG8gcHJldmVudCBtdWx0aXBsZSB6b29tcy5cbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NNb3VzZS5waW5jaFRvWm9vbT1mYWxzZV0gLSBab29tIG9uIHBpbmNoIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NNb3VzZS5mbGlja0VuYWJsZWQ9ZmFsc2VdIC0gRW5hYmxlIGZsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2dlc3R1cmVTZXR0aW5nc01vdXNlLmZsaWNrTWluU3BlZWQ9MTIwXSAtIElmIGZsaWNrRW5hYmxlZCBpcyB0cnVlLCB0aGUgbWluaW11bSBzcGVlZCB0byBpbml0aWF0ZSBhIGZsaWNrIGdlc3R1cmUgKHBpeGVscy1wZXItc2Vjb25kKVxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZ2VzdHVyZVNldHRpbmdzTW91c2UuZmxpY2tNb21lbnR1bT0wLjI1XSAtIElmIGZsaWNrRW5hYmxlZCBpcyB0cnVlLCB0aGUgbW9tZW50dW0gZmFjdG9yIGZvciB0aGUgZmxpY2sgZ2VzdHVyZVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc01vdXNlLnBpbmNoUm90YXRlPWZhbHNlXSAtIElmIHBpbmNoUm90YXRlIGlzIHRydWUsIHRoZSB1c2VyIHdpbGwgaGF2ZSB0aGUgYWJpbGl0eSB0byByb3RhdGUgdGhlIGltYWdlIHVzaW5nIHRoZWlyIGZpbmdlcnMuXG4gICpcbiAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzfSBbZ2VzdHVyZVNldHRpbmdzVG91Y2hdXG4gICogICAgIFNldHRpbmdzIGZvciBnZXN0dXJlcyBnZW5lcmF0ZWQgYnkgYSB0b3VjaCBwb2ludGVyIGRldmljZS4gKFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3N9KVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc1RvdWNoLnNjcm9sbFRvWm9vbT1mYWxzZV0gLSBab29tIG9uIHNjcm9sbCBnZXN0dXJlXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzVG91Y2guY2xpY2tUb1pvb209ZmFsc2VdIC0gWm9vbSBvbiBjbGljayBnZXN0dXJlXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzVG91Y2guZGJsQ2xpY2tUb1pvb209dHJ1ZV0gLSBab29tIG9uIGRvdWJsZS1jbGljayBnZXN0dXJlLiBOb3RlOiBJZiBzZXQgdG8gdHJ1ZVxuICAqICAgICB0aGVuIGNsaWNrVG9ab29tIHNob3VsZCBiZSBzZXQgdG8gZmFsc2UgdG8gcHJldmVudCBtdWx0aXBsZSB6b29tcy5cbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NUb3VjaC5waW5jaFRvWm9vbT10cnVlXSAtIFpvb20gb24gcGluY2ggZ2VzdHVyZVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc1RvdWNoLmZsaWNrRW5hYmxlZD10cnVlXSAtIEVuYWJsZSBmbGljayBnZXN0dXJlXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtnZXN0dXJlU2V0dGluZ3NUb3VjaC5mbGlja01pblNwZWVkPTEyMF0gLSBJZiBmbGlja0VuYWJsZWQgaXMgdHJ1ZSwgdGhlIG1pbmltdW0gc3BlZWQgdG8gaW5pdGlhdGUgYSBmbGljayBnZXN0dXJlIChwaXhlbHMtcGVyLXNlY29uZClcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2dlc3R1cmVTZXR0aW5nc1RvdWNoLmZsaWNrTW9tZW50dW09MC4yNV0gLSBJZiBmbGlja0VuYWJsZWQgaXMgdHJ1ZSwgdGhlIG1vbWVudHVtIGZhY3RvciBmb3IgdGhlIGZsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NUb3VjaC5waW5jaFJvdGF0ZT1mYWxzZV0gLSBJZiBwaW5jaFJvdGF0ZSBpcyB0cnVlLCB0aGUgdXNlciB3aWxsIGhhdmUgdGhlIGFiaWxpdHkgdG8gcm90YXRlIHRoZSBpbWFnZSB1c2luZyB0aGVpciBmaW5nZXJzLlxuICAqXG4gICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLkdlc3R1cmVTZXR0aW5nc30gW2dlc3R1cmVTZXR0aW5nc1Blbl1cbiAgKiAgICAgU2V0dGluZ3MgZm9yIGdlc3R1cmVzIGdlbmVyYXRlZCBieSBhIHBlbiBwb2ludGVyIGRldmljZS4gKFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3N9KVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc1Blbi5zY3JvbGxUb1pvb209ZmFsc2VdIC0gWm9vbSBvbiBzY3JvbGwgZ2VzdHVyZVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc1Blbi5jbGlja1RvWm9vbT10cnVlXSAtIFpvb20gb24gY2xpY2sgZ2VzdHVyZVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc1Blbi5kYmxDbGlja1RvWm9vbT1mYWxzZV0gLSBab29tIG9uIGRvdWJsZS1jbGljayBnZXN0dXJlLiBOb3RlOiBJZiBzZXQgdG8gdHJ1ZVxuICAqICAgICB0aGVuIGNsaWNrVG9ab29tIHNob3VsZCBiZSBzZXQgdG8gZmFsc2UgdG8gcHJldmVudCBtdWx0aXBsZSB6b29tcy5cbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NQZW4ucGluY2hUb1pvb209ZmFsc2VdIC0gWm9vbSBvbiBwaW5jaCBnZXN0dXJlXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzUGVuLmZsaWNrRW5hYmxlZD1mYWxzZV0gLSBFbmFibGUgZmxpY2sgZ2VzdHVyZVxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZ2VzdHVyZVNldHRpbmdzUGVuLmZsaWNrTWluU3BlZWQ9MTIwXSAtIElmIGZsaWNrRW5hYmxlZCBpcyB0cnVlLCB0aGUgbWluaW11bSBzcGVlZCB0byBpbml0aWF0ZSBhIGZsaWNrIGdlc3R1cmUgKHBpeGVscy1wZXItc2Vjb25kKVxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbZ2VzdHVyZVNldHRpbmdzUGVuLmZsaWNrTW9tZW50dW09MC4yNV0gLSBJZiBmbGlja0VuYWJsZWQgaXMgdHJ1ZSwgdGhlIG1vbWVudHVtIGZhY3RvciBmb3IgdGhlIGZsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NQZW4ucGluY2hSb3RhdGU9ZmFsc2VdIC0gSWYgcGluY2hSb3RhdGUgaXMgdHJ1ZSwgdGhlIHVzZXIgd2lsbCBoYXZlIHRoZSBhYmlsaXR5IHRvIHJvdGF0ZSB0aGUgaW1hZ2UgdXNpbmcgdGhlaXIgZmluZ2Vycy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5HZXN0dXJlU2V0dGluZ3N9IFtnZXN0dXJlU2V0dGluZ3NVbmtub3duXVxuICAqICAgICBTZXR0aW5ncyBmb3IgZ2VzdHVyZXMgZ2VuZXJhdGVkIGJ5IHVua25vd24gcG9pbnRlciBkZXZpY2VzLiAoU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLkdlc3R1cmVTZXR0aW5nc30pXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzVW5rbm93bi5zY3JvbGxUb1pvb209dHJ1ZV0gLSBab29tIG9uIHNjcm9sbCBnZXN0dXJlXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzVW5rbm93bi5jbGlja1RvWm9vbT1mYWxzZV0gLSBab29tIG9uIGNsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NVbmtub3duLmRibENsaWNrVG9ab29tPXRydWVdIC0gWm9vbSBvbiBkb3VibGUtY2xpY2sgZ2VzdHVyZS4gTm90ZTogSWYgc2V0IHRvIHRydWVcbiAgKiAgICAgdGhlbiBjbGlja1RvWm9vbSBzaG91bGQgYmUgc2V0IHRvIGZhbHNlIHRvIHByZXZlbnQgbXVsdGlwbGUgem9vbXMuXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbZ2VzdHVyZVNldHRpbmdzVW5rbm93bi5waW5jaFRvWm9vbT10cnVlXSAtIFpvb20gb24gcGluY2ggZ2VzdHVyZVxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2dlc3R1cmVTZXR0aW5nc1Vua25vd24uZmxpY2tFbmFibGVkPXRydWVdIC0gRW5hYmxlIGZsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2dlc3R1cmVTZXR0aW5nc1Vua25vd24uZmxpY2tNaW5TcGVlZD0xMjBdIC0gSWYgZmxpY2tFbmFibGVkIGlzIHRydWUsIHRoZSBtaW5pbXVtIHNwZWVkIHRvIGluaXRpYXRlIGEgZmxpY2sgZ2VzdHVyZSAocGl4ZWxzLXBlci1zZWNvbmQpXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtnZXN0dXJlU2V0dGluZ3NVbmtub3duLmZsaWNrTW9tZW50dW09MC4yNV0gLSBJZiBmbGlja0VuYWJsZWQgaXMgdHJ1ZSwgdGhlIG1vbWVudHVtIGZhY3RvciBmb3IgdGhlIGZsaWNrIGdlc3R1cmVcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtnZXN0dXJlU2V0dGluZ3NVbmtub3duLnBpbmNoUm90YXRlPWZhbHNlXSAtIElmIHBpbmNoUm90YXRlIGlzIHRydWUsIHRoZSB1c2VyIHdpbGwgaGF2ZSB0aGUgYWJpbGl0eSB0byByb3RhdGUgdGhlIGltYWdlIHVzaW5nIHRoZWlyIGZpbmdlcnMuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW3pvb21QZXJDbGljaz0yLjBdXG4gICogICAgIFRoZSBcInpvb20gZGlzdGFuY2VcIiBwZXIgbW91c2UgY2xpY2sgb3IgdG91Y2ggdGFwLiA8ZW0+PHN0cm9uZz5Ob3RlOjwvc3Ryb25nPiBTZXR0aW5nIHRoaXMgdG8gMS4wIGVmZmVjdGl2ZWx5IGRpc2FibGVzIHRoZSBjbGljay10by16b29tIGZlYXR1cmUgKGFsc28gc2VlIGdlc3R1cmVTZXR0aW5nc1tNb3VzZXxUb3VjaHxQZW5dLmNsaWNrVG9ab29tL2RibENsaWNrVG9ab29tKS48L2VtPlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFt6b29tUGVyU2Nyb2xsPTEuMl1cbiAgKiAgICAgVGhlIFwiem9vbSBkaXN0YW5jZVwiIHBlciBtb3VzZSBzY3JvbGwgb3IgdG91Y2ggcGluY2guIDxlbT48c3Ryb25nPk5vdGU6PC9zdHJvbmc+IFNldHRpbmcgdGhpcyB0byAxLjAgZWZmZWN0aXZlbHkgZGlzYWJsZXMgdGhlIG1vdXNlLXdoZWVsIHpvb20gZmVhdHVyZSAoYWxzbyBzZWUgZ2VzdHVyZVNldHRpbmdzW01vdXNlfFRvdWNofFBlbl0uc2Nyb2xsVG9ab29tfSkuPC9lbT5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbem9vbVBlclNlY29uZD0xLjBdXG4gICogICAgIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byBhbmltYXRlIGEgc2luZ2xlIHpvb20gZXZlbnQgb3Zlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3Nob3dOYXZpZ2F0b3I9ZmFsc2VdXG4gICogICAgIFNldCB0byB0cnVlIHRvIG1ha2UgdGhlIG5hdmlnYXRvciBtaW5pbWFwIGFwcGVhci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbbmF2aWdhdG9ySWQ9bmF2aWdhdG9yLUdFTkVSQVRFRCBEQVRFXVxuICAqICAgICBUaGUgSUQgb2YgYSBkaXYgdG8gaG9sZCB0aGUgbmF2aWdhdG9yIG1pbmltYXAuXG4gICogICAgIElmIGFuIElEIGlzIHNwZWNpZmllZCwgdGhlIG5hdmlnYXRvclBvc2l0aW9uLCBuYXZpZ2F0b3JTaXplUmF0aW8sIG5hdmlnYXRvck1haW50YWluU2l6ZVJhdGlvLCBuYXZpZ2F0b3JbVG9wfExlZnR8SGVpZ2h0fFdpZHRoXSBhbmQgbmF2aWdhdG9yQXV0b0ZhZGUgb3B0aW9ucyB3aWxsIGJlIGlnbm9yZWQuXG4gICogICAgIElmIGFuIElEIGlzIG5vdCBzcGVjaWZpZWQsIGEgZGl2IGVsZW1lbnQgd2lsbCBiZSBnZW5lcmF0ZWQgYW5kIHBsYWNlZCBvbiB0b3Agb2YgdGhlIG1haW4gaW1hZ2UuXG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gW25hdmlnYXRvclBvc2l0aW9uPSdUT1BfUklHSFQnXVxuICAqICAgICBWYWxpZCB2YWx1ZXMgYXJlICdUT1BfTEVGVCcsICdUT1BfUklHSFQnLCAnQk9UVE9NX0xFRlQnLCAnQk9UVE9NX1JJR0hUJywgb3IgJ0FCU09MVVRFJy48YnI+XG4gICogICAgIElmICdBQlNPTFVURScgaXMgc3BlY2lmaWVkLCB0aGVuIG5hdmlnYXRvcltUb3B8TGVmdHxIZWlnaHR8V2lkdGhdIGRldGVybWluZXMgdGhlIHNpemUgYW5kIHBvc2l0aW9uIG9mIHRoZSBuYXZpZ2F0b3IgbWluaW1hcCBpbiB0aGUgdmlld2VyLCBhbmQgbmF2aWdhdG9yU2l6ZVJhdGlvIGFuZCBuYXZpZ2F0b3JNYWludGFpblNpemVSYXRpbyBhcmUgaWdub3JlZC48YnI+XG4gICogICAgIEZvciAnVE9QX0xFRlQnLCAnVE9QX1JJR0hUJywgJ0JPVFRPTV9MRUZUJywgYW5kICdCT1RUT01fUklHSFQnLCB0aGUgbmF2aWdhdG9yU2l6ZVJhdGlvIG9yIG5hdmlnYXRvcltIZWlnaHR8V2lkdGhdIHZhbHVlcyBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIG5hdmlnYXRvciBtaW5pbWFwLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtuYXZpZ2F0b3JTaXplUmF0aW89MC4yXVxuICAqICAgICBSYXRpbyBvZiBuYXZpZ2F0b3Igc2l6ZSB0byB2aWV3ZXIgc2l6ZS4gSWdub3JlZCBpZiBuYXZpZ2F0b3JbSGVpZ2h0fFdpZHRoXSBhcmUgc3BlY2lmaWVkLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbbmF2aWdhdG9yTWFpbnRhaW5TaXplUmF0aW89ZmFsc2VdXG4gICogICAgIElmIHRydWUsIHRoZSBuYXZpZ2F0b3IgbWluaW1hcCBpcyByZXNpemVkICh1c2luZyBuYXZpZ2F0b3JTaXplUmF0aW8pIHdoZW4gdGhlIHZpZXdlciBzaXplIGNoYW5nZXMuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcnxTdHJpbmd9IFtuYXZpZ2F0b3JUb3A9bnVsbF1cbiAgKiAgICAgU3BlY2lmaWVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgbmF2aWdhdG9yIG1pbmltYXAgKHNlZSBuYXZpZ2F0b3JQb3NpdGlvbikuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcnxTdHJpbmd9IFtuYXZpZ2F0b3JMZWZ0PW51bGxdXG4gICogICAgIFNwZWNpZmllcyB0aGUgbG9jYXRpb24gb2YgdGhlIG5hdmlnYXRvciBtaW5pbWFwIChzZWUgbmF2aWdhdG9yUG9zaXRpb24pLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ8U3RyaW5nfSBbbmF2aWdhdG9ySGVpZ2h0PW51bGxdXG4gICogICAgIFNwZWNpZmllcyB0aGUgc2l6ZSBvZiB0aGUgbmF2aWdhdG9yIG1pbmltYXAgKHNlZSBuYXZpZ2F0b3JQb3NpdGlvbikuXG4gICogICAgIElmIHNwZWNpZmllZCwgbmF2aWdhdG9yU2l6ZVJhdGlvIGFuZCBuYXZpZ2F0b3JNYWludGFpblNpemVSYXRpbyBhcmUgaWdub3JlZC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfFN0cmluZ30gW25hdmlnYXRvcldpZHRoPW51bGxdXG4gICogICAgIFNwZWNpZmllcyB0aGUgc2l6ZSBvZiB0aGUgbmF2aWdhdG9yIG1pbmltYXAgKHNlZSBuYXZpZ2F0b3JQb3NpdGlvbikuXG4gICogICAgIElmIHNwZWNpZmllZCwgbmF2aWdhdG9yU2l6ZVJhdGlvIGFuZCBuYXZpZ2F0b3JNYWludGFpblNpemVSYXRpbyBhcmUgaWdub3JlZC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW25hdmlnYXRvckF1dG9SZXNpemU9dHJ1ZV1cbiAgKiAgICAgU2V0IHRvIGZhbHNlIHRvIHByZXZlbnQgcG9sbGluZyBmb3IgbmF2aWdhdG9yIHNpemUgY2hhbmdlcy4gVXNlZnVsIGZvciBwcm92aWRpbmcgY3VzdG9tIHJlc2l6ZSBiZWhhdmlvci5cbiAgKiAgICAgU2V0dGluZyB0byBmYWxzZSBjYW4gYWxzbyBpbXByb3ZlIHBlcmZvcm1hbmNlIHdoZW4gdGhlIG5hdmlnYXRvciBpcyBjb25maWd1cmVkIHRvIGEgZml4ZWQgc2l6ZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW25hdmlnYXRvckF1dG9GYWRlPXRydWVdXG4gICogICAgIElmIHRoZSB1c2VyIHN0b3BzIGludGVyYWN0aW5nIHdpdGggdGhlIHZpZXdwb3J0LCBmYWRlIHRoZSBuYXZpZ2F0b3IgbWluaW1hcC5cbiAgKiAgICAgU2V0dGluZyB0byBmYWxzZSB3aWxsIG1ha2UgdGhlIG5hdmlnYXRvciBtaW5pbWFwIGFsd2F5cyB2aXNpYmxlLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbbmF2aWdhdG9yUm90YXRlPXRydWVdXG4gICogICAgIElmIHRydWUsIHRoZSBuYXZpZ2F0b3Igd2lsbCBiZSByb3RhdGVkIHRvZ2V0aGVyIHdpdGggdGhlIHZpZXdlci5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbY29udHJvbHNGYWRlRGVsYXk9MjAwMF1cbiAgKiAgICAgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gd2FpdCBvbmNlIHRoZSB1c2VyIGhhcyBzdG9wcGVkIGludGVyYWN0aW5nXG4gICogICAgIHdpdGggdGhlIGludGVyZmFjZSBiZWZvcmUgYmVnaW5pbmcgdG8gZmFkZSB0aGUgY29udHJvbHMuIEFzc3VtZXNcbiAgKiAgICAgc2hvd05hdmlnYXRpb25Db250cm9sIGFuZCBhdXRvSGlkZUNvbnRyb2xzIGFyZSBib3RoIHRydWUuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2NvbnRyb2xzRmFkZUxlbmd0aD0xNTAwXVxuICAqICAgICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBhbmltYXRlIHRoZSBjb250cm9scyBmYWRpbmcgb3V0LlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFttYXhJbWFnZUNhY2hlQ291bnQ9MjAwXVxuICAqICAgICBUaGUgbWF4IG51bWJlciBvZiBpbWFnZXMgd2Ugc2hvdWxkIGtlZXAgaW4gbWVtb3J5IChwZXIgZHJhd2VyKS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbdGltZW91dD0zMDAwMF1cbiAgKiAgICAgVGhlIG1heCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgYW4gaW1hZ2Ugam9iIG1heSB0YWtlIHRvIGNvbXBsZXRlLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbdXNlQ2FudmFzPXRydWVdXG4gICogICAgIFNldCB0byBmYWxzZSB0byBub3QgdXNlIGFuIEhUTUwgY2FudmFzIGVsZW1lbnQgZm9yIGltYWdlIHJlbmRlcmluZyBldmVuIGlmIGNhbnZhcyBpcyBzdXBwb3J0ZWQuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW21pblBpeGVsUmF0aW89MC41XVxuICAqICAgICBUaGUgaGlnaGVyIHRoZSBtaW5QaXhlbFJhdGlvLCB0aGUgbG93ZXIgdGhlIHF1YWxpdHkgb2YgdGhlIGltYWdlIHRoYXRcbiAgKiAgICAgaXMgY29uc2lkZXJlZCBzdWZmaWNpZW50IHRvIHN0b3AgcmVuZGVyaW5nIGEgZ2l2ZW4gem9vbSBsZXZlbC4gIEZvclxuICAqICAgICBleGFtcGxlLCBpZiB5b3UgYXJlIHRhcmdldGluZyBtb2JpbGUgZGV2aWNlcyB3aXRoIGxlc3MgYmFuZHdpdGggeW91IG1heVxuICAqICAgICB0cnkgc2V0dGluZyB0aGlzIHRvIDEuNSBvciBoaWdoZXIuXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFttb3VzZU5hdkVuYWJsZWQ9dHJ1ZV1cbiAgKiAgICAgSXMgdGhlIHVzZXIgYWJsZSB0byBpbnRlcmFjdCB3aXRoIHRoZSBpbWFnZSB2aWEgbW91c2Ugb3IgdG91Y2guIERlZmF1bHRcbiAgKiAgICAgaW50ZXJhY3Rpb25zIGluY2x1ZGUgZHJhZ2luZyB0aGUgaW1hZ2UgaW4gYSBwbGFuZSwgYW5kIHpvb21pbmcgaW4gdG93YXJkXG4gICogICAgIGFuZCBhd2F5IGZyb20gdGhlIGltYWdlLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbc2hvd05hdmlnYXRpb25Db250cm9sPXRydWVdXG4gICogICAgIFNldCB0byBmYWxzZSB0byBwcmV2ZW50IHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBkZWZhdWx0IG5hdmlnYXRpb24gY29udHJvbHMuPGJyPlxuICAqICAgICBOb3RlIHRoYXQgaWYgc2V0IHRvIGZhbHNlLCB0aGUgY3VzdG9tcyBidXR0b25zIHNldCBieSB0aGUgb3B0aW9uc1xuICAqICAgICB6b29tSW5CdXR0b24sIHpvb21PdXRCdXR0b24gZXRjLCBhcmUgcmVuZGVyZWQgaW5hY3RpdmUuXG4gICpcbiAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uQ29udHJvbEFuY2hvcn0gW25hdmlnYXRpb25Db250cm9sQW5jaG9yPVRPUF9MRUZUXVxuICAqICAgICBQbGFjZW1lbnQgb2YgdGhlIGRlZmF1bHQgbmF2aWdhdGlvbiBjb250cm9scy5cbiAgKiAgICAgVG8gc2V0IHRoZSBwbGFjZW1lbnQgb2YgdGhlIHNlcXVlbmNlIGNvbnRyb2xzLCBzZWUgdGhlXG4gICogICAgIHNlcXVlbmNlQ29udHJvbEFuY2hvciBvcHRpb24uXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtzaG93Wm9vbUNvbnRyb2w9dHJ1ZV1cbiAgKiAgICAgSWYgdHJ1ZSB0aGVuICsgYW5kIC0gYnV0dG9ucyB0byB6b29tIGluIGFuZCBvdXQgYXJlIGRpc3BsYXllZC48YnI+XG4gICogICAgIE5vdGU6IHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnMuc2hvd05hdmlnYXRpb25Db250cm9sfSBpcyBvdmVycmlkaW5nXG4gICogICAgIHRoaXMgc2V0dGluZyB3aGVuIHNldCB0byBmYWxzZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3Nob3dIb21lQ29udHJvbD10cnVlXVxuICAqICAgICBJZiB0cnVlIHRoZW4gdGhlICdHbyBob21lJyBidXR0b24gaXMgZGlzcGxheWVkIHRvIGdvIGJhY2sgdG8gdGhlIG9yaWdpbmFsXG4gICogICAgIHpvb20gYW5kIHBhbi48YnI+XG4gICogICAgIE5vdGU6IHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnMuc2hvd05hdmlnYXRpb25Db250cm9sfSBpcyBvdmVycmlkaW5nXG4gICogICAgIHRoaXMgc2V0dGluZyB3aGVuIHNldCB0byBmYWxzZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3Nob3dGdWxsUGFnZUNvbnRyb2w9dHJ1ZV1cbiAgKiAgICAgSWYgdHJ1ZSB0aGVuIHRoZSAnVG9nZ2xlIGZ1bGwgcGFnZScgYnV0dG9uIGlzIGRpc3BsYXllZCB0byBzd2l0Y2hcbiAgKiAgICAgYmV0d2VlbiBmdWxsIHBhZ2UgYW5kIG5vcm1hbCBtb2RlLjxicj5cbiAgKiAgICAgTm90ZToge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9ucy5zaG93TmF2aWdhdGlvbkNvbnRyb2x9IGlzIG92ZXJyaWRpbmdcbiAgKiAgICAgdGhpcyBzZXR0aW5nIHdoZW4gc2V0IHRvIGZhbHNlLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbc2hvd1JvdGF0aW9uQ29udHJvbD1mYWxzZV1cbiAgKiAgICAgSWYgdHJ1ZSB0aGVuIHRoZSByb3RhdGUgbGVmdC9yaWdodCBjb250cm9scyB3aWxsIGJlIGRpc3BsYXllZCBhcyBwYXJ0IG9mIHRoZVxuICAqICAgICBzdGFuZGFyZCBjb250cm9scy4gVGhpcyBpcyBhbHNvIHN1YmplY3QgdG8gdGhlIGJyb3dzZXIgc3VwcG9ydCBmb3Igcm90YXRlXG4gICogICAgIChlLmcuIHZpZXdlci5kcmF3ZXIuY2FuUm90YXRlKCkpLjxicj5cbiAgKiAgICAgTm90ZToge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9ucy5zaG93TmF2aWdhdGlvbkNvbnRyb2x9IGlzIG92ZXJyaWRpbmdcbiAgKiAgICAgdGhpcyBzZXR0aW5nIHdoZW4gc2V0IHRvIGZhbHNlLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbc2hvd1NlcXVlbmNlQ29udHJvbD10cnVlXVxuICAqICAgICBJZiBzZXF1ZW5jZU1vZGUgaXMgdHJ1ZSwgdGhlbiBwcm92aWRlIGJ1dHRvbnMgZm9yIG5hdmlnYXRpbmcgZm9yd2FyZCBhbmRcbiAgKiAgICAgYmFja3dhcmQgdGhyb3VnaCB0aGUgaW1hZ2VzLlxuICAqXG4gICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLkNvbnRyb2xBbmNob3J9IFtzZXF1ZW5jZUNvbnRyb2xBbmNob3I9VE9QX0xFRlRdXG4gICogICAgIFBsYWNlbWVudCBvZiB0aGUgZGVmYXVsdCBzZXF1ZW5jZSBjb250cm9scy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW25hdlByZXZOZXh0V3JhcD1mYWxzZV1cbiAgKiAgICAgSWYgdHJ1ZSB0aGVuIHRoZSAncHJldmlvdXMnIGJ1dHRvbiB3aWxsIHdyYXAgdG8gdGhlIGxhc3QgaW1hZ2Ugd2hlblxuICAqICAgICB2aWV3aW5nIHRoZSBmaXJzdCBpbWFnZSBhbmQgdGhlICduZXh0JyBidXR0b24gd2lsbCB3cmFwIHRvIHRoZSBmaXJzdFxuICAqICAgICBpbWFnZSB3aGVuIHZpZXdpbmcgdGhlIGxhc3QgaW1hZ2UuXG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gem9vbUluQnV0dG9uXG4gICogICAgIFNldCB0aGUgaWQgb2YgdGhlIGN1c3RvbSAnWm9vbSBpbicgYnV0dG9uIHRvIHVzZS5cbiAgKiAgICAgVGhpcyBpcyB1c2VmdWwgdG8gaGF2ZSBhIGN1c3RvbSBidXR0b24gYW55d2hlcmUgaW4gdGhlIHdlYiBwYWdlLjxicj5cbiAgKiAgICAgVG8gb25seSBjaGFuZ2UgdGhlIGJ1dHRvbiBpbWFnZXMsIGNvbnNpZGVyIHVzaW5nXG4gICogICAgIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnMubmF2SW1hZ2VzfVxuICAqXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHpvb21PdXRCdXR0b25cbiAgKiAgICAgU2V0IHRoZSBpZCBvZiB0aGUgY3VzdG9tICdab29tIG91dCcgYnV0dG9uIHRvIHVzZS5cbiAgKiAgICAgVGhpcyBpcyB1c2VmdWwgdG8gaGF2ZSBhIGN1c3RvbSBidXR0b24gYW55d2hlcmUgaW4gdGhlIHdlYiBwYWdlLjxicj5cbiAgKiAgICAgVG8gb25seSBjaGFuZ2UgdGhlIGJ1dHRvbiBpbWFnZXMsIGNvbnNpZGVyIHVzaW5nXG4gICogICAgIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnMubmF2SW1hZ2VzfVxuICAqXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IGhvbWVCdXR0b25cbiAgKiAgICAgU2V0IHRoZSBpZCBvZiB0aGUgY3VzdG9tICdHbyBob21lJyBidXR0b24gdG8gdXNlLlxuICAqICAgICBUaGlzIGlzIHVzZWZ1bCB0byBoYXZlIGEgY3VzdG9tIGJ1dHRvbiBhbnl3aGVyZSBpbiB0aGUgd2ViIHBhZ2UuPGJyPlxuICAqICAgICBUbyBvbmx5IGNoYW5nZSB0aGUgYnV0dG9uIGltYWdlcywgY29uc2lkZXIgdXNpbmdcbiAgKiAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9ucy5uYXZJbWFnZXN9XG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gZnVsbFBhZ2VCdXR0b25cbiAgKiAgICAgU2V0IHRoZSBpZCBvZiB0aGUgY3VzdG9tICdUb2dnbGUgZnVsbCBwYWdlJyBidXR0b24gdG8gdXNlLlxuICAqICAgICBUaGlzIGlzIHVzZWZ1bCB0byBoYXZlIGEgY3VzdG9tIGJ1dHRvbiBhbnl3aGVyZSBpbiB0aGUgd2ViIHBhZ2UuPGJyPlxuICAqICAgICBUbyBvbmx5IGNoYW5nZSB0aGUgYnV0dG9uIGltYWdlcywgY29uc2lkZXIgdXNpbmdcbiAgKiAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9ucy5uYXZJbWFnZXN9XG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlTGVmdEJ1dHRvblxuICAqICAgICBTZXQgdGhlIGlkIG9mIHRoZSBjdXN0b20gJ1JvdGF0ZSBsZWZ0JyBidXR0b24gdG8gdXNlLlxuICAqICAgICBUaGlzIGlzIHVzZWZ1bCB0byBoYXZlIGEgY3VzdG9tIGJ1dHRvbiBhbnl3aGVyZSBpbiB0aGUgd2ViIHBhZ2UuPGJyPlxuICAqICAgICBUbyBvbmx5IGNoYW5nZSB0aGUgYnV0dG9uIGltYWdlcywgY29uc2lkZXIgdXNpbmdcbiAgKiAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9ucy5uYXZJbWFnZXN9XG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlUmlnaHRCdXR0b25cbiAgKiAgICAgU2V0IHRoZSBpZCBvZiB0aGUgY3VzdG9tICdSb3RhdGUgcmlnaHQnIGJ1dHRvbiB0byB1c2UuXG4gICogICAgIFRoaXMgaXMgdXNlZnVsIHRvIGhhdmUgYSBjdXN0b20gYnV0dG9uIGFueXdoZXJlIGluIHRoZSB3ZWIgcGFnZS48YnI+XG4gICogICAgIFRvIG9ubHkgY2hhbmdlIHRoZSBidXR0b24gaW1hZ2VzLCBjb25zaWRlciB1c2luZ1xuICAqICAgICB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zLm5hdkltYWdlc31cbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBwcmV2aW91c0J1dHRvblxuICAqICAgICBTZXQgdGhlIGlkIG9mIHRoZSBjdXN0b20gJ1ByZXZpb3VzIHBhZ2UnIGJ1dHRvbiB0byB1c2UuXG4gICogICAgIFRoaXMgaXMgdXNlZnVsIHRvIGhhdmUgYSBjdXN0b20gYnV0dG9uIGFueXdoZXJlIGluIHRoZSB3ZWIgcGFnZS48YnI+XG4gICogICAgIFRvIG9ubHkgY2hhbmdlIHRoZSBidXR0b24gaW1hZ2VzLCBjb25zaWRlciB1c2luZ1xuICAqICAgICB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zLm5hdkltYWdlc31cbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBuZXh0QnV0dG9uXG4gICogICAgIFNldCB0aGUgaWQgb2YgdGhlIGN1c3RvbSAnTmV4dCBwYWdlJyBidXR0b24gdG8gdXNlLlxuICAqICAgICBUaGlzIGlzIHVzZWZ1bCB0byBoYXZlIGEgY3VzdG9tIGJ1dHRvbiBhbnl3aGVyZSBpbiB0aGUgd2ViIHBhZ2UuPGJyPlxuICAqICAgICBUbyBvbmx5IGNoYW5nZSB0aGUgYnV0dG9uIGltYWdlcywgY29uc2lkZXIgdXNpbmdcbiAgKiAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9ucy5uYXZJbWFnZXN9XG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtzZXF1ZW5jZU1vZGU9ZmFsc2VdXG4gICogICAgIFNldCB0byB0cnVlIHRvIGhhdmUgdGhlIHZpZXdlciB0cmVhdCB5b3VyIHRpbGVzb3VyY2VzIGFzIGEgc2VxdWVuY2Ugb2YgaW1hZ2VzIHRvXG4gICogICAgIGJlIG9wZW5lZCBvbmUgYXQgYSB0aW1lIHJhdGhlciB0aGFuIGFsbCBhdCBvbmNlLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtpbml0aWFsUGFnZT0wXVxuICAqICAgICBJZiBzZXF1ZW5jZU1vZGUgaXMgdHJ1ZSwgZGlzcGxheSB0aGlzIHBhZ2UgaW5pdGlhbGx5LlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBbcHJlc2VydmVWaWV3cG9ydD1mYWxzZV1cbiAgKiAgICAgSWYgc2VxdWVuY2VNb2RlIGlzIHRydWUsIHRoZW4gbm9ybWFsbHkgbmF2aWdhdGluZyB0aHJvdWdoIGVhY2ggaW1hZ2UgcmVzZXRzIHRoZVxuICAqICAgICB2aWV3cG9ydCB0byAnaG9tZScgcG9zaXRpb24uICBJZiBwcmVzZXJ2ZVZpZXdwb3J0IGlzIHNldCB0byB0cnVlLCB0aGVuIHRoZSB2aWV3cG9ydFxuICAqICAgICBwb3NpdGlvbiBpcyBwcmVzZXJ2ZWQgd2hlbiBuYXZpZ2F0aW5nIGJldHdlZW4gaW1hZ2VzIGluIHRoZSBzZXF1ZW5jZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3ByZXNlcnZlT3ZlcmxheXM9ZmFsc2VdXG4gICogICAgIElmIHNlcXVlbmNlTW9kZSBpcyB0cnVlLCB0aGVuIG5vcm1hbGx5IG5hdmlnYXRpbmcgdGhyb3VnaCBlYWNoIGltYWdlXG4gICogICAgIHJlc2V0cyB0aGUgb3ZlcmxheXMuXG4gICogICAgIElmIHByZXNlcnZlT3ZlcmxheXMgaXMgc2V0IHRvIHRydWUsIHRoZW4gdGhlIG92ZXJsYXlzIGFkZGVkIHdpdGgge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2FkZE92ZXJsYXl9XG4gICogICAgIGFyZSBwcmVzZXJ2ZWQgd2hlbiBuYXZpZ2F0aW5nIGJldHdlZW4gaW1hZ2VzIGluIHRoZSBzZXF1ZW5jZS5cbiAgKiAgICAgTm90ZTogc2V0dGluZyBwcmVzZXJ2ZU92ZXJsYXlzIG92ZXJyaWRlcyBhbnkgb3ZlcmxheXMgc3BlY2lmaWVkIGluIHRoZSBnbG9iYWxcbiAgKiAgICAgXCJvdmVybGF5c1wiIG9wdGlvbiBmb3IgdGhlIFZpZXdlci4gSXQncyBhbHNvIG5vdCBjb21wYXRpYmxlIHdpdGggc3BlY2lmeWluZ1xuICAqICAgICBwZXItdGlsZVNvdXJjZSBvdmVybGF5cyB2aWEgdGhlIG9wdGlvbnMsIGFzIHRob3NlIG92ZXJsYXlzIHdpbGwgcGVyc2lzdFxuICAqICAgICBldmVuIGFmdGVyIHRoZSB0aWxlU291cmNlIGlzIGNsb3NlZC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW3Nob3dSZWZlcmVuY2VTdHJpcD1mYWxzZV1cbiAgKiAgICAgSWYgc2VxdWVuY2VNb2RlIGlzIHRydWUsIHRoZW4gZGlzcGxheSBhIHNjcm9sbGluZyBzdHJpcCBvZiBpbWFnZSB0aHVtYm5haWxzIGZvclxuICAqICAgICBuYXZpZ2F0aW5nIHRocm91Z2ggdGhlIGltYWdlcy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbcmVmZXJlbmNlU3RyaXBTY3JvbGw9J2hvcml6b250YWwnXVxuICAqXG4gICogQHByb3BlcnR5IHtFbGVtZW50fSBbcmVmZXJlbmNlU3RyaXBFbGVtZW50PW51bGxdXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW3JlZmVyZW5jZVN0cmlwSGVpZ2h0PW51bGxdXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW3JlZmVyZW5jZVN0cmlwV2lkdGg9bnVsbF1cbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbcmVmZXJlbmNlU3RyaXBQb3NpdGlvbj0nQk9UVE9NX0xFRlQnXVxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IFtyZWZlcmVuY2VTdHJpcFNpemVSYXRpbz0wLjJdXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IFtjb2xsZWN0aW9uTW9kZT1mYWxzZV1cbiAgKiAgICAgU2V0IHRvIHRydWUgdG8gaGF2ZSB0aGUgdmlld2VyIGFycmFuZ2UgeW91ciBUaWxlZEltYWdlcyBpbiBhIGdyaWQgb3IgbGluZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbY29sbGVjdGlvblJvd3M9M11cbiAgKiAgICAgSWYgY29sbGVjdGlvbk1vZGUgaXMgdHJ1ZSwgc3BlY2lmaWVzIGhvdyBtYW55IHJvd3MgdGhlIGdyaWQgc2hvdWxkIGhhdmUuIFVzZSAxIHRvIG1ha2UgYSBsaW5lLlxuICAqICAgICBJZiBjb2xsZWN0aW9uTGF5b3V0IGlzICd2ZXJ0aWNhbCcsIHNwZWNpZmllcyBob3cgbWFueSBjb2x1bW5zIGluc3RlYWQuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2NvbGxlY3Rpb25Db2x1bW5zPTBdXG4gICogICAgIElmIGNvbGxlY3Rpb25Nb2RlIGlzIHRydWUsIHNwZWNpZmllcyBob3cgbWFueSBjb2x1bW5zIHRoZSBncmlkIHNob3VsZCBoYXZlLiBVc2UgMSB0byBtYWtlIGEgbGluZS5cbiAgKiAgICAgSWYgY29sbGVjdGlvbkxheW91dCBpcyAndmVydGljYWwnLCBzcGVjaWZpZXMgaG93IG1hbnkgcm93cyBpbnN0ZWFkLiBJZ25vcmVkIGlmIGNvbGxlY3Rpb25Sb3dzIGlzIG5vdCBzZXQgdG8gYSBmYWxzeSB2YWx1ZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBbY29sbGVjdGlvbkxheW91dD0naG9yaXpvbnRhbCddXG4gICogICAgIElmIGNvbGxlY3Rpb25Nb2RlIGlzIHRydWUsIHNwZWNpZmllcyB3aGV0aGVyIHRvIGFycmFuZ2UgdmVydGljYWxseSBvciBob3Jpem9udGFsbHkuXG4gICpcbiAgKiBAcHJvcGVydHkge051bWJlcn0gW2NvbGxlY3Rpb25UaWxlU2l6ZT04MDBdXG4gICogICAgIElmIGNvbGxlY3Rpb25Nb2RlIGlzIHRydWUsIHNwZWNpZmllcyB0aGUgc2l6ZSwgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXMsIGZvciBlYWNoIFRpbGVkSW1hZ2UgdG8gZml0IGludG8uXG4gICogICAgIFRoZSBUaWxlZEltYWdlIHdpbGwgYmUgY2VudGVyZWQgd2l0aGluIGEgc3F1YXJlIG9mIHRoZSBzcGVjaWZpZWQgc2l6ZS5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBbY29sbGVjdGlvblRpbGVNYXJnaW49ODBdXG4gICogICAgIElmIGNvbGxlY3Rpb25Nb2RlIGlzIHRydWUsIHNwZWNpZmllcyB0aGUgbWFyZ2luLCBpbiB2aWV3cG9ydCBjb29yZGluYXRlcywgYmV0d2VlbiBlYWNoIFRpbGVkSW1hZ2UuXG4gICpcbiAgKiBAcHJvcGVydHkge1N0cmluZ3xCb29sZWFufSBbY3Jvc3NPcmlnaW5Qb2xpY3k9ZmFsc2VdXG4gICogICAgIFZhbGlkIHZhbHVlcyBhcmUgJ0Fub255bW91cycsICd1c2UtY3JlZGVudGlhbHMnLCBhbmQgZmFsc2UuIElmIGZhbHNlLCBjYW52YXMgcmVxdWVzdHMgd2lsbFxuICAqICAgICBub3QgdXNlIENPUlMsIGFuZCB0aGUgY2FudmFzIHdpbGwgYmUgdGFpbnRlZC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2FqYXhXaXRoQ3JlZGVudGlhbHM9ZmFsc2VdXG4gICogICAgIFdoZXRoZXIgdG8gc2V0IHRoZSB3aXRoQ3JlZGVudGlhbHMgWEhSIGZsYWcgZm9yIEFKQVggcmVxdWVzdHMuXG4gICogICAgIE5vdGUgdGhhdCB0aGlzIGNhbiBiZSBvdmVycmlkZGVuIGF0IHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5UaWxlU291cmNlfSBsZXZlbC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gW2xvYWRUaWxlc1dpdGhBamF4PWZhbHNlXVxuICAqICAgICBXaGV0aGVyIHRvIGxvYWQgdGlsZSBkYXRhIHVzaW5nIEFKQVggcmVxdWVzdHMuXG4gICogICAgIE5vdGUgdGhhdCB0aGlzIGNhbiBiZSBvdmVycmlkZGVuIGF0IHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5UaWxlU291cmNlfSBsZXZlbC5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBbYWpheEhlYWRlcnM9e31dXG4gICogICAgIEEgc2V0IG9mIGhlYWRlcnMgdG8gaW5jbHVkZSB3aGVuIG1ha2luZyBBSkFYIHJlcXVlc3RzIGZvciB0aWxlIHNvdXJjZXMgb3IgdGlsZXMuXG4gICpcbiAgKi9cblxuIC8qKlxuICAqIFNldHRpbmdzIGZvciBnZXN0dXJlcyBnZW5lcmF0ZWQgYnkgYSBwb2ludGVyIGRldmljZS5cbiAgKlxuICAqIEB0eXBlZGVmIHtPYmplY3R9IEdlc3R1cmVTZXR0aW5nc1xuICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gICpcbiAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNjcm9sbFRvWm9vbVxuICAqICAgICBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nIG9uIHNjcm9sbCBnZXN0dXJlcy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gY2xpY2tUb1pvb21cbiAgKiAgICAgU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgem9vbWluZyBvbiBjbGljayBnZXN0dXJlcy5cbiAgKlxuICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZGJsQ2xpY2tUb1pvb21cbiAgKiAgICAgU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgem9vbWluZyBvbiBkb3VibGUtY2xpY2sgZ2VzdHVyZXMuIE5vdGU6IElmIHNldCB0byB0cnVlXG4gICogICAgIHRoZW4gY2xpY2tUb1pvb20gc2hvdWxkIGJlIHNldCB0byBmYWxzZSB0byBwcmV2ZW50IG11bHRpcGxlIHpvb21zLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBwaW5jaFRvWm9vbVxuICAqICAgICBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nIG9uIHBpbmNoIGdlc3R1cmVzLlxuICAqXG4gICogQHByb3BlcnR5IHtCb29sZWFufSBmbGlja0VuYWJsZWRcbiAgKiAgICAgU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhlIGtpbmV0aWMgcGFubmluZyBlZmZlY3QgKGZsaWNrKSBhdCB0aGUgZW5kIG9mIGEgZHJhZyBnZXN0dXJlLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IGZsaWNrTWluU3BlZWRcbiAgKiAgICAgSWYgZmxpY2tFbmFibGVkIGlzIHRydWUsIHRoZSBtaW5pbXVtIHNwZWVkIChpbiBwaXhlbHMtcGVyLXNlY29uZCkgcmVxdWlyZWQgdG8gY2F1c2UgdGhlIGtpbmV0aWMgcGFubmluZyBlZmZlY3QgKGZsaWNrKSBhdCB0aGUgZW5kIG9mIGEgZHJhZyBnZXN0dXJlLlxuICAqXG4gICogQHByb3BlcnR5IHtOdW1iZXJ9IGZsaWNrTW9tZW50dW1cbiAgKiAgICAgSWYgZmxpY2tFbmFibGVkIGlzIHRydWUsIGEgY29uc3RhbnQgbXVsdGlwbGllZCBieSB0aGUgdmVsb2NpdHkgdG8gZGV0ZXJtaW5lIHRoZSBkaXN0YW5jZSBvZiB0aGUga2luZXRpYyBwYW5uaW5nIGVmZmVjdCAoZmxpY2spIGF0IHRoZSBlbmQgb2YgYSBkcmFnIGdlc3R1cmUuXG4gICogICAgIEEgbGFyZ2VyIHZhbHVlIHdpbGwgbWFrZSB0aGUgZmxpY2sgZmVlbCBcImxpZ2h0ZXJcIiwgd2hpbGUgYSBzbWFsbGVyIHZhbHVlIHdpbGwgbWFrZSB0aGUgZmxpY2sgZmVlbCBcImhlYXZpZXJcIi5cbiAgKiAgICAgTm90ZTogc3ByaW5nU3RpZmZuZXNzIGFuZCBhbmltYXRpb25UaW1lIGFsc28gYWZmZWN0IHRoZSBcInNwcmluZ1wiIHVzZWQgdG8gc3RvcCB0aGUgZmxpY2sgYW5pbWF0aW9uLlxuICAqXG4gICovXG5cbi8qKlxuICAqIFRoZSBuYW1lcyBmb3IgdGhlIGltYWdlIHJlc291cmNlcyB1c2VkIGZvciB0aGUgaW1hZ2UgbmF2aWdhdGlvbiBidXR0b25zLlxuICAqXG4gICogQHR5cGVkZWYge09iamVjdH0gTmF2SW1hZ2VzXG4gICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgKlxuICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB6b29tSW4gLSBJbWFnZXMgZm9yIHRoZSB6b29tLWluIGJ1dHRvbi5cbiAgKiBAcHJvcGVydHkge1N0cmluZ30gem9vbUluLlJFU1RcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gem9vbUluLkdST1VQXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHpvb21Jbi5IT1ZFUlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB6b29tSW4uRE9XTlxuICAqXG4gICogQHByb3BlcnR5IHtPYmplY3R9IHpvb21PdXQgLSBJbWFnZXMgZm9yIHRoZSB6b29tLW91dCBidXR0b24uXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHpvb21PdXQuUkVTVFxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB6b29tT3V0LkdST1VQXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHpvb21PdXQuSE9WRVJcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gem9vbU91dC5ET1dOXG4gICpcbiAgKiBAcHJvcGVydHkge09iamVjdH0gaG9tZSAtIEltYWdlcyBmb3IgdGhlIGhvbWUgYnV0dG9uLlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBob21lLlJFU1RcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gaG9tZS5HUk9VUFxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBob21lLkhPVkVSXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IGhvbWUuRE9XTlxuICAqXG4gICogQHByb3BlcnR5IHtPYmplY3R9IGZ1bGxwYWdlIC0gSW1hZ2VzIGZvciB0aGUgZnVsbC1wYWdlIGJ1dHRvbi5cbiAgKiBAcHJvcGVydHkge1N0cmluZ30gZnVsbHBhZ2UuUkVTVFxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmdWxscGFnZS5HUk9VUFxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmdWxscGFnZS5IT1ZFUlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBmdWxscGFnZS5ET1dOXG4gICpcbiAgKiBAcHJvcGVydHkge09iamVjdH0gcm90YXRlbGVmdCAtIEltYWdlcyBmb3IgdGhlIHJvdGF0ZSBsZWZ0IGJ1dHRvbi5cbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlbGVmdC5SRVNUXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHJvdGF0ZWxlZnQuR1JPVVBcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlbGVmdC5IT1ZFUlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSByb3RhdGVsZWZ0LkRPV05cbiAgKlxuICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSByb3RhdGVyaWdodCAtIEltYWdlcyBmb3IgdGhlIHJvdGF0ZSByaWdodCBidXR0b24uXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHJvdGF0ZXJpZ2h0LlJFU1RcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlcmlnaHQuR1JPVVBcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlcmlnaHQuSE9WRVJcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gcm90YXRlcmlnaHQuRE9XTlxuICAqXG4gICogQHByb3BlcnR5IHtPYmplY3R9IHByZXZpb3VzIC0gSW1hZ2VzIGZvciB0aGUgcHJldmlvdXMgYnV0dG9uLlxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBwcmV2aW91cy5SRVNUXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzLkdST1VQXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzLkhPVkVSXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IHByZXZpb3VzLkRPV05cbiAgKlxuICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBuZXh0IC0gSW1hZ2VzIGZvciB0aGUgbmV4dCBidXR0b24uXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IG5leHQuUkVTVFxuICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBuZXh0LkdST1VQXG4gICogQHByb3BlcnR5IHtTdHJpbmd9IG5leHQuSE9WRVJcbiAgKiBAcHJvcGVydHkge1N0cmluZ30gbmV4dC5ET1dOXG4gICpcbiAgKi9cblxuXG5mdW5jdGlvbiBPcGVuU2VhZHJhZ29uKCBvcHRpb25zICl7XG4gICAgcmV0dXJuIG5ldyBPcGVuU2VhZHJhZ29uLlZpZXdlciggb3B0aW9ucyApO1xufVxuXG4oZnVuY3Rpb24oICQgKXtcblxuXG4gICAgLyoqXG4gICAgICogVGhlIE9wZW5TZWFkcmFnb24gdmVyc2lvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge09iamVjdH0gT3BlblNlYWRyYWdvbi52ZXJzaW9uXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHZlcnNpb25TdHIgLSBUaGUgdmVyc2lvbiBudW1iZXIgYXMgYSBzdHJpbmcgKCdtYWpvci5taW5vci5yZXZpc2lvbicpLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBtYWpvciAtIFRoZSBtYWpvciB2ZXJzaW9uIG51bWJlci5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gbWlub3IgLSBUaGUgbWlub3IgdmVyc2lvbiBudW1iZXIuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJldmlzaW9uIC0gVGhlIHJldmlzaW9uIG51bWJlci5cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKi9cbiAgICAkLnZlcnNpb24gPSB7XG4gICAgICAgIHZlcnNpb25TdHI6ICcyLjMuMScsXG4gICAgICAgIG1ham9yOiBwYXJzZUludCgnMicsIDEwKSxcbiAgICAgICAgbWlub3I6IHBhcnNlSW50KCczJywgMTApLFxuICAgICAgICByZXZpc2lvbjogcGFyc2VJbnQoJzEnLCAxMClcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBUYWtlbiBmcm9tIGpxdWVyeSAxLjYuMVxuICAgICAqIFtbQ2xhc3NdXSAtPiB0eXBlIHBhaXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB2YXIgY2xhc3MydHlwZSA9IHtcbiAgICAgICAgICAgICdbb2JqZWN0IEJvb2xlYW5dJzogICAgICdib29sZWFuJyxcbiAgICAgICAgICAgICdbb2JqZWN0IE51bWJlcl0nOiAgICAgICdudW1iZXInLFxuICAgICAgICAgICAgJ1tvYmplY3QgU3RyaW5nXSc6ICAgICAgJ3N0cmluZycsXG4gICAgICAgICAgICAnW29iamVjdCBGdW5jdGlvbl0nOiAgICAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgJ1tvYmplY3QgQXJyYXldJzogICAgICAgJ2FycmF5JyxcbiAgICAgICAgICAgICdbb2JqZWN0IERhdGVdJzogICAgICAgICdkYXRlJyxcbiAgICAgICAgICAgICdbb2JqZWN0IFJlZ0V4cF0nOiAgICAgICdyZWdleHAnLFxuICAgICAgICAgICAgJ1tvYmplY3QgT2JqZWN0XSc6ICAgICAgJ29iamVjdCdcbiAgICAgICAgfSxcbiAgICAgICAgLy8gU2F2ZSBhIHJlZmVyZW5jZSB0byBzb21lIGNvcmUgbWV0aG9kc1xuICAgICAgICB0b1N0cmluZyAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgICAgIGhhc093biAgICAgID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKlxuICAgICAqIFRha2VuIGZyb20galF1ZXJ5IDEuNi4xXG4gICAgICogQGZ1bmN0aW9uIGlzRnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cuanF1ZXJ5LmNvbS8galF1ZXJ5fVxuICAgICAqL1xuICAgICQuaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgICAgIHJldHVybiAkLnR5cGUob2JqKSA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIFRha2VuIGZyb20galF1ZXJ5IDEuNi4xXG4gICAgICogQGZ1bmN0aW9uIGlzQXJyYXlcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cuanF1ZXJ5LmNvbS8galF1ZXJ5fVxuICAgICAqL1xuICAgICQuaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24oIG9iaiApIHtcbiAgICAgICAgcmV0dXJuICQudHlwZShvYmopID09PSBcImFycmF5XCI7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogQSBjcnVkZSB3YXkgb2YgZGV0ZXJtaW5pbmcgaWYgYW4gb2JqZWN0IGlzIGEgd2luZG93LlxuICAgICAqIFRha2VuIGZyb20galF1ZXJ5IDEuNi4xXG4gICAgICogQGZ1bmN0aW9uIGlzV2luZG93XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3LmpxdWVyeS5jb20vIGpRdWVyeX1cbiAgICAgKi9cbiAgICAkLmlzV2luZG93ID0gZnVuY3Rpb24oIG9iaiApIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiICYmIFwic2V0SW50ZXJ2YWxcIiBpbiBvYmo7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogVGFrZW4gZnJvbSBqUXVlcnkgMS42LjFcbiAgICAgKiBAZnVuY3Rpb24gdHlwZVxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5qcXVlcnkuY29tLyBqUXVlcnl9XG4gICAgICovXG4gICAgJC50eXBlID0gZnVuY3Rpb24oIG9iaiApIHtcbiAgICAgICAgcmV0dXJuICggb2JqID09PSBudWxsICkgfHwgKCBvYmogPT09IHVuZGVmaW5lZCApID9cbiAgICAgICAgICAgIFN0cmluZyggb2JqICkgOlxuICAgICAgICAgICAgY2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbChvYmopIF0gfHwgXCJvYmplY3RcIjtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBUYWtlbiBmcm9tIGpRdWVyeSAxLjYuMVxuICAgICAqIEBmdW5jdGlvbiBpc1BsYWluT2JqZWN0XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3LmpxdWVyeS5jb20vIGpRdWVyeX1cbiAgICAgKi9cbiAgICAkLmlzUGxhaW5PYmplY3QgPSBmdW5jdGlvbiggb2JqICkge1xuICAgICAgICAvLyBNdXN0IGJlIGFuIE9iamVjdC5cbiAgICAgICAgLy8gQmVjYXVzZSBvZiBJRSwgd2UgYWxzbyBoYXZlIHRvIGNoZWNrIHRoZSBwcmVzZW5jZSBvZiB0aGUgY29uc3RydWN0b3IgcHJvcGVydHkuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IERPTSBub2RlcyBhbmQgd2luZG93IG9iamVjdHMgZG9uJ3QgcGFzcyB0aHJvdWdoLCBhcyB3ZWxsXG4gICAgICAgIGlmICggIW9iaiB8fCBPcGVuU2VhZHJhZ29uLnR5cGUob2JqKSAhPT0gXCJvYmplY3RcIiB8fCBvYmoubm9kZVR5cGUgfHwgJC5pc1dpbmRvdyggb2JqICkgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3Qgb3duIGNvbnN0cnVjdG9yIHByb3BlcnR5IG11c3QgYmUgT2JqZWN0XG4gICAgICAgIGlmICggb2JqLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICAhaGFzT3duLmNhbGwob2JqLCBcImNvbnN0cnVjdG9yXCIpICYmXG4gICAgICAgICAgICAhaGFzT3duLmNhbGwob2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgXCJpc1Byb3RvdHlwZU9mXCIpICkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT3duIHByb3BlcnRpZXMgYXJlIGVudW1lcmF0ZWQgZmlyc3RseSwgc28gdG8gc3BlZWQgdXAsXG4gICAgICAgIC8vIGlmIGxhc3Qgb25lIGlzIG93biwgdGhlbiBhbGwgcHJvcGVydGllcyBhcmUgb3duLlxuXG4gICAgICAgIHZhciBsYXN0S2V5O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqICkge1xuICAgICAgICAgICAgbGFzdEtleSA9IGtleTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBsYXN0S2V5ID09PSB1bmRlZmluZWQgfHwgaGFzT3duLmNhbGwoIG9iaiwgbGFzdEtleSApO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIFRha2VuIGZyb20galF1ZXJ5IDEuNi4xXG4gICAgICogQGZ1bmN0aW9uIGlzRW1wdHlPYmplY3RcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cuanF1ZXJ5LmNvbS8galF1ZXJ5fVxuICAgICAqL1xuICAgICQuaXNFbXB0eU9iamVjdCA9IGZ1bmN0aW9uKCBvYmogKSB7XG4gICAgICAgIGZvciAoIHZhciBuYW1lIGluIG9iaiApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hpbSBhcm91bmQgT2JqZWN0LmZyZWV6ZS4gRG9lcyBub3RoaW5nIGlmIE9iamVjdC5mcmVlemUgaXMgbm90IHN1cHBvcnRlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBvYmplY3QgdG8gZnJlZXplLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqIFRoZSBmcm96ZW4gb2JqZWN0LlxuICAgICAqL1xuICAgICQuZnJlZXplT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgICAkLmZyZWV6ZU9iamVjdCA9IE9iamVjdC5mcmVlemU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkLmZyZWV6ZU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkLmZyZWV6ZU9iamVjdChvYmopO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBIVE1MNSBjYW52YXMgZWxlbWVudFxuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IHN1cHBvcnRzQ2FudmFzXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKi9cbiAgICAkLnN1cHBvcnRzQ2FudmFzID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApO1xuICAgICAgICByZXR1cm4gISEoICQuaXNGdW5jdGlvbiggY2FudmFzRWxlbWVudC5nZXRDb250ZXh0ICkgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzRWxlbWVudC5nZXRDb250ZXh0KCAnMmQnICkgKTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGVzdCB3aGV0aGVyIHRoZSBzdWJtaXR0ZWQgY2FudmFzIGlzIHRhaW50ZWQgb3Igbm90LlxuICAgICAqIEBhcmd1bWVudCB7Q2FudmFzfSBjYW52YXMgVGhlIGNhbnZhcyB0byB0ZXN0LlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSBjYW52YXMgaXMgdGFpbnRlZC5cbiAgICAgKi9cbiAgICAkLmlzQ2FudmFzVGFpbnRlZCA9IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgICB2YXIgaXNUYWludGVkID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXZSB0ZXN0IGlmIHRoZSBjYW52YXMgaXMgdGFpbnRlZCBieSByZXRyaWV2aW5nIGRhdGEgZnJvbSBpdC5cbiAgICAgICAgICAgIC8vIEFuIGV4Y2VwdGlvbiB3aWxsIGJlIHJhaXNlZCBpZiB0aGUgY2FudmFzIGlzIHRhaW50ZWQuXG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5nZXRJbWFnZURhdGEoMCwgMCwgMSwgMSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlzVGFpbnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzVGFpbnRlZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSByYXRpbyBjb21wYXJpbmcgdGhlIGRldmljZSBzY3JlZW4ncyBwaXhlbCBkZW5zaXR5IHRvIHRoZSBjYW52YXMncyBiYWNraW5nIHN0b3JlIHBpeGVsIGRlbnNpdHksXG4gICAgICogY2xhbXBlZCB0byBhIG1pbmltdW0gb2YgMS4gRGVmYXVsdHMgdG8gMSBpZiBjYW52YXMgaXNuJ3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0gcGl4ZWxEZW5zaXR5UmF0aW9cbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqL1xuICAgICQucGl4ZWxEZW5zaXR5UmF0aW8gPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoICQuc3VwcG9ydHNDYW52YXMgKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgICAgICB2YXIgYmFja2luZ1N0b3JlUmF0aW8gPSBjb250ZXh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW96QmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tc0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmFja2luZ1N0b3JlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGRldmljZVBpeGVsUmF0aW8sIDEpIC8gYmFja2luZ1N0b3JlUmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgIH0oKSk7XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qKlxuICogIFRoaXMgY2xvc3VyZSBkZWZpbmVzIGFsbCBzdGF0aWMgbWV0aG9kcyBhdmFpbGFibGUgdG8gdGhlIE9wZW5TZWFkcmFnb25cbiAqICBuYW1lc3BhY2UuICBNYW55LCBpZiBub3QgbW9zdCwgYXJlIHRha2VkIGRpcmVjdGx5IGZyb20galF1ZXJ5IGZvciB1c2VcbiAqICB0byBzaW1wbGlmeSBhbmQgcmVkdWNlIGNvbW1vbiBwcm9ncmFtbWluZyBwYXR0ZXJucy4gIE1vcmUgc3RhdGljIG1ldGhvZHNcbiAqICBmcm9tIGpRdWVyeSBtYXkgZXZlbnR1YWxseSBtYWtlIHRoZWlyIHdheSBpbnRvIHRoaXMgdGhvdWdoIHdlIGFyZVxuICogIGF0dGVtcHRpbmcgdG8gYXZvaWQgYW4gZXhwbGljaXQgZGVwZW5kZW5jeSBvbiBqUXVlcnkgb25seSBiZWNhdXNlXG4gKiAgT3BlblNlYWRyYWdvbiBpcyBhIGJyb2FkbHkgdXNlZnVsIGNvZGUgYmFzZSBhbmQgd291bGQgYmUgbWFkZSBsZXNzIGJyb2FkXG4gKiAgYnkgcmVxdWlyaW5nIGpRdWVyeSBmdWxseS5cbiAqXG4gKiAgU29tZSBzdGF0aWMgbWV0aG9kcyBoYXZlIGFsc28gYmVlbiByZWZhY3RvcmVkIGZyb20gdGhlIG9yaWdpbmFsIE9wZW5TZWFkcmFnb25cbiAqICBwcm9qZWN0LlxuICovXG4oZnVuY3Rpb24oICQgKXtcblxuICAgIC8qKlxuICAgICAqIFRha2VuIGZyb20galF1ZXJ5IDEuNi4xXG4gICAgICogQGZ1bmN0aW9uIGV4dGVuZFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5qcXVlcnkuY29tLyBqUXVlcnl9XG4gICAgICovXG4gICAgJC5leHRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgc3JjLFxuICAgICAgICAgICAgY29weSxcbiAgICAgICAgICAgIGNvcHlJc0FycmF5LFxuICAgICAgICAgICAgY2xvbmUsXG4gICAgICAgICAgICB0YXJnZXQgID0gYXJndW1lbnRzWyAwIF0gfHwge30sXG4gICAgICAgICAgICBsZW5ndGggID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGRlZXAgICAgPSBmYWxzZSxcbiAgICAgICAgICAgIGkgICAgICAgPSAxO1xuXG4gICAgICAgIC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cbiAgICAgICAgaWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcbiAgICAgICAgICAgIGRlZXAgICAgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0YXJnZXQgID0gYXJndW1lbnRzWyAxIF0gfHwge307XG4gICAgICAgICAgICAvLyBza2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBpID0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuICAgICAgICBpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIU9wZW5TZWFkcmFnb24uaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICBpZiAoIGxlbmd0aCA9PT0gaSApIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRoaXM7XG4gICAgICAgICAgICAtLWk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIC8vIE9ubHkgZGVhbCB3aXRoIG5vbi1udWxsL3VuZGVmaW5lZCB2YWx1ZXNcbiAgICAgICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXTtcbiAgICAgICAgICAgIGlmICggb3B0aW9ucyAhPT0gbnVsbCB8fCBvcHRpb25zICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgLy8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxuICAgICAgICAgICAgICAgIGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcbiAgICAgICAgICAgICAgICAgICAgc3JjID0gdGFyZ2V0WyBuYW1lIF07XG4gICAgICAgICAgICAgICAgICAgIGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRhcmdldCA9PT0gY29weSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXG4gICAgICAgICAgICAgICAgICAgIGlmICggZGVlcCAmJiBjb3B5ICYmICggT3BlblNlYWRyYWdvbi5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHwgKCBjb3B5SXNBcnJheSA9IE9wZW5TZWFkcmFnb24uaXNBcnJheSggY29weSApICkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY29weUlzQXJyYXkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weUlzQXJyYXkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IHNyYyAmJiBPcGVuU2VhZHJhZ29uLmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUgPSBzcmMgJiYgT3BlblNlYWRyYWdvbi5pc1BsYWluT2JqZWN0KCBzcmMgKSA/IHNyYyA6IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFsgbmFtZSBdID0gT3BlblNlYWRyYWdvbi5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG5cbiAgICB2YXIgaXNJT1NEZXZpY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgICBpZiAodHlwZW9mIHVzZXJBZ2VudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXNlckFnZW50LmluZGV4T2YoJ2lQaG9uZScpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgdXNlckFnZW50LmluZGV4T2YoJ2lQYWQnKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICAgIHVzZXJBZ2VudC5pbmRleE9mKCdpUG9kJykgIT09IC0xO1xuICAgIH07XG5cbiAgICAkLmV4dGVuZCggJCwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uICove1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgb3B0aW9uYWwgc2V0dGluZ3MgZG9jdW1lbnRlZCBhdCB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgREVGQVVMVF9TRVRUSU5HUzoge1xuICAgICAgICAgICAgLy9EQVRBIFNPVVJDRSBERVRBSUxTXG4gICAgICAgICAgICB4bWxQYXRoOiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGlsZVNvdXJjZXM6ICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRpbGVIb3N0OiAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBpbml0aWFsUGFnZTogICAgICAgICAgICAwLFxuICAgICAgICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k6ICAgICAgZmFsc2UsXG4gICAgICAgICAgICBhamF4V2l0aENyZWRlbnRpYWxzOiAgICBmYWxzZSxcbiAgICAgICAgICAgIGxvYWRUaWxlc1dpdGhBamF4OiAgICAgIGZhbHNlLFxuICAgICAgICAgICAgYWpheEhlYWRlcnM6ICAgICAgICAgICAge30sXG5cbiAgICAgICAgICAgIC8vUEFOIEFORCBaT09NIFNFVFRJTkdTIEFORCBDT05TVFJBSU5UU1xuICAgICAgICAgICAgcGFuSG9yaXpvbnRhbDogICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIHBhblZlcnRpY2FsOiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICBjb25zdHJhaW5EdXJpbmdQYW46ICAgICBmYWxzZSxcbiAgICAgICAgICAgIHdyYXBIb3Jpem9udGFsOiAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgd3JhcFZlcnRpY2FsOiAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB2aXNpYmlsaXR5UmF0aW86ICAgICAgICAwLjUsIC8vLT4gaG93IG11Y2ggb2YgdGhlIHZpZXdlciBjYW4gYmUgbmVnYXRpdmUgc3BhY2VcbiAgICAgICAgICAgIG1pblBpeGVsUmF0aW86ICAgICAgICAgIDAuNSwgLy8tPmNsb3NlciB0byAwIGRyYXdzIHRpbGVzIG1lYW50IGZvciBhIGhpZ2hlciB6b29tIGF0IHRoaXMgem9vbVxuICAgICAgICAgICAgZGVmYXVsdFpvb21MZXZlbDogICAgICAgMCxcbiAgICAgICAgICAgIG1pblpvb21MZXZlbDogICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBtYXhab29tTGV2ZWw6ICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgaG9tZUZpbGxzVmlld2VyOiAgICAgICAgZmFsc2UsXG5cbiAgICAgICAgICAgIC8vVUkgUkVTUE9OU0lWRU5FU1MgQU5EIEZFRUxcbiAgICAgICAgICAgIGNsaWNrVGltZVRocmVzaG9sZDogICAgIDMwMCxcbiAgICAgICAgICAgIGNsaWNrRGlzdFRocmVzaG9sZDogICAgIDUsXG4gICAgICAgICAgICBkYmxDbGlja1RpbWVUaHJlc2hvbGQ6ICAzMDAsXG4gICAgICAgICAgICBkYmxDbGlja0Rpc3RUaHJlc2hvbGQ6ICAyMCxcbiAgICAgICAgICAgIHNwcmluZ1N0aWZmbmVzczogICAgICAgIDYuNSxcbiAgICAgICAgICAgIGFuaW1hdGlvblRpbWU6ICAgICAgICAgIDEuMixcbiAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc01vdXNlOiAgIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1pvb206IHRydWUsXG4gICAgICAgICAgICAgICAgY2xpY2tUb1pvb206IHRydWUsXG4gICAgICAgICAgICAgICAgZGJsQ2xpY2tUb1pvb206IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBpbmNoVG9ab29tOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmbGlja0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZsaWNrTWluU3BlZWQ6IDEyMCxcbiAgICAgICAgICAgICAgICBmbGlja01vbWVudHVtOiAwLjI1LFxuICAgICAgICAgICAgICAgIHBpbmNoUm90YXRlOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiAgIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1pvb206IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNsaWNrVG9ab29tOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYmxDbGlja1RvWm9vbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwaW5jaFRvWm9vbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmbGlja0VuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZmxpY2tNaW5TcGVlZDogMTIwLFxuICAgICAgICAgICAgICAgIGZsaWNrTW9tZW50dW06IDAuMjUsXG4gICAgICAgICAgICAgICAgcGluY2hSb3RhdGU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzUGVuOiAgICAge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvWm9vbTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2xpY2tUb1pvb206IHRydWUsXG4gICAgICAgICAgICAgICAgZGJsQ2xpY2tUb1pvb206IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBpbmNoVG9ab29tOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBmbGlja0VuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGZsaWNrTWluU3BlZWQ6IDEyMCxcbiAgICAgICAgICAgICAgICBmbGlja01vbWVudHVtOiAwLjI1LFxuICAgICAgICAgICAgICAgIHBpbmNoUm90YXRlOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdlc3R1cmVTZXR0aW5nc1Vua25vd246IHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1pvb206IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNsaWNrVG9ab29tOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYmxDbGlja1RvWm9vbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwaW5jaFRvWm9vbTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmbGlja0VuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZmxpY2tNaW5TcGVlZDogMTIwLFxuICAgICAgICAgICAgICAgIGZsaWNrTW9tZW50dW06IDAuMjUsXG4gICAgICAgICAgICAgICAgcGluY2hSb3RhdGU6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgem9vbVBlckNsaWNrOiAgICAgICAgICAgMixcbiAgICAgICAgICAgIHpvb21QZXJTY3JvbGw6ICAgICAgICAgIDEuMixcbiAgICAgICAgICAgIHpvb21QZXJTZWNvbmQ6ICAgICAgICAgIDEuMCxcbiAgICAgICAgICAgIGJsZW5kVGltZTogICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBhbHdheXNCbGVuZDogICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9IaWRlQ29udHJvbHM6ICAgICAgIHRydWUsXG4gICAgICAgICAgICBpbW1lZGlhdGVSZW5kZXI6ICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIG1pblpvb21JbWFnZVJhdGlvOiAgICAgIDAuOSwgLy8tPiBjbG9zZXIgdG8gMCBhbGxvd3Mgem9vbSBvdXQgdG8gaW5maW5pdHlcbiAgICAgICAgICAgIG1heFpvb21QaXhlbFJhdGlvOiAgICAgIDEuMSwgLy8tPiBoaWdoZXIgYWxsb3dzICdvdmVyIHpvb20nIGludG8gcGl4ZWxzXG4gICAgICAgICAgICBzbW9vdGhUaWxlRWRnZXNNaW5ab29tOiAxLjEsIC8vLT4gaGlnaGVyIHRoYW4gbWF4Wm9vbVBpeGVsUmF0aW8gZGlzYWJsZXMgaXRcbiAgICAgICAgICAgIGlPU0RldmljZTogICAgICAgICAgICAgIGlzSU9TRGV2aWNlKCksXG4gICAgICAgICAgICBwaXhlbHNQZXJXaGVlbExpbmU6ICAgICA0MCxcbiAgICAgICAgICAgIGF1dG9SZXNpemU6ICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICBwcmVzZXJ2ZUltYWdlU2l6ZU9uUmVzaXplOiBmYWxzZSwgLy8gcmVxdWlyZXMgYXV0b1Jlc2l6ZT10cnVlXG4gICAgICAgICAgICBtaW5TY3JvbGxEZWx0YVRpbWU6ICAgICA1MCxcblxuICAgICAgICAgICAgLy9ERUZBVUxUIENPTlRST0wgU0VUVElOR1NcbiAgICAgICAgICAgIHNob3dTZXF1ZW5jZUNvbnRyb2w6ICAgICB0cnVlLCAgLy9TRVFVRU5DRVxuICAgICAgICAgICAgc2VxdWVuY2VDb250cm9sQW5jaG9yOiAgIG51bGwsICAvL1NFUVVFTkNFXG4gICAgICAgICAgICBwcmVzZXJ2ZVZpZXdwb3J0OiAgICAgICAgZmFsc2UsIC8vU0VRVUVOQ0VcbiAgICAgICAgICAgIHByZXNlcnZlT3ZlcmxheXM6ICAgICAgICBmYWxzZSwgLy9TRVFVRU5DRVxuICAgICAgICAgICAgbmF2UHJldk5leHRXcmFwOiAgICAgICAgIGZhbHNlLCAvL1NFUVVFTkNFXG4gICAgICAgICAgICBzaG93TmF2aWdhdGlvbkNvbnRyb2w6ICAgdHJ1ZSwgIC8vWk9PTS9IT01FL0ZVTEwvUk9UQVRJT05cbiAgICAgICAgICAgIG5hdmlnYXRpb25Db250cm9sQW5jaG9yOiBudWxsLCAgLy9aT09NL0hPTUUvRlVMTC9ST1RBVElPTlxuICAgICAgICAgICAgc2hvd1pvb21Db250cm9sOiAgICAgICAgIHRydWUsICAvL1pPT01cbiAgICAgICAgICAgIHNob3dIb21lQ29udHJvbDogICAgICAgICB0cnVlLCAgLy9IT01FXG4gICAgICAgICAgICBzaG93RnVsbFBhZ2VDb250cm9sOiAgICAgdHJ1ZSwgIC8vRlVMTFxuICAgICAgICAgICAgc2hvd1JvdGF0aW9uQ29udHJvbDogICAgIGZhbHNlLCAvL1JPVEFUSU9OXG4gICAgICAgICAgICBjb250cm9sc0ZhZGVEZWxheTogICAgICAgMjAwMCwgIC8vWk9PTS9IT01FL0ZVTEwvU0VRVUVOQ0VcbiAgICAgICAgICAgIGNvbnRyb2xzRmFkZUxlbmd0aDogICAgICAxNTAwLCAgLy9aT09NL0hPTUUvRlVMTC9TRVFVRU5DRVxuICAgICAgICAgICAgbW91c2VOYXZFbmFibGVkOiAgICAgICAgIHRydWUsICAvL0dFTkVSQUwgTU9VU0UgSU5URVJBQ1RJVklUWVxuXG4gICAgICAgICAgICAvL1ZJRVdQT1JUIE5BVklHQVRPUiBTRVRUSU5HU1xuICAgICAgICAgICAgc2hvd05hdmlnYXRvcjogICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgbmF2aWdhdG9ySWQ6ICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBuYXZpZ2F0b3JQb3NpdGlvbjogICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5hdmlnYXRvclNpemVSYXRpbzogICAgICAgICAwLjIsXG4gICAgICAgICAgICBuYXZpZ2F0b3JNYWludGFpblNpemVSYXRpbzogZmFsc2UsXG4gICAgICAgICAgICBuYXZpZ2F0b3JUb3A6ICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5hdmlnYXRvckxlZnQ6ICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbmF2aWdhdG9ySGVpZ2h0OiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBuYXZpZ2F0b3JXaWR0aDogICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5hdmlnYXRvckF1dG9SZXNpemU6ICAgICAgICB0cnVlLFxuICAgICAgICAgICAgbmF2aWdhdG9yQXV0b0ZhZGU6ICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICBuYXZpZ2F0b3JSb3RhdGU6ICAgICAgICAgICAgdHJ1ZSxcblxuICAgICAgICAgICAgLy8gSU5JVElBTCBST1RBVElPTlxuICAgICAgICAgICAgZGVncmVlczogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAgICAgICAgIC8vIEFQUEVBUkFOQ0VcbiAgICAgICAgICAgIG9wYWNpdHk6ICAgICAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgcHJlbG9hZDogICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgY29tcG9zaXRlT3BlcmF0aW9uOiAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwbGFjZWhvbGRlckZpbGxTdHlsZTogICAgICAgbnVsbCxcblxuICAgICAgICAgICAgLy9SRUZFUkVOQ0UgU1RSSVAgU0VUVElOR1NcbiAgICAgICAgICAgIHNob3dSZWZlcmVuY2VTdHJpcDogICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICByZWZlcmVuY2VTdHJpcFNjcm9sbDogICAgICAgJ2hvcml6b250YWwnLFxuICAgICAgICAgICAgcmVmZXJlbmNlU3RyaXBFbGVtZW50OiAgICAgICBudWxsLFxuICAgICAgICAgICAgcmVmZXJlbmNlU3RyaXBIZWlnaHQ6ICAgICAgICBudWxsLFxuICAgICAgICAgICAgcmVmZXJlbmNlU3RyaXBXaWR0aDogICAgICAgICBudWxsLFxuICAgICAgICAgICAgcmVmZXJlbmNlU3RyaXBQb3NpdGlvbjogICAgICAnQk9UVE9NX0xFRlQnLFxuICAgICAgICAgICAgcmVmZXJlbmNlU3RyaXBTaXplUmF0aW86ICAgICAwLjIsXG5cbiAgICAgICAgICAgIC8vQ09MTEVDVElPTiBWSVNVQUxJWkFUSU9OIFNFVFRJTkdTXG4gICAgICAgICAgICBjb2xsZWN0aW9uUm93czogICAgICAgICAzLCAvL29yIGNvbHVtbnMgZGVwZW5kaW5nIG9uIGxheW91dFxuICAgICAgICAgICAgY29sbGVjdGlvbkNvbHVtbnM6ICAgICAgMCwgLy9jb2x1bW5zIGluIGhvcml6b250YWwgbGF5b3V0LCByb3dzIGluIHZlcnRpY2FsIGxheW91dFxuICAgICAgICAgICAgY29sbGVjdGlvbkxheW91dDogICAgICAgJ2hvcml6b250YWwnLCAvL3ZlcnRpY2FsXG4gICAgICAgICAgICBjb2xsZWN0aW9uTW9kZTogICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGNvbGxlY3Rpb25UaWxlU2l6ZTogICAgIDgwMCxcbiAgICAgICAgICAgIGNvbGxlY3Rpb25UaWxlTWFyZ2luOiAgIDgwLFxuXG4gICAgICAgICAgICAvL1BFUkZPUk1BTkNFIFNFVFRJTkdTXG4gICAgICAgICAgICBpbWFnZUxvYWRlckxpbWl0OiAgICAgICAwLFxuICAgICAgICAgICAgbWF4SW1hZ2VDYWNoZUNvdW50OiAgICAgMjAwLFxuICAgICAgICAgICAgdGltZW91dDogICAgICAgICAgICAgICAgMzAwMDAsXG4gICAgICAgICAgICB1c2VDYW52YXM6ICAgICAgICAgICAgICB0cnVlLCAgLy8gVXNlIGNhbnZhcyBlbGVtZW50IGZvciBkcmF3aW5nIGlmIGF2YWlsYWJsZVxuXG4gICAgICAgICAgICAvL0lOVEVSRkFDRSBSRVNPVVJDRSBTRVRUSU5HU1xuICAgICAgICAgICAgcHJlZml4VXJsOiAgICAgICAgICAgICAgXCIvaW1hZ2VzL1wiLFxuICAgICAgICAgICAgbmF2SW1hZ2VzOiB7XG4gICAgICAgICAgICAgICAgem9vbUluOiB7XG4gICAgICAgICAgICAgICAgICAgIFJFU1Q6ICAgJ3pvb21pbl9yZXN0LnBuZycsXG4gICAgICAgICAgICAgICAgICAgIEdST1VQOiAgJ3pvb21pbl9ncm91cGhvdmVyLnBuZycsXG4gICAgICAgICAgICAgICAgICAgIEhPVkVSOiAgJ3pvb21pbl9ob3Zlci5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBET1dOOiAgICd6b29taW5fcHJlc3NlZC5wbmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB6b29tT3V0OiB7XG4gICAgICAgICAgICAgICAgICAgIFJFU1Q6ICAgJ3pvb21vdXRfcmVzdC5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBHUk9VUDogICd6b29tb3V0X2dyb3VwaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgSE9WRVI6ICAnem9vbW91dF9ob3Zlci5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBET1dOOiAgICd6b29tb3V0X3ByZXNzZWQucG5nJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaG9tZToge1xuICAgICAgICAgICAgICAgICAgICBSRVNUOiAgICdob21lX3Jlc3QucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgR1JPVVA6ICAnaG9tZV9ncm91cGhvdmVyLnBuZycsXG4gICAgICAgICAgICAgICAgICAgIEhPVkVSOiAgJ2hvbWVfaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgRE9XTjogICAnaG9tZV9wcmVzc2VkLnBuZydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZ1bGxwYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgIFJFU1Q6ICAgJ2Z1bGxwYWdlX3Jlc3QucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgR1JPVVA6ICAnZnVsbHBhZ2VfZ3JvdXBob3Zlci5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBIT1ZFUjogICdmdWxscGFnZV9ob3Zlci5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBET1dOOiAgICdmdWxscGFnZV9wcmVzc2VkLnBuZydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJvdGF0ZWxlZnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgUkVTVDogICAncm90YXRlbGVmdF9yZXN0LnBuZycsXG4gICAgICAgICAgICAgICAgICAgIEdST1VQOiAgJ3JvdGF0ZWxlZnRfZ3JvdXBob3Zlci5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBIT1ZFUjogICdyb3RhdGVsZWZ0X2hvdmVyLnBuZycsXG4gICAgICAgICAgICAgICAgICAgIERPV046ICAgJ3JvdGF0ZWxlZnRfcHJlc3NlZC5wbmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByb3RhdGVyaWdodDoge1xuICAgICAgICAgICAgICAgICAgICBSRVNUOiAgICdyb3RhdGVyaWdodF9yZXN0LnBuZycsXG4gICAgICAgICAgICAgICAgICAgIEdST1VQOiAgJ3JvdGF0ZXJpZ2h0X2dyb3VwaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgSE9WRVI6ICAncm90YXRlcmlnaHRfaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgRE9XTjogICAncm90YXRlcmlnaHRfcHJlc3NlZC5wbmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcmV2aW91czoge1xuICAgICAgICAgICAgICAgICAgICBSRVNUOiAgICdwcmV2aW91c19yZXN0LnBuZycsXG4gICAgICAgICAgICAgICAgICAgIEdST1VQOiAgJ3ByZXZpb3VzX2dyb3VwaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgSE9WRVI6ICAncHJldmlvdXNfaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgRE9XTjogICAncHJldmlvdXNfcHJlc3NlZC5wbmcnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgIFJFU1Q6ICAgJ25leHRfcmVzdC5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBHUk9VUDogICduZXh0X2dyb3VwaG92ZXIucG5nJyxcbiAgICAgICAgICAgICAgICAgICAgSE9WRVI6ICAnbmV4dF9ob3Zlci5wbmcnLFxuICAgICAgICAgICAgICAgICAgICBET1dOOiAgICduZXh0X3ByZXNzZWQucG5nJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vREVWRUxPUEVSIFNFVFRJTkdTXG4gICAgICAgICAgICBkZWJ1Z01vZGU6ICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGRlYnVnR3JpZENvbG9yOiAgICAgICAgIFsnIzQzN0FCMicsICcjMUI5RTc3JywgJyNEOTVGMDInLCAnIzc1NzBCMycsICcjRTcyOThBJywgJyM2NkE2MUUnLCAnI0U2QUIwMicsICcjQTY3NjFEJywgJyM2NjY2NjYnXVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRPRE86IGdldCByaWQgb2YgdGhpcy4gIEkgY2FuJ3Qgc2VlIGhvdyBpdCdzIHJlcXVpcmVkIGF0IGFsbC4gIExvb2tzXG4gICAgICAgICAqICAgICAgIGxpa2UgYW4gZWFybHkgbGVnYWN5IGNvZGUgYXJ0aWZhY3QuXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgU0lHTkFMOiBcIi0tLS1zZWFkcmFnb24tLS0tXCIsXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGludm9rZXMgdGhlIG1ldGhvZCBhcyBpZiBpdCB3ZXJlIGEgbWV0aG9kIGJlbG9uZ2luZyB0byB0aGUgb2JqZWN0LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXRob2RcbiAgICAgICAgICogQHJldHVybnMge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZWdhdGU6IGZ1bmN0aW9uKCBvYmplY3QsIG1ldGhvZCApIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgIGlmICggYXJncyA9PT0gdW5kZWZpbmVkICl7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSggb2JqZWN0LCBhcmdzICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVudW1lcmF0aW9uIG9mIEJyb3dzZXIgdmVuZG9ycy5cbiAgICAgICAgICogQHN0YXRpY1xuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gVU5LTk9XTlxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gSUVcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IEZJUkVGT1hcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IFNBRkFSSVxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gQ0hST01FXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBPUEVSQVxuICAgICAgICAgKi9cbiAgICAgICAgQlJPV1NFUlM6IHtcbiAgICAgICAgICAgIFVOS05PV046ICAgIDAsXG4gICAgICAgICAgICBJRTogICAgICAgICAxLFxuICAgICAgICAgICAgRklSRUZPWDogICAgMixcbiAgICAgICAgICAgIFNBRkFSSTogICAgIDMsXG4gICAgICAgICAgICBDSFJPTUU6ICAgICA0LFxuICAgICAgICAgICAgT1BFUkE6ICAgICAgNVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBET00gRWxlbWVudCBmb3IgdGhlIGdpdmVuIGlkIG9yIGVsZW1lbnQuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ3xFbGVtZW50fSBlbGVtZW50IEFjY2VwdHMgYW4gaWQgb3IgZWxlbWVudC5cbiAgICAgICAgICogQHJldHVybnMge0VsZW1lbnR9IFRoZSBlbGVtZW50IHdpdGggdGhlIGdpdmVuIGlkLCBudWxsLCBvciB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbiggZWxlbWVudCApIHtcbiAgICAgICAgICAgIGlmICggdHlwZW9mICggZWxlbWVudCApID09IFwic3RyaW5nXCIgKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBlbGVtZW50ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIGVsZW1lbnQuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBlbGVtZW50IC0gdGhlIGVsZW1lbmV0IHdlIHdhbnQgdGhlIHBvc2l0aW9uIGZvci5cbiAgICAgICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9IC0gdGhlIHBvc2l0aW9uIG9mIHRoZSB1cHBlciBsZWZ0IGNvcm5lciBvZiB0aGUgZWxlbWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEVsZW1lbnRQb3NpdGlvbjogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3ICQuUG9pbnQoKSxcbiAgICAgICAgICAgICAgICBpc0ZpeGVkLFxuICAgICAgICAgICAgICAgIG9mZnNldFBhcmVudDtcblxuICAgICAgICAgICAgZWxlbWVudCAgICAgID0gJC5nZXRFbGVtZW50KCBlbGVtZW50ICk7XG4gICAgICAgICAgICBpc0ZpeGVkICAgICAgPSAkLmdldEVsZW1lbnRTdHlsZSggZWxlbWVudCApLnBvc2l0aW9uID09IFwiZml4ZWRcIjtcbiAgICAgICAgICAgIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudCggZWxlbWVudCwgaXNGaXhlZCApO1xuXG4gICAgICAgICAgICB3aGlsZSAoIG9mZnNldFBhcmVudCApIHtcblxuICAgICAgICAgICAgICAgIHJlc3VsdC54ICs9IGVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICByZXN1bHQueSArPSBlbGVtZW50Lm9mZnNldFRvcDtcblxuICAgICAgICAgICAgICAgIGlmICggaXNGaXhlZCApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnBsdXMoICQuZ2V0UGFnZVNjcm9sbCgpICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IG9mZnNldFBhcmVudDtcbiAgICAgICAgICAgICAgICBpc0ZpeGVkID0gJC5nZXRFbGVtZW50U3R5bGUoIGVsZW1lbnQgKS5wb3NpdGlvbiA9PSBcImZpeGVkXCI7XG4gICAgICAgICAgICAgICAgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KCBlbGVtZW50LCBpc0ZpeGVkICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lcyB0aGUgcG9zaXRpb24gb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSBlbGVtZW50IGFkanVzdGVkIGZvciBjdXJyZW50IHBhZ2UgYW5kL29yIGVsZW1lbnQgc2Nyb2xsLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudCAtIHRoZSBlbGVtZW50IHdlIHdhbnQgdGhlIHBvc2l0aW9uIGZvci5cbiAgICAgICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9IC0gdGhlIHBvc2l0aW9uIG9mIHRoZSB1cHBlciBsZWZ0IGNvcm5lciBvZiB0aGUgZWxlbWVudCBhZGp1c3RlZCBmb3IgY3VycmVudCBwYWdlIGFuZC9vciBlbGVtZW50IHNjcm9sbC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEVsZW1lbnRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICAgICAgZWxlbWVudCA9ICQuZ2V0RWxlbWVudCggZWxlbWVudCApO1xuXG4gICAgICAgICAgICB2YXIgZG9jID0gZWxlbWVudCAmJiBlbGVtZW50Lm93bmVyRG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgZG9jRWxlbWVudCxcbiAgICAgICAgICAgICAgICB3aW4sXG4gICAgICAgICAgICAgICAgYm91bmRpbmdSZWN0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuICAgICAgICAgICAgaWYgKCAhZG9jICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkb2NFbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKCB0eXBlb2YgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09IHR5cGVvZiB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgYm91bmRpbmdSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2luID0gKCBkb2MgPT0gZG9jLndpbmRvdyApID9cbiAgICAgICAgICAgICAgICBkb2MgOlxuICAgICAgICAgICAgICAgICggZG9jLm5vZGVUeXBlID09PSA5ICkgP1xuICAgICAgICAgICAgICAgICAgICBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyA6XG4gICAgICAgICAgICAgICAgICAgIGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICAgICAgYm91bmRpbmdSZWN0LmxlZnQgKyAoIHdpbi5wYWdlWE9mZnNldCB8fCBkb2NFbGVtZW50LnNjcm9sbExlZnQgKSAtICggZG9jRWxlbWVudC5jbGllbnRMZWZ0IHx8IDAgKSxcbiAgICAgICAgICAgICAgICBib3VuZGluZ1JlY3QudG9wICsgKCB3aW4ucGFnZVlPZmZzZXQgfHwgZG9jRWxlbWVudC5zY3JvbGxUb3AgKSAtICggZG9jRWxlbWVudC5jbGllbnRUb3AgfHwgMCApXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZXMgdGhlIGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBlbGVtZW50XG4gICAgICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RWxlbWVudFNpemU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICAgICAgZWxlbWVudCA9ICQuZ2V0RWxlbWVudCggZWxlbWVudCApO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBDU1NTdHlsZSBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudFxuICAgICAgICAgKiBAcmV0dXJucyB7Q1NTU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRFbGVtZW50U3R5bGU6XG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlID9cbiAgICAgICAgICAgIGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jdXJyZW50U3R5bGU7XG4gICAgICAgICAgICB9IDpcbiAgICAgICAgICAgIGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGVsZW1lbnQsIFwiXCIgKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHByb3BlcnR5IHdpdGggdGhlIGNvcnJlY3QgdmVuZG9yIHByZWZpeCBhcHBlbmRlZC5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IHRoZSBwcm9wZXJ0eSBuYW1lXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRoZSBwcm9wZXJ0eSB3aXRoIHRoZSBjb3JyZWN0IHByZWZpeCBvciBudWxsIGlmIG5vdFxuICAgICAgICAgKiBzdXBwb3J0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDc3NQcm9wZXJ0eVdpdGhWZW5kb3JQcmVmaXg6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgICAgICB2YXIgbWVtbyA9IHt9O1xuXG4gICAgICAgICAgICAkLmdldENzc1Byb3BlcnR5V2l0aFZlbmRvclByZWZpeCA9IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbW9bcHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbW9bcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVbcHJvcGVydHldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcHJvcGVydHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ01TJywgJ08nLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3dlYmtpdCcsICdtb3onLCAnbXMnLCAnbyddO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VmZml4ID0gJC5jYXBpdGFsaXplRmlyc3RMZXR0ZXIocHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IHByZWZpeGVzW2ldICsgc3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBwcm9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lbW9bcHJvcGVydHldID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuICQuZ2V0Q3NzUHJvcGVydHlXaXRoVmVuZG9yUHJlZml4KHByb3BlcnR5KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FwaXRhbGl6ZXMgdGhlIGZpcnN0IGxldHRlciBvZiBhIHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgd2l0aCB0aGUgZmlyc3QgbGV0dGVyIGNhcGl0YWxpemVkXG4gICAgICAgICAqL1xuICAgICAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXI6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcHV0ZSB0aGUgbW9kdWxvIG9mIGEgbnVtYmVyIGJ1dCBtYWtlcyBzdXJlIHRvIGFsd2F5cyByZXR1cm5cbiAgICAgICAgICogYSBwb3NpdGl2ZSB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG51bWJlciB0aGUgbnVtYmVyIHRvIGNvbXB1dGVzIHRoZSBtb2R1bG8gb2ZcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IG1vZHVsbyB0aGUgbW9kdWxvXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IHRoZSByZXN1bHQgb2YgdGhlIG1vZHVsbyBvZiBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIHBvc2l0aXZlTW9kdWxvOiBmdW5jdGlvbihudW1iZXIsIG1vZHVsbykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bWJlciAlIG1vZHVsbztcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IG1vZHVsbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZXMgaWYgYSBwb2ludCBpcyB3aXRoaW4gdGhlIGJvdW5kaW5nIHJlY3RhbmdsZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCAoaGl0LXRlc3QpLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50XG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgcG9pbnRJbkVsZW1lbnQ6IGZ1bmN0aW9uKCBlbGVtZW50LCBwb2ludCApIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAkLmdldEVsZW1lbnRPZmZzZXQoIGVsZW1lbnQgKSxcbiAgICAgICAgICAgICAgICBzaXplID0gJC5nZXRFbGVtZW50U2l6ZSggZWxlbWVudCApO1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50LnggPj0gb2Zmc2V0LnggJiYgcG9pbnQueCA8IG9mZnNldC54ICsgc2l6ZS54ICYmIHBvaW50LnkgPCBvZmZzZXQueSArIHNpemUueSAmJiBwb2ludC55ID49IG9mZnNldC55O1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIGxhdGVzdCBldmVudCwgcmVhbGx5IG9ubHkgdXNlZnVsIGludGVybmFsbHkgc2luY2UgaXRzXG4gICAgICAgICAqIHNwZWNpZmljIHRvIElFIGJlaGF2aW9yLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gW2V2ZW50XVxuICAgICAgICAgKiBAcmV0dXJucyB7RXZlbnR9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIEZvciBpbnRlcm5hbCB1c2Ugb25seVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RXZlbnQ6IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgICAgIGlmKCBldmVudCApe1xuICAgICAgICAgICAgICAgICQuZ2V0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmdldEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkLmdldEV2ZW50KCBldmVudCApO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBtb3VzZSBvbiB0aGUgc2NyZWVuIGZvciBhIGdpdmVuIGV2ZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gW2V2ZW50XVxuICAgICAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldE1vdXNlUG9zaXRpb246IGZ1bmN0aW9uKCBldmVudCApIHtcblxuICAgICAgICAgICAgaWYgKCB0eXBlb2YoIGV2ZW50LnBhZ2VYICkgPT0gXCJudW1iZXJcIiApIHtcbiAgICAgICAgICAgICAgICAkLmdldE1vdXNlUG9zaXRpb24gPSBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyAkLlBvaW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSAkLmdldEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQueCA9IGV2ZW50LnBhZ2VYO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQueSA9IGV2ZW50LnBhZ2VZO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHR5cGVvZiggZXZlbnQuY2xpZW50WCApID09IFwibnVtYmVyXCIgKSB7XG4gICAgICAgICAgICAgICAgJC5nZXRNb3VzZVBvc2l0aW9uID0gZnVuY3Rpb24oIGV2ZW50ICl7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgJC5Qb2ludCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnggPVxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2xpZW50WCArXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC55ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNsaWVudFkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgK1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJVbmtub3duIGV2ZW50IG1vdXNlIHBvc2l0aW9uLCBubyBrbm93biB0ZWNobmlxdWUuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJC5nZXRNb3VzZVBvc2l0aW9uKCBldmVudCApO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZXMgdGhlIHBhZ2UncyBjdXJyZW50IHNjcm9sbCBwb3NpdGlvbi5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGFnZVNjcm9sbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZG9jRWxlbWVudCAgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwge30sXG4gICAgICAgICAgICAgICAgYm9keSAgICAgICAgPSBkb2N1bWVudC5ib2R5IHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAoIHR5cGVvZiggd2luZG93LnBhZ2VYT2Zmc2V0ICkgPT0gXCJudW1iZXJcIiApIHtcbiAgICAgICAgICAgICAgICAkLmdldFBhZ2VTY3JvbGwgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmICggYm9keS5zY3JvbGxMZWZ0IHx8IGJvZHkuc2Nyb2xsVG9wICkge1xuICAgICAgICAgICAgICAgICQuZ2V0UGFnZVNjcm9sbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGRvY0VsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2NFbGVtZW50LnNjcm9sbFRvcCApIHtcbiAgICAgICAgICAgICAgICAkLmdldFBhZ2VTY3JvbGwgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCByZWFzc2lnbiB0aGUgZnVuY3Rpb24geWV0LCBhcyB0aGVyZSB3YXMgbm8gc2Nyb2xsLlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCgwLCAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICQuZ2V0UGFnZVNjcm9sbCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHBhZ2Ugc2Nyb2xsIHBvc2l0aW9uLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBzZXRQYWdlU2Nyb2xsOiBmdW5jdGlvbiggc2Nyb2xsICkge1xuICAgICAgICAgICAgaWYgKCB0eXBlb2YgKCB3aW5kb3cuc2Nyb2xsVG8gKSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcbiAgICAgICAgICAgICAgICAkLnNldFBhZ2VTY3JvbGwgPSBmdW5jdGlvbiggc2Nyb2xsICkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oIHNjcm9sbC54LCBzY3JvbGwueSApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFNjcm9sbCA9ICQuZ2V0UGFnZVNjcm9sbCgpO1xuICAgICAgICAgICAgICAgIGlmICggb3JpZ2luYWxTY3JvbGwueCA9PT0gc2Nyb2xsLnggJiZcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTY3JvbGwueSA9PT0gc2Nyb2xsLnkgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBhbHJlYWR5IGNvcnJlY3RseSBwb3NpdGlvbmVkIGFuZCB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBubyB3YXkgdG8gZGV0ZWN0IHRoZSBjb3JyZWN0IG1ldGhvZC5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCA9IHNjcm9sbC54O1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gc2Nyb2xsLnk7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTY3JvbGwgPSAkLmdldFBhZ2VTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICBpZiAoIGN1cnJlbnRTY3JvbGwueCAhPT0gb3JpZ2luYWxTY3JvbGwueCAmJlxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Nyb2xsLnkgIT09IG9yaWdpbmFsU2Nyb2xsLnkgKSB7XG4gICAgICAgICAgICAgICAgICAgICQuc2V0UGFnZVNjcm9sbCA9IGZ1bmN0aW9uKCBzY3JvbGwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgPSBzY3JvbGwueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gc2Nyb2xsLnk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IHNjcm9sbC54O1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGwueTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2Nyb2xsID0gJC5nZXRQYWdlU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgaWYgKCBjdXJyZW50U2Nyb2xsLnggIT09IG9yaWdpbmFsU2Nyb2xsLnggJiZcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNjcm9sbC55ICE9PSBvcmlnaW5hbFNjcm9sbC55ICkge1xuICAgICAgICAgICAgICAgICAgICAkLnNldFBhZ2VTY3JvbGwgPSBmdW5jdGlvbiggc2Nyb2xsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgPSBzY3JvbGwueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSBzY3JvbGwueTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IGZpbmQgYW55dGhpbmcgd29ya2luZywgc28gd2UgZG8gbm90aGluZy5cbiAgICAgICAgICAgICAgICAkLnNldFBhZ2VTY3JvbGwgPSBmdW5jdGlvbiggc2Nyb2xsICkge1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkLnNldFBhZ2VTY3JvbGwoIHNjcm9sbCApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmVzIHRoZSBzaXplIG9mIHRoZSBicm93c2VycyB3aW5kb3cuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIGdldFdpbmRvd1NpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwge30sXG4gICAgICAgICAgICAgICAgYm9keSAgICA9IGRvY3VtZW50LmJvZHkgfHwge307XG5cbiAgICAgICAgICAgIGlmICggdHlwZW9mKCB3aW5kb3cuaW5uZXJXaWR0aCApID09ICdudW1iZXInICkge1xuICAgICAgICAgICAgICAgICQuZ2V0V2luZG93U2l6ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludChcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGRvY0VsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jRWxlbWVudC5jbGllbnRIZWlnaHQgKSB7XG4gICAgICAgICAgICAgICAgJC5nZXRXaW5kb3dTaXplID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBib2R5LmNsaWVudFdpZHRoIHx8IGJvZHkuY2xpZW50SGVpZ2h0ICkge1xuICAgICAgICAgICAgICAgICQuZ2V0V2luZG93U2l6ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gd2luZG93IHNpemUsIG5vIGtub3duIHRlY2huaXF1ZS5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAkLmdldFdpbmRvd1NpemUoKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyB0aGUgZ2l2ZW4gZWxlbWVudCBpbiBhIG5lc3Qgb2YgZGl2cyBzbyB0aGF0IHRoZSBlbGVtZW50IGNhblxuICAgICAgICAgKiBiZSBlYXNpbHkgY2VudGVyZWQgdXNpbmcgQ1NTIHRhYmxlc1xuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudFxuICAgICAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gb3V0ZXJtb3N0IHdyYXBwZXIgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgbWFrZUNlbnRlcmVkTm9kZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGEgcG9zc2libGUgSUQgdG8gYW4gYWN0dWFsIEhUTUxFbGVtZW50XG4gICAgICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBlbGVtZW50ICk7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgQ1NTIHRhYmxlcyByZXF1aXJlIHlvdSB0byBoYXZlIGEgZGlzcGxheTp0YWJsZS9yb3cvY2VsbCBoaWVyYXJjaHkgc28gd2UgbmVlZCB0byBjcmVhdGVcbiAgICAgICAgICAgICAgICB0aHJlZSBuZXN0ZWQgd3JhcHBlciBkaXZzOlxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIHZhciB3cmFwcGVycyA9IFtcbiAgICAgICAgICAgICAgICAkLm1ha2VOZXV0cmFsRWxlbWVudCggJ2RpdicgKSxcbiAgICAgICAgICAgICAgICAkLm1ha2VOZXV0cmFsRWxlbWVudCggJ2RpdicgKSxcbiAgICAgICAgICAgICAgICAkLm1ha2VOZXV0cmFsRWxlbWVudCggJ2RpdicgKVxuICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgLy8gSXQgZmVlbHMgbGlrZSB3ZSBzaG91bGQgYmUgYWJsZSB0byBwYXNzIHN0eWxlIGRpY3RzIHRvIG1ha2VOZXV0cmFsRWxlbWVudDpcbiAgICAgICAgICAgICQuZXh0ZW5kKHdyYXBwZXJzWzBdLnN0eWxlLCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJ0YWJsZVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJC5leHRlbmQod3JhcHBlcnNbMV0uc3R5bGUsIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcInRhYmxlLXJvd1wiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJC5leHRlbmQod3JhcHBlcnNbMl0uc3R5bGUsIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcInRhYmxlLWNlbGxcIixcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdyYXBwZXJzWzBdLmFwcGVuZENoaWxkKHdyYXBwZXJzWzFdKTtcbiAgICAgICAgICAgIHdyYXBwZXJzWzFdLmFwcGVuZENoaWxkKHdyYXBwZXJzWzJdKTtcbiAgICAgICAgICAgIHdyYXBwZXJzWzJdLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlcnNbMF07XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhbiBlYXNpbHkgcG9zaXRpb25hYmxlIGVsZW1lbnQgb2YgdGhlIGdpdmVuIHR5cGUgdGhhdCB0aGVyZWZvclxuICAgICAgICAgKiBzZXJ2ZXMgYXMgYW4gZXhjZWxsZW50IGNvbnRhaW5lciBlbGVtZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHRhZ05hbWVcbiAgICAgICAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBtYWtlTmV1dHJhbEVsZW1lbnQ6IGZ1bmN0aW9uKCB0YWdOYW1lICkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCB0YWdOYW1lICksXG4gICAgICAgICAgICAgICAgc3R5bGUgICA9IGVsZW1lbnQuc3R5bGU7XG5cbiAgICAgICAgICAgIHN0eWxlLmJhY2tncm91bmQgPSBcInRyYW5zcGFyZW50IG5vbmVcIjtcbiAgICAgICAgICAgIHN0eWxlLmJvcmRlciAgICAgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHN0eWxlLm1hcmdpbiAgICAgPSBcIjBweFwiO1xuICAgICAgICAgICAgc3R5bGUucGFkZGluZyAgICA9IFwiMHB4XCI7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiAgID0gXCJzdGF0aWNcIjtcblxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBtaWxsaXNlY29uZHMsIHVzaW5nIERhdGUubm93KCkgaWYgYXZhaWxhYmxlXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgbm93OiBmdW5jdGlvbiggKSB7XG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3cpIHtcbiAgICAgICAgICAgICAgICAkLm5vdyA9IERhdGUubm93O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLm5vdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICQubm93KCk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogRW5zdXJlcyBhbiBpbWFnZSBpcyBsb2FkZWQgY29ycmVjdGx5IHRvIHN1cHBvcnQgYWxwaGEgdHJhbnNwYXJlbmN5LlxuICAgICAgICAgKiBHZW5lcmFsbHkgb25seSBJRSBoYXMgaXNzdWVzIGRvaW5nIHRoaXMgY29ycmVjdGx5IGZvciBmb3JtYXRzIGxpa2VcbiAgICAgICAgICogcG5nLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNyY1xuICAgICAgICAgKiBAcmV0dXJucyB7RWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIG1ha2VUcmFuc3BhcmVudEltYWdlOiBmdW5jdGlvbiggc3JjICkge1xuXG4gICAgICAgICAgICAkLm1ha2VUcmFuc3BhcmVudEltYWdlID0gZnVuY3Rpb24oIHNyYyApe1xuICAgICAgICAgICAgICAgIHZhciBpbWcgPSAkLm1ha2VOZXV0cmFsRWxlbWVudCggXCJpbWdcIiApO1xuXG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IHNyYztcblxuICAgICAgICAgICAgICAgIHJldHVybiBpbWc7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoICQuQnJvd3Nlci52ZW5kb3IgPT0gJC5CUk9XU0VSUy5JRSAmJiAkLkJyb3dzZXIudmVyc2lvbiA8IDcgKSB7XG5cbiAgICAgICAgICAgICAgICAkLm1ha2VUcmFuc3BhcmVudEltYWdlID0gZnVuY3Rpb24oIHNyYyApe1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW1nICAgICA9ICQubWFrZU5ldXRyYWxFbGVtZW50KCBcImltZ1wiICksXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXG4gICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUud2lkdGggID0gZWxlbWVudC5zdHlsZS53aWR0aCB8fCBpbWcud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGVsZW1lbnQuc3R5bGUuaGVpZ2h0IHx8IGltZy5oZWlnaHQgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGltZy5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nID0gbnVsbDsgICAgIC8vIHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzIGluIElFXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5maWx0ZXIgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFJbWFnZUxvYWRlcihzcmM9J1wiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIicsIHNpemluZ01ldGhvZD0nc2NhbGUnKVwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICQubWFrZVRyYW5zcGFyZW50SW1hZ2UoIHNyYyApO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIG9wYWNpdHkgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gb3BhY2l0eVxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt1c2VzQWxwaGFdXG4gICAgICAgICAqL1xuICAgICAgICBzZXRFbGVtZW50T3BhY2l0eTogZnVuY3Rpb24oIGVsZW1lbnQsIG9wYWNpdHksIHVzZXNBbHBoYSApIHtcblxuICAgICAgICAgICAgdmFyIGllT3BhY2l0eSxcbiAgICAgICAgICAgICAgICBpZUZpbHRlcjtcblxuICAgICAgICAgICAgZWxlbWVudCA9ICQuZ2V0RWxlbWVudCggZWxlbWVudCApO1xuXG4gICAgICAgICAgICBpZiAoIHVzZXNBbHBoYSAmJiAhJC5Ccm93c2VyLmFscGhhICkge1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBNYXRoLnJvdW5kKCBvcGFjaXR5ICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggJC5Ccm93c2VyLm9wYWNpdHkgKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eSA8IDEgPyBvcGFjaXR5IDogXCJcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCBvcGFjaXR5IDwgMSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWVPcGFjaXR5ID0gTWF0aC5yb3VuZCggMTAwICogb3BhY2l0eSApO1xuICAgICAgICAgICAgICAgICAgICBpZUZpbHRlciAgPSBcImFscGhhKG9wYWNpdHk9XCIgKyBpZU9wYWNpdHkgKyBcIilcIjtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5maWx0ZXIgPSBpZUZpbHRlcjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmZpbHRlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHNwZWNpZmllZCBlbGVtZW50J3MgdG91Y2gtYWN0aW9uIHN0eWxlIGF0dHJpYnV0ZSB0byAnbm9uZScuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBzZXRFbGVtZW50VG91Y2hBY3Rpb25Ob25lOiBmdW5jdGlvbiggZWxlbWVudCApIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgICAgIGlmICggdHlwZW9mIGVsZW1lbnQuc3R5bGUudG91Y2hBY3Rpb24gIT09ICd1bmRlZmluZWQnICkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB0eXBlb2YgZWxlbWVudC5zdHlsZS5tc1RvdWNoQWN0aW9uICE9PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1zVG91Y2hBY3Rpb24gPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIHRoZSBzcGVjaWZpZWQgQ1NTIGNsYXNzIHRvIHRoZSBlbGVtZW50IGlmIG5vdCBwcmVzZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY2xhc3NOYW1lXG4gICAgICAgICAqL1xuICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24oIGVsZW1lbnQsIGNsYXNzTmFtZSApIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgfSBlbHNlIGlmICggKCAnICcgKyBlbGVtZW50LmNsYXNzTmFtZSArICcgJyApLlxuICAgICAgICAgICAgICAgIGluZGV4T2YoICcgJyArIGNsYXNzTmFtZSArICcgJyApID09PSAtMSApIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmQgdGhlIGZpcnN0IGluZGV4IGF0IHdoaWNoIGFuIGVsZW1lbnQgaXMgZm91bmQgaW4gYW4gYXJyYXkgb3IgLTFcbiAgICAgICAgICogaWYgbm90IHByZXNlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIENvZGUgdGFrZW4gYW5kIGFkYXB0ZWQgZnJvbVxuICAgICAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9BcnJheS9pbmRleE9mI0NvbXBhdGliaWxpdHlcbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBmcm9tIHdoaWNoIHRvIGZpbmQgdGhlIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNlYXJjaEVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZmluZFxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gW2Zyb21JbmRleD0wXSBJbmRleCB0byBzdGFydCByZXNlYXJjaC5cbiAgICAgICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoZSBhcnJheS5cbiAgICAgICAgICovXG4gICAgICAgIGluZGV4T2Y6IGZ1bmN0aW9uKCBhcnJheSwgc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4ICkge1xuICAgICAgICAgICAgaWYgKCBBcnJheS5wcm90b3R5cGUuaW5kZXhPZiApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4T2YgPSBmdW5jdGlvbiggYXJyYXksIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5LmluZGV4T2YoIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhPZiA9IGZ1bmN0aW9uKCBhcnJheSwgc2VhcmNoRWxlbWVudCwgZnJvbUluZGV4ICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpdm90ID0gKCBmcm9tSW5kZXggKSA/IGZyb21JbmRleCA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmICggIWFycmF5ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvciggKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBsZW5ndGggPT09IDAgfHwgcGl2b3QgPj0gbGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBwaXZvdCA8IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXZvdCA9IGxlbmd0aCAtIE1hdGguYWJzKCBwaXZvdCApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICggaSA9IHBpdm90OyBpIDwgbGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGFycmF5W2ldID09PSBzZWFyY2hFbGVtZW50ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZiggYXJyYXksIHNlYXJjaEVsZW1lbnQsIGZyb21JbmRleCApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgdGhlIHNwZWNpZmllZCBDU1MgY2xhc3MgZnJvbSB0aGUgZWxlbWVudC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd9IGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCBlbGVtZW50LCBjbGFzc05hbWUgKSB7XG4gICAgICAgICAgICB2YXIgb2xkQ2xhc3NlcyxcbiAgICAgICAgICAgICAgICBuZXdDbGFzc2VzID0gW10sXG4gICAgICAgICAgICAgICAgaTtcblxuICAgICAgICAgICAgZWxlbWVudCA9ICQuZ2V0RWxlbWVudCggZWxlbWVudCApO1xuICAgICAgICAgICAgb2xkQ2xhc3NlcyA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KCAvXFxzKy8gKTtcbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgb2xkQ2xhc3Nlcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIG9sZENsYXNzZXNbIGkgXSAmJiBvbGRDbGFzc2VzWyBpIF0gIT09IGNsYXNzTmFtZSApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2xhc3Nlcy5wdXNoKCBvbGRDbGFzc2VzWyBpIF0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IG5ld0NsYXNzZXMuam9pbignICcpO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBnaXZlbiBlbGVtZW50LCBldmVudE5hbWUgYW5kIGhhbmRsZXIuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt1c2VDYXB0dXJlXVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkRXZlbnQ6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoIGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9ICQuZ2V0RWxlbWVudCggZWxlbWVudCApO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB3aW5kb3cuYXR0YWNoRXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICggZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyLCB1c2VDYXB0dXJlICkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBlbGVtZW50ICk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoICdvbicgKyBldmVudE5hbWUsIGhhbmRsZXIgKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiTm8ga25vd24gZXZlbnQgbW9kZWwuXCIgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSgpKSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYSBnaXZlbiBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGdpdmVuIGVsZW1lbnQsIGV2ZW50IHR5cGUgYW5kXG4gICAgICAgICAqIGhhbmRsZXIuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR8U3RyaW5nfSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt1c2VDYXB0dXJlXVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlRXZlbnQ6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoIGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9ICQuZ2V0RWxlbWVudCggZWxlbWVudCApO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCB3aW5kb3cuZGV0YWNoRXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCBlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIHVzZUNhcHR1cmUgKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCggJ29uJyArIGV2ZW50TmFtZSwgaGFuZGxlciApO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggXCJObyBrbm93biBldmVudCBtb2RlbC5cIiApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KCkpLFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbmNlbHMgdGhlIGRlZmF1bHQgYnJvd3NlciBiZWhhdmlvciBoYWQgdGhlIGV2ZW50IHByb3BhZ2F0ZWQgYWxsXG4gICAgICAgICAqIHRoZSB3YXkgdXAgdGhlIERPTSB0byB0aGUgd2luZG93IG9iamVjdC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7RXZlbnR9IFtldmVudF1cbiAgICAgICAgICovXG4gICAgICAgIGNhbmNlbEV2ZW50OiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQucHJldmVudERlZmF1bHQgKSB7XG4gICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApe1xuICAgICAgICAgICAgICAgICAgICAvLyBXM0MgZm9yIHByZXZlbnRpbmcgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSAkLmdldEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgICAgICAvLyBsZWdhY3kgZm9yIHByZXZlbnRpbmcgZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBJRSBmb3IgcHJldmVudGluZyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcHMgdGhlIHByb3BhZ2F0aW9uIG9mIHRoZSBldmVudCB1cCB0aGUgRE9NLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gW2V2ZW50XVxuICAgICAgICAgKi9cbiAgICAgICAgc3RvcEV2ZW50OiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG5cbiAgICAgICAgICAgIGlmICggZXZlbnQuc3RvcFByb3BhZ2F0aW9uICkge1xuICAgICAgICAgICAgICAgIC8vIFczQyBmb3Igc3RvcHBpbmcgcHJvcGFnYXRpb25cbiAgICAgICAgICAgICAgICAkLnN0b3BFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApe1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJRSBmb3Igc3RvcHBpbmcgcHJvcGFnYXRpb25cbiAgICAgICAgICAgICAgICAkLnN0b3BFdmVudCA9IGZ1bmN0aW9uKCBldmVudCApe1xuICAgICAgICAgICAgICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLnN0b3BFdmVudCggZXZlbnQgKTtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaW1pbGFyIHRvIE9wZW5TZWFkcmFnb24uZGVsZWdhdGUsIGJ1dCBpdCBkb2VzIG5vdCBpbW1lZGlhdGVseSBjYWxsXG4gICAgICAgICAqIHRoZSBtZXRob2Qgb24gdGhlIG9iamVjdCwgcmV0dXJuaW5nIGEgZnVuY3Rpb24gd2hpY2ggY2FuIGJlIGNhbGxlZFxuICAgICAgICAgKiByZXBlYXRlZGx5IHRvIGRlbGVnYXRlIHRoZSBtZXRob2QuIEl0IGFsc28gYWxsb3dzIGFkZGl0b25hbCBhcmd1bWVudHNcbiAgICAgICAgICogdG8gYmUgcGFzc2VkIGR1cmluZyBjb25zdHJ1Y3Rpb24gd2hpY2ggd2lsbCBiZSBhZGRlZCBkdXJpbmcgZWFjaFxuICAgICAgICAgKiBpbnZvY2F0aW9uLCBhbmQgZWFjaCBpbnZvY2F0aW9uIGNhbiBhZGQgYWRkaXRpb25hbCBhcmd1bWVudHMgYXMgd2VsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWV0aG9kXG4gICAgICAgICAqIEBwYXJhbSBbYXJnc10gYW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZSBwYXNzZWQgYXMgYXJndW1lbnRzIHRvIHRoZVxuICAgICAgICAgKiAgY3JlYXRlZCBjYWxsYmFja1xuICAgICAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDYWxsYmFjazogZnVuY3Rpb24oIG9iamVjdCwgbWV0aG9kICkge1xuICAgICAgICAgICAgLy9UT0RPOiBUaGlzIHBhdHRlcm4gaXMgcGFpbmZ1bCB0byB1c2UgYW5kIGRlYnVnLiAgSXQncyBtdWNoIGNsZWFuZXJcbiAgICAgICAgICAgIC8vICAgICAgdG8gdXNlIHBpbm5pbmcgcGx1cyBhbm9ueW1vdXMgZnVuY3Rpb25zLiAgR2V0IHJpZCBvZiB0aGlzXG4gICAgICAgICAgICAvLyAgICAgIHBhdHRlcm4hXG4gICAgICAgICAgICB2YXIgaW5pdGlhbEFyZ3MgPSBbXSxcbiAgICAgICAgICAgICAgICBpO1xuICAgICAgICAgICAgZm9yICggaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbEFyZ3MucHVzaCggYXJndW1lbnRzWyBpIF0gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gaW5pdGlhbEFyZ3MuY29uY2F0KCBbXSApLFxuICAgICAgICAgICAgICAgICAgICBpO1xuICAgICAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goIGFyZ3VtZW50c1sgaSBdICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZC5hcHBseSggb2JqZWN0LCBhcmdzICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJlaXZlcyB0aGUgdmFsdWUgb2YgYSB1cmwgcGFyYW1ldGVyIGZyb20gdGhlIHdpbmRvdy5sb2NhdGlvbiBzdHJpbmcuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSB2YWx1ZSBvZiB0aGUgdXJsIHBhcmFtZXRlciBvciBudWxsIGlmIG5vIHBhcmFtIG1hdGNoZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRVcmxQYXJhbWV0ZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFVSTFBBUkFNU1sga2V5IF07XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZSA6IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgcHJvdG9jb2wgdXNlZCBieSB0aGUgdXJsLiBUaGUgdXJsIGNhbiBlaXRoZXIgYmUgYWJzb2x1dGVcbiAgICAgICAgICogb3IgcmVsYXRpdmUuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSB1cmwgdG8gcmV0cmlldmUgdGhlIHByb3RvY29sIGZyb20uXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHByb3RvY29sIChodHRwOiwgaHR0cHM6LCBmaWxlOiwgZnRwOiAuLi4pXG4gICAgICAgICAqL1xuICAgICAgICBnZXRVcmxQcm90b2NvbDogZnVuY3Rpb24oIHVybCApIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHVybC5tYXRjaCgvXihbYS16XSs6KVxcL1xcLy9pKTtcbiAgICAgICAgICAgIGlmICggbWF0Y2ggPT09IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVsYXRpdmUgVVJMLCByZXRyaXZlIHRoZSBwcm90b2NvbCBmcm9tIHdpbmRvdy5sb2NhdGlvblxuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGFuIFhIUiBvYmplY3RcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHBhcmFtIHt0eXBlfSBbbG9jYWxdIElmIHNldCB0byB0cnVlLCB0aGUgWEhSIHdpbGwgYmUgZmlsZTogcHJvdG9jb2xcbiAgICAgICAgICogY29tcGF0aWJsZSBpZiBwb3NzaWJsZSAoYnV0IG1heSByYWlzZSBhIHdhcm5pbmcgaW4gdGhlIGJyb3dzZXIpLlxuICAgICAgICAgKiBAcmV0dXJucyB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVBamF4UmVxdWVzdDogZnVuY3Rpb24oIGxvY2FsICkge1xuICAgICAgICAgICAgLy8gSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHdpbmRvdy5BY3RpdmVYT2JqZWN0IHNvIHdlIGp1c3QgdHJ5IHRvXG4gICAgICAgICAgICAvLyBjcmVhdGUgb25lIHRvIHNlZSBpZiBpdCBpcyBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAvLyBTZWU6IGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kbjQyMzk0OCUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgICAgICAgdmFyIHN1cHBvcnRBY3RpdmVYO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvKiBnbG9iYWwgQWN0aXZlWE9iamVjdDp0cnVlICovXG4gICAgICAgICAgICAgICAgc3VwcG9ydEFjdGl2ZVggPSAhIW5ldyBBY3RpdmVYT2JqZWN0KCBcIk1pY3Jvc29mdC5YTUxIVFRQXCIgKTtcbiAgICAgICAgICAgIH0gY2F0Y2goIGUgKSB7XG4gICAgICAgICAgICAgICAgc3VwcG9ydEFjdGl2ZVggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCBzdXBwb3J0QWN0aXZlWCApIHtcbiAgICAgICAgICAgICAgICBpZiAoIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCApIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jcmVhdGVBamF4UmVxdWVzdCA9IGZ1bmN0aW9uKCBsb2NhbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbG9jYWwgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCBcIk1pY3Jvc29mdC5YTUxIVFRQXCIgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkLmNyZWF0ZUFqYXhSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIFwiTWljcm9zb2Z0LlhNTEhUVFBcIiApO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCApIHtcbiAgICAgICAgICAgICAgICAkLmNyZWF0ZUFqYXhSZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QuXCIgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkLmNyZWF0ZUFqYXhSZXF1ZXN0KCBsb2NhbCApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYWtlcyBhbiBBSkFYIHJlcXVlc3QuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnVybCAtIHRoZSB1cmwgdG8gcmVxdWVzdFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLnN1Y2Nlc3MgLSBhIGZ1bmN0aW9uIHRvIGNhbGwgb24gYSBzdWNjZXNzZnVsIHJlc3BvbnNlXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMuZXJyb3IgLSBhIGZ1bmN0aW9uIHRvIGNhbGwgb24gd2hlbiBhbiBlcnJvciBvY2N1cnNcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuaGVhZGVycyAtIGhlYWRlcnMgdG8gYWRkIHRvIHRoZSBBSkFYIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbnMucmVzcG9uc2VUeXBlIC0gdGhlIHJlc3BvbnNlIHR5cGUgb2YgdGhlIHRoZSBBSkFYIHJlcXVlc3RcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRoQ3JlZGVudGlhbHM9ZmFsc2VdIC0gd2hldGhlciB0byBzZXQgdGhlIFhIUidzIHdpdGhDcmVkZW50aWFsc1xuICAgICAgICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICAgICAgICogQHJldHVybnMge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAgICAgKi9cbiAgICAgICAgbWFrZUFqYXhSZXF1ZXN0OiBmdW5jdGlvbiggdXJsLCBvblN1Y2Nlc3MsIG9uRXJyb3IgKSB7XG4gICAgICAgICAgICB2YXIgd2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgdmFyIGhlYWRlcnM7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VUeXBlO1xuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgb3VyIHByZWZlcnJlZCBBUEkgaXMgdGhhdCB5b3UgcGFzcyBpbiBhIHNpbmdsZSBvYmplY3Q7IHRoZSBuYW1lZFxuICAgICAgICAgICAgLy8gYXJndW1lbnRzIGFyZSBmb3IgbGVnYWN5IHN1cHBvcnQuXG4gICAgICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KCB1cmwgKSApe1xuICAgICAgICAgICAgICAgIG9uU3VjY2VzcyA9IHVybC5zdWNjZXNzO1xuICAgICAgICAgICAgICAgIG9uRXJyb3IgPSB1cmwuZXJyb3I7XG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzID0gdXJsLndpdGhDcmVkZW50aWFscztcbiAgICAgICAgICAgICAgICBoZWFkZXJzID0gdXJsLmhlYWRlcnM7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlID0gdXJsLnJlc3BvbnNlVHlwZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIHVybCA9IHVybC51cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwcm90b2NvbCA9ICQuZ2V0VXJsUHJvdG9jb2woIHVybCApO1xuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSAkLmNyZWF0ZUFqYXhSZXF1ZXN0KCBwcm90b2NvbCA9PT0gXCJmaWxlOlwiICk7XG5cbiAgICAgICAgICAgIGlmICggISQuaXNGdW5jdGlvbiggb25TdWNjZXNzICkgKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIm1ha2VBamF4UmVxdWVzdCByZXF1aXJlcyBhIHN1Y2Nlc3MgY2FsbGJhY2tcIiApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIDQgPSBET05FIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QjUHJvcGVydGllcylcbiAgICAgICAgICAgICAgICBpZiAoIHJlcXVlc3QucmVhZHlTdGF0ZSA9PSA0ICkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7fTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBXaXRoIHByb3RvY29scyBvdGhlciB0aGFuIGh0dHAvaHR0cHMsIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0IHN0YXR1cyBpcyBpblxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgMjAwJ3Mgb24gRmlyZWZveCBhbmQgMCBvbiBvdGhlciBicm93c2Vyc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIChyZXF1ZXN0LnN0YXR1cyA+PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgPCAzMDApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoIHJlcXVlc3Quc3RhdHVzID09PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RvY29sICE9PSBcImh0dHA6XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvdG9jb2wgIT09IFwiaHR0cHM6XCIgKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKCByZXF1ZXN0ICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmNvbnNvbGUubG9nKCBcIkFKQVggcmVxdWVzdCByZXR1cm5lZCAlZDogJXNcIiwgcmVxdWVzdC5zdGF0dXMsIHVybCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggb25FcnJvciApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoIHJlcXVlc3QgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCBcIkdFVFwiLCB1cmwsIHRydWUgKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaGVhZGVyTmFtZSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXJOYW1lKSAmJiBoZWFkZXJzW2hlYWRlck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlck5hbWUsIGhlYWRlcnNbaGVhZGVyTmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5zZW5kKG51bGwpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBtc2cgPSBlLm1lc3NhZ2U7XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICBJRSA8IDEwIGRvZXMgbm90IHN1cHBvcnQgQ09SUyBhbmQgYW4gWEhSIHJlcXVlc3QgdG8gYSBkaWZmZXJlbnQgb3JpZ2luIHdpbGwgZmFpbCBhcyBzb29uXG4gICAgICAgICAgICAgICAgICAgIGFzIHNlbmQoKSBpcyBjYWxsZWQuIFRoaXMgaXMgcGFydGljdWxhcmx5IGVhc3kgdG8gbWlzcyBkdXJpbmcgZGV2ZWxvcG1lbnQgYW5kIGFwcGVhciBpblxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0aW9uIGlmIHlvdSB1c2UgYSBDRE4gb3IgZG9tYWluIHNoYXJkaW5nIGFuZCB0aGUgc2VjdXJpdHkgcG9saWN5IGlzIGxpa2VseSB0byBicmVha1xuICAgICAgICAgICAgICAgICAgICBleGNlcHRpb24gaGFuZGxlcnMgc2luY2UgYW55IGF0dGVtcHQgdG8gYWNjZXNzIGEgcHJvcGVydHkgb2YgdGhlIHJlcXVlc3Qgb2JqZWN0IHdpbGxcbiAgICAgICAgICAgICAgICAgICAgcmFpc2UgYW4gYWNjZXNzIGRlbmllZCBUeXBlRXJyb3IgaW5zaWRlIHRoZSBjYXRjaCBibG9jay5cblxuICAgICAgICAgICAgICAgICAgICBUbyBiZSBmcmllbmRsaWVyLCB3ZSdsbCBjaGVjayBmb3IgdGhpcyBzcGVjaWZpYyBlcnJvciBhbmQgYWRkIGEgZG9jdW1lbnRhdGlvbiBwb2ludGVyXG4gICAgICAgICAgICAgICAgICAgIHRvIHBvaW50IGRldmVsb3BlcnMgaW4gdGhlIHJpZ2h0IGRpcmVjdGlvbi4gV2UgdGVzdCB0aGUgZXhjZXB0aW9uIG51bWJlciBiZWNhdXNlIElFJ3NcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgbWVzc2FnZXMgYXJlIGxvY2FsaXplZC5cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHZhciBvbGRJRSA9ICQuQnJvd3Nlci52ZW5kb3IgPT0gJC5CUk9XU0VSUy5JRSAmJiAkLkJyb3dzZXIudmVyc2lvbiA8IDEwO1xuICAgICAgICAgICAgICAgIGlmICggb2xkSUUgJiYgdHlwZW9mKCBlLm51bWJlciApICE9IFwidW5kZWZpbmVkXCIgJiYgZS5udW1iZXIgPT0gLTIxNDcwMjQ4OTEgKSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZyArPSBcIlxcblNlZSBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1Mzc1MDUodj12cy44NSkuYXNweCN4ZG9tYWluXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJC5jb25zb2xlLmxvZyggXCIlcyB3aGlsZSBtYWtpbmcgQUpBWCByZXF1ZXN0OiAlc1wiLCBlLm5hbWUsIG1zZyApO1xuXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe307XG5cbiAgICAgICAgICAgICAgICBpZiAod2luZG93LlhEb21haW5SZXF1ZXN0KSB7IC8vIElFOSBvciBJRTggbWlnaHQgYXMgd2VsbCB0cnkgdG8gdXNlIFhEb21haW5SZXF1ZXN0XG4gICAgICAgICAgICAgICAgICAgIHZhciB4ZHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHhkcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeGRyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkLmlzRnVuY3Rpb24oIG9uU3VjY2VzcyApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoeyAvLyBGYWtpbmcgYW4geGhyIG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0OiB4ZHIucmVzcG9uc2VUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyMDAsIC8vIFhEb21haW5SZXF1ZXN0IGRvZXNuJ3Qgc3VwcG9ydCBzdGF0dXMgY29kZXMsIHNvIHdlIGp1c3QgZmFrZSBvbmUhIDovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnT0snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB4ZHIub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvbkVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVycm9yKHsgLy8gRmFraW5nIGFuIHhociBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVGV4dDogeGRyLnJlc3BvbnNlVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogNDQ0LCAvLyA0NDQgTm8gUmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdBbiBlcnJvciBoYXBwZW5lZC4gRHVlIHRvIGFuIFhEb21haW5SZXF1ZXN0IGRlZmljaWVuY3kgd2UgY2FuIG5vdCBleHRyYWN0IGFueSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGVycm9yLiBVcGdyYWRlIHlvdXIgYnJvd3Nlci4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhkci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhkci5zZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCBvbkVycm9yICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoIHJlcXVlc3QsIGUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggb25FcnJvciApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvciggcmVxdWVzdCwgZSApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGFrZW4gZnJvbSBqUXVlcnkgMS42LjFcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnVybFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25zLmNhbGxiYWNrXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5wYXJhbT0nY2FsbGJhY2snXSBUaGUgbmFtZSBvZiB0aGUgdXJsIHBhcmFtZXRlclxuICAgICAgICAgKiAgICAgIHRvIHJlcXVlc3QgdGhlIGpzb25wIHByb3ZpZGVyIHdpdGguXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jYWxsYmFja05hbWU9XSBUaGUgbmFtZSBvZiB0aGUgY2FsbGJhY2sgdG9cbiAgICAgICAgICogICAgICByZXF1ZXN0IHRoZSBqc29ucCBwcm92aWRlciB3aXRoLlxuICAgICAgICAgKi9cbiAgICAgICAganNvbnA6IGZ1bmN0aW9uKCBvcHRpb25zICl7XG4gICAgICAgICAgICB2YXIgc2NyaXB0LFxuICAgICAgICAgICAgICAgIHVybCAgICAgPSBvcHRpb25zLnVybCxcbiAgICAgICAgICAgICAgICBoZWFkICAgID0gZG9jdW1lbnQuaGVhZCB8fFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJoZWFkXCIgKVsgMCBdIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgICBqc29ucENhbGxiYWNrID0gb3B0aW9ucy5jYWxsYmFja05hbWUgfHwgJ29wZW5zZWFkcmFnb24nICsgJC5ub3coKSxcbiAgICAgICAgICAgICAgICBwcmV2aW91cyAgICAgID0gd2luZG93WyBqc29ucENhbGxiYWNrIF0sXG4gICAgICAgICAgICAgICAgcmVwbGFjZSAgICAgICA9IFwiJDFcIiArIGpzb25wQ2FsbGJhY2sgKyBcIiQyXCIsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tQYXJhbSA9IG9wdGlvbnMucGFyYW0gfHwgJ2NhbGxiYWNrJyxcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAgICAgID0gb3B0aW9ucy5jYWxsYmFjaztcblxuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoIC8oXFw9KVxcPygmfCQpfFxcP1xcPy9pLCByZXBsYWNlICk7XG4gICAgICAgICAgICAvLyBBZGQgY2FsbGJhY2sgbWFudWFsbHlcbiAgICAgICAgICAgIHVybCArPSAoL1xcPy8udGVzdCggdXJsICkgPyBcIiZcIiA6IFwiP1wiKSArIGNhbGxiYWNrUGFyYW0gKyBcIj1cIiArIGpzb25wQ2FsbGJhY2s7XG5cbiAgICAgICAgICAgIC8vIEluc3RhbGwgY2FsbGJhY2tcbiAgICAgICAgICAgIHdpbmRvd1sganNvbnBDYWxsYmFjayBdID0gZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuICAgICAgICAgICAgICAgIGlmICggIXByZXZpb3VzICl7XG4gICAgICAgICAgICAgICAgICAgIHRyeXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3dbIGpzb25wQ2FsbGJhY2sgXTtcbiAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9zd2FsbG93XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3dbIGpzb25wQ2FsbGJhY2sgXSA9IHByZXZpb3VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiggY2FsbGJhY2sgJiYgJC5pc0Z1bmN0aW9uKCBjYWxsYmFjayApICl7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCByZXNwb25zZSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblxuICAgICAgICAgICAgLy9UT0RPOiBoYXZpbmcgYW4gaXNzdWUgd2l0aCBhc3luYyBpbmZvIHJlcXVlc3RzXG4gICAgICAgICAgICBpZiggdW5kZWZpbmVkICE9PSBvcHRpb25zLmFzeW5jIHx8IGZhbHNlICE9PSBvcHRpb25zLmFzeW5jICl7XG4gICAgICAgICAgICAgICAgc2NyaXB0LmFzeW5jID0gXCJhc3luY1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIG9wdGlvbnMuc2NyaXB0Q2hhcnNldCApIHtcbiAgICAgICAgICAgICAgICBzY3JpcHQuY2hhcnNldCA9IG9wdGlvbnMuc2NyaXB0Q2hhcnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NyaXB0LnNyYyA9IHVybDtcblxuICAgICAgICAgICAgLy8gQXR0YWNoIGhhbmRsZXJzIGZvciBhbGwgYnJvd3NlcnNcbiAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oIF8sIGlzQWJvcnQgKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoIGlzQWJvcnQgfHwgIXNjcmlwdC5yZWFkeVN0YXRlIHx8IC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoIHNjcmlwdC5yZWFkeVN0YXRlICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIG1lbW9yeSBsZWFrIGluIElFXG4gICAgICAgICAgICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIHNjcmlwdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIGhlYWQgJiYgc2NyaXB0LnBhcmVudE5vZGUgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlcmVmZXJlbmNlIHRoZSBzY3JpcHRcbiAgICAgICAgICAgICAgICAgICAgc2NyaXB0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBVc2UgaW5zZXJ0QmVmb3JlIGluc3RlYWQgb2YgYXBwZW5kQ2hpbGQgIHRvIGNpcmN1bXZlbnQgYW4gSUU2IGJ1Zy5cbiAgICAgICAgICAgIC8vIFRoaXMgYXJpc2VzIHdoZW4gYSBiYXNlIG5vZGUgaXMgdXNlZCAoIzI3MDkgYW5kICM0Mzc4KS5cbiAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKCBzY3JpcHQsIGhlYWQuZmlyc3RDaGlsZCApO1xuXG4gICAgICAgIH0sXG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVsbHkgZGVwcmVjYXRlZC4gV2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjb3Blbn1cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZUZyb21EWkk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgXCJPcGVuU2VhZHJhZ29uLmNyZWF0ZUZyb21EWkkgaXMgZGVwcmVjYXRlZCwgdXNlIFZpZXdlci5vcGVuLlwiO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJzZXMgYW4gWE1MIHN0cmluZyBpbnRvIGEgRE9NIERvY3VtZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICAgICAgICAgKiBAcmV0dXJucyB7RG9jdW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZVhtbDogZnVuY3Rpb24oIHN0cmluZyApIHtcbiAgICAgICAgICAgIGlmICggd2luZG93LkRPTVBhcnNlciApIHtcblxuICAgICAgICAgICAgICAgICQucGFyc2VYbWwgPSBmdW5jdGlvbiggc3RyaW5nICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeG1sRG9jID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlcjtcblxuICAgICAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoIHN0cmluZywgXCJ0ZXh0L3htbFwiICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4bWxEb2M7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICggd2luZG93LkFjdGl2ZVhPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgICAkLnBhcnNlWG1sID0gZnVuY3Rpb24oIHN0cmluZyApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHhtbERvYyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgeG1sRG9jID0gbmV3IEFjdGl2ZVhPYmplY3QoIFwiTWljcm9zb2Z0LlhNTERPTVwiICk7XG4gICAgICAgICAgICAgICAgICAgIHhtbERvYy5hc3luYyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB4bWxEb2MubG9hZFhNTCggc3RyaW5nICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4bWxEb2M7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgWE1MIERPTS5cIiApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gJC5wYXJzZVhtbCggc3RyaW5nICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnNlcyBhIEpTT04gc3RyaW5nIGludG8gYSBKYXZhc2NyaXB0IG9iamVjdC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmdcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlSlNPTjogZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LkpTT04gJiYgd2luZG93LkpTT04ucGFyc2UpIHtcbiAgICAgICAgICAgICAgICAkLnBhcnNlSlNPTiA9IHdpbmRvdy5KU09OLnBhcnNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTaG91bGQgb25seSBiZSB1c2VkIGJ5IElFOCBpbiBub24gc3RhbmRhcmRzIG1vZGVcbiAgICAgICAgICAgICAgICAkLnBhcnNlSlNPTiA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAvKmpzaGludCBldmlsOnRydWUqL1xuICAgICAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1ldmFsXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmFsKCcoJyArIHN0cmluZyArICcpJyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAkLnBhcnNlSlNPTihzdHJpbmcpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBvcnRzIHdoZXRoZXIgdGhlIGltYWdlIGZvcm1hdCBpcyBzdXBwb3J0ZWQgZm9yIHRpbGluZyBpbiB0aGlzXG4gICAgICAgICAqIHZlcnNpb24uXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2V4dGVuc2lvbl1cbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBpbWFnZUZvcm1hdFN1cHBvcnRlZDogZnVuY3Rpb24oIGV4dGVuc2lvbiApIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbiA/IGV4dGVuc2lvbiA6IFwiXCI7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgIHJldHVybiAhIUZJTEVGT1JNQVRTWyBleHRlbnNpb24udG9Mb3dlckNhc2UoKSBdO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgYnJvd3NlciB2ZW5kb3IsIHZlcnNpb24sIGFuZCByZWxhdGVkIGluZm9ybWF0aW9uIHJlZ2FyZGluZyBkZXRlY3RlZCBmZWF0dXJlcy5cbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9IEJyb3dzZXJcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5CUk9XU0VSU30gdmVuZG9yIC0gT25lIG9mIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5CUk9XU0VSU30gZW51bWVyYXRpb24gdmFsdWVzLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB2ZXJzaW9uXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBhbHBoYSAtIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBpbWFnZSBhbHBoYSB0cmFuc3BhcmVuY3kuXG4gICAgICovXG4gICAgJC5Ccm93c2VyID0ge1xuICAgICAgICB2ZW5kb3I6ICAgICAkLkJST1dTRVJTLlVOS05PV04sXG4gICAgICAgIHZlcnNpb246ICAgIDAsXG4gICAgICAgIGFscGhhOiAgICAgIHRydWVcbiAgICB9O1xuXG5cbiAgICB2YXIgRklMRUZPUk1BVFMgPSB7XG4gICAgICAgICAgICBcImJtcFwiOiAgZmFsc2UsXG4gICAgICAgICAgICBcImpwZWdcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwianBnXCI6ICB0cnVlLFxuICAgICAgICAgICAgXCJwbmdcIjogIHRydWUsXG4gICAgICAgICAgICBcInRpZlwiOiAgZmFsc2UsXG4gICAgICAgICAgICBcIndkcFwiOiAgZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgVVJMUEFSQU1TID0ge307XG5cbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vQSBzbWFsbCBhdXRvLWV4ZWN1dGluZyByb3V0aW5lIHRvIGRldGVybWluZSB0aGUgYnJvd3NlciB2ZW5kb3IsXG4gICAgICAgIC8vdmVyc2lvbiBhbmQgc3VwcG9ydGluZyBmZWF0dXJlIHNldHMuXG4gICAgICAgIHZhciB2ZXIgPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbixcbiAgICAgICAgICAgIHVhICA9IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAgICAgICByZWdleDtcblxuICAgICAgICAvL2NvbnNvbGUuZXJyb3IoICdhcHBOYW1lOiAnICsgbmF2aWdhdG9yLmFwcE5hbWUgKTtcbiAgICAgICAgLy9jb25zb2xlLmVycm9yKCAnYXBwVmVyc2lvbjogJyArIG5hdmlnYXRvci5hcHBWZXJzaW9uICk7XG4gICAgICAgIC8vY29uc29sZS5lcnJvciggJ3VzZXJBZ2VudDogJyArIG5hdmlnYXRvci51c2VyQWdlbnQgKTtcblxuICAgICAgICBzd2l0Y2goIG5hdmlnYXRvci5hcHBOYW1lICl7XG4gICAgICAgICAgICBjYXNlIFwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyXCI6XG4gICAgICAgICAgICAgICAgaWYoICEhd2luZG93LmF0dGFjaEV2ZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICEhd2luZG93LkFjdGl2ZVhPYmplY3QgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5Ccm93c2VyLnZlbmRvciA9ICQuQlJPV1NFUlMuSUU7XG4gICAgICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZXJzaW9uID0gcGFyc2VGbG9hdChcbiAgICAgICAgICAgICAgICAgICAgICAgIHVhLnN1YnN0cmluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1YS5pbmRleE9mKCBcIk1TSUVcIiApICsgNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1YS5pbmRleE9mKCBcIjtcIiwgdWEuaW5kZXhPZiggXCJNU0lFXCIgKSApIClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIk5ldHNjYXBlXCI6XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdWEuaW5kZXhPZiggXCJGaXJlZm94XCIgKSA+PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5Ccm93c2VyLnZlbmRvciA9ICQuQlJPV1NFUlMuRklSRUZPWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZXJzaW9uID0gcGFyc2VGbG9hdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1YS5zdWJzdHJpbmcoIHVhLmluZGV4T2YoIFwiRmlyZWZveFwiICkgKyA4IClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHVhLmluZGV4T2YoIFwiU2FmYXJpXCIgKSA+PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5Ccm93c2VyLnZlbmRvciA9IHVhLmluZGV4T2YoIFwiQ2hyb21lXCIgKSA+PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLkJST1dTRVJTLkNIUk9NRSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5CUk9XU0VSUy5TQUZBUkk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLkJyb3dzZXIudmVyc2lvbiA9IHBhcnNlRmxvYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdWEuc3Vic3RyaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1YS5zdWJzdHJpbmcoIDAsIHVhLmluZGV4T2YoIFwiU2FmYXJpXCIgKSApLmxhc3RJbmRleE9mKCBcIi9cIiApICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWEuaW5kZXhPZiggXCJTYWZhcmlcIiApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cCggXCJUcmlkZW50Ly4qcnY6KFswLTldezEsfVsuMC05XXswLH0pXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZWdleC5leGVjKCB1YSApICE9PSBudWxsICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZW5kb3IgPSAkLkJST1dTRVJTLklFO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZXJzaW9uID0gcGFyc2VGbG9hdCggUmVnRXhwLiQxICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiT3BlcmFcIjpcbiAgICAgICAgICAgICAgICAkLkJyb3dzZXIudmVuZG9yID0gJC5CUk9XU0VSUy5PUEVSQTtcbiAgICAgICAgICAgICAgICAkLkJyb3dzZXIudmVyc2lvbiA9IHBhcnNlRmxvYXQoIHZlciApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlnbm9yZSAnPycgcG9ydGlvbiBvZiBxdWVyeSBzdHJpbmdcbiAgICAgICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoIDEgKSxcbiAgICAgICAgICAgIHBhcnRzID0gcXVlcnkuc3BsaXQoJyYnKSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBzZXAsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBwYXJ0ID0gcGFydHNbIGkgXTtcbiAgICAgICAgICAgIHNlcCAgPSBwYXJ0LmluZGV4T2YoICc9JyApO1xuXG4gICAgICAgICAgICBpZiAoIHNlcCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgVVJMUEFSQU1TWyBwYXJ0LnN1YnN0cmluZyggMCwgc2VwICkgXSA9XG4gICAgICAgICAgICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudCggcGFydC5zdWJzdHJpbmcoIHNlcCArIDEgKSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9kZXRlcm1pbmUgaWYgdGhpcyBicm93c2VyIHN1cHBvcnRzIGltYWdlIGFscGhhIHRyYW5zcGFyZW5jeVxuICAgICAgICAkLkJyb3dzZXIuYWxwaGEgPSAhKFxuICAgICAgICAgICAgKFxuICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZW5kb3IgPT0gJC5CUk9XU0VSUy5JRSAmJlxuICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZXJzaW9uIDwgOVxuICAgICAgICAgICAgKSB8fCAoXG4gICAgICAgICAgICAgICAgJC5Ccm93c2VyLnZlbmRvciA9PSAkLkJST1dTRVJTLkNIUk9NRSAmJlxuICAgICAgICAgICAgICAgICQuQnJvd3Nlci52ZXJzaW9uIDwgMlxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vZGV0ZXJtaW5lIGlmIHRoaXMgYnJvd3NlciBzdXBwb3J0cyBlbGVtZW50LnN0eWxlLm9wYWNpdHlcbiAgICAgICAgJC5Ccm93c2VyLm9wYWNpdHkgPSAhKFxuICAgICAgICAgICAgJC5Ccm93c2VyLnZlbmRvciA9PSAkLkJST1dTRVJTLklFICYmXG4gICAgICAgICAgICAkLkJyb3dzZXIudmVyc2lvbiA8IDlcbiAgICAgICAgKTtcblxuICAgIH0pKCk7XG5cblxuICAgIC8vVE9ETzogJC5jb25zb2xlIGlzIG9mdGVuIHVzZWQgaW5zaWRlIGEgdHJ5L2NhdGNoIGJsb2NrIHdoaWNoIGdlbmVyYWxseVxuICAgIC8vICAgICAgcHJldmVudHMgYWxsb3dpbmdzIGVycm9ycyB0byBvY2N1ciB3aXRoIGRldGVjdGlvbiB1bnRpbCBhIGRlYnVnZ2VyXG4gICAgLy8gICAgICBpcyBhdHRhY2hlZC4gIEFsdGhvdWdoIEkndmUgYmVlbiBndWlsdHkgb2YgdGhlIHNhbWUgYW50aS1wYXR0ZXJuXG4gICAgLy8gICAgICBJIGV2ZW50dWFsbHkgd2FzIGNvbnZpbmNlZCB0aGF0IGVycm9ycyBzaG91bGQgbmF0dXJhbGx5IHByb3BvZ2F0ZSBpblxuICAgIC8vICAgICAgYWxsIGJ1dCB0aGUgbW9zdCBzcGVjaWFsIGNhc2VzLlxuICAgIC8qKlxuICAgICAqIEEgY29udmVuaWVudCBhbGlhcyBmb3IgY29uc29sZSB3aGVuIGF2YWlsYWJsZSwgYW5kIGEgc2ltcGxlIG51bGxcbiAgICAgKiBmdW5jdGlvbiB3aGVuIGNvbnNvbGUgaXMgdW5hdmFpbGFibGUuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmFyIG51bGxmdW5jdGlvbiA9IGZ1bmN0aW9uKCBtc2cgKXtcbiAgICAgICAgICAgIC8vZG9jdW1lbnQubG9jYXRpb24uaGFzaCA9IG1zZztcbiAgICAgICAgfTtcblxuICAgICQuY29uc29sZSA9IHdpbmRvdy5jb25zb2xlIHx8IHtcbiAgICAgICAgbG9nOiAgICBudWxsZnVuY3Rpb24sXG4gICAgICAgIGRlYnVnOiAgbnVsbGZ1bmN0aW9uLFxuICAgICAgICBpbmZvOiAgIG51bGxmdW5jdGlvbixcbiAgICAgICAgd2FybjogICBudWxsZnVuY3Rpb24sXG4gICAgICAgIGVycm9yOiAgbnVsbGZ1bmN0aW9uLFxuICAgICAgICBhc3NlcnQ6IG51bGxmdW5jdGlvblxuICAgIH07XG5cblxuICAgIC8vIEFkZGluZyBzdXBwb3J0IGZvciBIVE1MNSdzIHJlcXVlc3RBbmltYXRpb25GcmFtZSBhcyBzdWdnZXN0ZWQgYnkgYWNkaGEuXG4gICAgLy8gSW1wbGVtZW50YXRpb24gdGFrZW4gZnJvbSBtYXR0IHN5bmRlcidzIHBvc3QgaGVyZTpcbiAgICAvLyBodHRwOi8vbWF0dHNuaWRlci5jb20vY3Jvc3MtYnJvd3Nlci1hbmQtbGVnYWN5LXN1cHBvcnRlZC1yZXF1ZXN0ZnJhbWVhbmltYXRpb24vXG4gICAgKGZ1bmN0aW9uKCB3ICkge1xuXG4gICAgICAgIC8vIG1vc3QgYnJvd3NlcnMgaGF2ZSBhbiBpbXBsZW1lbnRhdGlvblxuICAgICAgICB2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgIHcubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuICAgICAgICB2YXIgY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICB3Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7XG5cbiAgICAgICAgLy8gcG9seWZpbGwsIHdoZW4gbmVjZXNzYXJ5XG4gICAgICAgIGlmICggcmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIGNhbmNlbEFuaW1hdGlvbkZyYW1lICkge1xuICAgICAgICAgICAgLy8gV2UgY2FuJ3QgYXNzaWduIHRoZXNlIHdpbmRvdyBtZXRob2RzIGRpcmVjdGx5IHRvICQgYmVjYXVzZSB0aGV5XG4gICAgICAgICAgICAvLyBleHBlY3QgdGhlaXIgXCJ0aGlzXCIgdG8gYmUgXCJ3aW5kb3dcIiwgc28gd2UgY2FsbCB0aGVtIGluIHdyYXBwZXJzLlxuICAgICAgICAgICAgJC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuYXBwbHkoIHcsIGFyZ3VtZW50cyApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICQuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJldHVybiBjYW5jZWxBbmltYXRpb25GcmFtZS5hcHBseSggdywgYXJndW1lbnRzICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFBbmltUXVldWUgPSBbXSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzaW5nID0gW10sXG4gICAgICAgICAgICAgICAgaVJlcXVlc3RJZCA9IDAsXG4gICAgICAgICAgICAgICAgaUludGVydmFsSWQ7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG1vY2sgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZ1bmN0aW9uXG4gICAgICAgICAgICAkLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcbiAgICAgICAgICAgICAgICBhQW5pbVF1ZXVlLnB1c2goIFsgKytpUmVxdWVzdElkLCBjYWxsYmFjayBdICk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICFpSW50ZXJ2YWxJZCApIHtcbiAgICAgICAgICAgICAgICAgICAgaUludGVydmFsSWQgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGFBbmltUXVldWUubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gJC5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIGFsbCBvZiB0aGUgY3VycmVudGx5IG91dHN0YW5kaW5nIGZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWVzdHMsIGJ1dCBub25lIHRoYXQgZ2V0IGFkZGVkIGR1cmluZyB0aGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcm9jZXNzaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN3YXAgdGhlIGFycmF5cyBzbyB3ZSBkb24ndCBoYXZlIHRvIGNyZWF0ZSBhIG5ld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFycmF5IGV2ZXJ5IGZyYW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gcHJvY2Vzc2luZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nID0gYUFuaW1RdWV1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQW5pbVF1ZXVlID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIHByb2Nlc3NpbmcubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nLnNoaWZ0KClbIDEgXSggdGltZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgY29udGludWUgdGhlIGludGVydmFsLCBpZiB1bm5lY2Vzc2FyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoIGlJbnRlcnZhbElkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaUludGVydmFsSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDEwMDAgLyA1MCk7ICAvLyBlc3RpbWF0aW5nIHN1cHBvcnQgZm9yIDUwIGZyYW1lcyBwZXIgc2Vjb25kXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlSZXF1ZXN0SWQ7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgYSBtb2NrIGNhbmNlbEFuaW1hdGlvbkZyYW1lIGZ1bmN0aW9uXG4gICAgICAgICAgICAkLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oIHJlcXVlc3RJZCApIHtcbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSByZXF1ZXN0IElEIGFuZCByZW1vdmUgaXRcbiAgICAgICAgICAgICAgICB2YXIgaSwgajtcbiAgICAgICAgICAgICAgICBmb3IgKCBpID0gMCwgaiA9IGFBbmltUXVldWUubGVuZ3RoOyBpIDwgajsgaSArPSAxICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGFBbmltUXVldWVbIGkgXVsgMCBdID09PSByZXF1ZXN0SWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhQW5pbVF1ZXVlLnNwbGljZSggaSwgMSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBub3QgaW4gdGhlIHF1ZXVlLCBpdCBtYXkgYmUgaW4gdGhlIHNldCB3ZSdyZSBjdXJyZW50bHlcbiAgICAgICAgICAgICAgICAvLyBwcm9jZXNzaW5nIChpZiBjYW5jZWxBbmltYXRpb25GcmFtZSBpcyBjYWxsZWQgZnJvbSB3aXRoaW4gYVxuICAgICAgICAgICAgICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBjYWxsYmFjaykuXG4gICAgICAgICAgICAgICAgZm9yICggaSA9IDAsIGogPSBwcm9jZXNzaW5nLmxlbmd0aDsgaSA8IGo7IGkgKz0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9jZXNzaW5nWyBpIF1bIDAgXSA9PT0gcmVxdWVzdElkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZy5zcGxpY2UoIGksIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KSggd2luZG93ICk7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzRml4ZWRdXG4gICAgICogQHJldHVybnMge0VsZW1lbnR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KCBlbGVtZW50LCBpc0ZpeGVkICkge1xuICAgICAgICBpZiAoIGlzRml4ZWQgJiYgZWxlbWVudCAhPSBkb2N1bWVudC5ib2R5ICkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmJvZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbn0oT3BlblNlYWRyYWdvbikpO1xuXG5cbi8vIFVuaXZlcnNhbCBNb2R1bGUgRGVmaW5pdGlvbiwgc3VwcG9ydHMgQ29tbW9uSlMsIEFNRCBhbmQgc2ltcGxlIHNjcmlwdCB0YWdcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gZXhwb3NlIGFzIGFtZCBtb2R1bGVcbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIC8vIGV4cG9zZSBhcyBjb21tb25qcyBtb2R1bGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZXhwb3NlIGFzIHdpbmRvdy5PcGVuU2VhZHJhZ29uXG4gICAgICAgIHJvb3QuT3BlblNlYWRyYWdvbiA9IGZhY3RvcnkoKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT3BlblNlYWRyYWdvbjtcbn0pKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBmdWxsLXNjcmVlbiBzdXBwb3J0IGZ1bmN0aW9uc1xuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKSB7XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIG5hdGl2ZSBmdWxsIHNjcmVlbiBzdXBwb3J0IHdlIGNhbiBnZXQgZnJvbSB0aGUgYnJvd3Nlci5cbiAgICAgKiBAbWVtYmVyIGZ1bGxTY3JlZW5BcGlcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzdXBwb3J0c0Z1bGxTY3JlZW4gUmV0dXJuIHRydWUgaWYgZnVsbCBzY3JlZW4gQVBJIGlzIHN1cHBvcnRlZC5cbiAgICAgKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBpc0Z1bGxTY3JlZW4gUmV0dXJuIHRydWUgaWYgY3VycmVudGx5IGluIGZ1bGwgc2NyZWVuIG1vZGUuXG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZ2V0RnVsbFNjcmVlbkVsZW1lbnQgUmV0dXJuIHRoZSBlbGVtZW50IGN1cnJlbnRseSBpbiBmdWxsIHNjcmVlbiBtb2RlLlxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IHJlcXVlc3RGdWxsU2NyZWVuIE1ha2UgYSByZXF1ZXN0IHRvIGdvIGluIGZ1bGwgc2NyZWVuIG1vZGUuXG4gICAgICogQHByb3BlcnR5IHtGdW5jdGlvbn0gZXhpdEZ1bGxTY3JlZW4gTWFrZSBhIHJlcXVlc3QgdG8gZXhpdCBmdWxsIHNjcmVlbiBtb2RlLlxuICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGNhbmNlbEZ1bGxTY3JlZW4gRGVwcmVjYXRlZCwgdXNlIGV4aXRGdWxsU2NyZWVuIGluc3RlYWQuXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IGZ1bGxTY3JlZW5FdmVudE5hbWUgRXZlbnQgZmlyZWQgd2hlbiB0aGUgZnVsbCBzY3JlZW4gbW9kZSBjaGFuZ2UuXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IGZ1bGxTY3JlZW5FcnJvckV2ZW50TmFtZSBFdmVudCBmaXJlZCB3aGVuIGEgcmVxdWVzdCB0byBnb1xuICAgICAqIGluIGZ1bGwgc2NyZWVuIG1vZGUgZmFpbGVkLlxuICAgICAqL1xuICAgIHZhciBmdWxsU2NyZWVuQXBpID0ge1xuICAgICAgICBzdXBwb3J0c0Z1bGxTY3JlZW46IGZhbHNlLFxuICAgICAgICBpc0Z1bGxTY3JlZW46IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0sXG4gICAgICAgIGdldEZ1bGxTY3JlZW5FbGVtZW50OiBmdW5jdGlvbigpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgICAgIHJlcXVlc3RGdWxsU2NyZWVuOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICBleGl0RnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgY2FuY2VsRnVsbFNjcmVlbjogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgZnVsbFNjcmVlbkV2ZW50TmFtZTogJycsXG4gICAgICAgIGZ1bGxTY3JlZW5FcnJvckV2ZW50TmFtZTogJydcbiAgICB9O1xuXG4gICAgLy8gY2hlY2sgZm9yIG5hdGl2ZSBzdXBwb3J0XG4gICAgaWYgKCBkb2N1bWVudC5leGl0RnVsbHNjcmVlbiApIHtcbiAgICAgICAgLy8gVzNDIHN0YW5kYXJkXG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5nZXRGdWxsU2NyZWVuRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICBmdWxsU2NyZWVuQXBpLnJlcXVlc3RGdWxsU2NyZWVuID0gZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9O1xuICAgICAgICBmdWxsU2NyZWVuQXBpLmV4aXRGdWxsU2NyZWVuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICB9O1xuICAgICAgICBmdWxsU2NyZWVuQXBpLmZ1bGxTY3JlZW5FdmVudE5hbWUgPSBcImZ1bGxzY3JlZW5jaGFuZ2VcIjtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXJyb3JFdmVudE5hbWUgPSBcImZ1bGxzY3JlZW5lcnJvclwiO1xuICAgIH0gZWxzZSBpZiAoIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4gKSB7XG4gICAgICAgIC8vIElFIDExXG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5nZXRGdWxsU2NyZWVuRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkucmVxdWVzdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiggZWxlbWVudCApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5leGl0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICB9O1xuICAgICAgICBmdWxsU2NyZWVuQXBpLmZ1bGxTY3JlZW5FdmVudE5hbWUgPSBcIk1TRnVsbHNjcmVlbkNoYW5nZVwiO1xuICAgICAgICBmdWxsU2NyZWVuQXBpLmZ1bGxTY3JlZW5FcnJvckV2ZW50TmFtZSA9IFwiTVNGdWxsc2NyZWVuRXJyb3JcIjtcbiAgICB9IGVsc2UgaWYgKCBkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbiApIHtcbiAgICAgICAgLy8gUmVjZW50IHdlYmtpdFxuICAgICAgICBmdWxsU2NyZWVuQXBpLnN1cHBvcnRzRnVsbFNjcmVlbiA9IHRydWU7XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuZ2V0RnVsbFNjcmVlbkVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5yZXF1ZXN0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5leGl0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXZlbnROYW1lID0gXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCI7XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuZnVsbFNjcmVlbkVycm9yRXZlbnROYW1lID0gXCJ3ZWJraXRmdWxsc2NyZWVuZXJyb3JcIjtcbiAgICB9IGVsc2UgaWYgKCBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuICkge1xuICAgICAgICAvLyBPbGQgd2Via2l0XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuc3VwcG9ydHNGdWxsU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5nZXRGdWxsU2NyZWVuRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LndlYmtpdEN1cnJlbnRGdWxsU2NyZWVuRWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5yZXF1ZXN0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5leGl0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICB9O1xuICAgICAgICBmdWxsU2NyZWVuQXBpLmZ1bGxTY3JlZW5FdmVudE5hbWUgPSBcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIjtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXJyb3JFdmVudE5hbWUgPSBcIndlYmtpdGZ1bGxzY3JlZW5lcnJvclwiO1xuICAgIH0gZWxzZSBpZiAoIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4gKSB7XG4gICAgICAgIC8vIEZpcmVmb3hcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5zdXBwb3J0c0Z1bGxTY3JlZW4gPSB0cnVlO1xuICAgICAgICBmdWxsU2NyZWVuQXBpLmdldEZ1bGxTY3JlZW5FbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkucmVxdWVzdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbiggZWxlbWVudCApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuZXhpdEZ1bGxTY3JlZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5mdWxsU2NyZWVuRXZlbnROYW1lID0gXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCI7XG4gICAgICAgIGZ1bGxTY3JlZW5BcGkuZnVsbFNjcmVlbkVycm9yRXZlbnROYW1lID0gXCJtb3pmdWxsc2NyZWVuZXJyb3JcIjtcbiAgICB9XG4gICAgZnVsbFNjcmVlbkFwaS5pc0Z1bGxTY3JlZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxTY3JlZW5BcGkuZ2V0RnVsbFNjcmVlbkVsZW1lbnQoKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIGZ1bGxTY3JlZW5BcGkuY2FuY2VsRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoXCJjYW5jZWxGdWxsU2NyZWVuIGlzIGRlcHJlY2F0ZWQuIFVzZSBleGl0RnVsbFNjcmVlbiBpbnN0ZWFkLlwiKTtcbiAgICAgICAgZnVsbFNjcmVlbkFwaS5leGl0RnVsbFNjcmVlbigpO1xuICAgIH07XG5cbiAgICAvLyBleHBvcnQgYXBpXG4gICAgJC5leHRlbmQoICQsIGZ1bGxTY3JlZW5BcGkgKTtcblxufSkoIE9wZW5TZWFkcmFnb24gKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBFdmVudFNvdXJjZVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oJCl7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciBtZXRob2Qgc2lnbmF0dXJlIHVzZWQgYnkgYWxsIE9wZW5TZWFkcmFnb24gZXZlbnRzLlxuICpcbiAqIEBjYWxsYmFjayBFdmVudEhhbmRsZXJcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSBTZWUgaW5kaXZpZHVhbCBldmVudHMgZm9yIGV2ZW50LXNwZWNpZmljIHByb3BlcnRpZXMuXG4gKi9cblxuXG4vKipcbiAqIEBjbGFzcyBFdmVudFNvdXJjZVxuICogQGNsYXNzZGVzYyBGb3IgdXNlIGJ5IGNsYXNzZXMgd2hpY2ggd2FudCB0byBzdXBwb3J0IGN1c3RvbSwgbm9uLWJyb3dzZXIgZXZlbnRzLlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKi9cbiQuRXZlbnRTb3VyY2UgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkV2ZW50U291cmNlLnByb3RvdHlwZSAqL1xuJC5FdmVudFNvdXJjZS5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gZXZlbnQgaGFuZGxlciB0byBiZSB0cmlnZ2VyZWQgb25seSBvbmNlIChvciBhIGdpdmVuIG51bWJlciBvZiB0aW1lcylcbiAgICAgKiBmb3IgYSBnaXZlbiBldmVudC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC0gTmFtZSBvZiBldmVudCB0byByZWdpc3Rlci5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBoYW5kbGVyIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGV2ZW50XG4gICAgICogaXMgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdXNlckRhdGE9bnVsbF0gLSBBcmJpdHJhcnkgb2JqZWN0IHRvIGJlIHBhc3NlZCB1bmNoYW5nZWRcbiAgICAgKiB0byB0aGUgaGFuZGxlci5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVzPTFdIC0gVGhlIG51bWJlciBvZiB0aW1lcyB0byBoYW5kbGUgdGhlIGV2ZW50XG4gICAgICogYmVmb3JlIHJlbW92aW5nIGl0LlxuICAgICAqL1xuICAgIGFkZE9uY2VIYW5kbGVyOiBmdW5jdGlvbihldmVudE5hbWUsIGhhbmRsZXIsIHVzZXJEYXRhLCB0aW1lcykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRpbWVzID0gdGltZXMgfHwgMTtcbiAgICAgICAgdmFyIGNvdW50ID0gMDtcbiAgICAgICAgdmFyIG9uY2VIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICBpZiAoY291bnQgPT09IHRpbWVzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZW1vdmVIYW5kbGVyKGV2ZW50TmFtZSwgb25jZUhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkSGFuZGxlcihldmVudE5hbWUsIG9uY2VIYW5kbGVyLCB1c2VyRGF0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiBldmVudCBoYW5kbGVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLSBOYW1lIG9mIGV2ZW50IHRvIHJlZ2lzdGVyLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IGhhbmRsZXIgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbdXNlckRhdGE9bnVsbF0gLSBBcmJpdHJhcnkgb2JqZWN0IHRvIGJlIHBhc3NlZCB1bmNoYW5nZWQgdG8gdGhlIGhhbmRsZXIuXG4gICAgICovXG4gICAgYWRkSGFuZGxlcjogZnVuY3Rpb24gKCBldmVudE5hbWUsIGhhbmRsZXIsIHVzZXJEYXRhICkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHNbIGV2ZW50TmFtZSBdO1xuICAgICAgICBpZiAoICFldmVudHMgKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIGhhbmRsZXIgJiYgJC5pc0Z1bmN0aW9uKCBoYW5kbGVyICkgKSB7XG4gICAgICAgICAgICBldmVudHNbIGV2ZW50cy5sZW5ndGggXSA9IHsgaGFuZGxlcjogaGFuZGxlciwgdXNlckRhdGE6IHVzZXJEYXRhIHx8IG51bGwgfTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBzcGVjaWZpYyBldmVudCBoYW5kbGVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLSBOYW1lIG9mIGV2ZW50IGZvciB3aGljaCB0aGUgaGFuZGxlciBpcyB0byBiZSByZW1vdmVkLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IGhhbmRsZXIgLSBGdW5jdGlvbiB0byBiZSByZW1vdmVkLlxuICAgICAqL1xuICAgIHJlbW92ZUhhbmRsZXI6IGZ1bmN0aW9uICggZXZlbnROYW1lLCBoYW5kbGVyICkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHNbIGV2ZW50TmFtZSBdLFxuICAgICAgICAgICAgaGFuZGxlcnMgPSBbXSxcbiAgICAgICAgICAgIGk7XG4gICAgICAgIGlmICggIWV2ZW50cyApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoICQuaXNBcnJheSggZXZlbnRzICkgKSB7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGV2ZW50c1tpXS5oYW5kbGVyICE9PSBoYW5kbGVyICkge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVycy5wdXNoKCBldmVudHNbIGkgXSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXZlbnRzWyBldmVudE5hbWUgXSA9IGhhbmRsZXJzO1xuICAgICAgICB9XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBldmVudCBoYW5kbGVycyBmb3IgYSBnaXZlbiBldmVudCB0eXBlLiBJZiBubyB0eXBlIGlzIGdpdmVuIGFsbFxuICAgICAqIGV2ZW50IGhhbmRsZXJzIGZvciBldmVyeSBldmVudCB0eXBlIGFyZSByZW1vdmVkLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLSBOYW1lIG9mIGV2ZW50IGZvciB3aGljaCBhbGwgaGFuZGxlcnMgYXJlIHRvIGJlIHJlbW92ZWQuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsSGFuZGxlcnM6IGZ1bmN0aW9uKCBldmVudE5hbWUgKSB7XG4gICAgICAgIGlmICggZXZlbnROYW1lICl7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1sgZXZlbnROYW1lIF0gPSBbXTtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgZm9yICggdmFyIGV2ZW50VHlwZSBpbiB0aGlzLmV2ZW50cyApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c1sgZXZlbnRUeXBlIF0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSBmdW5jdGlvbiB3aGljaCBpdGVyYXRlcyB0aGUgbGlzdCBvZiBhbGwgaGFuZGxlcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudCwgY2FsbGluZyB0aGUgaGFuZGxlciBmb3IgZWFjaC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC0gTmFtZSBvZiBldmVudCB0byBnZXQgaGFuZGxlcnMgZm9yLlxuICAgICAqL1xuICAgIGdldEhhbmRsZXI6IGZ1bmN0aW9uICggZXZlbnROYW1lICkge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHNbIGV2ZW50TmFtZSBdO1xuICAgICAgICBpZiAoICFldmVudHMgfHwgIWV2ZW50cy5sZW5ndGggKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBldmVudHMgPSBldmVudHMubGVuZ3RoID09PSAxID9cbiAgICAgICAgICAgIFsgZXZlbnRzWyAwIF0gXSA6XG4gICAgICAgICAgICBBcnJheS5hcHBseSggbnVsbCwgZXZlbnRzICk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoIHNvdXJjZSwgYXJncyApIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIGxlbmd0aCA9IGV2ZW50cy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgIGlmICggZXZlbnRzWyBpIF0gKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuZXZlbnRTb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MudXNlckRhdGEgPSBldmVudHNbIGkgXS51c2VyRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzWyBpIF0uaGFuZGxlciggYXJncyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlciBhbiBldmVudCwgb3B0aW9uYWxseSBwYXNzaW5nIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSAtIE5hbWUgb2YgZXZlbnQgdG8gcmVnaXN0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50QXJncyAtIEV2ZW50LXNwZWNpZmljIGRhdGEuXG4gICAgICovXG4gICAgcmFpc2VFdmVudDogZnVuY3Rpb24oIGV2ZW50TmFtZSwgZXZlbnRBcmdzICkge1xuICAgICAgICAvL3VuY29tbWVudCBpZiB5b3Ugd2FudCB0byBnZXQgYSBsb2cgb2YgYWxsIGV2ZW50c1xuICAgICAgICAvLyQuY29uc29sZS5sb2coIGV2ZW50TmFtZSApO1xuICAgICAgICB2YXIgaGFuZGxlciA9IHRoaXMuZ2V0SGFuZGxlciggZXZlbnROYW1lICk7XG5cbiAgICAgICAgaWYgKCBoYW5kbGVyICkge1xuICAgICAgICAgICAgaWYgKCAhZXZlbnRBcmdzICkge1xuICAgICAgICAgICAgICAgIGV2ZW50QXJncyA9IHt9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVyKCB0aGlzLCBldmVudEFyZ3MgKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gTW91c2VUcmFja2VyXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiAoICQgKSB7XG5cbiAgICAvLyBBbGwgTW91c2VUcmFja2VyIGluc3RhbmNlc1xuICAgIHZhciBNT1VTRVRSQUNLRVJTICA9IFtdO1xuXG4gICAgLy8gZGljdGlvbmFyeSBmcm9tIGhhc2ggdG8gcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgdmFyIFRISVMgICAgICAgICAgID0ge307XG5cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBNb3VzZVRyYWNrZXJcbiAgICAgKiBAY2xhc3NkZXNjIFByb3ZpZGVzIHNpbXBsaWZpZWQgaGFuZGxpbmcgb2YgY29tbW9uIHBvaW50ZXIgZGV2aWNlIChtb3VzZSwgdG91Y2gsIHBlbiwgZXRjLikgZ2VzdHVyZXNcbiAgICAgKiAgICAgICAgICAgIGFuZCBrZXlib2FyZCBldmVudHMgb24gYSBzcGVjaWZpZWQgZWxlbWVudC5cbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogICAgICBBbGxvd3MgY29uZmlndXJhYmxlIHByb3BlcnRpZXMgdG8gYmUgZW50aXJlbHkgc3BlY2lmaWVkIGJ5IHBhc3NpbmdcbiAgICAgKiAgICAgIGFuIG9wdGlvbnMgb2JqZWN0IHRvIHRoZSBjb25zdHJ1Y3Rvci4gIFRoZSBjb25zdHJ1Y3RvciBhbHNvIHN1cHBvcnRzXG4gICAgICogICAgICB0aGUgb3JpZ2luYWwgcG9zaXRpb25hbCBhcmd1bWVudHMgJ2VsZW1lbnQnLCAnY2xpY2tUaW1lVGhyZXNob2xkJyxcbiAgICAgKiAgICAgIGFuZCAnY2xpY2tEaXN0VGhyZXNob2xkJyBpbiB0aGF0IG9yZGVyLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudHxTdHJpbmd9IG9wdGlvbnMuZWxlbWVudFxuICAgICAqICAgICAgQSByZWZlcmVuY2UgdG8gYW4gZWxlbWVudCBvciBhbiBlbGVtZW50IGlkIGZvciB3aGljaCB0aGUgcG9pbnRlci9rZXlcbiAgICAgKiAgICAgIGV2ZW50cyB3aWxsIGJlIG1vbml0b3JlZC5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnN0YXJ0RGlzYWJsZWQ9ZmFsc2VdXG4gICAgICogICAgICBJZiB0cnVlLCBldmVudCB0cmFja2luZyBvbiB0aGUgZWxlbWVudCB3aWxsIG5vdCBzdGFydCB1bnRpbFxuICAgICAqICAgICAge0BsaW5rIE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLnNldFRyYWNraW5nfHNldFRyYWNraW5nfSBpcyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuY2xpY2tUaW1lVGhyZXNob2xkXG4gICAgICogICAgICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB3aXRoaW4gd2hpY2ggYSBwb2ludGVyIGRvd24tdXAgZXZlbnQgY29tYmluYXRpb25cbiAgICAgKiAgICAgIHdpbGwgYmUgdHJlYXRlZCBhcyBhIGNsaWNrIGdlc3R1cmUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuY2xpY2tEaXN0VGhyZXNob2xkXG4gICAgICogICAgICBUaGUgbWF4aW11bSBkaXN0YW5jZSBhbGxvd2VkIGJldHdlZW4gYSBwb2ludGVyIGRvd24gZXZlbnQgYW5kIGEgcG9pbnRlciB1cCBldmVudFxuICAgICAqICAgICAgdG8gYmUgdHJlYXRlZCBhcyBhIGNsaWNrIGdlc3R1cmUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMuZGJsQ2xpY2tUaW1lVGhyZXNob2xkXG4gICAgICogICAgICBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB3aXRoaW4gd2hpY2ggdHdvIHBvaW50ZXIgZG93bi11cCBldmVudCBjb21iaW5hdGlvbnNcbiAgICAgKiAgICAgIHdpbGwgYmUgdHJlYXRlZCBhcyBhIGRvdWJsZS1jbGljayBnZXN0dXJlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLmRibENsaWNrRGlzdFRocmVzaG9sZFxuICAgICAqICAgICAgVGhlIG1heGltdW0gZGlzdGFuY2UgYWxsb3dlZCBiZXR3ZWVuIHR3byBwb2ludGVyIGNsaWNrIGV2ZW50c1xuICAgICAqICAgICAgdG8gYmUgdHJlYXRlZCBhcyBhIGNsaWNrIGdlc3R1cmUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnN0b3BEZWxheT01MF1cbiAgICAgKiAgICAgIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHdpdGhvdXQgcG9pbnRlciBtb3ZlIGJlZm9yZSB0aGUgc3RvcFxuICAgICAqICAgICAgZXZlbnQgaXMgZmlyZWQuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMuZW50ZXJIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBwb2ludGVyIGVudGVyLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLmV4aXRIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBwb2ludGVyIGV4aXQuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMucHJlc3NIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBwb2ludGVyIHByZXNzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLm5vblByaW1hcnlQcmVzc0hhbmRsZXI9bnVsbF1cbiAgICAgKiAgICAgIEFuIG9wdGlvbmFsIGhhbmRsZXIgZm9yIHBvaW50ZXIgbm9uLXByaW1hcnkgYnV0dG9uIHByZXNzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLnJlbGVhc2VIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBwb2ludGVyIHJlbGVhc2UuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMubm9uUHJpbWFyeVJlbGVhc2VIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBwb2ludGVyIG5vbi1wcmltYXJ5IGJ1dHRvbiByZWxlYXNlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLm1vdmVIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBwb2ludGVyIG1vdmUuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMuc2Nyb2xsSGFuZGxlcj1udWxsXVxuICAgICAqICAgICAgQW4gb3B0aW9uYWwgaGFuZGxlciBmb3IgbW91c2Ugd2hlZWwgc2Nyb2xsLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLmNsaWNrSGFuZGxlcj1udWxsXVxuICAgICAqICAgICAgQW4gb3B0aW9uYWwgaGFuZGxlciBmb3IgcG9pbnRlciBjbGljay5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBbb3B0aW9ucy5kYmxDbGlja0hhbmRsZXI9bnVsbF1cbiAgICAgKiAgICAgIEFuIG9wdGlvbmFsIGhhbmRsZXIgZm9yIHBvaW50ZXIgZG91YmxlLWNsaWNrLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLmRyYWdIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZHJhZyBnZXN0dXJlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLmRyYWdFbmRIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBhZnRlciBhIGRyYWcgZ2VzdHVyZS5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBbb3B0aW9ucy5waW5jaEhhbmRsZXI9bnVsbF1cbiAgICAgKiAgICAgIEFuIG9wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBwaW5jaCBnZXN0dXJlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLmtleURvd25IYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBrZXlkb3duLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLmtleVVwSGFuZGxlcj1udWxsXVxuICAgICAqICAgICAgQW4gb3B0aW9uYWwgaGFuZGxlciBmb3Iga2V5dXAuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMua2V5SGFuZGxlcj1udWxsXVxuICAgICAqICAgICAgQW4gb3B0aW9uYWwgaGFuZGxlciBmb3Iga2V5cHJlc3MuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMuZm9jdXNIYW5kbGVyPW51bGxdXG4gICAgICogICAgICBBbiBvcHRpb25hbCBoYW5kbGVyIGZvciBmb2N1cy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBbb3B0aW9ucy5ibHVySGFuZGxlcj1udWxsXVxuICAgICAqICAgICAgQW4gb3B0aW9uYWwgaGFuZGxlciBmb3IgYmx1ci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudXNlckRhdGE9bnVsbF1cbiAgICAgKiAgICAgIEFyYml0cmFyeSBvYmplY3QgdG8gYmUgcGFzc2VkIHVuY2hhbmdlZCB0byBhbnkgYXR0YWNoZWQgaGFuZGxlciBtZXRob2RzLlxuICAgICAqL1xuICAgICQuTW91c2VUcmFja2VyID0gZnVuY3Rpb24gKCBvcHRpb25zICkge1xuXG4gICAgICAgIE1PVVNFVFJBQ0tFUlMucHVzaCggdGhpcyApO1xuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuXG4gICAgICAgIGlmICggISQuaXNQbGFpbk9iamVjdCggb3B0aW9ucyApICkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiAgICAgICAgICAgIGFyZ3NbIDAgXSxcbiAgICAgICAgICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IGFyZ3NbIDEgXSxcbiAgICAgICAgICAgICAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IGFyZ3NbIDIgXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGFzaCAgICAgICAgICAgICAgID0gTWF0aC5yYW5kb20oKTsgLy8gQW4gdW5pcXVlIGhhc2ggZm9yIHRoaXMgdHJhY2tlci5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBlbGVtZW50IGZvciB3aGljaCBwb2ludGVyIGV2ZW50cyBhcmUgYmVpbmcgbW9uaXRvcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlciNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxlbWVudCAgICAgICAgICAgID0gJC5nZXRFbGVtZW50KCBvcHRpb25zLmVsZW1lbnQgKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHdpdGhpbiB3aGljaCBhIHBvaW50ZXIgZG93bi11cCBldmVudCBjb21iaW5hdGlvblxuICAgICAgICAgKiB3aWxsIGJlIHRyZWF0ZWQgYXMgYSBjbGljayBnZXN0dXJlLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGNsaWNrVGltZVRocmVzaG9sZFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIjXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCA9IG9wdGlvbnMuY2xpY2tUaW1lVGhyZXNob2xkIHx8ICQuREVGQVVMVF9TRVRUSU5HUy5jbGlja1RpbWVUaHJlc2hvbGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBkaXN0YW5jZSBhbGxvd2VkIGJldHdlZW4gYSBwb2ludGVyIGRvd24gZXZlbnQgYW5kIGEgcG9pbnRlciB1cCBldmVudFxuICAgICAgICAgKiB0byBiZSB0cmVhdGVkIGFzIGEgY2xpY2sgZ2VzdHVyZS5cbiAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfSBjbGlja0Rpc3RUaHJlc2hvbGRcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyI1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGlja0Rpc3RUaHJlc2hvbGQgPSBvcHRpb25zLmNsaWNrRGlzdFRocmVzaG9sZCB8fCAkLkRFRkFVTFRfU0VUVElOR1MuY2xpY2tEaXN0VGhyZXNob2xkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgd2l0aGluIHdoaWNoIHR3byBwb2ludGVyIGRvd24tdXAgZXZlbnQgY29tYmluYXRpb25zXG4gICAgICAgICAqIHdpbGwgYmUgdHJlYXRlZCBhcyBhIGRvdWJsZS1jbGljayBnZXN0dXJlLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGRibENsaWNrVGltZVRocmVzaG9sZFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIjXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRibENsaWNrVGltZVRocmVzaG9sZCA9IG9wdGlvbnMuZGJsQ2xpY2tUaW1lVGhyZXNob2xkIHx8ICQuREVGQVVMVF9TRVRUSU5HUy5kYmxDbGlja1RpbWVUaHJlc2hvbGQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBkaXN0YW5jZSBhbGxvd2VkIGJldHdlZW4gdHdvIHBvaW50ZXIgY2xpY2sgZXZlbnRzXG4gICAgICAgICAqIHRvIGJlIHRyZWF0ZWQgYXMgYSBjbGljayBnZXN0dXJlLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGNsaWNrRGlzdFRocmVzaG9sZFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIjXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRibENsaWNrRGlzdFRocmVzaG9sZCA9IG9wdGlvbnMuZGJsQ2xpY2tEaXN0VGhyZXNob2xkIHx8ICQuREVGQVVMVF9TRVRUSU5HUy5kYmxDbGlja0Rpc3RUaHJlc2hvbGQ7XG4gICAgICAgIC8qZXNsaW50LWRpc2FibGUgbm8tbXVsdGktc3BhY2VzKi9cbiAgICAgICAgdGhpcy51c2VyRGF0YSAgICAgICAgICAgICAgPSBvcHRpb25zLnVzZXJEYXRhICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMuc3RvcERlbGF5ICAgICAgICAgICAgID0gb3B0aW9ucy5zdG9wRGVsYXkgICAgICAgICB8fCA1MDtcblxuICAgICAgICB0aGlzLmVudGVySGFuZGxlciAgICAgICAgICAgICA9IG9wdGlvbnMuZW50ZXJIYW5kbGVyICAgICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMuZXhpdEhhbmRsZXIgICAgICAgICAgICAgID0gb3B0aW9ucy5leGl0SGFuZGxlciAgICAgICAgICAgICAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5wcmVzc0hhbmRsZXIgICAgICAgICAgICAgPSBvcHRpb25zLnByZXNzSGFuZGxlciAgICAgICAgICAgICB8fCBudWxsO1xuICAgICAgICB0aGlzLm5vblByaW1hcnlQcmVzc0hhbmRsZXIgICA9IG9wdGlvbnMubm9uUHJpbWFyeVByZXNzSGFuZGxlciAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMucmVsZWFzZUhhbmRsZXIgICAgICAgICAgID0gb3B0aW9ucy5yZWxlYXNlSGFuZGxlciAgICAgICAgICAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5ub25QcmltYXJ5UmVsZWFzZUhhbmRsZXIgPSBvcHRpb25zLm5vblByaW1hcnlSZWxlYXNlSGFuZGxlciB8fCBudWxsO1xuICAgICAgICB0aGlzLm1vdmVIYW5kbGVyICAgICAgICAgICAgICA9IG9wdGlvbnMubW92ZUhhbmRsZXIgICAgICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlciAgICAgICAgICAgID0gb3B0aW9ucy5zY3JvbGxIYW5kbGVyICAgICAgICAgICAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5jbGlja0hhbmRsZXIgICAgICAgICAgICAgPSBvcHRpb25zLmNsaWNrSGFuZGxlciAgICAgICAgICAgICB8fCBudWxsO1xuICAgICAgICB0aGlzLmRibENsaWNrSGFuZGxlciAgICAgICAgICA9IG9wdGlvbnMuZGJsQ2xpY2tIYW5kbGVyICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMuZHJhZ0hhbmRsZXIgICAgICAgICAgICAgID0gb3B0aW9ucy5kcmFnSGFuZGxlciAgICAgICAgICAgICAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnRW5kSGFuZGxlciAgICAgICAgICAgPSBvcHRpb25zLmRyYWdFbmRIYW5kbGVyICAgICAgICAgICB8fCBudWxsO1xuICAgICAgICB0aGlzLnBpbmNoSGFuZGxlciAgICAgICAgICAgICA9IG9wdGlvbnMucGluY2hIYW5kbGVyICAgICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMuc3RvcEhhbmRsZXIgICAgICAgICAgICAgID0gb3B0aW9ucy5zdG9wSGFuZGxlciAgICAgICAgICAgICAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5rZXlEb3duSGFuZGxlciAgICAgICAgICAgPSBvcHRpb25zLmtleURvd25IYW5kbGVyICAgICAgICAgICB8fCBudWxsO1xuICAgICAgICB0aGlzLmtleVVwSGFuZGxlciAgICAgICAgICAgICA9IG9wdGlvbnMua2V5VXBIYW5kbGVyICAgICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIHRoaXMua2V5SGFuZGxlciAgICAgICAgICAgICAgID0gb3B0aW9ucy5rZXlIYW5kbGVyICAgICAgICAgICAgICAgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5mb2N1c0hhbmRsZXIgICAgICAgICAgICAgPSBvcHRpb25zLmZvY3VzSGFuZGxlciAgICAgICAgICAgICB8fCBudWxsO1xuICAgICAgICB0aGlzLmJsdXJIYW5kbGVyICAgICAgICAgICAgICA9IG9wdGlvbnMuYmx1ckhhbmRsZXIgICAgICAgICAgICAgIHx8IG51bGw7XG4gICAgICAgIC8qZXNsaW50LWVuYWJsZSBuby1tdWx0aS1zcGFjZXMqL1xuXG4gICAgICAgIC8vU3RvcmUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGluIGEgc2NvcGUgc2VhbGVkIGhhc2ggbWFwXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gdHJhY2tpbmdcbiAgICAgICAgICogICAgICBBcmUgd2UgY3VycmVudGx5IHRyYWNraW5nIHBvaW50ZXIgZXZlbnRzIGZvciB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBUSElTWyB0aGlzLmhhc2ggXSA9IHtcbiAgICAgICAgICAgIGNsaWNrOiAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25DbGljayggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBkYmxjbGljazogICAgICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uRGJsQ2xpY2soIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAga2V5ZG93bjogICAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbktleURvd24oIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAga2V5dXA6ICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbktleVVwKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIGtleXByZXNzOiAgICAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25LZXlQcmVzcyggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBmb2N1czogICAgICAgICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uRm9jdXMoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgYmx1cjogICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbkJsdXIoIF90aGlzLCBldmVudCApOyB9LFxuXG4gICAgICAgICAgICB3aGVlbDogICAgICAgICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uV2hlZWwoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgbW91c2V3aGVlbDogICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbk1vdXNlV2hlZWwoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgRE9NTW91c2VTY3JvbGw6ICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbk1vdXNlV2hlZWwoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgTW96TW91c2VQaXhlbFNjcm9sbDogICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbk1vdXNlV2hlZWwoIF90aGlzLCBldmVudCApOyB9LFxuXG4gICAgICAgICAgICBtb3VzZWVudGVyOiAgICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uTW91c2VFbnRlciggX3RoaXMsIGV2ZW50ICk7IH0sIC8vIFVzZWQgb24gSUU4IG9ubHlcbiAgICAgICAgICAgIG1vdXNlbGVhdmU6ICAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Nb3VzZUxlYXZlKCBfdGhpcywgZXZlbnQgKTsgfSwgLy8gVXNlZCBvbiBJRTggb25seVxuICAgICAgICAgICAgbW91c2VvdmVyOiAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbk1vdXNlT3ZlciggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBtb3VzZW91dDogICAgICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uTW91c2VPdXQoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgbW91c2Vkb3duOiAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbk1vdXNlRG93biggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBtb3VzZXVwOiAgICAgICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uTW91c2VVcCggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBtb3VzZXVwY2FwdHVyZWQ6ICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uTW91c2VVcENhcHR1cmVkKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIG1vdXNlbW92ZTogICAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Nb3VzZU1vdmUoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgbW91c2Vtb3ZlY2FwdHVyZWQ6ICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbk1vdXNlTW92ZUNhcHR1cmVkKCBfdGhpcywgZXZlbnQgKTsgfSxcblxuICAgICAgICAgICAgdG91Y2hzdGFydDogICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblRvdWNoU3RhcnQoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgdG91Y2hlbmQ6ICAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblRvdWNoRW5kKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHRvdWNoZW5kY2FwdHVyZWQ6ICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Ub3VjaEVuZENhcHR1cmVkKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHRvdWNobW92ZTogICAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Ub3VjaE1vdmUoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgdG91Y2htb3ZlY2FwdHVyZWQ6ICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblRvdWNoTW92ZUNhcHR1cmVkKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHRvdWNoY2FuY2VsOiAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Ub3VjaENhbmNlbCggX3RoaXMsIGV2ZW50ICk7IH0sXG5cbiAgICAgICAgICAgIGdlc3R1cmVzdGFydDogICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25HZXN0dXJlU3RhcnQoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgZ2VzdHVyZWNoYW5nZTogICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvbkdlc3R1cmVDaGFuZ2UoIF90aGlzLCBldmVudCApOyB9LFxuXG4gICAgICAgICAgICBwb2ludGVyb3ZlcjogICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uUG9pbnRlck92ZXIoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgTVNQb2ludGVyT3ZlcjogICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblBvaW50ZXJPdmVyKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHBvaW50ZXJvdXQ6ICAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Qb2ludGVyT3V0KCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIE1TUG9pbnRlck91dDogICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Qb2ludGVyT3V0KCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHBvaW50ZXJkb3duOiAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Qb2ludGVyRG93biggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBNU1BvaW50ZXJEb3duOiAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uUG9pbnRlckRvd24oIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgcG9pbnRlcnVwOiAgICAgICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblBvaW50ZXJVcCggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBNU1BvaW50ZXJVcDogICAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uUG9pbnRlclVwKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHBvaW50ZXJtb3ZlOiAgICAgICAgICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Qb2ludGVyTW92ZSggX3RoaXMsIGV2ZW50ICk7IH0sXG4gICAgICAgICAgICBNU1BvaW50ZXJNb3ZlOiAgICAgICAgIGZ1bmN0aW9uICggZXZlbnQgKSB7IG9uUG9pbnRlck1vdmUoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgcG9pbnRlcmNhbmNlbDogICAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblBvaW50ZXJDYW5jZWwoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgTVNQb2ludGVyQ2FuY2VsOiAgICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblBvaW50ZXJDYW5jZWwoIF90aGlzLCBldmVudCApOyB9LFxuICAgICAgICAgICAgcG9pbnRlcnVwY2FwdHVyZWQ6ICAgICBmdW5jdGlvbiAoIGV2ZW50ICkgeyBvblBvaW50ZXJVcENhcHR1cmVkKCBfdGhpcywgZXZlbnQgKTsgfSxcbiAgICAgICAgICAgIHBvaW50ZXJtb3ZlY2FwdHVyZWQ6ICAgZnVuY3Rpb24gKCBldmVudCApIHsgb25Qb2ludGVyTW92ZUNhcHR1cmVkKCBfdGhpcywgZXZlbnQgKTsgfSxcblxuICAgICAgICAgICAgdHJhY2tpbmc6ICAgICAgICAgICAgICBmYWxzZSxcblxuICAgICAgICAgICAgLy8gQWN0aXZlIHBvaW50ZXJzIGxpc3RzLiBBcnJheSBvZiBHZXN0dXJlUG9pbnRMaXN0IG9iamVjdHMsIG9uZSBmb3IgZWFjaCBwb2ludGVyIGRldmljZSB0eXBlLlxuICAgICAgICAgICAgLy8gR2VzdHVyZVBvaW50TGlzdCBvYmplY3RzIGFyZSBhZGRlZCBlYWNoIHRpbWUgYSBwb2ludGVyIGlzIHRyYWNrZWQgYnkgYSBuZXcgcG9pbnRlciBkZXZpY2UgdHlwZSAoc2VlIGdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZSgpKS5cbiAgICAgICAgICAgIC8vIEFjdGl2ZSBwb2ludGVycyBhcmUgYW55IHBvaW50ZXIgYmVpbmcgdHJhY2tlZCBmb3IgdGhpcyBlbGVtZW50IHdoaWNoIGFyZSBpbiB0aGUgaGl0LXRlc3QgYXJlYVxuICAgICAgICAgICAgLy8gICAgIG9mIHRoZSBlbGVtZW50IChmb3IgaG92ZXItY2FwYWJsZSBkZXZpY2VzKSBhbmQvb3IgaGF2ZSBjb250YWN0IG9yIGEgYnV0dG9uIHByZXNzIGluaXRpYXRlZCBpbiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgIGFjdGl2ZVBvaW50ZXJzTGlzdHM6ICAgW10sXG5cbiAgICAgICAgICAgIC8vIFRyYWNraW5nIGZvciBkb3VibGUtY2xpY2sgZ2VzdHVyZVxuICAgICAgICAgICAgbGFzdENsaWNrUG9zOiAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZGJsQ2xpY2tUaW1lT3V0OiAgICAgICBudWxsLFxuXG4gICAgICAgICAgICAvLyBUcmFja2luZyBmb3IgcGluY2ggZ2VzdHVyZVxuICAgICAgICAgICAgcGluY2hHUG9pbnRzOiAgICAgICAgICBbXSxcbiAgICAgICAgICAgIGxhc3RQaW5jaERpc3Q6ICAgICAgICAgMCxcbiAgICAgICAgICAgIGN1cnJlbnRQaW5jaERpc3Q6ICAgICAgMCxcbiAgICAgICAgICAgIGxhc3RQaW5jaENlbnRlcjogICAgICAgbnVsbCxcbiAgICAgICAgICAgIGN1cnJlbnRQaW5jaENlbnRlcjogICAgbnVsbFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICggIW9wdGlvbnMuc3RhcnREaXNhYmxlZCApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhY2tpbmcoIHRydWUgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLnByb3RvdHlwZSAqL1xuICAgICQuTW91c2VUcmFja2VyLnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYW4gdXAgYW55IGV2ZW50cyBvciBvYmplY3RzIGNyZWF0ZWQgYnkgdGhlIHRyYWNrZXIuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgIHN0b3BUcmFja2luZyggdGhpcyApO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBNT1VTRVRSQUNLRVJTLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgIGlmICggTU9VU0VUUkFDS0VSU1sgaSBdID09PSB0aGlzICkge1xuICAgICAgICAgICAgICAgICAgICBNT1VTRVRSQUNLRVJTLnNwbGljZSggaSwgMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFRISVNbIHRoaXMuaGFzaCBdID0gbnVsbDtcbiAgICAgICAgICAgIGRlbGV0ZSBUSElTWyB0aGlzLmhhc2ggXTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXJlIHdlIGN1cnJlbnRseSB0cmFja2luZyBldmVudHMgb24gdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBKdXN0IHVzZSB0aGlzLnRyYWNraW5nXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gQXJlIHdlIGN1cnJlbnRseSB0cmFja2luZyBldmVudHMgb24gdGhpcyBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNUcmFja2luZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFRISVNbIHRoaXMuaGFzaCBdLnRyYWNraW5nO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSB3aGV0aGVyIG9yIG5vdCB3ZSBhcmUgdHJhY2tpbmcgZXZlbnRzIG9uIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdHJhY2sgVHJ1ZSB0byBzdGFydCB0cmFja2luZywgZmFsc2UgdG8gc3RvcCB0cmFja2luZy5cbiAgICAgICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBDaGFpbmFibGUuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRUcmFja2luZzogZnVuY3Rpb24gKCB0cmFjayApIHtcbiAgICAgICAgICAgIGlmICggdHJhY2sgKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRUcmFja2luZyggdGhpcyApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wVHJhY2tpbmcoIHRoaXMgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vY2hhaW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdHxHZXN0dXJlUG9pbnRMaXN0fSBmb3IgYWxsIGJ1dCB0aGUgZ2l2ZW4gcG9pbnRlciBkZXZpY2UgdHlwZS5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gVGhlIHBvaW50ZXIgZGV2aWNlIHR5cGU6IFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheS48T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdD59XG4gICAgICAgICAqL1xuICAgICAgICBnZXRBY3RpdmVQb2ludGVyc0xpc3RzRXhjZXB0VHlwZTogZnVuY3Rpb24gKCB0eXBlICkge1xuICAgICAgICAgICAgdmFyIGRlbGVnYXRlID0gVEhJU1sgdGhpcy5oYXNoIF07XG4gICAgICAgICAgICB2YXIgbGlzdEFycmF5ID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZS5hY3RpdmVQb2ludGVyc0xpc3RzW2ldLnR5cGUgIT09IHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdEFycmF5LnB1c2goZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0c1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGlzdEFycmF5O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdHxHZXN0dXJlUG9pbnRMaXN0fSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgZGV2aWNlIHR5cGUsXG4gICAgICAgICAqIGNyZWF0aW5nIGFuZCBjYWNoaW5nIGEgbmV3IHtAbGluayBPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnRMaXN0fEdlc3R1cmVQb2ludExpc3R9IGlmIG9uZSBkb2Vzbid0IGFscmVhZHkgZXhpc3QgZm9yIHRoZSB0eXBlLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgLSBUaGUgcG9pbnRlciBkZXZpY2UgdHlwZTogXCJtb3VzZVwiLCBcInRvdWNoXCIsIFwicGVuXCIsIGV0Yy5cbiAgICAgICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludExpc3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRBY3RpdmVQb2ludGVyc0xpc3RCeVR5cGU6IGZ1bmN0aW9uICggdHlwZSApIHtcbiAgICAgICAgICAgIHZhciBkZWxlZ2F0ZSA9IFRISVNbIHRoaXMuaGFzaCBdLFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgbGVuID0gZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0cy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbGlzdDtcblxuICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGRlbGVnYXRlLmFjdGl2ZVBvaW50ZXJzTGlzdHNbIGkgXS50eXBlID09PSB0eXBlICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0c1sgaSBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGlzdCA9IG5ldyAkLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnRMaXN0KCB0eXBlICk7XG4gICAgICAgICAgICBkZWxlZ2F0ZS5hY3RpdmVQb2ludGVyc0xpc3RzLnB1c2goIGxpc3QgKTtcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB0b3RhbCBudW1iZXIgb2YgcG9pbnRlcnMgY3VycmVudGx5IGFjdGl2ZSBvbiB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldEFjdGl2ZVBvaW50ZXJDb3VudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlbGVnYXRlID0gVEhJU1sgdGhpcy5oYXNoIF0sXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBsZW4gPSBkZWxlZ2F0ZS5hY3RpdmVQb2ludGVyc0xpc3RzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBjb3VudCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgY291bnQgKz0gZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0c1sgaSBdLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudCBvciBhc3NpZ24gaW1wbGVtZW50YXRpb24gdG8gdGhlc2UgaGFuZGxlcnMgZHVyaW5nIG9yIGFmdGVyXG4gICAgICAgICAqIGNhbGxpbmcgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IGV2ZW50LmV2ZW50U291cmNlXG4gICAgICAgICAqICAgICAgQSByZWZlcmVuY2UgdG8gdGhlIHRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudC5wb2ludGVyVHlwZVxuICAgICAgICAgKiAgICAgXCJtb3VzZVwiLCBcInRvdWNoXCIsIFwicGVuXCIsIGV0Yy5cbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBldmVudC5wb3NpdGlvblxuICAgICAgICAgKiAgICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50LmJ1dHRvbnNcbiAgICAgICAgICogICAgICBDdXJyZW50IGJ1dHRvbnMgcHJlc3NlZC5cbiAgICAgICAgICogICAgICBDb21iaW5hdGlvbiBvZiBiaXQgZmxhZ3MgMDogbm9uZSwgMTogcHJpbWFyeSAob3IgdG91Y2ggY29udGFjdCksIDI6IHNlY29uZGFyeSwgNDogYXV4IChvZnRlbiBtaWRkbGUpLCA4OiBYMSAob2Z0ZW4gYmFjayksIDE2OiBYMiAob2Z0ZW4gZm9yd2FyZCksIDMyOiBwZW4gZXJhc2VyLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQucG9pbnRlcnNcbiAgICAgICAgICogICAgICBOdW1iZXIgb2YgcG9pbnRlcnMgKGFsbCB0eXBlcykgYWN0aXZlIGluIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBjdXJyZW50bHkgYmVpbmcgcHJlc3NlZCBhbmQgd2FzXG4gICAgICAgICAqICAgICAgaW5pdGlhdGVkIGluc2lkZSB0aGUgdHJhY2tlZCBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuYnV0dG9uRG93bkFueVxuICAgICAgICAgKiAgICAgIFdhcyB0aGUgYnV0dG9uIGRvd24gYW55d2hlcmUgaW4gdGhlIHNjcmVlbiBkdXJpbmcgdGhlIGV2ZW50LiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgYnV0dG9ucyBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pc1RvdWNoRXZlbnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBvcmlnaW5hbCBldmVudCBpcyBhIHRvdWNoIGV2ZW50LCBvdGhlcndpc2UgZmFsc2UuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBwb2ludGVyVHlwZSBhbmQvb3Igb3JpZ2luYWxFdmVudCBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZW50ZXJIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudCBvciBhc3NpZ24gaW1wbGVtZW50YXRpb24gdG8gdGhlc2UgaGFuZGxlcnMgZHVyaW5nIG9yIGFmdGVyXG4gICAgICAgICAqIGNhbGxpbmcgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IGV2ZW50LmV2ZW50U291cmNlXG4gICAgICAgICAqICAgICAgQSByZWZlcmVuY2UgdG8gdGhlIHRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudC5wb2ludGVyVHlwZVxuICAgICAgICAgKiAgICAgXCJtb3VzZVwiLCBcInRvdWNoXCIsIFwicGVuXCIsIGV0Yy5cbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBldmVudC5wb3NpdGlvblxuICAgICAgICAgKiAgICAgIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50LmJ1dHRvbnNcbiAgICAgICAgICogICAgICBDdXJyZW50IGJ1dHRvbnMgcHJlc3NlZC5cbiAgICAgICAgICogICAgICBDb21iaW5hdGlvbiBvZiBiaXQgZmxhZ3MgMDogbm9uZSwgMTogcHJpbWFyeSAob3IgdG91Y2ggY29udGFjdCksIDI6IHNlY29uZGFyeSwgNDogYXV4IChvZnRlbiBtaWRkbGUpLCA4OiBYMSAob2Z0ZW4gYmFjayksIDE2OiBYMiAob2Z0ZW4gZm9yd2FyZCksIDMyOiBwZW4gZXJhc2VyLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQucG9pbnRlcnNcbiAgICAgICAgICogICAgICBOdW1iZXIgb2YgcG9pbnRlcnMgKGFsbCB0eXBlcykgYWN0aXZlIGluIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBjdXJyZW50bHkgYmVpbmcgcHJlc3NlZCBhbmQgd2FzXG4gICAgICAgICAqICAgICAgaW5pdGlhdGVkIGluc2lkZSB0aGUgdHJhY2tlZCBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuYnV0dG9uRG93bkFueVxuICAgICAgICAgKiAgICAgIFdhcyB0aGUgYnV0dG9uIGRvd24gYW55d2hlcmUgaW4gdGhlIHNjcmVlbiBkdXJpbmcgdGhlIGV2ZW50LiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgYnV0dG9ucyBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pc1RvdWNoRXZlbnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBvcmlnaW5hbCBldmVudCBpcyBhIHRvdWNoIGV2ZW50LCBvdGhlcndpc2UgZmFsc2UuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBwb2ludGVyVHlwZSBhbmQvb3Igb3JpZ2luYWxFdmVudCBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZXhpdEhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50IG9yIGFzc2lnbiBpbXBsZW1lbnRhdGlvbiB0byB0aGVzZSBoYW5kbGVycyBkdXJpbmcgb3IgYWZ0ZXJcbiAgICAgICAgICogY2FsbGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gZXZlbnQuZXZlbnRTb3VyY2VcbiAgICAgICAgICogICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdHJhY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50LnBvaW50ZXJUeXBlXG4gICAgICAgICAqICAgICBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGV2ZW50LnBvc2l0aW9uXG4gICAgICAgICAqICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQuYnV0dG9uc1xuICAgICAgICAgKiAgICAgIEN1cnJlbnQgYnV0dG9ucyBwcmVzc2VkLlxuICAgICAgICAgKiAgICAgIENvbWJpbmF0aW9uIG9mIGJpdCBmbGFncyAwOiBub25lLCAxOiBwcmltYXJ5IChvciB0b3VjaCBjb250YWN0KSwgMjogc2Vjb25kYXJ5LCA0OiBhdXggKG9mdGVuIG1pZGRsZSksIDg6IFgxIChvZnRlbiBiYWNrKSwgMTY6IFgyIChvZnRlbiBmb3J3YXJkKSwgMzI6IHBlbiBlcmFzZXIuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaXNUb3VjaEV2ZW50XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgb3JpZ2luYWwgZXZlbnQgaXMgYSB0b3VjaCBldmVudCwgb3RoZXJ3aXNlIGZhbHNlLiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgcG9pbnRlclR5cGUgYW5kL29yIG9yaWdpbmFsRXZlbnQgaW5zdGVhZC48L3NwYW4+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHByZXNzSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQucG9pbnRlclR5cGVcbiAgICAgICAgICogICAgIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZXZlbnQucG9zaXRpb25cbiAgICAgICAgICogICAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5idXR0b25cbiAgICAgICAgICogICAgICBCdXR0b24gd2hpY2ggY2F1c2VkIHRoZSBldmVudC5cbiAgICAgICAgICogICAgICAtMTogbm9uZSwgMDogcHJpbWFyeS9sZWZ0LCAxOiBhdXgvbWlkZGxlLCAyOiBzZWNvbmRhcnkvcmlnaHQsIDM6IFgxL2JhY2ssIDQ6IFgyL2ZvcndhcmQsIDU6IHBlbiBlcmFzZXIuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5idXR0b25zXG4gICAgICAgICAqICAgICAgQ3VycmVudCBidXR0b25zIHByZXNzZWQuXG4gICAgICAgICAqICAgICAgQ29tYmluYXRpb24gb2YgYml0IGZsYWdzIDA6IG5vbmUsIDE6IHByaW1hcnkgKG9yIHRvdWNoIGNvbnRhY3QpLCAyOiBzZWNvbmRhcnksIDQ6IGF1eCAob2Z0ZW4gbWlkZGxlKSwgODogWDEgKG9mdGVuIGJhY2spLCAxNjogWDIgKG9mdGVuIGZvcndhcmQpLCAzMjogcGVuIGVyYXNlci5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pc1RvdWNoRXZlbnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBvcmlnaW5hbCBldmVudCBpcyBhIHRvdWNoIGV2ZW50LCBvdGhlcndpc2UgZmFsc2UuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBwb2ludGVyVHlwZSBhbmQvb3Igb3JpZ2luYWxFdmVudCBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbm9uUHJpbWFyeVByZXNzSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQucG9pbnRlclR5cGVcbiAgICAgICAgICogICAgIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZXZlbnQucG9zaXRpb25cbiAgICAgICAgICogICAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5idXR0b25zXG4gICAgICAgICAqICAgICAgQ3VycmVudCBidXR0b25zIHByZXNzZWQuXG4gICAgICAgICAqICAgICAgQ29tYmluYXRpb24gb2YgYml0IGZsYWdzIDA6IG5vbmUsIDE6IHByaW1hcnkgKG9yIHRvdWNoIGNvbnRhY3QpLCAyOiBzZWNvbmRhcnksIDQ6IGF1eCAob2Z0ZW4gbWlkZGxlKSwgODogWDEgKG9mdGVuIGJhY2spLCAxNjogWDIgKG9mdGVuIGZvcndhcmQpLCAzMjogcGVuIGVyYXNlci5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pbnNpZGVFbGVtZW50UHJlc3NlZFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSBiZWluZyBwcmVzc2VkIGFuZCB3YXNcbiAgICAgICAgICogICAgICBpbml0aWF0ZWQgaW5zaWRlIHRoZSB0cmFja2VkIGVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pbnNpZGVFbGVtZW50UmVsZWFzZWRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBjdXJzb3IgaW5zaWRlIHRoZSB0cmFja2VkIGVsZW1lbnQgd2hlbiB0aGUgYnV0dG9uIHdhcyByZWxlYXNlZC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pc1RvdWNoRXZlbnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBvcmlnaW5hbCBldmVudCBpcyBhIHRvdWNoIGV2ZW50LCBvdGhlcndpc2UgZmFsc2UuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBwb2ludGVyVHlwZSBhbmQvb3Igb3JpZ2luYWxFdmVudCBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgcmVsZWFzZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50IG9yIGFzc2lnbiBpbXBsZW1lbnRhdGlvbiB0byB0aGVzZSBoYW5kbGVycyBkdXJpbmcgb3IgYWZ0ZXJcbiAgICAgICAgICogY2FsbGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gZXZlbnQuZXZlbnRTb3VyY2VcbiAgICAgICAgICogICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdHJhY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50LnBvaW50ZXJUeXBlXG4gICAgICAgICAqICAgICBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGV2ZW50LnBvc2l0aW9uXG4gICAgICAgICAqICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQuYnV0dG9uXG4gICAgICAgICAqICAgICAgQnV0dG9uIHdoaWNoIGNhdXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqICAgICAgLTE6IG5vbmUsIDA6IHByaW1hcnkvbGVmdCwgMTogYXV4L21pZGRsZSwgMjogc2Vjb25kYXJ5L3JpZ2h0LCAzOiBYMS9iYWNrLCA0OiBYMi9mb3J3YXJkLCA1OiBwZW4gZXJhc2VyLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQuYnV0dG9uc1xuICAgICAgICAgKiAgICAgIEN1cnJlbnQgYnV0dG9ucyBwcmVzc2VkLlxuICAgICAgICAgKiAgICAgIENvbWJpbmF0aW9uIG9mIGJpdCBmbGFncyAwOiBub25lLCAxOiBwcmltYXJ5IChvciB0b3VjaCBjb250YWN0KSwgMjogc2Vjb25kYXJ5LCA0OiBhdXggKG9mdGVuIG1pZGRsZSksIDg6IFgxIChvZnRlbiBiYWNrKSwgMTY6IFgyIChvZnRlbiBmb3J3YXJkKSwgMzI6IHBlbiBlcmFzZXIuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaXNUb3VjaEV2ZW50XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgb3JpZ2luYWwgZXZlbnQgaXMgYSB0b3VjaCBldmVudCwgb3RoZXJ3aXNlIGZhbHNlLiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgcG9pbnRlclR5cGUgYW5kL29yIG9yaWdpbmFsRXZlbnQgaW5zdGVhZC48L3NwYW4+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIG5vblByaW1hcnlSZWxlYXNlSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQucG9pbnRlclR5cGVcbiAgICAgICAgICogICAgIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZXZlbnQucG9zaXRpb25cbiAgICAgICAgICogICAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5idXR0b25zXG4gICAgICAgICAqICAgICAgQ3VycmVudCBidXR0b25zIHByZXNzZWQuXG4gICAgICAgICAqICAgICAgQ29tYmluYXRpb24gb2YgYml0IGZsYWdzIDA6IG5vbmUsIDE6IHByaW1hcnkgKG9yIHRvdWNoIGNvbnRhY3QpLCAyOiBzZWNvbmRhcnksIDQ6IGF1eCAob2Z0ZW4gbWlkZGxlKSwgODogWDEgKG9mdGVuIGJhY2spLCAxNjogWDIgKG9mdGVuIGZvcndhcmQpLCAzMjogcGVuIGVyYXNlci5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pc1RvdWNoRXZlbnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBvcmlnaW5hbCBldmVudCBpcyBhIHRvdWNoIGV2ZW50LCBvdGhlcndpc2UgZmFsc2UuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBwb2ludGVyVHlwZSBhbmQvb3Igb3JpZ2luYWxFdmVudCBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZUhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50IG9yIGFzc2lnbiBpbXBsZW1lbnRhdGlvbiB0byB0aGVzZSBoYW5kbGVycyBkdXJpbmcgb3IgYWZ0ZXJcbiAgICAgICAgICogY2FsbGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gZXZlbnQuZXZlbnRTb3VyY2VcbiAgICAgICAgICogICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdHJhY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50LnBvaW50ZXJUeXBlXG4gICAgICAgICAqICAgICBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGV2ZW50LnBvc2l0aW9uXG4gICAgICAgICAqICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQuc2Nyb2xsXG4gICAgICAgICAqICAgICAgVGhlIHNjcm9sbCBkZWx0YSBmb3IgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnNoaWZ0XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LmlzVG91Y2hFdmVudFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIG9yaWdpbmFsIGV2ZW50IGlzIGEgdG91Y2ggZXZlbnQsIG90aGVyd2lzZSBmYWxzZS4gPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+RGVwcmVjYXRlZC4gVXNlIHBvaW50ZXJUeXBlIGFuZC9vciBvcmlnaW5hbEV2ZW50IGluc3RlYWQuIFRvdWNoIGRldmljZXMgbm8gbG9uZ2VyIGdlbmVyYXRlIHNjcm9sbCBldmVudC48L3NwYW4+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHNjcm9sbEhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50IG9yIGFzc2lnbiBpbXBsZW1lbnRhdGlvbiB0byB0aGVzZSBoYW5kbGVycyBkdXJpbmcgb3IgYWZ0ZXJcbiAgICAgICAgICogY2FsbGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gZXZlbnQuZXZlbnRTb3VyY2VcbiAgICAgICAgICogICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdHJhY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50LnBvaW50ZXJUeXBlXG4gICAgICAgICAqICAgICBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGV2ZW50LnBvc2l0aW9uXG4gICAgICAgICAqICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnF1aWNrXG4gICAgICAgICAqICAgICAgVHJ1ZSBvbmx5IGlmIHRoZSBjbGlja0Rpc3RUaHJlc2hvbGQgYW5kIGNsaWNrVGltZVRocmVzaG9sZCBhcmUgYm90aCBwYXNzZWQuIFVzZWZ1bCBmb3IgaWdub3JpbmcgZHJhZyBldmVudHMuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuc2hpZnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBzaGlmdCBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaXNUb3VjaEV2ZW50XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgb3JpZ2luYWwgZXZlbnQgaXMgYSB0b3VjaCBldmVudCwgb3RoZXJ3aXNlIGZhbHNlLiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgcG9pbnRlclR5cGUgYW5kL29yIG9yaWdpbmFsRXZlbnQgaW5zdGVhZC48L3NwYW4+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGNsaWNrSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQucG9pbnRlclR5cGVcbiAgICAgICAgICogICAgIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZXZlbnQucG9zaXRpb25cbiAgICAgICAgICogICAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuc2hpZnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBzaGlmdCBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaXNUb3VjaEV2ZW50XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgb3JpZ2luYWwgZXZlbnQgaXMgYSB0b3VjaCBldmVudCwgb3RoZXJ3aXNlIGZhbHNlLiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgcG9pbnRlclR5cGUgYW5kL29yIG9yaWdpbmFsRXZlbnQgaW5zdGVhZC48L3NwYW4+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGRibENsaWNrSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQucG9pbnRlclR5cGVcbiAgICAgICAgICogICAgIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZXZlbnQucG9zaXRpb25cbiAgICAgICAgICogICAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5idXR0b25zXG4gICAgICAgICAqICAgICAgQ3VycmVudCBidXR0b25zIHByZXNzZWQuXG4gICAgICAgICAqICAgICAgQ29tYmluYXRpb24gb2YgYml0IGZsYWdzIDA6IG5vbmUsIDE6IHByaW1hcnkgKG9yIHRvdWNoIGNvbnRhY3QpLCAyOiBzZWNvbmRhcnksIDQ6IGF1eCAob2Z0ZW4gbWlkZGxlKSwgODogWDEgKG9mdGVuIGJhY2spLCAxNjogWDIgKG9mdGVuIGZvcndhcmQpLCAzMjogcGVuIGVyYXNlci5cbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBldmVudC5kZWx0YVxuICAgICAgICAgKiAgICAgIFRoZSB4LHkgY29tcG9uZW50cyBvZiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBjdXJyZW50IHBvc2l0aW9uIGFuZCB0aGUgbGFzdCBkcmFnIGV2ZW50IHBvc2l0aW9uLiAgVXNlZnVsIGZvciBpZ25vcmluZyBvciB3ZWlnaHRpbmcgdGhlIGV2ZW50cy5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50LnNwZWVkXG4gICAgICAgICAqICAgICBDdXJyZW50IGNvbXB1dGVkIHNwZWVkLCBpbiBwaXhlbHMgcGVyIHNlY29uZC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50LmRpcmVjdGlvblxuICAgICAgICAgKiAgICAgQ3VycmVudCBjb21wdXRlZCBkaXJlY3Rpb24sIGV4cHJlc3NlZCBhcyBhbiBhbmdsZSBjb3VudGVyY2xvY2t3aXNlIHJlbGF0aXZlIHRvIHRoZSBwb3NpdGl2ZSBYIGF4aXMgKC1waSB0byBwaSwgaW4gcmFkaWFucykuIE9ubHkgdmFsaWQgaWYgc3BlZWQgPiAwLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnNoaWZ0XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LmlzVG91Y2hFdmVudFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIG9yaWdpbmFsIGV2ZW50IGlzIGEgdG91Y2ggZXZlbnQsIG90aGVyd2lzZSBmYWxzZS4gPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+RGVwcmVjYXRlZC4gVXNlIHBvaW50ZXJUeXBlIGFuZC9vciBvcmlnaW5hbEV2ZW50IGluc3RlYWQuPC9zcGFuPlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgICAgKiAgICAgIFRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQucHJldmVudERlZmF1bHRBY3Rpb25cbiAgICAgICAgICogICAgICBTZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IHRoZSB0cmFja2VyIHN1YnNjcmliZXIgZnJvbSBwZXJmb3JtaW5nIGl0cyBkZWZhdWx0IGFjdGlvbiAoc3Vic2NyaWJlciBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnQpLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50LnVzZXJEYXRhXG4gICAgICAgICAqICAgICAgQXJiaXRyYXJ5IHVzZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBkcmFnSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQucG9pbnRlclR5cGVcbiAgICAgICAgICogICAgIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZXZlbnQucG9zaXRpb25cbiAgICAgICAgICogICAgICBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5zcGVlZFxuICAgICAgICAgKiAgICAgU3BlZWQgYXQgdGhlIGVuZCBvZiBhIGRyYWcgZ2VzdHVyZSwgaW4gcGl4ZWxzIHBlciBzZWNvbmQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5kaXJlY3Rpb25cbiAgICAgICAgICogICAgIERpcmVjdGlvbiBhdCB0aGUgZW5kIG9mIGEgZHJhZyBnZXN0dXJlLCBleHByZXNzZWQgYXMgYW4gYW5nbGUgY291bnRlcmNsb2Nrd2lzZSByZWxhdGl2ZSB0byB0aGUgcG9zaXRpdmUgWCBheGlzICgtcGkgdG8gcGksIGluIHJhZGlhbnMpLiBPbmx5IHZhbGlkIGlmIHNwZWVkID4gMC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5zaGlmdFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIHNoaWZ0IGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgdGhpcyBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5pc1RvdWNoRXZlbnRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBvcmlnaW5hbCBldmVudCBpcyBhIHRvdWNoIGV2ZW50LCBvdGhlcndpc2UgZmFsc2UuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBwb2ludGVyVHlwZSBhbmQvb3Igb3JpZ2luYWxFdmVudCBpbnN0ZWFkLjwvc3Bhbj5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZHJhZ0VuZEhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50IG9yIGFzc2lnbiBpbXBsZW1lbnRhdGlvbiB0byB0aGVzZSBoYW5kbGVycyBkdXJpbmcgb3IgYWZ0ZXJcbiAgICAgICAgICogY2FsbGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gZXZlbnQuZXZlbnRTb3VyY2VcbiAgICAgICAgICogICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdHJhY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50LnBvaW50ZXJUeXBlXG4gICAgICAgICAqICAgICBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5LjxPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnQ+fSBldmVudC5nZXN0dXJlUG9pbnRzXG4gICAgICAgICAqICAgICAgR2VzdHVyZSBwb2ludHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBnZXN0dXJlLiBWZWxvY2l0eSBkYXRhIGNhbiBiZSBmb3VuZCBoZXJlLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGV2ZW50Lmxhc3RDZW50ZXJcbiAgICAgICAgICogICAgICBUaGUgcHJldmlvdXMgY2VudGVyIHBvaW50IG9mIHRoZSB0d28gcGluY2ggY29udGFjdCBwb2ludHMgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBldmVudC5jZW50ZXJcbiAgICAgICAgICogICAgICBUaGUgY2VudGVyIHBvaW50IG9mIHRoZSB0d28gcGluY2ggY29udGFjdCBwb2ludHMgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50Lmxhc3REaXN0YW5jZVxuICAgICAgICAgKiAgICAgIFRoZSBwcmV2aW91cyBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB0d28gcGluY2ggY29udGFjdCBwb2ludHMgaW4gQ1NTIHBpeGVscy5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGV2ZW50LmRpc3RhbmNlXG4gICAgICAgICAqICAgICAgVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwaW5jaCBjb250YWN0IHBvaW50cyBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnNoaWZ0XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgICAgKiAgICAgIFRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQucHJldmVudERlZmF1bHRBY3Rpb25cbiAgICAgICAgICogICAgICBTZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IHRoZSB0cmFja2VyIHN1YnNjcmliZXIgZnJvbSBwZXJmb3JtaW5nIGl0cyBkZWZhdWx0IGFjdGlvbiAoc3Vic2NyaWJlciBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnQpLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50LnVzZXJEYXRhXG4gICAgICAgICAqICAgICAgQXJiaXRyYXJ5IHVzZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBwaW5jaEhhbmRsZXI6IGZ1bmN0aW9uICgpIHsgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW1wbGVtZW50IG9yIGFzc2lnbiBpbXBsZW1lbnRhdGlvbiB0byB0aGVzZSBoYW5kbGVycyBkdXJpbmcgb3IgYWZ0ZXJcbiAgICAgICAgICogY2FsbGluZyB0aGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gZXZlbnQuZXZlbnRTb3VyY2VcbiAgICAgICAgICogICAgICBBIHJlZmVyZW5jZSB0byB0aGUgdHJhY2tlciBpbnN0YW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50LnBvaW50ZXJUeXBlXG4gICAgICAgICAqICAgICBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGV2ZW50LnBvc2l0aW9uXG4gICAgICAgICAqICAgICAgVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQuYnV0dG9uc1xuICAgICAgICAgKiAgICAgIEN1cnJlbnQgYnV0dG9ucyBwcmVzc2VkLlxuICAgICAgICAgKiAgICAgIENvbWJpbmF0aW9uIG9mIGJpdCBmbGFncyAwOiBub25lLCAxOiBwcmltYXJ5IChvciB0b3VjaCBjb250YWN0KSwgMjogc2Vjb25kYXJ5LCA0OiBhdXggKG9mdGVuIG1pZGRsZSksIDg6IFgxIChvZnRlbiBiYWNrKSwgMTY6IFgyIChvZnRlbiBmb3J3YXJkKSwgMzI6IHBlbiBlcmFzZXIuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuaXNUb3VjaEV2ZW50XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgb3JpZ2luYWwgZXZlbnQgaXMgYSB0b3VjaCBldmVudCwgb3RoZXJ3aXNlIGZhbHNlLiA8c3BhbiBzdHlsZT1cImNvbG9yOnJlZDtcIj5EZXByZWNhdGVkLiBVc2UgcG9pbnRlclR5cGUgYW5kL29yIG9yaWdpbmFsRXZlbnQgaW5zdGVhZC48L3NwYW4+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHN0b3BIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudCBvciBhc3NpZ24gaW1wbGVtZW50YXRpb24gdG8gdGhlc2UgaGFuZGxlcnMgZHVyaW5nIG9yIGFmdGVyXG4gICAgICAgICAqIGNhbGxpbmcgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IGV2ZW50LmV2ZW50U291cmNlXG4gICAgICAgICAqICAgICAgQSByZWZlcmVuY2UgdG8gdGhlIHRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5rZXlDb2RlXG4gICAgICAgICAqICAgICAgVGhlIGtleSBjb2RlIHRoYXQgd2FzIHByZXNzZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuY3RybFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIGN0cmwga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnNoaWZ0XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LmFsdFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIGFsdCBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQubWV0YVxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIG1ldGEga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgICAgKiAgICAgIFRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQucHJldmVudERlZmF1bHRBY3Rpb25cbiAgICAgICAgICogICAgICBTZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IHRoZSB0cmFja2VyIHN1YnNjcmliZXIgZnJvbSBwZXJmb3JtaW5nIGl0cyBkZWZhdWx0IGFjdGlvbiAoc3Vic2NyaWJlciBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnQpLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50LnVzZXJEYXRhXG4gICAgICAgICAqICAgICAgQXJiaXRyYXJ5IHVzZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBrZXlEb3duSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZXZlbnQua2V5Q29kZVxuICAgICAgICAgKiAgICAgIFRoZSBrZXkgY29kZSB0aGF0IHdhcyBwcmVzc2VkLlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LmN0cmxcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBjdHJsIGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgdGhpcyBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5zaGlmdFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIHNoaWZ0IGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgdGhpcyBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5hbHRcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBhbHQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50Lm1ldGFcbiAgICAgICAgICogICAgICBUcnVlIGlmIHRoZSBtZXRhIGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgdGhpcyBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICAgICAgICogICAgICBUaGUgb3JpZ2luYWwgZXZlbnQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgICAgICAqICAgICAgU2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgdHJhY2tlciBzdWJzY3JpYmVyIGZyb20gcGVyZm9ybWluZyBpdHMgZGVmYXVsdCBhY3Rpb24gKHN1YnNjcmliZXIgaW1wbGVtZW50YXRpb24gZGVwZW5kZW50KS4gRGVmYXVsdDogZmFsc2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC51c2VyRGF0YVxuICAgICAgICAgKiAgICAgIEFyYml0cmFyeSB1c2VyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAga2V5VXBIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudCBvciBhc3NpZ24gaW1wbGVtZW50YXRpb24gdG8gdGhlc2UgaGFuZGxlcnMgZHVyaW5nIG9yIGFmdGVyXG4gICAgICAgICAqIGNhbGxpbmcgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IGV2ZW50LmV2ZW50U291cmNlXG4gICAgICAgICAqICAgICAgQSByZWZlcmVuY2UgdG8gdGhlIHRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBldmVudC5rZXlDb2RlXG4gICAgICAgICAqICAgICAgVGhlIGtleSBjb2RlIHRoYXQgd2FzIHByZXNzZWQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQuY3RybFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIGN0cmwga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LnNoaWZ0XG4gICAgICAgICAqICAgICAgVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGV2ZW50LmFsdFxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIGFsdCBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQubWV0YVxuICAgICAgICAgKiAgICAgIFRydWUgaWYgdGhlIG1ldGEga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgICAgKiAgICAgIFRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQucHJldmVudERlZmF1bHRBY3Rpb25cbiAgICAgICAgICogICAgICBTZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IHRoZSB0cmFja2VyIHN1YnNjcmliZXIgZnJvbSBwZXJmb3JtaW5nIGl0cyBkZWZhdWx0IGFjdGlvbiAoc3Vic2NyaWJlciBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnQpLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50LnVzZXJEYXRhXG4gICAgICAgICAqICAgICAgQXJiaXRyYXJ5IHVzZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBrZXlIYW5kbGVyOiBmdW5jdGlvbiAoKSB7IH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEltcGxlbWVudCBvciBhc3NpZ24gaW1wbGVtZW50YXRpb24gdG8gdGhlc2UgaGFuZGxlcnMgZHVyaW5nIG9yIGFmdGVyXG4gICAgICAgICAqIGNhbGxpbmcgdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IGV2ZW50LmV2ZW50U291cmNlXG4gICAgICAgICAqICAgICAgQSByZWZlcmVuY2UgdG8gdGhlIHRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgICAqICAgICAgVGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgICAgICAgKiAgICAgIFNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIHRyYWNrZXIgc3Vic2NyaWJlciBmcm9tIHBlcmZvcm1pbmcgaXRzIGRlZmF1bHQgYWN0aW9uIChzdWJzY3JpYmVyIGltcGxlbWVudGF0aW9uIGRlcGVuZGVudCkuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQudXNlckRhdGFcbiAgICAgICAgICogICAgICBBcmJpdHJhcnkgdXNlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGZvY3VzSGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbXBsZW1lbnQgb3IgYXNzaWduIGltcGxlbWVudGF0aW9uIHRvIHRoZXNlIGhhbmRsZXJzIGR1cmluZyBvciBhZnRlclxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSBldmVudC5ldmVudFNvdXJjZVxuICAgICAgICAgKiAgICAgIEEgcmVmZXJlbmNlIHRvIHRoZSB0cmFja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQub3JpZ2luYWxFdmVudFxuICAgICAgICAgKiAgICAgIFRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZXZlbnQucHJldmVudERlZmF1bHRBY3Rpb25cbiAgICAgICAgICogICAgICBTZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IHRoZSB0cmFja2VyIHN1YnNjcmliZXIgZnJvbSBwZXJmb3JtaW5nIGl0cyBkZWZhdWx0IGFjdGlvbiAoc3Vic2NyaWJlciBpbXBsZW1lbnRhdGlvbiBkZXBlbmRlbnQpLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50LnVzZXJEYXRhXG4gICAgICAgICAqICAgICAgQXJiaXRyYXJ5IHVzZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICBibHVySGFuZGxlcjogZnVuY3Rpb24gKCkgeyB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgYWN0aXZlIG1vdXNldHJha2Vycy4gKEFkZGVkIHRvIHBhdGNoIGlzc3VlICM2OTcgXCJNb3VzZSB1cCBvdXRzaWRlIG1hcCB3aWxsIGNhdXNlIFwiY2FudmFzLWRyYWdcIiBldmVudCB0byBzdGlja1wiKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHJlc2V0QWxsTW91c2VUcmFja2Vyc1xuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlclxuICAgICAqL1xuICAgICQuTW91c2VUcmFja2VyLnJlc2V0QWxsTW91c2VUcmFja2VycyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBNT1VTRVRSQUNLRVJTLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGlmIChNT1VTRVRSQUNLRVJTW2ldLmlzVHJhY2tpbmcoKSl7XG4gICAgICAgICAgICAgICAgTU9VU0VUUkFDS0VSU1tpXS5zZXRUcmFja2luZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgTU9VU0VUUkFDS0VSU1tpXS5zZXRUcmFja2luZyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBjb250aW51b3VzIGNvbXB1dGF0aW9uIG9mIHZlbG9jaXR5IChzcGVlZCBhbmQgZGlyZWN0aW9uKSBvZiBhY3RpdmUgcG9pbnRlcnMuXG4gICAgICogVGhpcyBpcyBhIHNpbmdsZXRvbiwgdXNlZCBieSBhbGwgTW91c2VUcmFja2VyIGluc3RhbmNlcywgYXMgaXQgaXMgdW5saWtlbHkgdGhlcmUgd2lsbCBldmVyIGJlIG1vcmUgdGhhblxuICAgICAqIHR3byBhY3RpdmUgZ2VzdHVyZSBwb2ludGVycyBhdCBhIHRpbWUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIgZ2VzdHVyZVBvaW50VmVsb2NpdHlUcmFja2VyXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyXG4gICAgICovXG4gICAgJC5Nb3VzZVRyYWNrZXIuZ2VzdHVyZVBvaW50VmVsb2NpdHlUcmFja2VyID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyYWNrZXJQb2ludHMgPSBbXSxcbiAgICAgICAgICAgIGludGVydmFsSWQgPSAwLFxuICAgICAgICAgICAgbGFzdFRpbWUgPSAwO1xuXG4gICAgICAgIC8vIEdlbmVyYXRlcyBhIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIHRyYWNrZWQgZ2VzdHVyZSBwb2ludFxuICAgICAgICB2YXIgX2dlbmVyYXRlR3VpZCA9IGZ1bmN0aW9uICggdHJhY2tlciwgZ1BvaW50ICkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrZXIuaGFzaC50b1N0cmluZygpICsgZ1BvaW50LnR5cGUgKyBnUG9pbnQuaWQudG9TdHJpbmcoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBJbnRlcnZhbCB0aW1lciBjYWxsYmFjay4gQ29tcHV0ZXMgdmVsb2NpdHkgZm9yIGFsbCB0cmFja2VkIGdlc3R1cmUgcG9pbnRzLlxuICAgICAgICB2YXIgX2RvVHJhY2tpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICBsZW4gPSB0cmFja2VyUG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB0cmFja1BvaW50LFxuICAgICAgICAgICAgICAgIGdQb2ludCxcbiAgICAgICAgICAgICAgICBub3cgPSAkLm5vdygpLFxuICAgICAgICAgICAgICAgIGVsYXBzZWRUaW1lLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlLFxuICAgICAgICAgICAgICAgIHNwZWVkO1xuXG4gICAgICAgICAgICBlbGFwc2VkVGltZSA9IG5vdyAtIGxhc3RUaW1lO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBub3c7XG5cbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tQb2ludCA9IHRyYWNrZXJQb2ludHNbIGkgXTtcbiAgICAgICAgICAgICAgICBnUG9pbnQgPSB0cmFja1BvaW50LmdQb2ludDtcbiAgICAgICAgICAgICAgICAvLyBNYXRoLmF0YW4yIGdpdmVzIHVzIGp1c3Qgd2hhdCB3ZSBuZWVkIGZvciBhIHZlbG9jaXR5IHZlY3RvciwgYXMgd2UgY2FuIHNpbXBseVxuICAgICAgICAgICAgICAgIC8vICAgdXNlIGNvcygpL3NpbigpIHRvIGV4dHJhY3QgdGhlIHgveSB2ZWxvY2l0eSBjb21wb25lbnRzLlxuICAgICAgICAgICAgICAgIGdQb2ludC5kaXJlY3Rpb24gPSBNYXRoLmF0YW4yKCBnUG9pbnQuY3VycmVudFBvcy55IC0gdHJhY2tQb2ludC5sYXN0UG9zLnksIGdQb2ludC5jdXJyZW50UG9zLnggLSB0cmFja1BvaW50Lmxhc3RQb3MueCApO1xuICAgICAgICAgICAgICAgIC8vIHNwZWVkID0gZGlzdGFuY2UgLyBlbGFwc2VkIHRpbWVcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IHRyYWNrUG9pbnQubGFzdFBvcy5kaXN0YW5jZVRvKCBnUG9pbnQuY3VycmVudFBvcyApO1xuICAgICAgICAgICAgICAgIHRyYWNrUG9pbnQubGFzdFBvcyA9IGdQb2ludC5jdXJyZW50UG9zO1xuICAgICAgICAgICAgICAgIHNwZWVkID0gMTAwMCAqIGRpc3RhbmNlIC8gKCBlbGFwc2VkVGltZSArIDEgKTtcbiAgICAgICAgICAgICAgICAvLyBTaW1wbGUgYmlhc2VkIGF2ZXJhZ2UsIGZhdm9ycyB0aGUgbW9zdCByZWNlbnQgc3BlZWQgY29tcHV0YXRpb24uIFNtb290aHMgb3V0IGVycmF0aWMgZ2VzdHVyZXMgYSBiaXQuXG4gICAgICAgICAgICAgICAgZ1BvaW50LnNwZWVkID0gMC43NSAqIHNwZWVkICsgMC4yNSAqIGdQb2ludC5zcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBQdWJsaWMuIEFkZCBhIGdlc3R1cmUgcG9pbnQgdG8gYmUgdHJhY2tlZFxuICAgICAgICB2YXIgYWRkUG9pbnQgPSBmdW5jdGlvbiAoIHRyYWNrZXIsIGdQb2ludCApIHtcbiAgICAgICAgICAgIHZhciBndWlkID0gX2dlbmVyYXRlR3VpZCggdHJhY2tlciwgZ1BvaW50ICk7XG5cbiAgICAgICAgICAgIHRyYWNrZXJQb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGd1aWQ6IGd1aWQsXG4gICAgICAgICAgICAgICAgICAgIGdQb2ludDogZ1BvaW50LFxuICAgICAgICAgICAgICAgICAgICBsYXN0UG9zOiBnUG9pbnQuY3VycmVudFBvc1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgLy8gT25seSBmaXJlIHVwIHRoZSBpbnRlcnZhbCB0aW1lciB3aGVuIHRoZXJlJ3MgZ2VzdHVyZSBwb2ludGVycyB0byB0cmFja1xuICAgICAgICAgICAgaWYgKCB0cmFja2VyUG9pbnRzLmxlbmd0aCA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICBsYXN0VGltZSA9ICQubm93KCk7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCggX2RvVHJhY2tpbmcsIDUwICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHVibGljLiBTdG9wIHRyYWNraW5nIGEgZ2VzdHVyZSBwb2ludFxuICAgICAgICB2YXIgcmVtb3ZlUG9pbnQgPSBmdW5jdGlvbiAoIHRyYWNrZXIsIGdQb2ludCApIHtcbiAgICAgICAgICAgIHZhciBndWlkID0gX2dlbmVyYXRlR3VpZCggdHJhY2tlciwgZ1BvaW50ICksXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBsZW4gPSB0cmFja2VyUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0cmFja2VyUG9pbnRzWyBpIF0uZ3VpZCA9PT0gZ3VpZCApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tlclBvaW50cy5zcGxpY2UoIGksIDEgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSBydW4gdGhlIGludGVydmFsIHRpbWVyIGlmIHRoZXJlcyBnZXN0dXJlIHBvaW50ZXJzIHRvIHRyYWNrXG4gICAgICAgICAgICAgICAgICAgIGxlbi0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIGxlbiA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKCBpbnRlcnZhbElkICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhZGRQb2ludDogICAgYWRkUG9pbnQsXG4gICAgICAgICAgICByZW1vdmVQb2ludDogcmVtb3ZlUG9pbnRcbiAgICAgICAgfTtcbiAgICB9ICkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBQb2ludGVyIGV2ZW50IG1vZGVsIGFuZCBmZWF0dXJlIGRldGVjdGlvblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgJC5Nb3VzZVRyYWNrZXIuY2FwdHVyZUVsZW1lbnQgPSBkb2N1bWVudDtcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBhdmFpbGFibGUgbW91c2Ugd2hlZWwgZXZlbnQgbmFtZS5cbiAgICAgKi9cbiAgICAkLk1vdXNlVHJhY2tlci53aGVlbEV2ZW50TmFtZSA9ICggJC5Ccm93c2VyLnZlbmRvciA9PSAkLkJST1dTRVJTLklFICYmICQuQnJvd3Nlci52ZXJzaW9uID4gOCApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoICdvbndoZWVsJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApICkgPyAnd2hlZWwnIDogLy8gTW9kZXJuIGJyb3dzZXJzIHN1cHBvcnQgJ3doZWVsJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXdoZWVsICE9PSB1bmRlZmluZWQgPyAnbW91c2V3aGVlbCcgOiAgICAgICAgICAgICAgICAgICAgIC8vIFdlYmtpdCBhbmQgSUUgc3VwcG9ydCBhdCBsZWFzdCAnbW91c2V3aGVlbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdET01Nb3VzZVNjcm9sbCc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBc3N1bWUgb2xkIEZpcmVmb3hcblxuICAgIC8qKlxuICAgICAqIERldGVjdCBsZWdhY3kgbW91c2UgY2FwdHVyZSBzdXBwb3J0LlxuICAgICAqL1xuICAgICQuTW91c2VUcmFja2VyLnN1cHBvcnRzTW91c2VDYXB0dXJlID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xuICAgICAgICByZXR1cm4gJC5pc0Z1bmN0aW9uKCBkaXZFbGVtZW50LnNldENhcHR1cmUgKSAmJiAkLmlzRnVuY3Rpb24oIGRpdkVsZW1lbnQucmVsZWFzZUNhcHR1cmUgKTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGJyb3dzZXIgcG9pbnRlciBkZXZpY2UgZXZlbnQgbW9kZWwocykgYW5kIGJ1aWxkIGFwcHJvcHJpYXRlIGxpc3Qgb2YgZXZlbnRzIHRvIHN1YnNjcmliZSB0by5cbiAgICAgKi9cbiAgICAkLk1vdXNlVHJhY2tlci5zdWJzY3JpYmVFdmVudHMgPSBbIFwiY2xpY2tcIiwgXCJkYmxjbGlja1wiLCBcImtleWRvd25cIiwgXCJrZXl1cFwiLCBcImtleXByZXNzXCIsIFwiZm9jdXNcIiwgXCJibHVyXCIsICQuTW91c2VUcmFja2VyLndoZWVsRXZlbnROYW1lIF07XG5cbiAgICBpZiggJC5Nb3VzZVRyYWNrZXIud2hlZWxFdmVudE5hbWUgPT0gXCJET01Nb3VzZVNjcm9sbFwiICkge1xuICAgICAgICAvLyBPbGRlciBGaXJlZm94XG4gICAgICAgICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50cy5wdXNoKCBcIk1vek1vdXNlUGl4ZWxTY3JvbGxcIiApO1xuICAgIH1cblxuICAgIC8vIE5vdGU6IHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZSBpcyBkZXByZWNhdGVkIG9uIElFIDExIGFuZCBub3QgcGFydCBvZiBXM0Mgc3BlYy5cbiAgICBpZiAoIHdpbmRvdy5Qb2ludGVyRXZlbnQgJiYgKCB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkIHx8ICQuQnJvd3Nlci52ZW5kb3IgIT09ICQuQlJPV1NFUlMuSUUgKSApIHtcbiAgICAgICAgLy8gSUUxMSBhbmQgb3RoZXIgVzNDIFBvaW50ZXIgRXZlbnQgaW1wbGVtZW50YXRpb25zIChzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvcG9pbnRlcmV2ZW50cylcbiAgICAgICAgJC5Nb3VzZVRyYWNrZXIuaGF2ZVBvaW50ZXJFdmVudHMgPSB0cnVlO1xuICAgICAgICAkLk1vdXNlVHJhY2tlci5zdWJzY3JpYmVFdmVudHMucHVzaCggXCJwb2ludGVyb3ZlclwiLCBcInBvaW50ZXJvdXRcIiwgXCJwb2ludGVyZG93blwiLCBcInBvaW50ZXJ1cFwiLCBcInBvaW50ZXJtb3ZlXCIsIFwicG9pbnRlcmNhbmNlbFwiICk7XG4gICAgICAgICQuTW91c2VUcmFja2VyLnVucHJlZml4ZWRQb2ludGVyRXZlbnRzID0gdHJ1ZTtcbiAgICAgICAgaWYoIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyApIHtcbiAgICAgICAgICAgICQuTW91c2VUcmFja2VyLm1heFRvdWNoUG9pbnRzID0gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIubWF4VG91Y2hQb2ludHMgPSAwO1xuICAgICAgICB9XG4gICAgICAgICQuTW91c2VUcmFja2VyLmhhdmVNb3VzZUVudGVyID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICggd2luZG93Lk1TUG9pbnRlckV2ZW50ICYmIHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCApIHtcbiAgICAgICAgLy8gSUUxMFxuICAgICAgICAkLk1vdXNlVHJhY2tlci5oYXZlUG9pbnRlckV2ZW50cyA9IHRydWU7XG4gICAgICAgICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50cy5wdXNoKCBcIk1TUG9pbnRlck92ZXJcIiwgXCJNU1BvaW50ZXJPdXRcIiwgXCJNU1BvaW50ZXJEb3duXCIsIFwiTVNQb2ludGVyVXBcIiwgXCJNU1BvaW50ZXJNb3ZlXCIsIFwiTVNQb2ludGVyQ2FuY2VsXCIgKTtcbiAgICAgICAgJC5Nb3VzZVRyYWNrZXIudW5wcmVmaXhlZFBvaW50ZXJFdmVudHMgPSBmYWxzZTtcbiAgICAgICAgaWYoIG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzICkge1xuICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIubWF4VG91Y2hQb2ludHMgPSBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuTW91c2VUcmFja2VyLm1heFRvdWNoUG9pbnRzID0gMDtcbiAgICAgICAgfVxuICAgICAgICAkLk1vdXNlVHJhY2tlci5oYXZlTW91c2VFbnRlciA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExlZ2FjeSBXM0MgbW91c2UgZXZlbnRzXG4gICAgICAgICQuTW91c2VUcmFja2VyLmhhdmVQb2ludGVyRXZlbnRzID0gZmFsc2U7XG4gICAgICAgIGlmICggJC5Ccm93c2VyLnZlbmRvciA9PT0gJC5CUk9XU0VSUy5JRSAmJiAkLkJyb3dzZXIudmVyc2lvbiA8IDkgKSB7XG4gICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5zdWJzY3JpYmVFdmVudHMucHVzaCggXCJtb3VzZWVudGVyXCIsIFwibW91c2VsZWF2ZVwiICk7XG4gICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5oYXZlTW91c2VFbnRlciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5zdWJzY3JpYmVFdmVudHMucHVzaCggXCJtb3VzZW92ZXJcIiwgXCJtb3VzZW91dFwiICk7XG4gICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5oYXZlTW91c2VFbnRlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50cy5wdXNoKCBcIm1vdXNlZG93blwiLCBcIm1vdXNldXBcIiwgXCJtb3VzZW1vdmVcIiApO1xuICAgICAgICBpZiAoICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyApIHtcbiAgICAgICAgICAgIC8vIGlPUywgQW5kcm9pZCwgYW5kIG90aGVyIFczYyBUb3VjaCBFdmVudCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgICAgIC8vICAgIChzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvdG91Y2gtZXZlbnRzLylcbiAgICAgICAgICAgIC8vICAgIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQXBwbGVBcHBsaWNhdGlvbnMvUmVmZXJlbmNlL1NhZmFyaVdlYkNvbnRlbnQvSGFuZGxpbmdFdmVudHMvSGFuZGxpbmdFdmVudHMuaHRtbClcbiAgICAgICAgICAgIC8vICAgIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvc2FmYXJpL2RvY3VtZW50YXRpb24vQXBwbGVBcHBsaWNhdGlvbnMvUmVmZXJlbmNlL1NhZmFyaVdlYkNvbnRlbnQvSGFuZGxpbmdFdmVudHMvSGFuZGxpbmdFdmVudHMuaHRtbClcbiAgICAgICAgICAgICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50cy5wdXNoKCBcInRvdWNoc3RhcnRcIiwgXCJ0b3VjaGVuZFwiLCBcInRvdWNobW92ZVwiLCBcInRvdWNoY2FuY2VsXCIgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoICdvbmdlc3R1cmVzdGFydCcgaW4gd2luZG93ICkge1xuICAgICAgICAgICAgLy8gaU9TIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQXBwbGVBcHBsaWNhdGlvbnMvUmVmZXJlbmNlL1NhZmFyaVdlYkNvbnRlbnQvSGFuZGxpbmdFdmVudHMvSGFuZGxpbmdFdmVudHMuaHRtbClcbiAgICAgICAgICAgIC8vICAgU3Vic2NyaWJlIHRvIHRoZXNlIHRvIHByZXZlbnQgZGVmYXVsdCBnZXN0dXJlIGhhbmRsaW5nXG4gICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5zdWJzY3JpYmVFdmVudHMucHVzaCggXCJnZXN0dXJlc3RhcnRcIiwgXCJnZXN0dXJlY2hhbmdlXCIgKTtcbiAgICAgICAgfVxuICAgICAgICAkLk1vdXNlVHJhY2tlci5tb3VzZVBvaW50ZXJJZCA9IFwibGVnYWN5LW1vdXNlXCI7XG4gICAgICAgICQuTW91c2VUcmFja2VyLm1heFRvdWNoUG9pbnRzID0gMTA7XG4gICAgfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIENsYXNzZXMgYW5kIHR5cGVkZWZzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgcG9pbnQgb2YgY29udGFjdCBvbiB0aGUgc2NyZWVuIG1hZGUgYnkgYSBtb3VzZSBjdXJzb3IsIHBlbiwgdG91Y2gsIG9yIG90aGVyIHBvaW50ZXIgZGV2aWNlLlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gR2VzdHVyZVBvaW50XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gaWRcbiAgICAgKiAgICAgSWRlbnRpZmllciB1bmlxdWUgZnJvbSBhbGwgb3RoZXIgYWN0aXZlIEdlc3R1cmVQb2ludHMgZm9yIGEgZ2l2ZW4gcG9pbnRlciBkZXZpY2UuXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHR5cGVcbiAgICAgKiAgICAgVGhlIHBvaW50ZXIgZGV2aWNlIHR5cGU6IFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBjYXB0dXJlZFxuICAgICAqICAgICBUcnVlIGlmIGV2ZW50cyBmb3IgdGhlIGdlc3R1cmUgcG9pbnQgYXJlIGNhcHR1cmVkIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpc1ByaW1hcnlcbiAgICAgKiAgICAgVHJ1ZSBpZiB0aGUgZ2VzdHVyZSBwb2ludCBpcyBhIG1hc3RlciBwb2ludGVyIGFtb25nc3QgdGhlIHNldCBvZiBhY3RpdmUgcG9pbnRlcnMgZm9yIGVhY2ggcG9pbnRlciB0eXBlLiBUcnVlIGZvciBtb3VzZSBhbmQgcHJpbWFyeSAoZmlyc3QpIHRvdWNoL3BlbiBwb2ludGVycy5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGluc2lkZUVsZW1lbnRQcmVzc2VkXG4gICAgICogICAgIFRydWUgaWYgYnV0dG9uIHByZXNzZWQgb3IgY29udGFjdCBwb2ludCBpbml0aWF0ZWQgaW5zaWRlIHRoZSBzY3JlZW4gYXJlYSBvZiB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW5zaWRlRWxlbWVudFxuICAgICAqICAgICBUcnVlIGlmIHBvaW50ZXIgb3IgY29udGFjdCBwb2ludCBpcyBjdXJyZW50bHkgaW5zaWRlIHRoZSBib3VuZHMgb2YgdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gc3BlZWRcbiAgICAgKiAgICAgQ3VycmVudCBjb21wdXRlZCBzcGVlZCwgaW4gcGl4ZWxzIHBlciBzZWNvbmQuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGRpcmVjdGlvblxuICAgICAqICAgICBDdXJyZW50IGNvbXB1dGVkIGRpcmVjdGlvbiwgZXhwcmVzc2VkIGFzIGFuIGFuZ2xlIGNvdW50ZXJjbG9ja3dpc2UgcmVsYXRpdmUgdG8gdGhlIHBvc2l0aXZlIFggYXhpcyAoLXBpIHRvIHBpLCBpbiByYWRpYW5zKS4gT25seSB2YWxpZCBpZiBzcGVlZCA+IDAuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBvaW50fSBjb250YWN0UG9zXG4gICAgICogICAgIFRoZSBpbml0aWFsIHBvaW50ZXIgY29udGFjdCBwb3NpdGlvbiwgcmVsYXRpdmUgdG8gdGhlIHBhZ2UgaW5jbHVkaW5nIGFueSBzY3JvbGxpbmcuIE9ubHkgdmFsaWQgaWYgdGhlIHBvaW50ZXIgaGFzIGNvbnRhY3QgKHByZXNzZWQsIHRvdWNoIGNvbnRhY3QsIHBlbiBjb250YWN0KS5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gY29udGFjdFRpbWVcbiAgICAgKiAgICAgVGhlIGluaXRpYWwgcG9pbnRlciBjb250YWN0IHRpbWUsIGluIG1pbGxpc2Vjb25kcy4gT25seSB2YWxpZCBpZiB0aGUgcG9pbnRlciBoYXMgY29udGFjdCAocHJlc3NlZCwgdG91Y2ggY29udGFjdCwgcGVuIGNvbnRhY3QpLlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gbGFzdFBvc1xuICAgICAqICAgICBUaGUgbGFzdCBwb2ludGVyIHBvc2l0aW9uLCByZWxhdGl2ZSB0byB0aGUgcGFnZSBpbmNsdWRpbmcgYW55IHNjcm9sbGluZy5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gbGFzdFRpbWVcbiAgICAgKiAgICAgVGhlIGxhc3QgcG9pbnRlciBjb250YWN0IHRpbWUsIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IGN1cnJlbnRQb3NcbiAgICAgKiAgICAgVGhlIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbiwgcmVsYXRpdmUgdG8gdGhlIHBhZ2UgaW5jbHVkaW5nIGFueSBzY3JvbGxpbmcuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGN1cnJlbnRUaW1lXG4gICAgICogICAgIFRoZSBjdXJyZW50IHBvaW50ZXIgY29udGFjdCB0aW1lLCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBHZXN0dXJlUG9pbnRMaXN0XG4gICAgICogQGNsYXNzZGVzYyBQcm92aWRlcyBhbiBhYnN0cmFjdGlvbiBmb3IgYSBzZXQgb2YgYWN0aXZlIHtAbGluayBPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnR8R2VzdHVyZVBvaW50fSBvYmplY3RzIGZvciBhIGdpdmVuIHBvaW50ZXIgZGV2aWNlIHR5cGUuXG4gICAgICogICAgICAgICAgICBBY3RpdmUgcG9pbnRlcnMgYXJlIGFueSBwb2ludGVyIGJlaW5nIHRyYWNrZWQgZm9yIHRoaXMgZWxlbWVudCB3aGljaCBhcmUgaW4gdGhlIGhpdC10ZXN0IGFyZWFcbiAgICAgKiAgICAgICAgICAgIG9mIHRoZSBlbGVtZW50IChmb3IgaG92ZXItY2FwYWJsZSBkZXZpY2VzKSBhbmQvb3IgaGF2ZSBjb250YWN0IG9yIGEgYnV0dG9uIHByZXNzIGluaXRpYXRlZCBpbiB0aGUgZWxlbWVudC5cbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIFRoZSBwb2ludGVyIGRldmljZSB0eXBlOiBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAqL1xuICAgICQuTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludExpc3QgPSBmdW5jdGlvbiAoIHR5cGUgKSB7XG4gICAgICAgIHRoaXMuX2dQb2ludHMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb2ludGVyIGRldmljZSB0eXBlOiBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJpbmd9IHR5cGVcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludExpc3QjXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBidXR0b25zIHByZXNzZWQgZm9yIHRoZSBkZXZpY2UuXG4gICAgICAgICAqIENvbWJpbmF0aW9uIG9mIGJpdCBmbGFncyAwOiBub25lLCAxOiBwcmltYXJ5IChvciB0b3VjaCBjb250YWN0KSwgMjogc2Vjb25kYXJ5LCA0OiBhdXggKG9mdGVuIG1pZGRsZSksIDg6IFgxIChvZnRlbiBiYWNrKSwgMTY6IFgyIChvZnRlbiBmb3J3YXJkKSwgMzI6IHBlbiBlcmFzZXIuXG4gICAgICAgICAqIEBtZW1iZXIge051bWJlcn0gYnV0dG9uc1xuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdCNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IG51bWJlciBvZiBjb250YWN0IHBvaW50cyAodG91Y2ggcG9pbnRzLCBtb3VzZSBkb3duLCBldGMuKSBmb3IgdGhlIGRldmljZS5cbiAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfSBjb250YWN0c1xuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdCNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29udGFjdHMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBudW1iZXIgb2YgY2xpY2tzIGZvciB0aGUgZGV2aWNlLiBVc2VkIGZvciBtdWx0aXBsZSBjbGljayBnZXN0dXJlIHRyYWNraW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGNsaWNrc1xuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdCNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xpY2tzID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgbnVtYmVyIG9mIGNhcHR1cmVkIHBvaW50ZXJzIGZvciB0aGUgZGV2aWNlLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGNhcHR1cmVDb3VudFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50TGlzdCNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FwdHVyZUNvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnRMaXN0LnByb3RvdHlwZSAqL1xuICAgICQuTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludExpc3QucHJvdG90eXBlID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiBnZXN0dXJlIHBvaW50cyBpbiB0aGUgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIGdldExlbmd0aDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dQb2ludHMubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEByZXR1cm5zIHtBcnJheS48T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50Pn0gVGhlIGxpc3Qgb2YgZ2VzdHVyZSBwb2ludHMgaW4gdGhlIGxpc3QgYXMgYW4gYXJyYXkgKHJlYWQtb25seSkuXG4gICAgICAgICAqL1xuICAgICAgICBhc0FycmF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ1BvaW50cztcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludH0gZ2VzdHVyZVBvaW50IC0gQSBnZXN0dXJlIHBvaW50IHRvIGFkZCB0byB0aGUgbGlzdC5cbiAgICAgICAgICogQHJldHVybnMge051bWJlcn0gTnVtYmVyIG9mIGdlc3R1cmUgcG9pbnRzIGluIHRoZSBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkOiBmdW5jdGlvbiAoIGdwICkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dQb2ludHMucHVzaCggZ3AgKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gaWQgLSBUaGUgaWQgb2YgdGhlIGdlc3R1cmUgcG9pbnQgdG8gcmVtb3ZlIGZyb20gdGhlIGxpc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiBnZXN0dXJlIHBvaW50cyBpbiB0aGUgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUJ5SWQ6IGZ1bmN0aW9uICggaWQgKSB7XG4gICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICBsZW4gPSB0aGlzLl9nUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLl9nUG9pbnRzWyBpIF0uaWQgPT09IGlkICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nUG9pbnRzLnNwbGljZSggaSwgMSApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ1BvaW50cy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBnZXN0dXJlIHBvaW50IHRvIHJldHJpZXZlIGZyb20gdGhlIGxpc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnR8bnVsbH0gVGhlIGdlc3R1cmUgcG9pbnQgYXQgdGhlIGdpdmVuIGluZGV4LCBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJ5SW5kZXg6IGZ1bmN0aW9uICggaW5kZXggKSB7XG4gICAgICAgICAgICBpZiAoIGluZGV4IDwgdGhpcy5fZ1BvaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ1BvaW50c1sgaW5kZXggXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIC0gVGhlIGlkIG9mIHRoZSBnZXN0dXJlIHBvaW50IHRvIHJldHJpZXZlIGZyb20gdGhlIGxpc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnR8bnVsbH0gVGhlIGdlc3R1cmUgcG9pbnQgd2l0aCB0aGUgZ2l2ZW4gaWQsIG9yIG51bGwgaWYgbm90IGZvdW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QnlJZDogZnVuY3Rpb24gKCBpZCApIHtcbiAgICAgICAgICAgIHZhciBpLFxuICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMuX2dQb2ludHMubGVuZ3RoO1xuICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIHRoaXMuX2dQb2ludHNbIGkgXS5pZCA9PT0gaWQgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nUG9pbnRzWyBpIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludHxudWxsfSBUaGUgcHJpbWFyeSBnZXN0dXJlIHBvaW50IGluIHRoZSBsaXN0LCBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFByaW1hcnk6IGZ1bmN0aW9uICggaWQgKSB7XG4gICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICBsZW4gPSB0aGlzLl9nUG9pbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLl9nUG9pbnRzWyBpIF0uaXNQcmltYXJ5ICkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ1BvaW50c1sgaSBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmNyZW1lbnQgdGhpcyBwb2ludGVyJ3MgY29udGFjdCBjb3VudC5cbiAgICAgICAgICogSXQgd2lsbCBldmFsdWF0ZSB3aGV0aGVyIHRoaXMgcG9pbnRlciB0eXBlIGlzIGFsbG93ZWQgdG8gaGF2ZSBtdWx0aXBsZSBjb250YWN0cy5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRDb250YWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICsrdGhpcy5jb250YWN0cztcblxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdHMgPiAxICYmICh0aGlzLnR5cGUgPT09IFwibW91c2VcIiB8fCB0aGlzLnR5cGUgPT09IFwicGVuXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWN0cyA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlY3JlbWVudCB0aGlzIHBvaW50ZXIncyBjb250YWN0IGNvdW50LlxuICAgICAgICAgKiBJdCB3aWxsIG1ha2Ugc3VyZSB0aGUgY291bnQgZG9lcyBub3QgZ28gYmVsb3cgMC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVDb250YWN0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC0tdGhpcy5jb250YWN0cztcblxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGFjdHMgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWN0cyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFV0aWxpdHkgZnVuY3Rpb25zXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0cmFja2VkIHBvaW50ZXJzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xlYXJUcmFja2VkUG9pbnRlcnMoIHRyYWNrZXIgKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IFRISVNbIHRyYWNrZXIuaGFzaCBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHBvaW50ZXJMaXN0Q291bnQgPSBkZWxlZ2F0ZS5hY3RpdmVQb2ludGVyc0xpc3RzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IHBvaW50ZXJMaXN0Q291bnQ7IGkrKyApIHtcbiAgICAgICAgICAgIGlmICggZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0c1sgaSBdLmNhcHR1cmVDb3VudCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgJC5yZW1vdmVFdmVudChcbiAgICAgICAgICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIuY2FwdHVyZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZW1vdmUnLFxuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5tb3VzZW1vdmVjYXB0dXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJC5yZW1vdmVFdmVudChcbiAgICAgICAgICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIuY2FwdHVyZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZXVwJyxcbiAgICAgICAgICAgICAgICAgICAgZGVsZWdhdGUubW91c2V1cGNhcHR1cmVkLFxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkLnJlbW92ZUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5jYXB0dXJlRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIudW5wcmVmaXhlZFBvaW50ZXJFdmVudHMgPyAncG9pbnRlcm1vdmUnIDogJ01TUG9pbnRlck1vdmUnLFxuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5wb2ludGVybW92ZWNhcHR1cmVkLFxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkLnJlbW92ZUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5jYXB0dXJlRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIudW5wcmVmaXhlZFBvaW50ZXJFdmVudHMgPyAncG9pbnRlcnVwJyA6ICdNU1BvaW50ZXJVcCcsXG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLnBvaW50ZXJ1cGNhcHR1cmVkLFxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkLnJlbW92ZUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5jYXB0dXJlRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNobW92ZScsXG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLnRvdWNobW92ZWNhcHR1cmVkLFxuICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkLnJlbW92ZUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5jYXB0dXJlRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNoZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgZGVsZWdhdGUudG91Y2hlbmRjYXB0dXJlZCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5hY3RpdmVQb2ludGVyc0xpc3RzWyBpIF0uY2FwdHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgcG9pbnRlckxpc3RDb3VudDsgaSsrICkge1xuICAgICAgICAgICAgZGVsZWdhdGUuYWN0aXZlUG9pbnRlcnNMaXN0cy5wb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cmFja2luZyBwb2ludGVyIGV2ZW50cyBvbiB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRUcmFja2luZyggdHJhY2tlciApIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gVEhJU1sgdHJhY2tlci5oYXNoIF0sXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgaWYgKCAhZGVsZWdhdGUudHJhY2tpbmcgKSB7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8ICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50cy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICBldmVudCA9ICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50c1sgaSBdO1xuICAgICAgICAgICAgICAgICQuYWRkRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZXIuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlWyBldmVudCBdLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsZWFyVHJhY2tlZFBvaW50ZXJzKCB0cmFja2VyICk7XG5cbiAgICAgICAgICAgIGRlbGVnYXRlLnRyYWNraW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRyYWNraW5nIHBvaW50ZXIgZXZlbnRzIG9uIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdG9wVHJhY2tpbmcoIHRyYWNrZXIgKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IFRISVNbIHRyYWNrZXIuaGFzaCBdLFxuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGlmICggZGVsZWdhdGUudHJhY2tpbmcgKSB7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8ICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50cy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICBldmVudCA9ICQuTW91c2VUcmFja2VyLnN1YnNjcmliZUV2ZW50c1sgaSBdO1xuICAgICAgICAgICAgICAgICQucmVtb3ZlRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZXIuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlWyBldmVudCBdLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsZWFyVHJhY2tlZFBvaW50ZXJzKCB0cmFja2VyICk7XG5cbiAgICAgICAgICAgIGRlbGVnYXRlLnRyYWNraW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldENhcHR1cmVFdmVudFBhcmFtcyggdHJhY2tlciwgcG9pbnRlclR5cGUgKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IFRISVNbIHRyYWNrZXIuaGFzaCBdO1xuXG4gICAgICAgIGlmICggcG9pbnRlclR5cGUgPT09ICdwb2ludGVyZXZlbnQnICkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cE5hbWU6ICQuTW91c2VUcmFja2VyLnVucHJlZml4ZWRQb2ludGVyRXZlbnRzID8gJ3BvaW50ZXJ1cCcgOiAnTVNQb2ludGVyVXAnLFxuICAgICAgICAgICAgICAgIHVwSGFuZGxlcjogZGVsZWdhdGUucG9pbnRlcnVwY2FwdHVyZWQsXG4gICAgICAgICAgICAgICAgbW92ZU5hbWU6ICQuTW91c2VUcmFja2VyLnVucHJlZml4ZWRQb2ludGVyRXZlbnRzID8gJ3BvaW50ZXJtb3ZlJyA6ICdNU1BvaW50ZXJNb3ZlJyxcbiAgICAgICAgICAgICAgICBtb3ZlSGFuZGxlcjogZGVsZWdhdGUucG9pbnRlcm1vdmVjYXB0dXJlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICggcG9pbnRlclR5cGUgPT09ICdtb3VzZScgKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVwTmFtZTogJ21vdXNldXAnLFxuICAgICAgICAgICAgICAgIHVwSGFuZGxlcjogZGVsZWdhdGUubW91c2V1cGNhcHR1cmVkLFxuICAgICAgICAgICAgICAgIG1vdmVOYW1lOiAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICBtb3ZlSGFuZGxlcjogZGVsZWdhdGUubW91c2Vtb3ZlY2FwdHVyZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoIHBvaW50ZXJUeXBlID09PSAndG91Y2gnICkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1cE5hbWU6ICd0b3VjaGVuZCcsXG4gICAgICAgICAgICAgICAgdXBIYW5kbGVyOiBkZWxlZ2F0ZS50b3VjaGVuZGNhcHR1cmVkLFxuICAgICAgICAgICAgICAgIG1vdmVOYW1lOiAndG91Y2htb3ZlJyxcbiAgICAgICAgICAgICAgICBtb3ZlSGFuZGxlcjogZGVsZWdhdGUudG91Y2htb3ZlY2FwdHVyZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiTW91c2VUcmFja2VyLmdldENhcHR1cmVFdmVudFBhcmFtczogVW5rbm93biBwb2ludGVyIHR5cGUuXCIgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZ2luIGNhcHR1cmluZyBwb2ludGVyIGV2ZW50cyB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FwdHVyZVBvaW50ZXIoIHRyYWNrZXIsIHBvaW50ZXJUeXBlLCBwb2ludGVyQ291bnQgKSB7XG4gICAgICAgIHZhciBwb2ludHNMaXN0ID0gdHJhY2tlci5nZXRBY3RpdmVQb2ludGVyc0xpc3RCeVR5cGUoIHBvaW50ZXJUeXBlICksXG4gICAgICAgICAgICBldmVudFBhcmFtcztcblxuICAgICAgICBwb2ludHNMaXN0LmNhcHR1cmVDb3VudCArPSAocG9pbnRlckNvdW50IHx8IDEpO1xuXG4gICAgICAgIGlmICggcG9pbnRzTGlzdC5jYXB0dXJlQ291bnQgPT09IDEgKSB7XG4gICAgICAgICAgICBpZiAoICQuQnJvd3Nlci52ZW5kb3IgPT09ICQuQlJPV1NFUlMuSUUgJiYgJC5Ccm93c2VyLnZlcnNpb24gPCA5ICkge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIuZWxlbWVudC5zZXRDYXB0dXJlKCB0cnVlICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV2ZW50UGFyYW1zID0gZ2V0Q2FwdHVyZUV2ZW50UGFyYW1zKCB0cmFja2VyLCAkLk1vdXNlVHJhY2tlci5oYXZlUG9pbnRlckV2ZW50cyA/ICdwb2ludGVyZXZlbnQnIDogcG9pbnRlclR5cGUgKTtcbiAgICAgICAgICAgICAgICAvLyBXZSBlbXVsYXRlIG1vdXNlIGNhcHR1cmUgYnkgaGFuZ2luZyBsaXN0ZW5lcnMgb24gdGhlIGRvY3VtZW50IG9iamVjdC5cbiAgICAgICAgICAgICAgICAvLyAgICAoTm90ZSB3ZSBsaXN0ZW4gb24gdGhlIGNhcHR1cmUgcGhhc2Ugc28gdGhlIGNhcHR1cmVkIGhhbmRsZXJzIHdpbGwgZ2V0IGNhbGxlZCBmaXJzdClcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgICAgICBpZiAoaXNJbklmcmFtZSAmJiBjYW5BY2Nlc3NFdmVudHMod2luZG93LnRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5hZGRFdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy51cE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy51cEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQuYWRkRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICQuTW91c2VUcmFja2VyLmNhcHR1cmVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy51cE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGFyYW1zLnVwSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJC5hZGRFdmVudChcbiAgICAgICAgICAgICAgICAgICAgJC5Nb3VzZVRyYWNrZXIuY2FwdHVyZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGFyYW1zLm1vdmVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy5tb3ZlSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFN0b3AgY2FwdHVyaW5nIHBvaW50ZXIgZXZlbnRzIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWxlYXNlUG9pbnRlciggdHJhY2tlciwgcG9pbnRlclR5cGUsIHBvaW50ZXJDb3VudCApIHtcbiAgICAgICAgdmFyIHBvaW50c0xpc3QgPSB0cmFja2VyLmdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZSggcG9pbnRlclR5cGUgKSxcbiAgICAgICAgICAgIGV2ZW50UGFyYW1zO1xuXG4gICAgICAgIHBvaW50c0xpc3QuY2FwdHVyZUNvdW50IC09IChwb2ludGVyQ291bnQgfHwgMSk7XG5cbiAgICAgICAgaWYgKCBwb2ludHNMaXN0LmNhcHR1cmVDb3VudCA9PT0gMCApIHtcbiAgICAgICAgICAgIGlmICggJC5Ccm93c2VyLnZlbmRvciA9PT0gJC5CUk9XU0VSUy5JRSAmJiAkLkJyb3dzZXIudmVyc2lvbiA8IDkgKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tlci5lbGVtZW50LnJlbGVhc2VDYXB0dXJlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV2ZW50UGFyYW1zID0gZ2V0Q2FwdHVyZUV2ZW50UGFyYW1zKCB0cmFja2VyLCAkLk1vdXNlVHJhY2tlci5oYXZlUG9pbnRlckV2ZW50cyA/ICdwb2ludGVyZXZlbnQnIDogcG9pbnRlclR5cGUgKTtcbiAgICAgICAgICAgICAgICAvLyBXZSBlbXVsYXRlIG1vdXNlIGNhcHR1cmUgYnkgaGFuZ2luZyBsaXN0ZW5lcnMgb24gdGhlIGRvY3VtZW50IG9iamVjdC5cbiAgICAgICAgICAgICAgICAvLyAgICAoTm90ZSB3ZSBsaXN0ZW4gb24gdGhlIGNhcHR1cmUgcGhhc2Ugc28gdGhlIGNhcHR1cmVkIGhhbmRsZXJzIHdpbGwgZ2V0IGNhbGxlZCBmaXJzdClcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgICAgICAgICBpZiAoaXNJbklmcmFtZSAmJiBjYW5BY2Nlc3NFdmVudHMod2luZG93LnRvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5yZW1vdmVFdmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy51cE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy51cEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQucmVtb3ZlRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICQuTW91c2VUcmFja2VyLmNhcHR1cmVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy5tb3ZlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRQYXJhbXMubW92ZUhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICQucmVtb3ZlRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICQuTW91c2VUcmFja2VyLmNhcHR1cmVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBldmVudFBhcmFtcy51cE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50UGFyYW1zLnVwSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBXM0MgUG9pbnRlciBFdmVudHMgbW9kZWwgY29tcGF0aWJsZSBwb2ludGVyIHR5cGUgc3RyaW5nIGZyb20gYSBET00gcG9pbnRlciBldmVudC5cbiAgICAgKiBJRTEwIHVzZWQgYSBsb25nIGludGVnZXIgdmFsdWUsIGJ1dCB0aGUgVzNDIHNwZWNpZmljYXRpb24gKGFuZCBJRTExKykgdXNlIGEgc3RyaW5nIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRQb2ludGVyVHlwZSggZXZlbnQgKSB7XG4gICAgICAgIHZhciBwb2ludGVyVHlwZVN0cjtcbiAgICAgICAgaWYgKCAkLk1vdXNlVHJhY2tlci51bnByZWZpeGVkUG9pbnRlckV2ZW50cyApIHtcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlU3RyID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJRTEwXG4gICAgICAgICAgICAvLyAgTVNQT0lOVEVSX1RZUEVfVE9VQ0g6IDB4MDAwMDAwMDJcbiAgICAgICAgICAgIC8vICBNU1BPSU5URVJfVFlQRV9QRU46ICAgMHgwMDAwMDAwM1xuICAgICAgICAgICAgLy8gIE1TUE9JTlRFUl9UWVBFX01PVVNFOiAweDAwMDAwMDA0XG4gICAgICAgICAgICBzd2l0Y2goIGV2ZW50LnBvaW50ZXJUeXBlIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDAwMDAwMDI6XG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlU3RyID0gJ3RvdWNoJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAweDAwMDAwMDAzOlxuICAgICAgICAgICAgICAgICAgICBwb2ludGVyVHlwZVN0ciA9ICdwZW4nO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDB4MDAwMDAwMDQ6XG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlU3RyID0gJ21vdXNlJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGVTdHIgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRlclR5cGVTdHI7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50ICkge1xuICAgICAgICByZXR1cm4gJC5nZXRNb3VzZVBvc2l0aW9uKCBldmVudCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TW91c2VSZWxhdGl2ZSggZXZlbnQsIGVsZW1lbnQgKSB7XG4gICAgICAgIHJldHVybiBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggZ2V0TW91c2VBYnNvbHV0ZSggZXZlbnQgKSwgZWxlbWVudCApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UG9pbnRSZWxhdGl2ZVRvQWJzb2x1dGUoIHBvaW50LCBlbGVtZW50ICkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gJC5nZXRFbGVtZW50T2Zmc2V0KCBlbGVtZW50ICk7XG4gICAgICAgIHJldHVybiBwb2ludC5taW51cyggb2Zmc2V0ICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRDZW50ZXJQb2ludCggcG9pbnQxLCBwb2ludDIgKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCggKCBwb2ludDEueCArIHBvaW50Mi54ICkgLyAyLCAoIHBvaW50MS55ICsgcG9pbnQyLnkgKSAvIDIgKTtcbiAgICB9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGV2aWNlLXNwZWNpZmljIERPTSBldmVudCBoYW5kbGVyc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbkNsaWNrKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgaWYgKCB0cmFja2VyLmNsaWNrSGFuZGxlciApIHtcbiAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25EYmxDbGljayggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGlmICggdHJhY2tlci5kYmxDbGlja0hhbmRsZXIgKSB7XG4gICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93biggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIC8vJC5jb25zb2xlLmxvZyggXCJrZXlkb3duICVzICVzICVzICVzICVzXCIsIGV2ZW50LmtleUNvZGUsIGV2ZW50LmNoYXJDb2RlLCBldmVudC5jdHJsS2V5LCBldmVudC5zaGlmdEtleSwgZXZlbnQuYWx0S2V5ICk7XG4gICAgICAgIHZhciBwcm9wYWdhdGU7XG4gICAgICAgIGlmICggdHJhY2tlci5rZXlEb3duSGFuZGxlciApIHtcbiAgICAgICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIua2V5RG93bkhhbmRsZXIoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZTogICAgICAgICAgICAgIGV2ZW50LmtleUNvZGUgPyBldmVudC5rZXlDb2RlIDogZXZlbnQuY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGN0cmw6ICAgICAgICAgICAgICAgICBldmVudC5jdHJsS2V5LFxuICAgICAgICAgICAgICAgICAgICBzaGlmdDogICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgICAgIGFsdDogICAgICAgICAgICAgICAgICBldmVudC5hbHRLZXksXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6ICAgICAgICAgICAgICAgICBldmVudC5tZXRhS2V5LFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCAhcHJvcGFnYXRlICkge1xuICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25LZXlVcCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIC8vJC5jb25zb2xlLmxvZyggXCJrZXl1cCAlcyAlcyAlcyAlcyAlc1wiLCBldmVudC5rZXlDb2RlLCBldmVudC5jaGFyQ29kZSwgZXZlbnQuY3RybEtleSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50LmFsdEtleSApO1xuICAgICAgICB2YXIgcHJvcGFnYXRlO1xuICAgICAgICBpZiAoIHRyYWNrZXIua2V5VXBIYW5kbGVyICkge1xuICAgICAgICAgICAgZXZlbnQgPSAkLmdldEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5rZXlVcEhhbmRsZXIoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAga2V5Q29kZTogICAgICAgICAgICAgIGV2ZW50LmtleUNvZGUgPyBldmVudC5rZXlDb2RlIDogZXZlbnQuY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGN0cmw6ICAgICAgICAgICAgICAgICBldmVudC5jdHJsS2V5LFxuICAgICAgICAgICAgICAgICAgICBzaGlmdDogICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgICAgIGFsdDogICAgICAgICAgICAgICAgICBldmVudC5hbHRLZXksXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6ICAgICAgICAgICAgICAgICBldmVudC5tZXRhS2V5LFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCAhcHJvcGFnYXRlICkge1xuICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25LZXlQcmVzcyggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIC8vJC5jb25zb2xlLmxvZyggXCJrZXlwcmVzcyAlcyAlcyAlcyAlcyAlc1wiLCBldmVudC5rZXlDb2RlLCBldmVudC5jaGFyQ29kZSwgZXZlbnQuY3RybEtleSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50LmFsdEtleSApO1xuICAgICAgICB2YXIgcHJvcGFnYXRlO1xuICAgICAgICBpZiAoIHRyYWNrZXIua2V5SGFuZGxlciApIHtcbiAgICAgICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIua2V5SGFuZGxlcihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICBrZXlDb2RlOiAgICAgICAgICAgICAgZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC5jaGFyQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgY3RybDogICAgICAgICAgICAgICAgIGV2ZW50LmN0cmxLZXksXG4gICAgICAgICAgICAgICAgICAgIHNoaWZ0OiAgICAgICAgICAgICAgICBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgICAgICAgICAgYWx0OiAgICAgICAgICAgICAgICAgIGV2ZW50LmFsdEtleSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogICAgICAgICAgICAgICAgIGV2ZW50Lm1ldGFLZXksXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YTogICAgICAgICAgICAgdHJhY2tlci51c2VyRGF0YVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoICFwcm9wYWdhdGUgKSB7XG4gICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbkZvY3VzKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyggXCJmb2N1cyAlc1wiLCBldmVudCApO1xuICAgICAgICB2YXIgcHJvcGFnYXRlO1xuICAgICAgICBpZiAoIHRyYWNrZXIuZm9jdXNIYW5kbGVyICkge1xuICAgICAgICAgICAgZXZlbnQgPSAkLmdldEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5mb2N1c0hhbmRsZXIoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICggcHJvcGFnYXRlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uQmx1ciggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coIFwiYmx1ciAlc1wiLCBldmVudCApO1xuICAgICAgICB2YXIgcHJvcGFnYXRlO1xuICAgICAgICBpZiAoIHRyYWNrZXIuYmx1ckhhbmRsZXIgKSB7XG4gICAgICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICBwcm9wYWdhdGUgPSB0cmFja2VyLmJsdXJIYW5kbGVyKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U6ICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YTogICAgICAgICAgICAgdHJhY2tlci51c2VyRGF0YVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIHByb3BhZ2F0ZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgJ3doZWVsJyBldmVudHNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25XaGVlbCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGhhbmRsZVdoZWVsRXZlbnQoIHRyYWNrZXIsIGV2ZW50LCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgJ21vdXNld2hlZWwnLCAnRE9NTW91c2VTY3JvbGwnLCBhbmQgJ01vek1vdXNlUGl4ZWxTY3JvbGwnIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbk1vdXNlV2hlZWwoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG5cbiAgICAgICAgLy8gU2ltdWxhdGUgYSAnd2hlZWwnIGV2ZW50XG4gICAgICAgIHZhciBzaW11bGF0ZWRFdmVudCA9IHtcbiAgICAgICAgICAgIHRhcmdldDogICAgIGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50LFxuICAgICAgICAgICAgdHlwZTogICAgICAgXCJ3aGVlbFwiLFxuICAgICAgICAgICAgc2hpZnRLZXk6ICAgZXZlbnQuc2hpZnRLZXkgfHwgZmFsc2UsXG4gICAgICAgICAgICBjbGllbnRYOiAgICBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgY2xpZW50WTogICAgZXZlbnQuY2xpZW50WSxcbiAgICAgICAgICAgIHBhZ2VYOiAgICAgIGV2ZW50LnBhZ2VYID8gZXZlbnQucGFnZVggOiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgcGFnZVk6ICAgICAgZXZlbnQucGFnZVkgPyBldmVudC5wYWdlWSA6IGV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICBkZWx0YU1vZGU6ICBldmVudC50eXBlID09IFwiTW96TW91c2VQaXhlbFNjcm9sbFwiID8gMCA6IDEsIC8vIDA9cGl4ZWwsIDE9bGluZSwgMj1wYWdlXG4gICAgICAgICAgICBkZWx0YVg6ICAgICAwLFxuICAgICAgICAgICAgZGVsdGFaOiAgICAgMFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBkZWx0YVlcbiAgICAgICAgaWYgKCAkLk1vdXNlVHJhY2tlci53aGVlbEV2ZW50TmFtZSA9PSBcIm1vdXNld2hlZWxcIiApIHtcbiAgICAgICAgICAgIHNpbXVsYXRlZEV2ZW50LmRlbHRhWSA9IC1ldmVudC53aGVlbERlbHRhIC8gJC5ERUZBVUxUX1NFVFRJTkdTLnBpeGVsc1BlcldoZWVsTGluZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpbXVsYXRlZEV2ZW50LmRlbHRhWSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGhhbmRsZVdoZWVsRXZlbnQoIHRyYWNrZXIsIHNpbXVsYXRlZEV2ZW50LCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyAnd2hlZWwnIGV2ZW50cy5cbiAgICAgKiBUaGUgZXZlbnQgbWF5IGJlIHNpbXVsYXRlZCBieSB0aGUgbGVnYWN5IG1vdXNlIHdoZWVsIGV2ZW50IGhhbmRsZXIgKG9uTW91c2VXaGVlbCgpKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlV2hlZWxFdmVudCggdHJhY2tlciwgZXZlbnQsIG9yaWdpbmFsRXZlbnQgKSB7XG4gICAgICAgIHZhciBuRGVsdGEgPSAwLFxuICAgICAgICAgICAgcHJvcGFnYXRlO1xuXG4gICAgICAgIC8vIFRoZSBuRGVsdGEgdmFyaWFibGUgaXMgZ2F0ZWQgdG8gcHJvdmlkZSBzbW9vdGggei1pbmRleCBzY3JvbGxpbmdcbiAgICAgICAgLy8gICBzaW5jZSB0aGUgbW91c2Ugd2hlZWwgYWxsb3dzIGZvciBzdWJzdGFudGlhbCBkZWx0YXMgbWVhbnQgZm9yIHJhcGlkXG4gICAgICAgIC8vICAgeS1pbmRleCBzY3JvbGxpbmcuXG4gICAgICAgIC8vIGV2ZW50LmRlbHRhTW9kZTogMD1waXhlbCwgMT1saW5lLCAyPXBhZ2VcbiAgICAgICAgLy8gVE9ETzogRGVsdGFzIGluIHBpeGVsIG1vZGUgc2hvdWxkIGJlIGFjY3VtdWxhdGVkIHRoZW4gYSBzY3JvbGwgdmFsdWUgY29tcHV0ZWQgYWZ0ZXIgJC5ERUZBVUxUX1NFVFRJTkdTLnBpeGVsc1BlcldoZWVsTGluZSB0aHJlc2hvbGQgcmVhY2hlZFxuICAgICAgICBuRGVsdGEgPSBldmVudC5kZWx0YVkgPCAwID8gMSA6IC0xO1xuXG4gICAgICAgIGlmICggdHJhY2tlci5zY3JvbGxIYW5kbGVyICkge1xuICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5zY3JvbGxIYW5kbGVyKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U6ICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICAnbW91c2UnLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogICAgICAgICAgICAgZ2V0TW91c2VSZWxhdGl2ZSggZXZlbnQsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6ICAgICAgICAgICAgICAgbkRlbHRhLFxuICAgICAgICAgICAgICAgICAgICBzaGlmdDogICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgIG9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BhcmVudENoaWxkKCBwYXJlbnQsIGNoaWxkIClcbiAgICB7XG4gICAgICAgaWYgKCBwYXJlbnQgPT09IGNoaWxkICkge1xuICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgfVxuICAgICAgIHdoaWxlICggY2hpbGQgJiYgY2hpbGQgIT09IHBhcmVudCApIHtcbiAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5wYXJlbnROb2RlO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gY2hpbGQgPT09IHBhcmVudDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE9ubHkgdXNlZCBvbiBJRSA4XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uTW91c2VFbnRlciggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcblxuICAgICAgICBoYW5kbGVNb3VzZUVudGVyKCB0cmFja2VyLCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbk1vdXNlT3ZlciggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcblxuICAgICAgICBpZiAoIGV2ZW50LmN1cnJlbnRUYXJnZXQgPT09IGV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgaXNQYXJlbnRDaGlsZCggZXZlbnQuY3VycmVudFRhcmdldCwgZXZlbnQucmVsYXRlZFRhcmdldCApICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaGFuZGxlTW91c2VFbnRlciggdHJhY2tlciwgZXZlbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VFbnRlciggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIHZhciBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogJC5Nb3VzZVRyYWNrZXIubW91c2VQb2ludGVySWQsXG4gICAgICAgICAgICB0eXBlOiAnbW91c2UnLFxuICAgICAgICAgICAgaXNQcmltYXJ5OiB0cnVlLFxuICAgICAgICAgICAgY3VycmVudFBvczogZ2V0TW91c2VBYnNvbHV0ZSggZXZlbnQgKSxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiAkLm5vdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgdXBkYXRlUG9pbnRlcnNFbnRlciggdHJhY2tlciwgZXZlbnQsIFsgZ1BvaW50IF0gKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIE9ubHkgdXNlZCBvbiBJRSA4XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uTW91c2VMZWF2ZSggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcblxuICAgICAgICBoYW5kbGVNb3VzZUV4aXQoIHRyYWNrZXIsIGV2ZW50ICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uTW91c2VPdXQoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG5cbiAgICAgICAgaWYgKCBldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGlzUGFyZW50Q2hpbGQoIGV2ZW50LmN1cnJlbnRUYXJnZXQsIGV2ZW50LnJlbGF0ZWRUYXJnZXQgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGhhbmRsZU1vdXNlRXhpdCggdHJhY2tlciwgZXZlbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VFeGl0KCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIGdQb2ludCA9IHtcbiAgICAgICAgICAgIGlkOiAkLk1vdXNlVHJhY2tlci5tb3VzZVBvaW50ZXJJZCxcbiAgICAgICAgICAgIHR5cGU6ICdtb3VzZScsXG4gICAgICAgICAgICBpc1ByaW1hcnk6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50UG9zOiBnZXRNb3VzZUFic29sdXRlKCBldmVudCApLFxuICAgICAgICAgICAgY3VycmVudFRpbWU6ICQubm93KClcbiAgICAgICAgfTtcblxuICAgICAgICB1cGRhdGVQb2ludGVyc0V4aXQoIHRyYWNrZXIsIGV2ZW50LCBbIGdQb2ludCBdICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgVzNDIERPTSBsZXZlbCAzIHN0YW5kYXJkIGJ1dHRvbiB2YWx1ZSBnaXZlbiBhbiBldmVudC5idXR0b24gcHJvcGVydHk6XG4gICAgICogICAtMSA9PSBub25lLCAwID09IHByaW1hcnkvbGVmdCwgMSA9PSBtaWRkbGUsIDIgPT0gc2Vjb25kYXJ5L3JpZ2h0LCAzID09IFgxL2JhY2ssIDQgPT0gWDIvZm9yd2FyZCwgNSA9PSBlcmFzZXIgKHBlbilcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFN0YW5kYXJkaXplZEJ1dHRvbiggYnV0dG9uICkge1xuICAgICAgICBpZiAoICQuQnJvd3Nlci52ZW5kb3IgPT09ICQuQlJPV1NFUlMuSUUgJiYgJC5Ccm93c2VyLnZlcnNpb24gPCA5ICkge1xuICAgICAgICAgICAgLy8gT24gSUUgOCwgMCA9PSBub25lLCAxID09IGxlZnQsIDIgPT0gcmlnaHQsIDMgPT0gbGVmdCBhbmQgcmlnaHQsIDQgPT0gbWlkZGxlLCA1ID09IGxlZnQgYW5kIG1pZGRsZSwgNiA9PSByaWdodCBhbmQgbWlkZGxlLCA3ID09IGFsbCB0aHJlZVxuICAgICAgICAgICAgLy8gVE9ETzogU3VwcG9ydCBjaG9yZGVkIChtdWx0aXBsZSkgYnV0dG9uIHByZXNzZXMgb24gSUUgOD9cbiAgICAgICAgICAgIGlmICggYnV0dG9uID09PSAxICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uID09PSAyICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uID09PSA0ICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIGdQb2ludDtcblxuICAgICAgICBldmVudCA9ICQuZ2V0RXZlbnQoIGV2ZW50ICk7XG5cbiAgICAgICAgZ1BvaW50ID0ge1xuICAgICAgICAgICAgaWQ6ICQuTW91c2VUcmFja2VyLm1vdXNlUG9pbnRlcklkLFxuICAgICAgICAgICAgdHlwZTogJ21vdXNlJyxcbiAgICAgICAgICAgIGlzUHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICAgIGN1cnJlbnRQb3M6IGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50ICksXG4gICAgICAgICAgICBjdXJyZW50VGltZTogJC5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICggdXBkYXRlUG9pbnRlcnNEb3duKCB0cmFja2VyLCBldmVudCwgWyBnUG9pbnQgXSwgZ2V0U3RhbmRhcmRpemVkQnV0dG9uKCBldmVudC5idXR0b24gKSApICkge1xuICAgICAgICAgICAgJC5zdG9wRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICBjYXB0dXJlUG9pbnRlciggdHJhY2tlciwgJ21vdXNlJyApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0cmFja2VyLmNsaWNrSGFuZGxlciB8fCB0cmFja2VyLmRibENsaWNrSGFuZGxlciB8fCB0cmFja2VyLnByZXNzSGFuZGxlciB8fCB0cmFja2VyLmRyYWdIYW5kbGVyIHx8IHRyYWNrZXIuZHJhZ0VuZEhhbmRsZXIgKSB7XG4gICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uTW91c2VVcCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGhhbmRsZU1vdXNlVXAoIHRyYWNrZXIsIGV2ZW50ICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYW5kbGVyIGlzIGF0dGFjaGVkIHRvIHRoZSB3aW5kb3cgb2JqZWN0IChvbiB0aGUgY2FwdHVyZSBwaGFzZSkgdG8gZW11bGF0ZSBtb3VzZSBjYXB0dXJlLlxuICAgICAqIG9uTW91c2VVcCBpcyBzdGlsbCBhdHRhY2hlZCB0byB0aGUgdHJhY2tlZCBlbGVtZW50LCBzbyBzdG9wIHByb3BhZ2F0aW9uIHRvIGF2b2lkIHByb2Nlc3NpbmcgdHdpY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uTW91c2VVcENhcHR1cmVkKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgaGFuZGxlTW91c2VVcCggdHJhY2tlciwgZXZlbnQgKTtcbiAgICAgICAgJC5zdG9wRXZlbnQoIGV2ZW50ICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICB2YXIgZ1BvaW50O1xuXG4gICAgICAgIGV2ZW50ID0gJC5nZXRFdmVudCggZXZlbnQgKTtcblxuICAgICAgICBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogJC5Nb3VzZVRyYWNrZXIubW91c2VQb2ludGVySWQsXG4gICAgICAgICAgICB0eXBlOiAnbW91c2UnLFxuICAgICAgICAgICAgaXNQcmltYXJ5OiB0cnVlLFxuICAgICAgICAgICAgY3VycmVudFBvczogZ2V0TW91c2VBYnNvbHV0ZSggZXZlbnQgKSxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiAkLm5vdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCB1cGRhdGVQb2ludGVyc1VwKCB0cmFja2VyLCBldmVudCwgWyBnUG9pbnQgXSwgZ2V0U3RhbmRhcmRpemVkQnV0dG9uKCBldmVudC5idXR0b24gKSApICkge1xuICAgICAgICAgICAgcmVsZWFzZVBvaW50ZXIoIHRyYWNrZXIsICdtb3VzZScgKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZSggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGhhbmRsZU1vdXNlTW92ZSggdHJhY2tlciwgZXZlbnQgKTtcbiAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYW5kbGVyIGlzIGF0dGFjaGVkIHRvIHRoZSB3aW5kb3cgb2JqZWN0IChvbiB0aGUgY2FwdHVyZSBwaGFzZSkgdG8gZW11bGF0ZSBtb3VzZSBjYXB0dXJlLlxuICAgICAqIG9uTW91c2VNb3ZlIGlzIHN0aWxsIGF0dGFjaGVkIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQsIHNvIHN0b3AgcHJvcGFnYXRpb24gdG8gYXZvaWQgcHJvY2Vzc2luZyB0d2ljZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25Nb3VzZU1vdmVDYXB0dXJlZCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGhhbmRsZU1vdXNlTW92ZSggdHJhY2tlciwgZXZlbnQgKTtcbiAgICAgICAgJC5zdG9wRXZlbnQoIGV2ZW50ICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZSggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIHZhciBnUG9pbnQ7XG5cbiAgICAgICAgZXZlbnQgPSAkLmdldEV2ZW50KCBldmVudCApO1xuXG4gICAgICAgIGdQb2ludCA9IHtcbiAgICAgICAgICAgIGlkOiAkLk1vdXNlVHJhY2tlci5tb3VzZVBvaW50ZXJJZCxcbiAgICAgICAgICAgIHR5cGU6ICdtb3VzZScsXG4gICAgICAgICAgICBpc1ByaW1hcnk6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50UG9zOiBnZXRNb3VzZUFic29sdXRlKCBldmVudCApLFxuICAgICAgICAgICAgY3VycmVudFRpbWU6ICQubm93KClcbiAgICAgICAgfTtcblxuICAgICAgICB1cGRhdGVQb2ludGVyc01vdmUoIHRyYWNrZXIsIGV2ZW50LCBbIGdQb2ludCBdICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFib3J0Q29udGFjdHMoIHRyYWNrZXIsIGV2ZW50LCBwb2ludHNMaXN0ICkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIGdQb2ludENvdW50ID0gcG9pbnRzTGlzdC5nZXRMZW5ndGgoKSxcbiAgICAgICAgICAgIGFib3J0R1BvaW50cyA9IFtdO1xuXG4gICAgICAgIC8vIENoZWNrIGNvbnRhY3QgY291bnQgZm9yIGhvdmVyYWJsZSBwb2ludGVyIHR5cGVzIGJlZm9yZSBhYm9ydGluZ1xuICAgICAgICBpZiAocG9pbnRzTGlzdC50eXBlID09PSAndG91Y2gnIHx8IHBvaW50c0xpc3QuY29udGFjdHMgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGdQb2ludENvdW50OyBpKysgKSB7XG4gICAgICAgICAgICAgICAgYWJvcnRHUG9pbnRzLnB1c2goIHBvaW50c0xpc3QuZ2V0QnlJbmRleCggaSApICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggYWJvcnRHUG9pbnRzLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgLy8gc2ltdWxhdGUgdG91Y2hlbmQvbW91c2V1cFxuICAgICAgICAgICAgICAgIHVwZGF0ZVBvaW50ZXJzVXAoIHRyYWNrZXIsIGV2ZW50LCBhYm9ydEdQb2ludHMsIDAgKTsgLy8gMCBtZWFucyBwcmltYXJ5IGJ1dHRvbiBwcmVzcy9yZWxlYXNlIG9yIHRvdWNoIGNvbnRhY3RcbiAgICAgICAgICAgICAgICAvLyByZWxlYXNlIHBvaW50ZXIgY2FwdHVyZVxuICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuY2FwdHVyZUNvdW50ID0gMTtcbiAgICAgICAgICAgICAgICByZWxlYXNlUG9pbnRlciggdHJhY2tlciwgcG9pbnRzTGlzdC50eXBlICk7XG4gICAgICAgICAgICAgICAgLy8gc2ltdWxhdGUgdG91Y2hsZWF2ZS9tb3VzZW91dFxuICAgICAgICAgICAgICAgIHVwZGF0ZVBvaW50ZXJzRXhpdCggdHJhY2tlciwgZXZlbnQsIGFib3J0R1BvaW50cyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uVG91Y2hTdGFydCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIHZhciB0aW1lLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICB0b3VjaENvdW50ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoLFxuICAgICAgICAgICAgZ1BvaW50cyA9IFtdLFxuICAgICAgICAgICAgcGFyZW50R1BvaW50cyxcbiAgICAgICAgICAgIHBvaW50c0xpc3QgPSB0cmFja2VyLmdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZSggJ3RvdWNoJyApO1xuXG4gICAgICAgIHRpbWUgPSAkLm5vdygpO1xuXG4gICAgICAgIGlmICggcG9pbnRzTGlzdC5nZXRMZW5ndGgoKSA+IGV2ZW50LnRvdWNoZXMubGVuZ3RoIC0gdG91Y2hDb3VudCApIHtcbiAgICAgICAgICAgICQuY29uc29sZS53YXJuKCdUcmFja2VkIHRvdWNoIGNvbnRhY3QgY291bnQgZG9lc25cXCd0IG1hdGNoIGV2ZW50LnRvdWNoZXMubGVuZ3RoLiBSZW1vdmluZyBhbGwgdHJhY2tlZCB0b3VjaCBwb2ludGVycy4nKTtcbiAgICAgICAgICAgIGFib3J0Q29udGFjdHMoIHRyYWNrZXIsIGV2ZW50LCBwb2ludHNMaXN0ICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IHRvdWNoQ291bnQ7IGkrKyApIHtcbiAgICAgICAgICAgIGdQb2ludHMucHVzaCgge1xuICAgICAgICAgICAgICAgIGlkOiBldmVudC5jaGFuZ2VkVG91Y2hlc1sgaSBdLmlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAvLyBpc1ByaW1hcnkgbm90IHNldCAtIGxldCB0aGUgdXBkYXRlUG9pbnRlcnMgZnVuY3Rpb25zIGRldGVybWluZSBpdFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3M6IGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50LmNoYW5nZWRUb3VjaGVzWyBpIF0gKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogdGltZVxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltdWxhdGUgdG91Y2hlbnRlciBvbiBvdXIgdHJhY2tlZCBlbGVtZW50XG4gICAgICAgIHVwZGF0ZVBvaW50ZXJzRW50ZXIoIHRyYWNrZXIsIGV2ZW50LCBnUG9pbnRzICk7XG5cbiAgICAgICAgLy8gc2ltdWxhdGUgdG91Y2hlbnRlciBvbiBvdXIgdHJhY2tlZCBlbGVtZW50J3MgdHJhY2tlZCBhbmNlc3RvciBlbGVtZW50c1xuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IE1PVVNFVFJBQ0tFUlMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBpZiAoIE1PVVNFVFJBQ0tFUlNbIGkgXSAhPT0gdHJhY2tlciAmJiBNT1VTRVRSQUNLRVJTWyBpIF0uaXNUcmFja2luZygpICYmIGlzUGFyZW50Q2hpbGQoIE1PVVNFVFJBQ0tFUlNbIGkgXS5lbGVtZW50LCB0cmFja2VyLmVsZW1lbnQgKSApIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRHUG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICggaiA9IDA7IGogPCB0b3VjaENvdW50OyBqKysgKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEdQb2ludHMucHVzaCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyBqIF0uaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0b3VjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpc1ByaW1hcnkgbm90IHNldCAtIGxldCB0aGUgdXBkYXRlUG9pbnRlcnMgZnVuY3Rpb25zIGRldGVybWluZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBvczogZ2V0TW91c2VBYnNvbHV0ZSggZXZlbnQuY2hhbmdlZFRvdWNoZXNbIGogXSApLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpbWU6IHRpbWVcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1cGRhdGVQb2ludGVyc0VudGVyKCBNT1VTRVRSQUNLRVJTWyBpIF0sIGV2ZW50LCBwYXJlbnRHUG9pbnRzICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHVwZGF0ZVBvaW50ZXJzRG93biggdHJhY2tlciwgZXZlbnQsIGdQb2ludHMsIDAgKSApIHsgLy8gMCBtZWFucyBwcmltYXJ5IGJ1dHRvbiBwcmVzcy9yZWxlYXNlIG9yIHRvdWNoIGNvbnRhY3RcbiAgICAgICAgICAgICQuc3RvcEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgY2FwdHVyZVBvaW50ZXIoIHRyYWNrZXIsICd0b3VjaCcsIHRvdWNoQ291bnQgKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uVG91Y2hFbmQoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICBoYW5kbGVUb3VjaEVuZCggdHJhY2tlciwgZXZlbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgaGFuZGxlciBpcyBhdHRhY2hlZCB0byB0aGUgd2luZG93IG9iamVjdCAob24gdGhlIGNhcHR1cmUgcGhhc2UpIHRvIGVtdWxhdGUgcG9pbnRlciBjYXB0dXJlLlxuICAgICAqIG9uVG91Y2hFbmQgaXMgc3RpbGwgYXR0YWNoZWQgdG8gdGhlIHRyYWNrZWQgZWxlbWVudCwgc28gc3RvcCBwcm9wYWdhdGlvbiB0byBhdm9pZCBwcm9jZXNzaW5nIHR3aWNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblRvdWNoRW5kQ2FwdHVyZWQoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICBoYW5kbGVUb3VjaEVuZCggdHJhY2tlciwgZXZlbnQgKTtcbiAgICAgICAgJC5zdG9wRXZlbnQoIGV2ZW50ICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIHRpbWUsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIHRvdWNoQ291bnQgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgsXG4gICAgICAgICAgICBnUG9pbnRzID0gW10sXG4gICAgICAgICAgICBwYXJlbnRHUG9pbnRzO1xuXG4gICAgICAgIHRpbWUgPSAkLm5vdygpO1xuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgdG91Y2hDb3VudDsgaSsrICkge1xuICAgICAgICAgICAgZ1BvaW50cy5wdXNoKCB7XG4gICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmNoYW5nZWRUb3VjaGVzWyBpIF0uaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICB0eXBlOiAndG91Y2gnLFxuICAgICAgICAgICAgICAgIC8vIGlzUHJpbWFyeSBub3Qgc2V0IC0gbGV0IHRoZSB1cGRhdGVQb2ludGVycyBmdW5jdGlvbnMgZGV0ZXJtaW5lIGl0XG4gICAgICAgICAgICAgICAgY3VycmVudFBvczogZ2V0TW91c2VBYnNvbHV0ZSggZXZlbnQuY2hhbmdlZFRvdWNoZXNbIGkgXSApLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lOiB0aW1lXG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHVwZGF0ZVBvaW50ZXJzVXAoIHRyYWNrZXIsIGV2ZW50LCBnUG9pbnRzLCAwICkgKSB7XG4gICAgICAgICAgICByZWxlYXNlUG9pbnRlciggdHJhY2tlciwgJ3RvdWNoJywgdG91Y2hDb3VudCApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltdWxhdGUgdG91Y2hsZWF2ZSBvbiBvdXIgdHJhY2tlZCBlbGVtZW50XG4gICAgICAgIHVwZGF0ZVBvaW50ZXJzRXhpdCggdHJhY2tlciwgZXZlbnQsIGdQb2ludHMgKTtcblxuICAgICAgICAvLyBzaW11bGF0ZSB0b3VjaGxlYXZlIG9uIG91ciB0cmFja2VkIGVsZW1lbnQncyB0cmFja2VkIGFuY2VzdG9yIGVsZW1lbnRzXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgTU9VU0VUUkFDS0VSUy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIGlmICggTU9VU0VUUkFDS0VSU1sgaSBdICE9PSB0cmFja2VyICYmIE1PVVNFVFJBQ0tFUlNbIGkgXS5pc1RyYWNraW5nKCkgJiYgaXNQYXJlbnRDaGlsZCggTU9VU0VUUkFDS0VSU1sgaSBdLmVsZW1lbnQsIHRyYWNrZXIuZWxlbWVudCApICkge1xuICAgICAgICAgICAgICAgIHBhcmVudEdQb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKCBqID0gMDsgaiA8IHRvdWNoQ291bnQ7IGorKyApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50R1BvaW50cy5wdXNoKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZXZlbnQuY2hhbmdlZFRvdWNoZXNbIGogXS5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzUHJpbWFyeSBub3Qgc2V0IC0gbGV0IHRoZSB1cGRhdGVQb2ludGVycyBmdW5jdGlvbnMgZGV0ZXJtaW5lIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UG9zOiBnZXRNb3VzZUFic29sdXRlKCBldmVudC5jaGFuZ2VkVG91Y2hlc1sgaiBdICksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZTogdGltZVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZVBvaW50ZXJzRXhpdCggTU9VU0VUUkFDS0VSU1sgaSBdLCBldmVudCwgcGFyZW50R1BvaW50cyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25Ub3VjaE1vdmUoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICBoYW5kbGVUb3VjaE1vdmUoIHRyYWNrZXIsIGV2ZW50ICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGhhbmRsZXIgaXMgYXR0YWNoZWQgdG8gdGhlIHdpbmRvdyBvYmplY3QgKG9uIHRoZSBjYXB0dXJlIHBoYXNlKSB0byBlbXVsYXRlIHBvaW50ZXIgY2FwdHVyZS5cbiAgICAgKiBvblRvdWNoTW92ZSBpcyBzdGlsbCBhdHRhY2hlZCB0byB0aGUgdHJhY2tlZCBlbGVtZW50LCBzbyBzdG9wIHByb3BhZ2F0aW9uIHRvIGF2b2lkIHByb2Nlc3NpbmcgdHdpY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlQ2FwdHVyZWQoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICBoYW5kbGVUb3VjaE1vdmUoIHRyYWNrZXIsIGV2ZW50ICk7XG4gICAgICAgICQuc3RvcEV2ZW50KCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHRvdWNoQ291bnQgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgsXG4gICAgICAgICAgICBnUG9pbnRzID0gW107XG5cbiAgICAgICAgZm9yICggaSA9IDA7IGkgPCB0b3VjaENvdW50OyBpKysgKSB7XG4gICAgICAgICAgICBnUG9pbnRzLnB1c2goIHtcbiAgICAgICAgICAgICAgICBpZDogZXZlbnQuY2hhbmdlZFRvdWNoZXNbIGkgXS5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd0b3VjaCcsXG4gICAgICAgICAgICAgICAgLy8gaXNQcmltYXJ5IG5vdCBzZXQgLSBsZXQgdGhlIHVwZGF0ZVBvaW50ZXJzIGZ1bmN0aW9ucyBkZXRlcm1pbmUgaXRcbiAgICAgICAgICAgICAgICBjdXJyZW50UG9zOiBnZXRNb3VzZUFic29sdXRlKCBldmVudC5jaGFuZ2VkVG91Y2hlc1sgaSBdICksXG4gICAgICAgICAgICAgICAgY3VycmVudFRpbWU6ICQubm93KClcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZVBvaW50ZXJzTW92ZSggdHJhY2tlciwgZXZlbnQsIGdQb2ludHMgKTtcblxuICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblRvdWNoQ2FuY2VsKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIHBvaW50c0xpc3QgPSB0cmFja2VyLmdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZSgndG91Y2gnKTtcblxuICAgICAgICBhYm9ydENvbnRhY3RzKCB0cmFja2VyLCBldmVudCwgcG9pbnRzTGlzdCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbkdlc3R1cmVTdGFydCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uR2VzdHVyZUNoYW5nZSggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uUG9pbnRlck92ZXIoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICB2YXIgZ1BvaW50O1xuXG4gICAgICAgIGlmICggZXZlbnQuY3VycmVudFRhcmdldCA9PT0gZXZlbnQucmVsYXRlZFRhcmdldCB8fCBpc1BhcmVudENoaWxkKCBldmVudC5jdXJyZW50VGFyZ2V0LCBldmVudC5yZWxhdGVkVGFyZ2V0ICkgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogZXZlbnQucG9pbnRlcklkLFxuICAgICAgICAgICAgdHlwZTogZ2V0UG9pbnRlclR5cGUoIGV2ZW50ICksXG4gICAgICAgICAgICBpc1ByaW1hcnk6IGV2ZW50LmlzUHJpbWFyeSxcbiAgICAgICAgICAgIGN1cnJlbnRQb3M6IGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50ICksXG4gICAgICAgICAgICBjdXJyZW50VGltZTogJC5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIHVwZGF0ZVBvaW50ZXJzRW50ZXIoIHRyYWNrZXIsIGV2ZW50LCBbIGdQb2ludCBdICk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uUG9pbnRlck91dCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIHZhciBnUG9pbnQ7XG5cbiAgICAgICAgaWYgKCBldmVudC5jdXJyZW50VGFyZ2V0ID09PSBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGlzUGFyZW50Q2hpbGQoIGV2ZW50LmN1cnJlbnRUYXJnZXQsIGV2ZW50LnJlbGF0ZWRUYXJnZXQgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdQb2ludCA9IHtcbiAgICAgICAgICAgIGlkOiBldmVudC5wb2ludGVySWQsXG4gICAgICAgICAgICB0eXBlOiBnZXRQb2ludGVyVHlwZSggZXZlbnQgKSxcbiAgICAgICAgICAgIGlzUHJpbWFyeTogZXZlbnQuaXNQcmltYXJ5LFxuICAgICAgICAgICAgY3VycmVudFBvczogZ2V0TW91c2VBYnNvbHV0ZSggZXZlbnQgKSxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiAkLm5vdygpXG4gICAgICAgIH07XG5cbiAgICAgICAgdXBkYXRlUG9pbnRlcnNFeGl0KCB0cmFja2VyLCBldmVudCwgWyBnUG9pbnQgXSApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblBvaW50ZXJEb3duKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIGdQb2ludDtcblxuICAgICAgICBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogZXZlbnQucG9pbnRlcklkLFxuICAgICAgICAgICAgdHlwZTogZ2V0UG9pbnRlclR5cGUoIGV2ZW50ICksXG4gICAgICAgICAgICBpc1ByaW1hcnk6IGV2ZW50LmlzUHJpbWFyeSxcbiAgICAgICAgICAgIGN1cnJlbnRQb3M6IGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50ICksXG4gICAgICAgICAgICBjdXJyZW50VGltZTogJC5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICggdXBkYXRlUG9pbnRlcnNEb3duKCB0cmFja2VyLCBldmVudCwgWyBnUG9pbnQgXSwgZXZlbnQuYnV0dG9uICkgKSB7XG4gICAgICAgICAgICAkLnN0b3BFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgIGNhcHR1cmVQb2ludGVyKCB0cmFja2VyLCBnUG9pbnQudHlwZSApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0cmFja2VyLmNsaWNrSGFuZGxlciB8fCB0cmFja2VyLmRibENsaWNrSGFuZGxlciB8fCB0cmFja2VyLnByZXNzSGFuZGxlciB8fCB0cmFja2VyLmRyYWdIYW5kbGVyIHx8IHRyYWNrZXIuZHJhZ0VuZEhhbmRsZXIgfHwgdHJhY2tlci5waW5jaEhhbmRsZXIgKSB7XG4gICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uUG9pbnRlclVwKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgaGFuZGxlUG9pbnRlclVwKCB0cmFja2VyLCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYW5kbGVyIGlzIGF0dGFjaGVkIHRvIHRoZSB3aW5kb3cgb2JqZWN0IChvbiB0aGUgY2FwdHVyZSBwaGFzZSkgdG8gZW11bGF0ZSBtb3VzZSBjYXB0dXJlLlxuICAgICAqIG9uUG9pbnRlclVwIGlzIHN0aWxsIGF0dGFjaGVkIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQsIHNvIHN0b3AgcHJvcGFnYXRpb24gdG8gYXZvaWQgcHJvY2Vzc2luZyB0d2ljZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyVXBDYXB0dXJlZCggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIHZhciBwb2ludHNMaXN0ID0gdHJhY2tlci5nZXRBY3RpdmVQb2ludGVyc0xpc3RCeVR5cGUoIGdldFBvaW50ZXJUeXBlKCBldmVudCApICk7XG4gICAgICAgIGlmICggcG9pbnRzTGlzdC5nZXRCeUlkKCBldmVudC5wb2ludGVySWQgKSApIHtcbiAgICAgICAgICAgIGhhbmRsZVBvaW50ZXJVcCggdHJhY2tlciwgZXZlbnQgKTtcbiAgICAgICAgfVxuICAgICAgICAkLnN0b3BFdmVudCggZXZlbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlUG9pbnRlclVwKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIGdQb2ludDtcblxuICAgICAgICBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogZXZlbnQucG9pbnRlcklkLFxuICAgICAgICAgICAgdHlwZTogZ2V0UG9pbnRlclR5cGUoIGV2ZW50ICksXG4gICAgICAgICAgICBpc1ByaW1hcnk6IGV2ZW50LmlzUHJpbWFyeSxcbiAgICAgICAgICAgIGN1cnJlbnRQb3M6IGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50ICksXG4gICAgICAgICAgICBjdXJyZW50VGltZTogJC5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICggdXBkYXRlUG9pbnRlcnNVcCggdHJhY2tlciwgZXZlbnQsIFsgZ1BvaW50IF0sIGV2ZW50LmJ1dHRvbiApICkge1xuICAgICAgICAgICAgcmVsZWFzZVBvaW50ZXIoIHRyYWNrZXIsIGdQb2ludC50eXBlICk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyTW92ZSggdHJhY2tlciwgZXZlbnQgKSB7XG4gICAgICAgIGhhbmRsZVBvaW50ZXJNb3ZlKCB0cmFja2VyLCBldmVudCApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBoYW5kbGVyIGlzIGF0dGFjaGVkIHRvIHRoZSB3aW5kb3cgb2JqZWN0IChvbiB0aGUgY2FwdHVyZSBwaGFzZSkgdG8gZW11bGF0ZSBtb3VzZSBjYXB0dXJlLlxuICAgICAqIG9uUG9pbnRlck1vdmUgaXMgc3RpbGwgYXR0YWNoZWQgdG8gdGhlIHRyYWNrZWQgZWxlbWVudCwgc28gc3RvcCBwcm9wYWdhdGlvbiB0byBhdm9pZCBwcm9jZXNzaW5nIHR3aWNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlQ2FwdHVyZWQoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICB2YXIgcG9pbnRzTGlzdCA9IHRyYWNrZXIuZ2V0QWN0aXZlUG9pbnRlcnNMaXN0QnlUeXBlKCBnZXRQb2ludGVyVHlwZSggZXZlbnQgKSApO1xuICAgICAgICBpZiAoIHBvaW50c0xpc3QuZ2V0QnlJZCggZXZlbnQucG9pbnRlcklkICkgKSB7XG4gICAgICAgICAgICBoYW5kbGVQb2ludGVyTW92ZSggdHJhY2tlciwgZXZlbnQgKTtcbiAgICAgICAgfVxuICAgICAgICAkLnN0b3BFdmVudCggZXZlbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFuZGxlUG9pbnRlck1vdmUoIHRyYWNrZXIsIGV2ZW50ICkge1xuICAgICAgICAvLyBQb2ludGVyIGNoYW5nZWQgY29vcmRpbmF0ZXMsIGJ1dHRvbiBzdGF0ZSwgcHJlc3N1cmUsIHRpbHQsIG9yIGNvbnRhY3QgZ2VvbWV0cnkgKGUuZy4gd2lkdGggYW5kIGhlaWdodClcbiAgICAgICAgdmFyIGdQb2ludDtcblxuICAgICAgICBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogZXZlbnQucG9pbnRlcklkLFxuICAgICAgICAgICAgdHlwZTogZ2V0UG9pbnRlclR5cGUoIGV2ZW50ICksXG4gICAgICAgICAgICBpc1ByaW1hcnk6IGV2ZW50LmlzUHJpbWFyeSxcbiAgICAgICAgICAgIGN1cnJlbnRQb3M6IGdldE1vdXNlQWJzb2x1dGUoIGV2ZW50ICksXG4gICAgICAgICAgICBjdXJyZW50VGltZTogJC5ub3coKVxuICAgICAgICB9O1xuXG4gICAgICAgIHVwZGF0ZVBvaW50ZXJzTW92ZSggdHJhY2tlciwgZXZlbnQsIFsgZ1BvaW50IF0gKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsKCB0cmFja2VyLCBldmVudCApIHtcbiAgICAgICAgdmFyIGdQb2ludDtcblxuICAgICAgICBnUG9pbnQgPSB7XG4gICAgICAgICAgICBpZDogZXZlbnQucG9pbnRlcklkLFxuICAgICAgICAgICAgdHlwZTogZ2V0UG9pbnRlclR5cGUoIGV2ZW50IClcbiAgICAgICAgfTtcblxuICAgICAgICB1cGRhdGVQb2ludGVyc0NhbmNlbCggdHJhY2tlciwgZXZlbnQsIFsgZ1BvaW50IF0gKTtcbiAgICB9XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGV2aWNlLWFnbm9zdGljIERPTSBldmVudCBoYW5kbGVyc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludExpc3R9IHBvaW50c0xpc3RcbiAgICAgKiAgICAgVGhlIEdlc3R1cmVQb2ludExpc3QgdG8gdHJhY2sgdGhlIHBvaW50ZXIgaW4uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnR9IGdQb2ludFxuICAgICAqICAgICAgR2VzdHVyZSBwb2ludCB0byB0cmFjay5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBOdW1iZXIgb2YgZ2VzdHVyZSBwb2ludHMgaW4gcG9pbnRzTGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydFRyYWNraW5nUG9pbnRlciggcG9pbnRzTGlzdCwgZ1BvaW50ICkge1xuXG4gICAgICAgIC8vIElmIGlzUHJpbWFyeSBpcyBub3Qga25vd24gZm9yIHRoZSBwb2ludGVyIHRoZW4gc2V0IGl0IGFjY29yZGluZyB0byBvdXIgcnVsZXM6XG4gICAgICAgIC8vICAgIHRydWUgaWYgdGhlIGZpcnN0IHBvaW50ZXIgaW4gdGhlIGdlc3R1cmUsIG90aGVyd2lzZSBmYWxzZVxuICAgICAgICBpZiAoICFnUG9pbnQuaGFzT3duUHJvcGVydHkoICdpc1ByaW1hcnknICkgKSB7XG4gICAgICAgICAgICBpZiAoIHBvaW50c0xpc3QuZ2V0TGVuZ3RoKCkgPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgZ1BvaW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdQb2ludC5pc1ByaW1hcnkgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBnUG9pbnQuc3BlZWQgPSAwO1xuICAgICAgICBnUG9pbnQuZGlyZWN0aW9uID0gMDtcbiAgICAgICAgZ1BvaW50LmNvbnRhY3RQb3MgPSBnUG9pbnQuY3VycmVudFBvcztcbiAgICAgICAgZ1BvaW50LmNvbnRhY3RUaW1lID0gZ1BvaW50LmN1cnJlbnRUaW1lO1xuICAgICAgICBnUG9pbnQubGFzdFBvcyA9IGdQb2ludC5jdXJyZW50UG9zO1xuICAgICAgICBnUG9pbnQubGFzdFRpbWUgPSBnUG9pbnQuY3VycmVudFRpbWU7XG5cbiAgICAgICAgcmV0dXJuIHBvaW50c0xpc3QuYWRkKCBnUG9pbnQgKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnRMaXN0fSBwb2ludHNMaXN0XG4gICAgICogICAgIFRoZSBHZXN0dXJlUG9pbnRMaXN0IHRvIHN0b3AgdHJhY2tpbmcgdGhlIHBvaW50ZXIgb24uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnR9IGdQb2ludFxuICAgICAqICAgICAgR2VzdHVyZSBwb2ludCB0byBzdG9wIHRyYWNraW5nLlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IE51bWJlciBvZiBnZXN0dXJlIHBvaW50cyBpbiBwb2ludHNMaXN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0b3BUcmFja2luZ1BvaW50ZXIoIHBvaW50c0xpc3QsIGdQb2ludCApIHtcbiAgICAgICAgdmFyIGxpc3RMZW5ndGgsXG4gICAgICAgICAgICBwcmltYXJ5UG9pbnQ7XG5cbiAgICAgICAgaWYgKCBwb2ludHNMaXN0LmdldEJ5SWQoIGdQb2ludC5pZCApICkge1xuICAgICAgICAgICAgbGlzdExlbmd0aCA9IHBvaW50c0xpc3QucmVtb3ZlQnlJZCggZ1BvaW50LmlkICk7XG5cbiAgICAgICAgICAgIC8vIElmIGlzUHJpbWFyeSBpcyBub3Qga25vd24gZm9yIHRoZSBwb2ludGVyIGFuZCB3ZSBqdXN0IHJlbW92ZWQgdGhlIHByaW1hcnkgcG9pbnRlciBmcm9tIHRoZSBsaXN0IHRoZW4gd2UgbmVlZCB0byBzZXQgYW5vdGhlciBwb2ludGVyIGFzIHByaW1hcnlcbiAgICAgICAgICAgIGlmICggIWdQb2ludC5oYXNPd25Qcm9wZXJ0eSggJ2lzUHJpbWFyeScgKSApIHtcbiAgICAgICAgICAgICAgICBwcmltYXJ5UG9pbnQgPSBwb2ludHNMaXN0LmdldFByaW1hcnkoKTtcbiAgICAgICAgICAgICAgICBpZiAoICFwcmltYXJ5UG9pbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnlQb2ludCA9IHBvaW50c0xpc3QuZ2V0QnlJbmRleCggMCApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHByaW1hcnlQb2ludCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1hcnlQb2ludC5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlzdExlbmd0aCA9IHBvaW50c0xpc3QuZ2V0TGVuZ3RoKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbGlzdExlbmd0aDtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlclxuICAgICAqICAgICBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqICAgICBBIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYXRpbmcgRE9NIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludD59IGdQb2ludHNcbiAgICAgKiAgICAgIEdlc3R1cmUgcG9pbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlUG9pbnRlcnNFbnRlciggdHJhY2tlciwgZXZlbnQsIGdQb2ludHMgKSB7XG4gICAgICAgIHZhciBwb2ludHNMaXN0ID0gdHJhY2tlci5nZXRBY3RpdmVQb2ludGVyc0xpc3RCeVR5cGUoIGdQb2ludHNbIDAgXS50eXBlICksXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgZ1BvaW50Q291bnQgPSBnUG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1ckdQb2ludCxcbiAgICAgICAgICAgIHVwZGF0ZUdQb2ludCxcbiAgICAgICAgICAgIHByb3BhZ2F0ZTtcblxuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGdQb2ludENvdW50OyBpKysgKSB7XG4gICAgICAgICAgICBjdXJHUG9pbnQgPSBnUG9pbnRzWyBpIF07XG4gICAgICAgICAgICB1cGRhdGVHUG9pbnQgPSBwb2ludHNMaXN0LmdldEJ5SWQoIGN1ckdQb2ludC5pZCApO1xuXG4gICAgICAgICAgICBpZiAoIHVwZGF0ZUdQb2ludCApIHtcbiAgICAgICAgICAgICAgICAvLyBBbHJlYWR5IHRyYWNraW5nIHRoZSBwb2ludGVyLi4udXBkYXRlIGl0XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50Lmluc2lkZUVsZW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5sYXN0UG9zID0gdXBkYXRlR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50Lmxhc3RUaW1lID0gdXBkYXRlR1BvaW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5jdXJyZW50UG9zID0gY3VyR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50LmN1cnJlbnRUaW1lID0gY3VyR1BvaW50LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgICAgICAgICAgY3VyR1BvaW50ID0gdXBkYXRlR1BvaW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIGZvciB0cmFja2luZyBhbmQgYWRkIHRvIHRoZSB0cmFja2luZyBsaXN0XG4gICAgICAgICAgICAgICAgY3VyR1BvaW50LmNhcHR1cmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY3VyR1BvaW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY3VyR1BvaW50Lmluc2lkZUVsZW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YXJ0VHJhY2tpbmdQb2ludGVyKCBwb2ludHNMaXN0LCBjdXJHUG9pbnQgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRW50ZXJcbiAgICAgICAgICAgIGlmICggdHJhY2tlci5lbnRlckhhbmRsZXIgKSB7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5lbnRlckhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgIGN1ckdQb2ludC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCBjdXJHUG9pbnQuY3VycmVudFBvcywgdHJhY2tlci5lbGVtZW50ICksXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlcnM6ICAgICAgICAgICAgIHRyYWNrZXIuZ2V0QWN0aXZlUG9pbnRlckNvdW50KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogY3VyR1BvaW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uRG93bkFueTogICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyAhPT0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICBjdXJHUG9pbnQudHlwZSA9PT0gJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICggcHJvcGFnYXRlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlclxuICAgICAqICAgICBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqICAgICBBIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYXRpbmcgRE9NIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludD59IGdQb2ludHNcbiAgICAgKiAgICAgIEdlc3R1cmUgcG9pbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlUG9pbnRlcnNFeGl0KCB0cmFja2VyLCBldmVudCwgZ1BvaW50cyApIHtcbiAgICAgICAgdmFyIHBvaW50c0xpc3QgPSB0cmFja2VyLmdldEFjdGl2ZVBvaW50ZXJzTGlzdEJ5VHlwZShnUG9pbnRzWzBdLnR5cGUpLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGdQb2ludENvdW50ID0gZ1BvaW50cy5sZW5ndGgsXG4gICAgICAgICAgICBjdXJHUG9pbnQsXG4gICAgICAgICAgICB1cGRhdGVHUG9pbnQsXG4gICAgICAgICAgICBwcm9wYWdhdGU7XG5cbiAgICAgICAgZm9yICggaSA9IDA7IGkgPCBnUG9pbnRDb3VudDsgaSsrICkge1xuICAgICAgICAgICAgY3VyR1BvaW50ID0gZ1BvaW50c1sgaSBdO1xuICAgICAgICAgICAgdXBkYXRlR1BvaW50ID0gcG9pbnRzTGlzdC5nZXRCeUlkKCBjdXJHUG9pbnQuaWQgKTtcblxuICAgICAgICAgICAgaWYgKCB1cGRhdGVHUG9pbnQgKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSB0cmFja2luZyB0aGUgcG9pbnRlci4gSWYgY2FwdHVyZWQgdGhlbiB1cGRhdGUgaXQsIGVsc2Ugc3RvcCB0cmFja2luZyBpdFxuICAgICAgICAgICAgICAgIGlmICggdXBkYXRlR1BvaW50LmNhcHR1cmVkICkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuaW5zaWRlRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQubGFzdFBvcyA9IHVwZGF0ZUdQb2ludC5jdXJyZW50UG9zO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQubGFzdFRpbWUgPSB1cGRhdGVHUG9pbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5jdXJyZW50UG9zID0gY3VyR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5jdXJyZW50VGltZSA9IGN1ckdQb2ludC5jdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9wVHJhY2tpbmdQb2ludGVyKCBwb2ludHNMaXN0LCB1cGRhdGVHUG9pbnQgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJHUG9pbnQgPSB1cGRhdGVHUG9pbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEV4aXRcbiAgICAgICAgICAgIGlmICggdHJhY2tlci5leGl0SGFuZGxlciApIHtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSB0cmFja2VyLmV4aXRIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICBjdXJHUG9pbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggY3VyR1BvaW50LmN1cnJlbnRQb3MsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJzOiAgICAgICAgICAgICB0cmFja2VyLmdldEFjdGl2ZVBvaW50ZXJDb3VudCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zaWRlRWxlbWVudFByZXNzZWQ6IHVwZGF0ZUdQb2ludCA/IHVwZGF0ZUdQb2ludC5pbnNpZGVFbGVtZW50UHJlc3NlZCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uRG93bkFueTogICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyAhPT0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICBjdXJHUG9pbnQudHlwZSA9PT0gJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyXG4gICAgICogICAgIEEgcmVmZXJlbmNlIHRvIHRoZSBNb3VzZVRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICogICAgIEEgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hdGluZyBET00gZXZlbnQuXG4gICAgICogQHBhcmFtIHtBcnJheS48T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50Pn0gZ1BvaW50c1xuICAgICAqICAgICAgR2VzdHVyZSBwb2ludHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYnV0dG9uQ2hhbmdlZFxuICAgICAqICAgICAgVGhlIGJ1dHRvbiBpbnZvbHZlZCBpbiB0aGUgZXZlbnQ6IC0xOiBub25lLCAwOiBwcmltYXJ5L2xlZnQsIDE6IGF1eC9taWRkbGUsIDI6IHNlY29uZGFyeS9yaWdodCwgMzogWDEvYmFjaywgNDogWDIvZm9yd2FyZCwgNTogcGVuIGVyYXNlci5cbiAgICAgKiAgICAgIE5vdGUgb24gY2hvcmRlZCBidXR0b24gcHJlc3NlcyAoYSBidXR0b24gcHJlc3NlZCB3aGVuIGFub3RoZXIgYnV0dG9uIGlzIGFscmVhZHkgcHJlc3NlZCk6IEluIHRoZSBXM0MgUG9pbnRlciBFdmVudHMgbW9kZWwsXG4gICAgICogICAgICBvbmx5IG9uZSBwb2ludGVyZG93bi9wb2ludGVydXAgZXZlbnQgY29tYm8gaXMgZmlyZWQuIENob3JkZWQgYnV0dG9uIHN0YXRlIGNoYW5nZXMgaW5zdGVhZCBmaXJlIHBvaW50ZXJtb3ZlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHBvaW50ZXJzIHNob3VsZCBiZSBjYXB0dXJlZCB0byB0aGUgdHJhY2tlZCBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlUG9pbnRlcnNEb3duKCB0cmFja2VyLCBldmVudCwgZ1BvaW50cywgYnV0dG9uQ2hhbmdlZCApIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gVEhJU1sgdHJhY2tlci5oYXNoIF0sXG4gICAgICAgICAgICBwcm9wYWdhdGUsXG4gICAgICAgICAgICBwb2ludHNMaXN0ID0gdHJhY2tlci5nZXRBY3RpdmVQb2ludGVyc0xpc3RCeVR5cGUoIGdQb2ludHNbIDAgXS50eXBlICksXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgZ1BvaW50Q291bnQgPSBnUG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1ckdQb2ludCxcbiAgICAgICAgICAgIHVwZGF0ZUdQb2ludDtcblxuICAgICAgICBpZiAoIHR5cGVvZiBldmVudC5idXR0b25zICE9PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyA9IGV2ZW50LmJ1dHRvbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoICQuQnJvd3Nlci52ZW5kb3IgPT09ICQuQlJPV1NFUlMuSUUgJiYgJC5Ccm93c2VyLnZlcnNpb24gPCA5ICkge1xuICAgICAgICAgICAgICAgIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpbWFyeVxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgKz0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBidXR0b25DaGFuZ2VkID09PSAxICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBdXhcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zICs9IDQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2Vjb25kYXJ5XG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyArPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDMgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFgxIChCYWNrKVxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgKz0gODtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBidXR0b25DaGFuZ2VkID09PSA0ICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBYMiAoRm9yd2FyZClcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zICs9IDE2O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDUgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBlbiBFcmFzZXJcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zICs9IDMyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCBidXR0b25DaGFuZ2VkID09PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmltYXJ5XG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyB8PSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF1eFxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgfD0gNDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBidXR0b25DaGFuZ2VkID09PSAyICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZWNvbmRhcnlcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zIHw9IDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gMyApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWDEgKEJhY2spXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyB8PSA4O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDQgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFgyIChGb3J3YXJkKVxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgfD0gMTY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gNSApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGVuIEVyYXNlclxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgfD0gMzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29tZSBwb2ludGVycyBtYXkgc3RlYWwgY29udHJvbCBmcm9tIGFub3RoZXIgcG9pbnRlciB3aXRob3V0IGZpcmluZyB0aGUgYXBwcm9wcmlhdGUgcmVsZWFzZSBldmVudHNcbiAgICAgICAgLy8gZS5nLiBUb3VjaGluZyBhIHNjcmVlbiB3aGlsZSBjbGljay1kcmFnZ2luZyB3aXRoIGNlcnRhaW4gbWljZS5cbiAgICAgICAgdmFyIG90aGVyUG9pbnRzTGlzdHMgPSB0cmFja2VyLmdldEFjdGl2ZVBvaW50ZXJzTGlzdHNFeGNlcHRUeXBlKGdQb2ludHNbIDAgXS50eXBlKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG90aGVyUG9pbnRzTGlzdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vSWYgYW5vdGhlciBwb2ludGVyIGhhcyBjb250YWN0LCBzaW11bGF0ZSB0aGUgcmVsZWFzZVxuICAgICAgICAgICAgYWJvcnRDb250YWN0cyh0cmFja2VyLCBldmVudCwgb3RoZXJQb2ludHNMaXN0c1tpXSk7IC8vIE5vLW9wIGlmIG5vIGFjdGl2ZSBwb2ludGVyXG4gICAgICAgIH1cblxuICAgICAgICAvLyBPbmx5IGNhcHR1cmUgYW5kIHRyYWNrIHByaW1hcnkgYnV0dG9uLCBwZW4sIGFuZCB0b3VjaCBjb250YWN0c1xuICAgICAgICBpZiAoIGJ1dHRvbkNoYW5nZWQgIT09IDAgKSB7XG4gICAgICAgICAgICAvLyBBdXggUHJlc3NcbiAgICAgICAgICAgIGlmICggdHJhY2tlci5ub25QcmltYXJ5UHJlc3NIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIubm9uUHJpbWFyeVByZXNzSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U6ICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogICAgICAgICAgZ1BvaW50c1sgMCBdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogICAgICAgICAgICAgZ2V0UG9pbnRSZWxhdGl2ZVRvQWJzb2x1dGUoIGdQb2ludHNbIDAgXS5jdXJyZW50UG9zLCB0cmFja2VyLmVsZW1lbnQgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbjogICAgICAgICAgICAgICBidXR0b25DaGFuZ2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICBnUG9pbnRzWyAwIF0udHlwZSA9PT0gJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICggcHJvcGFnYXRlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoIGkgPSAwOyBpIDwgZ1BvaW50Q291bnQ7IGkrKyApIHtcbiAgICAgICAgICAgIGN1ckdQb2ludCA9IGdQb2ludHNbIGkgXTtcbiAgICAgICAgICAgIHVwZGF0ZUdQb2ludCA9IHBvaW50c0xpc3QuZ2V0QnlJZCggY3VyR1BvaW50LmlkICk7XG5cbiAgICAgICAgICAgIGlmICggdXBkYXRlR1BvaW50ICkge1xuICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgdHJhY2tpbmcgdGhlIHBvaW50ZXIuLi51cGRhdGUgaXRcbiAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuY2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5pbnNpZGVFbGVtZW50UHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50Lmluc2lkZUVsZW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5jb250YWN0UG9zID0gY3VyR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50LmNvbnRhY3RUaW1lID0gY3VyR1BvaW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5sYXN0UG9zID0gdXBkYXRlR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50Lmxhc3RUaW1lID0gdXBkYXRlR1BvaW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5jdXJyZW50UG9zID0gY3VyR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50LmN1cnJlbnRUaW1lID0gY3VyR1BvaW50LmN1cnJlbnRUaW1lO1xuXG4gICAgICAgICAgICAgICAgY3VyR1BvaW50ID0gdXBkYXRlR1BvaW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJbml0aWFsaXplIGZvciB0cmFja2luZyBhbmQgYWRkIHRvIHRoZSB0cmFja2luZyBsaXN0IChubyBwb2ludGVyb3ZlciBvciBwb2ludGVybW92ZSBldmVudCBvY2N1cnJlZCBiZWZvcmUgdGhpcylcbiAgICAgICAgICAgICAgICBjdXJHUG9pbnQuY2FwdHVyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGN1ckdQb2ludC5pbnNpZGVFbGVtZW50UHJlc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY3VyR1BvaW50Lmluc2lkZUVsZW1lbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YXJ0VHJhY2tpbmdQb2ludGVyKCBwb2ludHNMaXN0LCBjdXJHUG9pbnQgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcG9pbnRzTGlzdC5hZGRDb250YWN0KCk7XG4gICAgICAgICAgICAvLyQuY29uc29sZS5sb2coJ2NvbnRhY3RzKysgJywgcG9pbnRzTGlzdC5jb250YWN0cyk7XG5cbiAgICAgICAgICAgIGlmICggdHJhY2tlci5kcmFnSGFuZGxlciB8fCB0cmFja2VyLmRyYWdFbmRIYW5kbGVyIHx8IHRyYWNrZXIucGluY2hIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgICQuTW91c2VUcmFja2VyLmdlc3R1cmVQb2ludFZlbG9jaXR5VHJhY2tlci5hZGRQb2ludCggdHJhY2tlciwgY3VyR1BvaW50ICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggcG9pbnRzTGlzdC5jb250YWN0cyA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVzc1xuICAgICAgICAgICAgICAgIGlmICggdHJhY2tlci5wcmVzc0hhbmRsZXIgKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIucHJlc3NIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICBjdXJHUG9pbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogICAgICAgICAgICAgZ2V0UG9pbnRSZWxhdGl2ZVRvQWJzb2x1dGUoIGN1ckdQb2ludC5jb250YWN0UG9zLCB0cmFja2VyLmVsZW1lbnQgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICBjdXJHUG9pbnQudHlwZSA9PT0gJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICggcHJvcGFnYXRlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBwb2ludHNMaXN0LmNvbnRhY3RzID09PSAyICkge1xuICAgICAgICAgICAgICAgIGlmICggdHJhY2tlci5waW5jaEhhbmRsZXIgJiYgY3VyR1BvaW50LnR5cGUgPT09ICd0b3VjaCcgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZm9yIHBpbmNoXG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLnBpbmNoR1BvaW50cyA9IHBvaW50c0xpc3QuYXNBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5sYXN0UGluY2hEaXN0ID0gZGVsZWdhdGUuY3VycmVudFBpbmNoRGlzdCA9IGRlbGVnYXRlLnBpbmNoR1BvaW50c1sgMCBdLmN1cnJlbnRQb3MuZGlzdGFuY2VUbyggZGVsZWdhdGUucGluY2hHUG9pbnRzWyAxIF0uY3VycmVudFBvcyApO1xuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5sYXN0UGluY2hDZW50ZXIgPSBkZWxlZ2F0ZS5jdXJyZW50UGluY2hDZW50ZXIgPSBnZXRDZW50ZXJQb2ludCggZGVsZWdhdGUucGluY2hHUG9pbnRzWyAwIF0uY3VycmVudFBvcywgZGVsZWdhdGUucGluY2hHUG9pbnRzWyAxIF0uY3VycmVudFBvcyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyXG4gICAgICogICAgIEEgcmVmZXJlbmNlIHRvIHRoZSBNb3VzZVRyYWNrZXIgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICogICAgIEEgcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hdGluZyBET00gZXZlbnQuXG4gICAgICogQHBhcmFtIHtBcnJheS48T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50Pn0gZ1BvaW50c1xuICAgICAqICAgICAgR2VzdHVyZSBwb2ludHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYnV0dG9uQ2hhbmdlZFxuICAgICAqICAgICAgVGhlIGJ1dHRvbiBpbnZvbHZlZCBpbiB0aGUgZXZlbnQ6IC0xOiBub25lLCAwOiBwcmltYXJ5L2xlZnQsIDE6IGF1eC9taWRkbGUsIDI6IHNlY29uZGFyeS9yaWdodCwgMzogWDEvYmFjaywgNDogWDIvZm9yd2FyZCwgNTogcGVuIGVyYXNlci5cbiAgICAgKiAgICAgIE5vdGUgb24gY2hvcmRlZCBidXR0b24gcHJlc3NlcyAoYSBidXR0b24gcHJlc3NlZCB3aGVuIGFub3RoZXIgYnV0dG9uIGlzIGFscmVhZHkgcHJlc3NlZCk6IEluIHRoZSBXM0MgUG9pbnRlciBFdmVudHMgbW9kZWwsXG4gICAgICogICAgICBvbmx5IG9uZSBwb2ludGVyZG93bi9wb2ludGVydXAgZXZlbnQgY29tYm8gaXMgZmlyZWQuIENob3JkZWQgYnV0dG9uIHN0YXRlIGNoYW5nZXMgaW5zdGVhZCBmaXJlIHBvaW50ZXJtb3ZlIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHBvaW50ZXIgY2FwdHVyZSBzaG91bGQgYmUgcmVsZWFzZWQgZnJvbSB0aGUgdHJhY2tlZCBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlUG9pbnRlcnNVcCggdHJhY2tlciwgZXZlbnQsIGdQb2ludHMsIGJ1dHRvbkNoYW5nZWQgKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IFRISVNbIHRyYWNrZXIuaGFzaCBdLFxuICAgICAgICAgICAgcG9pbnRzTGlzdCA9IHRyYWNrZXIuZ2V0QWN0aXZlUG9pbnRlcnNMaXN0QnlUeXBlKCBnUG9pbnRzWyAwIF0udHlwZSApLFxuICAgICAgICAgICAgcHJvcGFnYXRlLFxuICAgICAgICAgICAgcmVsZWFzZVBvaW50LFxuICAgICAgICAgICAgcmVsZWFzZVRpbWUsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgZ1BvaW50Q291bnQgPSBnUG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1ckdQb2ludCxcbiAgICAgICAgICAgIHVwZGF0ZUdQb2ludCxcbiAgICAgICAgICAgIHJlbGVhc2VDYXB0dXJlID0gZmFsc2UsXG4gICAgICAgICAgICB3YXNDYXB0dXJlZCA9IGZhbHNlLFxuICAgICAgICAgICAgcXVpY2s7XG5cbiAgICAgICAgaWYgKCB0eXBlb2YgZXZlbnQuYnV0dG9ucyAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgPSBldmVudC5idXR0b25zO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCAkLkJyb3dzZXIudmVuZG9yID09PSAkLkJST1dTRVJTLklFICYmICQuQnJvd3Nlci52ZXJzaW9uIDwgOSApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByaW1hcnlcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zIC09IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV4XG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyAtPSA0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlY29uZGFyeVxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgLT0gMjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBidXR0b25DaGFuZ2VkID09PSAzICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBYMSAoQmFjaylcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zIC09IDg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gNCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWDIgKEZvcndhcmQpXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyAtPSAxNjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBidXR0b25DaGFuZ2VkID09PSA1ICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQZW4gRXJhc2VyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyAtPSAzMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpbWFyeVxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgXj0gfjE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gMSApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXV4XG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyBePSB+NDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBidXR0b25DaGFuZ2VkID09PSAyICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZWNvbmRhcnlcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zIF49IH4yO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGJ1dHRvbkNoYW5nZWQgPT09IDMgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFgxIChCYWNrKVxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgXj0gfjg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gNCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gWDIgKEZvcndhcmQpXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyBePSB+MTY7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICggYnV0dG9uQ2hhbmdlZCA9PT0gNSApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGVuIEVyYXNlclxuICAgICAgICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgXj0gfjMyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgY2FwdHVyZSBhbmQgdHJhY2sgcHJpbWFyeSBidXR0b24sIHBlbiwgYW5kIHRvdWNoIGNvbnRhY3RzXG4gICAgICAgIGlmICggYnV0dG9uQ2hhbmdlZCAhPT0gMCApIHtcbiAgICAgICAgICAgIC8vIEF1eCBSZWxlYXNlXG4gICAgICAgICAgICBpZiAoIHRyYWNrZXIubm9uUHJpbWFyeVJlbGVhc2VIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIubm9uUHJpbWFyeVJlbGVhc2VIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogICAgICAgICAgIGdQb2ludHNbIDAgXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZShnUG9pbnRzWzBdLmN1cnJlbnRQb3MsIHRyYWNrZXIuZWxlbWVudCksXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b246ICAgICAgICAgICAgICAgIGJ1dHRvbkNoYW5nZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAgICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICAgZ1BvaW50c1sgMCBdLnR5cGUgPT09ICd0b3VjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246ICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICAgdHJhY2tlci51c2VyRGF0YVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoIHByb3BhZ2F0ZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBIHByaW1hcnkgbW91c2UgYnV0dG9uIG1heSBoYXZlIGJlZW4gcmVsZWFzZWQgd2hpbGUgdGhlIG5vbi1wcmltYXJ5IGJ1dHRvbiB3YXMgZG93blxuICAgICAgICAgICAgdmFyIG90aGVyUG9pbnRzTGlzdCA9IHRyYWNrZXIuZ2V0QWN0aXZlUG9pbnRlcnNMaXN0QnlUeXBlKFwibW91c2VcIik7XG4gICAgICAgICAgICAvLyBTdG9wIHRyYWNraW5nIHRoZSBtb3VzZTsgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuc2VhZHJhZ29uL29wZW5zZWFkcmFnb24vcHVsbC8xMjIzXG4gICAgICAgICAgICBhYm9ydENvbnRhY3RzKHRyYWNrZXIsIGV2ZW50LCBvdGhlclBvaW50c0xpc3QpOyAvLyBOby1vcCBpZiBubyBhY3RpdmUgcG9pbnRlclxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGdQb2ludENvdW50OyBpKysgKSB7XG4gICAgICAgICAgICBjdXJHUG9pbnQgPSBnUG9pbnRzWyBpIF07XG4gICAgICAgICAgICB1cGRhdGVHUG9pbnQgPSBwb2ludHNMaXN0LmdldEJ5SWQoIGN1ckdQb2ludC5pZCApO1xuXG4gICAgICAgICAgICBpZiAoIHVwZGF0ZUdQb2ludCApIHtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHBvaW50ZXIsIHN0b3AgdHJhY2tpbmcgaXQgaWYgbm90IHN0aWxsIGluIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAgIGlmICggdXBkYXRlR1BvaW50LmNhcHR1cmVkICkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuY2FwdHVyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmVsZWFzZUNhcHR1cmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB3YXNDYXB0dXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5sYXN0UG9zID0gdXBkYXRlR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50Lmxhc3RUaW1lID0gdXBkYXRlR1BvaW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5jdXJyZW50UG9zID0gY3VyR1BvaW50LmN1cnJlbnRQb3M7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50LmN1cnJlbnRUaW1lID0gY3VyR1BvaW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIGlmICggIXVwZGF0ZUdQb2ludC5pbnNpZGVFbGVtZW50ICkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wVHJhY2tpbmdQb2ludGVyKCBwb2ludHNMaXN0LCB1cGRhdGVHUG9pbnQgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZWxlYXNlUG9pbnQgPSB1cGRhdGVHUG9pbnQuY3VycmVudFBvcztcbiAgICAgICAgICAgICAgICByZWxlYXNlVGltZSA9IHVwZGF0ZUdQb2ludC5jdXJyZW50VGltZTtcblxuICAgICAgICAgICAgICAgIGlmICggd2FzQ2FwdHVyZWQgKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBvaW50ZXIgd2FzIGFjdGl2YXRlZCBpbiBvdXIgZWxlbWVudCBidXQgY291bGQgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gYW55IGVsZW1lbnQgc2luY2UgZXZlbnRzIGFyZSBjYXB0dXJlZCB0byBvdXIgZWxlbWVudFxuXG4gICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QucmVtb3ZlQ29udGFjdCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyQuY29uc29sZS5sb2coJ2NvbnRhY3RzLS0gJywgcG9pbnRzTGlzdC5jb250YWN0cyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0cmFja2VyLmRyYWdIYW5kbGVyIHx8IHRyYWNrZXIuZHJhZ0VuZEhhbmRsZXIgfHwgdHJhY2tlci5waW5jaEhhbmRsZXIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLk1vdXNlVHJhY2tlci5nZXN0dXJlUG9pbnRWZWxvY2l0eVRyYWNrZXIucmVtb3ZlUG9pbnQoIHRyYWNrZXIsIHVwZGF0ZUdQb2ludCApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBwb2ludHNMaXN0LmNvbnRhY3RzID09PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWxlYXNlIChwcmVzc2VkIGluIG91ciBlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0cmFja2VyLnJlbGVhc2VIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIucmVsZWFzZUhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICAgdXBkYXRlR1BvaW50LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogICAgICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCByZWxlYXNlUG9pbnQsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogIHVwZGF0ZUdQb2ludC5pbnNpZGVFbGVtZW50UHJlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2lkZUVsZW1lbnRSZWxlYXNlZDogdXBkYXRlR1BvaW50Lmluc2lkZUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RvdWNoRXZlbnQ6ICAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YTogICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRHJhZyBFbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdHJhY2tlci5kcmFnRW5kSGFuZGxlciAmJiAhdXBkYXRlR1BvaW50LmN1cnJlbnRQb3MuZXF1YWxzKCB1cGRhdGVHUG9pbnQuY29udGFjdFBvcyApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIuZHJhZ0VuZEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCB1cGRhdGVHUG9pbnQuY3VycmVudFBvcywgdHJhY2tlci5lbGVtZW50ICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVlZDogICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50LnNwZWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAgICAgICAgICAgIHVwZGF0ZUdQb2ludC5kaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlmdDogICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RvdWNoRXZlbnQ6ICAgICAgICAgdXBkYXRlR1BvaW50LnR5cGUgPT09ICd0b3VjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YTogICAgICAgICAgICAgdHJhY2tlci51c2VyRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHByb3BhZ2F0ZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbGljayAvIERvdWJsZS1DbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIHRyYWNrZXIuY2xpY2tIYW5kbGVyIHx8IHRyYWNrZXIuZGJsQ2xpY2tIYW5kbGVyICkgJiYgdXBkYXRlR1BvaW50Lmluc2lkZUVsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVpY2sgPSByZWxlYXNlVGltZSAtIHVwZGF0ZUdQb2ludC5jb250YWN0VGltZSA8PSB0cmFja2VyLmNsaWNrVGltZVRocmVzaG9sZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuY29udGFjdFBvcy5kaXN0YW5jZVRvKCByZWxlYXNlUG9pbnQgKSA8PSB0cmFja2VyLmNsaWNrRGlzdFRocmVzaG9sZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsaWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0cmFja2VyLmNsaWNrSGFuZGxlciApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5jbGlja0hhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U6ICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggdXBkYXRlR1BvaW50LmN1cnJlbnRQb3MsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1aWNrOiAgICAgICAgICAgICAgICBxdWljayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlmdDogICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNUb3VjaEV2ZW50OiAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvdWJsZS1DbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdHJhY2tlci5kYmxDbGlja0hhbmRsZXIgJiYgcXVpY2sgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuY2xpY2tzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcG9pbnRzTGlzdC5jbGlja3MgPT09IDEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5sYXN0Q2xpY2tQb3MgPSByZWxlYXNlUG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmpzaGludCBsb29wZnVuYzp0cnVlKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLmRibENsaWNrVGltZU91dCA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuY2xpY2tzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRyYWNrZXIuZGJsQ2xpY2tUaW1lVGhyZXNob2xkICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmpzaGludCBsb29wZnVuYzpmYWxzZSovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHBvaW50c0xpc3QuY2xpY2tzID09PSAyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCBkZWxlZ2F0ZS5kYmxDbGlja1RpbWVPdXQgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50c0xpc3QuY2xpY2tzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGVsZWdhdGUubGFzdENsaWNrUG9zLmRpc3RhbmNlVG8oIHJlbGVhc2VQb2ludCApIDw9IHRyYWNrZXIuZGJsQ2xpY2tEaXN0VGhyZXNob2xkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIuZGJsQ2xpY2tIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICB1cGRhdGVHUG9pbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggdXBkYXRlR1BvaW50LmN1cnJlbnRQb3MsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpZnQ6ICAgICAgICAgICAgICAgIGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNUb3VjaEV2ZW50OiAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLmxhc3RDbGlja1BvcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHBvaW50c0xpc3QuY29udGFjdHMgPT09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRyYWNrZXIucGluY2hIYW5kbGVyICYmIHVwZGF0ZUdQb2ludC50eXBlID09PSAndG91Y2gnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IGZvciBwaW5jaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLnBpbmNoR1BvaW50cyA9IHBvaW50c0xpc3QuYXNBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLmxhc3RQaW5jaERpc3QgPSBkZWxlZ2F0ZS5jdXJyZW50UGluY2hEaXN0ID0gZGVsZWdhdGUucGluY2hHUG9pbnRzWyAwIF0uY3VycmVudFBvcy5kaXN0YW5jZVRvKCBkZWxlZ2F0ZS5waW5jaEdQb2ludHNbIDEgXS5jdXJyZW50UG9zICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZWdhdGUubGFzdFBpbmNoQ2VudGVyID0gZGVsZWdhdGUuY3VycmVudFBpbmNoQ2VudGVyID0gZ2V0Q2VudGVyUG9pbnQoIGRlbGVnYXRlLnBpbmNoR1BvaW50c1sgMCBdLmN1cnJlbnRQb3MsIGRlbGVnYXRlLnBpbmNoR1BvaW50c1sgMSBdLmN1cnJlbnRQb3MgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBvaW50ZXIgd2FzIGFjdGl2YXRlZCBpbiBhbm90aGVyIGVsZW1lbnQgYnV0IHJlbW92ZWQgaW4gb3VyIGVsZW1lbnRcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZWxlYXNlIChwcmVzc2VkIGluIGFub3RoZXIgZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0cmFja2VyLnJlbGVhc2VIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5yZWxlYXNlSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgICB1cGRhdGVHUG9pbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggcmVsZWFzZVBvaW50LCB0cmFja2VyLmVsZW1lbnQgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2lkZUVsZW1lbnRQcmVzc2VkOiAgdXBkYXRlR1BvaW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNpZGVFbGVtZW50UmVsZWFzZWQ6IHVwZGF0ZUdQb2ludC5pbnNpZGVFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RvdWNoRXZlbnQ6ICAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbjogIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YTogICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuY2FuY2VsRXZlbnQoIGV2ZW50ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVsZWFzZUNhcHR1cmU7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBDYWxsIHdoZW4gcG9pbnRlcihzKSBjaGFuZ2UgY29vcmRpbmF0ZXMsIGJ1dHRvbiBzdGF0ZSwgcHJlc3N1cmUsIHRpbHQsIG9yIGNvbnRhY3QgZ2VvbWV0cnkgKGUuZy4gd2lkdGggYW5kIGhlaWdodClcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGlubmVyXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlclxuICAgICAqICAgICBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqICAgICBBIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYXRpbmcgRE9NIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPE9wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyLkdlc3R1cmVQb2ludD59IGdQb2ludHNcbiAgICAgKiAgICAgIEdlc3R1cmUgcG9pbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlUG9pbnRlcnNNb3ZlKCB0cmFja2VyLCBldmVudCwgZ1BvaW50cyApIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gVEhJU1sgdHJhY2tlci5oYXNoIF0sXG4gICAgICAgICAgICBwb2ludHNMaXN0ID0gdHJhY2tlci5nZXRBY3RpdmVQb2ludGVyc0xpc3RCeVR5cGUoIGdQb2ludHNbIDAgXS50eXBlICksXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgZ1BvaW50Q291bnQgPSBnUG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1ckdQb2ludCxcbiAgICAgICAgICAgIHVwZGF0ZUdQb2ludCxcbiAgICAgICAgICAgIGdQb2ludEFycmF5LFxuICAgICAgICAgICAgZGVsdGEsXG4gICAgICAgICAgICBwcm9wYWdhdGU7XG5cbiAgICAgICAgaWYgKCB0eXBlb2YgZXZlbnQuYnV0dG9ucyAhPT0gJ3VuZGVmaW5lZCcgKSB7XG4gICAgICAgICAgICBwb2ludHNMaXN0LmJ1dHRvbnMgPSBldmVudC5idXR0b25zO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICggaSA9IDA7IGkgPCBnUG9pbnRDb3VudDsgaSsrICkge1xuICAgICAgICAgICAgY3VyR1BvaW50ID0gZ1BvaW50c1sgaSBdO1xuICAgICAgICAgICAgdXBkYXRlR1BvaW50ID0gcG9pbnRzTGlzdC5nZXRCeUlkKCBjdXJHUG9pbnQuaWQgKTtcblxuICAgICAgICAgICAgaWYgKCB1cGRhdGVHUG9pbnQgKSB7XG4gICAgICAgICAgICAgICAgLy8gQWxyZWFkeSB0cmFja2luZyB0aGUgcG9pbnRlci4uLnVwZGF0ZSBpdFxuICAgICAgICAgICAgICAgIGlmICggY3VyR1BvaW50Lmhhc093blByb3BlcnR5KCAnaXNQcmltYXJ5JyApICkge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuaXNQcmltYXJ5ID0gY3VyR1BvaW50LmlzUHJpbWFyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50Lmxhc3RQb3MgPSB1cGRhdGVHUG9pbnQuY3VycmVudFBvcztcbiAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQubGFzdFRpbWUgPSB1cGRhdGVHUG9pbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgICAgdXBkYXRlR1BvaW50LmN1cnJlbnRQb3MgPSBjdXJHUG9pbnQuY3VycmVudFBvcztcbiAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuY3VycmVudFRpbWUgPSBjdXJHUG9pbnQuY3VycmVudFRpbWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluaXRpYWxpemUgZm9yIHRyYWNraW5nIGFuZCBhZGQgdG8gdGhlIHRyYWNraW5nIGxpc3QgKG5vIHBvaW50ZXJvdmVyIG9yIHBvaW50ZXJkb3duIGV2ZW50IG9jY3VycmVkIGJlZm9yZSB0aGlzKVxuICAgICAgICAgICAgICAgIGN1ckdQb2ludC5jYXB0dXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGN1ckdQb2ludC5pbnNpZGVFbGVtZW50UHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGN1ckdQb2ludC5pbnNpZGVFbGVtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdGFydFRyYWNraW5nUG9pbnRlciggcG9pbnRzTGlzdCwgY3VyR1BvaW50ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdG9wIChtb3VzZSBvbmx5KVxuICAgICAgICBpZiAoIHRyYWNrZXIuc3RvcEhhbmRsZXIgJiYgZ1BvaW50c1sgMCBdLnR5cGUgPT09ICdtb3VzZScgKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoIHRyYWNrZXIuc3RvcFRpbWVPdXQgKTtcbiAgICAgICAgICAgIHRyYWNrZXIuc3RvcFRpbWVPdXQgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVQb2ludGVyU3RvcCggdHJhY2tlciwgZXZlbnQsIGdQb2ludHNbIDAgXS50eXBlICk7XG4gICAgICAgICAgICB9LCB0cmFja2VyLnN0b3BEZWxheSApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBwb2ludHNMaXN0LmNvbnRhY3RzID09PSAwICkge1xuICAgICAgICAgICAgLy8gTW92ZSAobm8gY29udGFjdHM6IGhvdmVyaW5nIG1vdXNlIG9yIG90aGVyIGhvdmVyLWNhcGFibGUgZGV2aWNlKVxuICAgICAgICAgICAgaWYgKCB0cmFja2VyLm1vdmVIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIubW92ZUhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgIGdQb2ludHNbIDAgXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCBnUG9pbnRzWyAwIF0uY3VycmVudFBvcywgdHJhY2tlci5lbGVtZW50ICksXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUb3VjaEV2ZW50OiAgICAgICAgIGdQb2ludHNbIDAgXS50eXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICggcG9pbnRzTGlzdC5jb250YWN0cyA9PT0gMSApIHtcbiAgICAgICAgICAgIC8vIE1vdmUgKDEgY29udGFjdClcbiAgICAgICAgICAgIGlmICggdHJhY2tlci5tb3ZlSGFuZGxlciApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQgPSBwb2ludHNMaXN0LmFzQXJyYXkoKVsgMCBdO1xuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIubW92ZUhhbmRsZXIoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCB1cGRhdGVHUG9pbnQuY3VycmVudFBvcywgdHJhY2tlci5lbGVtZW50ICksXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUb3VjaEV2ZW50OiAgICAgICAgIHVwZGF0ZUdQb2ludC50eXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKCBwcm9wYWdhdGUgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRHJhZ1xuICAgICAgICAgICAgaWYgKCB0cmFja2VyLmRyYWdIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZUdQb2ludCA9IHBvaW50c0xpc3QuYXNBcnJheSgpWyAwIF07XG4gICAgICAgICAgICAgICAgZGVsdGEgPSB1cGRhdGVHUG9pbnQuY3VycmVudFBvcy5taW51cyggdXBkYXRlR1BvaW50Lmxhc3RQb3MgKTtcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGUgPSB0cmFja2VyLmRyYWdIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFNvdXJjZTogICAgICAgICAgdHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICB1cGRhdGVHUG9pbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggdXBkYXRlR1BvaW50LmN1cnJlbnRQb3MsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICAgIHBvaW50c0xpc3QuYnV0dG9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhOiAgICAgICAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWVkOiAgICAgICAgICAgICAgICB1cGRhdGVHUG9pbnQuc3BlZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICAgICAgICAgICAgdXBkYXRlR1BvaW50LmRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaWZ0OiAgICAgICAgICAgICAgICBldmVudC5zaGlmdEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG91Y2hFdmVudDogICAgICAgICB1cGRhdGVHUG9pbnQudHlwZSA9PT0gJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICggcHJvcGFnYXRlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIHBvaW50c0xpc3QuY29udGFjdHMgPT09IDIgKSB7XG4gICAgICAgICAgICAvLyBNb3ZlICgyIGNvbnRhY3RzLCB1c2UgY2VudGVyKVxuICAgICAgICAgICAgaWYgKCB0cmFja2VyLm1vdmVIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgIGdQb2ludEFycmF5ID0gcG9pbnRzTGlzdC5hc0FycmF5KCk7XG4gICAgICAgICAgICAgICAgcHJvcGFnYXRlID0gdHJhY2tlci5tb3ZlSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U6ICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyVHlwZTogICAgICAgICAgZ1BvaW50QXJyYXlbIDAgXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICAgICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCBnZXRDZW50ZXJQb2ludCggZ1BvaW50QXJyYXlbIDAgXS5jdXJyZW50UG9zLCBnUG9pbnRBcnJheVsgMSBdLmN1cnJlbnRQb3MgKSwgdHJhY2tlci5lbGVtZW50ICksXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiAgICAgICAgICAgICAgcG9pbnRzTGlzdC5idXR0b25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNUb3VjaEV2ZW50OiAgICAgICAgIGdQb2ludEFycmF5WyAwIF0udHlwZSA9PT0gJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhOiAgICAgICAgICAgICB0cmFja2VyLnVzZXJEYXRhXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICggcHJvcGFnYXRlID09PSBmYWxzZSApIHtcbiAgICAgICAgICAgICAgICAgICAgJC5jYW5jZWxFdmVudCggZXZlbnQgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFBpbmNoXG4gICAgICAgICAgICBpZiAoIHRyYWNrZXIucGluY2hIYW5kbGVyICYmIGdQb2ludHNbIDAgXS50eXBlID09PSAndG91Y2gnICkge1xuICAgICAgICAgICAgICAgIGRlbHRhID0gZGVsZWdhdGUucGluY2hHUG9pbnRzWyAwIF0uY3VycmVudFBvcy5kaXN0YW5jZVRvKCBkZWxlZ2F0ZS5waW5jaEdQb2ludHNbIDEgXS5jdXJyZW50UG9zICk7XG4gICAgICAgICAgICAgICAgaWYgKCBkZWx0YSAhPSBkZWxlZ2F0ZS5jdXJyZW50UGluY2hEaXN0ICkge1xuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5sYXN0UGluY2hEaXN0ID0gZGVsZWdhdGUuY3VycmVudFBpbmNoRGlzdDtcbiAgICAgICAgICAgICAgICAgICAgZGVsZWdhdGUuY3VycmVudFBpbmNoRGlzdCA9IGRlbHRhO1xuICAgICAgICAgICAgICAgICAgICBkZWxlZ2F0ZS5sYXN0UGluY2hDZW50ZXIgPSBkZWxlZ2F0ZS5jdXJyZW50UGluY2hDZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGRlbGVnYXRlLmN1cnJlbnRQaW5jaENlbnRlciA9IGdldENlbnRlclBvaW50KCBkZWxlZ2F0ZS5waW5jaEdQb2ludHNbIDAgXS5jdXJyZW50UG9zLCBkZWxlZ2F0ZS5waW5jaEdQb2ludHNbIDEgXS5jdXJyZW50UG9zICk7XG4gICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZSA9IHRyYWNrZXIucGluY2hIYW5kbGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U291cmNlOiAgICAgICAgICB0cmFja2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXJUeXBlOiAgICAgICAgICAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlc3R1cmVQb2ludHM6ICAgICAgICBkZWxlZ2F0ZS5waW5jaEdQb2ludHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENlbnRlcjogICAgICAgICAgIGdldFBvaW50UmVsYXRpdmVUb0Fic29sdXRlKCBkZWxlZ2F0ZS5sYXN0UGluY2hDZW50ZXIsIHRyYWNrZXIuZWxlbWVudCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogICAgICAgICAgICAgICBnZXRQb2ludFJlbGF0aXZlVG9BYnNvbHV0ZSggZGVsZWdhdGUuY3VycmVudFBpbmNoQ2VudGVyLCB0cmFja2VyLmVsZW1lbnQgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0RGlzdGFuY2U6ICAgICAgICAgZGVsZWdhdGUubGFzdFBpbmNoRGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZTogICAgICAgICAgICAgZGVsZWdhdGUuY3VycmVudFBpbmNoRGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGlmdDogICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YTogICAgICAgICAgICAgdHJhY2tlci51c2VyRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHByb3BhZ2F0ZSA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmNhbmNlbEV2ZW50KCBldmVudCApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IHRyYWNrZXJcbiAgICAgKiAgICAgQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKiAgICAgQSByZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmF0aW5nIERPTSBldmVudC5cbiAgICAgKiBAcGFyYW0ge0FycmF5LjxPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlci5HZXN0dXJlUG9pbnQ+fSBnUG9pbnRzXG4gICAgICogICAgICBHZXN0dXJlIHBvaW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVBvaW50ZXJzQ2FuY2VsKCB0cmFja2VyLCBldmVudCwgZ1BvaW50cyApIHtcbiAgICAgICAgdXBkYXRlUG9pbnRlcnNVcCggdHJhY2tlciwgZXZlbnQsIGdQb2ludHMsIDAgKTtcbiAgICAgICAgdXBkYXRlUG9pbnRlcnNFeGl0KCB0cmFja2VyLCBldmVudCwgZ1BvaW50cyApO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYW5kbGVQb2ludGVyU3RvcCggdHJhY2tlciwgb3JpZ2luYWxNb3ZlRXZlbnQsIHBvaW50ZXJUeXBlICkge1xuICAgICAgICBpZiAoIHRyYWNrZXIuc3RvcEhhbmRsZXIgKSB7XG4gICAgICAgICAgICB0cmFja2VyLnN0b3BIYW5kbGVyKCB7XG4gICAgICAgICAgICAgICAgZXZlbnRTb3VyY2U6ICAgICAgICAgIHRyYWNrZXIsXG4gICAgICAgICAgICAgICAgcG9pbnRlclR5cGU6ICAgICAgICAgIHBvaW50ZXJUeXBlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICAgICAgICAgICBnZXRNb3VzZVJlbGF0aXZlKCBvcmlnaW5hbE1vdmVFdmVudCwgdHJhY2tlci5lbGVtZW50ICksXG4gICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICAgIHRyYWNrZXIuZ2V0QWN0aXZlUG9pbnRlcnNMaXN0QnlUeXBlKCBwb2ludGVyVHlwZSApLmJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgaXNUb3VjaEV2ZW50OiAgICAgICAgIHBvaW50ZXJUeXBlID09PSAndG91Y2gnLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6ICAgICAgICBvcmlnaW5hbE1vdmVFdmVudCxcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXNlckRhdGE6ICAgICAgICAgICAgIHRyYWNrZXIudXNlckRhdGFcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgaW5zaWRlIGFuIGlmcmFtZSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGlzSW5JZnJhbWVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIHZhciBpc0luSWZyYW1lID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmIHRoZSB0YXJnZXQgaGFzIGFjY2VzcyByaWdodHMgdG8gZXZlbnRzLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FuQWNjZXNzRXZlbnRzICh0YXJnZXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lciAmJiB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG59KE9wZW5TZWFkcmFnb24pKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBDb250cm9sXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vKipcbiAqIEFuIGVudW1lcmF0aW9uIG9mIHN1cHBvcnRlZCBsb2NhdGlvbnMgd2hlcmUgY29udHJvbHMgY2FuIGJlIGFuY2hvcmVkLlxuICogVGhlIGFuY2hvcmluZyBpcyBhbHdheXMgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5lci5cbiAqIEBtZW1iZXIgQ29udHJvbEFuY2hvclxuICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAqIEBzdGF0aWNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAcHJvcGVydHkge051bWJlcn0gTk9ORVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFRPUF9MRUZUXG4gKiBAcHJvcGVydHkge051bWJlcn0gVE9QX1JJR0hUXG4gKiBAcHJvcGVydHkge051bWJlcn0gQk9UVE9NX0xFRlRcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBCT1RUT01fUklHSFRcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBBQlNPTFVURVxuICovXG4kLkNvbnRyb2xBbmNob3IgPSB7XG4gICAgTk9ORTogMCxcbiAgICBUT1BfTEVGVDogMSxcbiAgICBUT1BfUklHSFQ6IDIsXG4gICAgQk9UVE9NX1JJR0hUOiAzLFxuICAgIEJPVFRPTV9MRUZUOiA0LFxuICAgIEFCU09MVVRFOiA1XG59O1xuXG4vKipcbiAqIEBjbGFzcyBDb250cm9sXG4gKiBAY2xhc3NkZXNjIEEgQ29udHJvbCByZXByZXNlbnRzIGFueSBpbnRlcmZhY2UgZWxlbWVudCB3aGljaCBpcyBtZWFudCB0byBhbGxvdyB0aGUgdXNlclxuICogdG8gaW50ZXJhY3Qgd2l0aCB0aGUgem9vbWFibGUgaW50ZXJmYWNlLiBBbnkgY29udHJvbCBjYW4gYmUgYW5jaG9yZWQgdG8gYW55XG4gKiBlbGVtZW50LlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgLSB0aGUgY29udHJvbCBlbGVtZW50IHRvIGJlIGFuY2hvcmVkIGluIHRoZSBjb250YWluZXIuXG4gKiBAcGFyYW0ge09iamVjdCB9IG9wdGlvbnMgLSBBbGwgcmVxdWlyZWQgYW5kIG9wdGlvbmFsIHNldHRpbmdzIGZvciBjb25maWd1cmluZyBhIGNvbnRyb2wgZWxlbWVudC5cbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Db250cm9sQW5jaG9yfSBbb3B0aW9ucy5hbmNob3I9T3BlblNlYWRyYWdvbi5Db250cm9sQW5jaG9yLk5PTkVdIC0gdGhlIHBvc2l0aW9uIG9mIHRoZSBjb250cm9sXG4gKiAgcmVsYXRpdmUgdG8gdGhlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXR0YWNoVG9WaWV3ZXI9dHJ1ZV0gLSBXaGV0aGVyIHRoZSBjb250cm9sIHNob3VsZCBiZSBhZGRlZCBkaXJlY3RseSB0byB0aGUgdmlld2VyLCBvclxuICogIGRpcmVjdGx5IHRvIHRoZSBjb250YWluZXJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYXV0b0ZhZGU9dHJ1ZV0gLSBXaGV0aGVyIHRoZSBjb250cm9sIHNob3VsZCBoYXZlIHRoZSBhdXRvZmFkZSBiZWhhdmlvclxuICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXIgLSB0aGUgZWxlbWVudCB0byBjb250cm9sIHdpbGwgYmUgYW5jaG9yZWQgdG9vLlxuICovXG4kLkNvbnRyb2wgPSBmdW5jdGlvbiAoIGVsZW1lbnQsIG9wdGlvbnMsIGNvbnRhaW5lciApIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoXCJQYXNzaW5nIGFuIGFuY2hvciBkaXJlY3RseSBpbnRvIHRoZSBPcGVuU2VhZHJhZ29uLkNvbnRyb2wgY29uc3RydWN0b3IgaXMgZGVwcmVjYXRlZDsgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGVhc2UgdXNlIGFuIG9wdGlvbnMgb2JqZWN0IGluc3RlYWQuICBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlN1cHBvcnQgZm9yIHRoaXMgZGVwcmVjYXRlZCB2YXJpYW50IGlzIHNjaGVkdWxlZCBmb3IgcmVtb3ZhbCBpbiBEZWNlbWJlciAyMDEzXCIpO1xuICAgICAgICAgb3B0aW9ucyA9IHthbmNob3I6IG9wdGlvbnN9O1xuICAgIH1cbiAgICBvcHRpb25zLmF0dGFjaFRvVmlld2VyID0gKHR5cGVvZiBvcHRpb25zLmF0dGFjaFRvVmlld2VyID09PSAndW5kZWZpbmVkJykgPyB0cnVlIDogb3B0aW9ucy5hdHRhY2hUb1ZpZXdlcjtcbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIHRoZSBjb250cm9sIHNob3VsZCBoYXZlIGF1dG9mYWRlIGJlaGF2aW9yLlxuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGF1dG9GYWRlXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQ29udHJvbCNcbiAgICAgKi9cbiAgICB0aGlzLmF1dG9GYWRlID0gKHR5cGVvZiBvcHRpb25zLmF1dG9GYWRlID09PSAndW5kZWZpbmVkJykgPyB0cnVlIDogb3B0aW9ucy5hdXRvRmFkZTtcbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCBwcm92aWRpbmcgdGhlIHVzZXIgaW50ZXJmYWNlIHdpdGggc29tZSB0eXBlIG9mIGNvbnRyb2wgKGUuZy4gYSB6b29tLWluIGJ1dHRvbikuXG4gICAgICogQG1lbWJlciB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLkNvbnRyb2wjXG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50ICAgID0gZWxlbWVudDtcbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIENvbnRyb2wgcmVsYXRpdmUgdG8gaXRzIGNvbnRhaW5lci5cbiAgICAgKiBAbWVtYmVyIHtPcGVuU2VhZHJhZ29uLkNvbnRyb2xBbmNob3J9IGFuY2hvclxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLkNvbnRyb2wjXG4gICAgICovXG4gICAgdGhpcy5hbmNob3IgICAgID0gb3B0aW9ucy5hbmNob3I7XG4gICAgLyoqXG4gICAgICogVGhlIENvbnRyb2wncyBjb250YWluaW5nIGVsZW1lbnQuXG4gICAgICogQG1lbWJlciB7RWxlbWVudH0gY29udGFpbmVyXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQ29udHJvbCNcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lciAgPSBjb250YWluZXI7XG4gICAgLyoqXG4gICAgICogQSBuZXV0cmFsIGVsZW1lbnQgc3Vycm91bmRpbmcgdGhlIGNvbnRyb2wgZWxlbWVudC5cbiAgICAgKiBAbWVtYmVyIHtFbGVtZW50fSB3cmFwcGVyXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQ29udHJvbCNcbiAgICAgKi9cbiAgICBpZiAoIHRoaXMuYW5jaG9yID09ICQuQ29udHJvbEFuY2hvci5BQlNPTFVURSApIHtcbiAgICAgICAgdGhpcy53cmFwcGVyICAgID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwiZGl2XCIgKTtcbiAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gdHlwZW9mIChvcHRpb25zLnRvcCkgPT0gXCJudW1iZXJcIiA/IChvcHRpb25zLnRvcCArICdweCcpIDogb3B0aW9ucy50b3A7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5sZWZ0ICA9IHR5cGVvZiAob3B0aW9ucy5sZWZ0KSA9PSBcIm51bWJlclwiID8gKG9wdGlvbnMubGVmdCArICdweCcpIDogb3B0aW9ucy5sZWZ0O1xuICAgICAgICB0aGlzLndyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gdHlwZW9mIChvcHRpb25zLmhlaWdodCkgPT0gXCJudW1iZXJcIiA/IChvcHRpb25zLmhlaWdodCArICdweCcpIDogb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS53aWR0aCAgPSB0eXBlb2YgKG9wdGlvbnMud2lkdGgpID09IFwibnVtYmVyXCIgPyAob3B0aW9ucy53aWR0aCArICdweCcpIDogb3B0aW9ucy53aWR0aDtcbiAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLm1hcmdpbiA9IFwiMHB4XCI7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5wYWRkaW5nID0gXCIwcHhcIjtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53cmFwcGVyICAgID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwiZGl2XCIgKTtcbiAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICBpZiAoIHRoaXMuYW5jaG9yID09ICQuQ29udHJvbEFuY2hvci5OT05FICkge1xuICAgICAgICAgICAgLy8gSUU2IGZpeFxuICAgICAgICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLndpZHRoID0gdGhpcy53cmFwcGVyLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCggdGhpcy5lbGVtZW50ICk7XG5cbiAgICBpZiAob3B0aW9ucy5hdHRhY2hUb1ZpZXdlciApIHtcbiAgICAgICAgaWYgKCB0aGlzLmFuY2hvciA9PSAkLkNvbnRyb2xBbmNob3IuVE9QX1JJR0hUIHx8XG4gICAgICAgICAgICAgdGhpcy5hbmNob3IgPT0gJC5Db250cm9sQW5jaG9yLkJPVFRPTV9SSUdIVCApIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICB0aGlzLndyYXBwZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuZmlyc3RDaGlsZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLndyYXBwZXIgKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCggdGhpcy53cmFwcGVyICk7XG4gICAgfVxufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkNvbnRyb2wucHJvdG90eXBlICovXG4kLkNvbnRyb2wucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgY29udHJvbCBmcm9tIHRoZSBjb250YWluZXIuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMud3JhcHBlci5yZW1vdmVDaGlsZCggdGhpcy5lbGVtZW50ICk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKCB0aGlzLndyYXBwZXIgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgY29udHJvbCBpcyBjdXJyZW50bHkgdmlzaWJsZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGN1cnJlbmx5IHZpc2libGUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc1Zpc2libGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cmFwcGVyLnN0eWxlLmRpc3BsYXkgIT0gXCJub25lXCI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGNvbnRyb2wuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSB2aXNpYmxlIC0gdHJ1ZSB0byBtYWtlIHZpc2libGUsIGZhbHNlIHRvIGhpZGUuXG4gICAgICovXG4gICAgc2V0VmlzaWJsZTogZnVuY3Rpb24oIHZpc2libGUgKSB7XG4gICAgICAgIHRoaXMud3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/XG4gICAgICAgICAgICAoIHRoaXMuYW5jaG9yID09ICQuQ29udHJvbEFuY2hvci5BQlNPTFVURSA/ICdibG9jaycgOiAnaW5saW5lLWJsb2NrJyApIDpcbiAgICAgICAgICAgIFwibm9uZVwiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBvcGFjaXR5IGxldmVsIGZvciB0aGUgY29udHJvbC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb3BhY3RpeSAtIGEgdmFsdWUgYmV0d2VlbiAxIGFuZCAwIGluY2x1c2l2ZWx5LlxuICAgICAqL1xuICAgIHNldE9wYWNpdHk6IGZ1bmN0aW9uKCBvcGFjaXR5ICkge1xuICAgICAgICBpZiAoIHRoaXMuZWxlbWVudFsgJC5TSUdOQUwgXSAmJiAkLkJyb3dzZXIudmVuZG9yID09ICQuQlJPV1NFUlMuSUUgKSB7XG4gICAgICAgICAgICAkLnNldEVsZW1lbnRPcGFjaXR5KCB0aGlzLmVsZW1lbnQsIG9wYWNpdHksIHRydWUgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuc2V0RWxlbWVudE9wYWNpdHkoIHRoaXMud3JhcHBlciwgb3BhY2l0eSwgdHJ1ZSApO1xuICAgICAgICB9XG4gICAgfVxufTtcblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBDb250cm9sRG9ja1xuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQ29udHJvbERvY2tcbiAgICAgKiBAY2xhc3NkZXNjIFByb3ZpZGVzIGEgY29udGFpbmVyIGVsZW1lbnQgKGEgJmx0O2Zvcm0mZ3Q7IGVsZW1lbnQpIHdpdGggc3VwcG9ydCBmb3IgdGhlIGxheW91dCBvZiBjb250cm9sIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKi9cbiAgICAkLkNvbnRyb2xEb2NrID0gZnVuY3Rpb24oIG9wdGlvbnMgKXtcbiAgICAgICAgdmFyIGxheW91dHMgPSBbICd0b3BsZWZ0JywgJ3RvcHJpZ2h0JywgJ2JvdHRvbXJpZ2h0JywgJ2JvdHRvbWxlZnQnXSxcbiAgICAgICAgICAgIGxheW91dCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgJC5leHRlbmQoIHRydWUsIHRoaXMsIHtcbiAgICAgICAgICAgIGlkOiAnY29udHJvbGRvY2stJyArICQubm93KCkgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogJC5tYWtlTmV1dHJhbEVsZW1lbnQoICdkaXYnICksXG4gICAgICAgICAgICBjb250cm9sczogW11cbiAgICAgICAgfSwgb3B0aW9ucyApO1xuXG4gICAgICAgIC8vIERpc2FibGUgdGhlIGZvcm0ncyBzdWJtaXQ7IG90aGVyd2lzZSBidXR0b24gY2xpY2tzIGFuZCByZXR1cm4ga2V5c1xuICAgICAgICAvLyBjYW4gdHJpZ2dlciBpdC5cbiAgICAgICAgdGhpcy5jb250YWluZXIub25zdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiggdGhpcy5lbGVtZW50ICl7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIHRoaXMuZWxlbWVudCApO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKCB0aGlzLmNvbnRhaW5lciApO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yKCBpID0gMDsgaSA8IGxheW91dHMubGVuZ3RoOyBpKysgKXtcbiAgICAgICAgICAgIGxheW91dCA9IGxheW91dHNbIGkgXTtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHNbIGxheW91dCBdID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwiZGl2XCIgKTtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbHNbIGxheW91dCBdLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGlmICggbGF5b3V0Lm1hdGNoKCAnbGVmdCcgKSApe1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNbIGxheW91dCBdLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICggbGF5b3V0Lm1hdGNoKCAncmlnaHQnICkgKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzWyBsYXlvdXQgXS5zdHlsZS5yaWdodCA9ICcwcHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCBsYXlvdXQubWF0Y2goICd0b3AnICkgKXtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzWyBsYXlvdXQgXS5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICggbGF5b3V0Lm1hdGNoKCAnYm90dG9tJyApICl7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sc1sgbGF5b3V0IF0uc3R5bGUuYm90dG9tID0gJzBweCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCggdGhpcy5jb250cm9scy50b3BsZWZ0ICk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLmNvbnRyb2xzLnRvcHJpZ2h0ICk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLmNvbnRyb2xzLmJvdHRvbXJpZ2h0ICk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLmNvbnRyb2xzLmJvdHRvbWxlZnQgKTtcbiAgICB9O1xuXG4gICAgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkNvbnRyb2xEb2NrLnByb3RvdHlwZSAqL1xuICAgICQuQ29udHJvbERvY2sucHJvdG90eXBlID0ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGFkZENvbnRyb2w6IGZ1bmN0aW9uICggZWxlbWVudCwgY29udHJvbE9wdGlvbnMgKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBlbGVtZW50ICk7XG4gICAgICAgICAgICB2YXIgZGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKCBnZXRDb250cm9sSW5kZXgoIHRoaXMsIGVsZW1lbnQgKSA+PSAwICkge1xuICAgICAgICAgICAgICAgIHJldHVybjsgICAgIC8vIHRoZXkncmUgdHJ5aW5nIHRvIGFkZCBhIGR1cGxpY2F0ZSBjb250cm9sXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAoIGNvbnRyb2xPcHRpb25zLmFuY2hvciApIHtcbiAgICAgICAgICAgICAgICBjYXNlICQuQ29udHJvbEFuY2hvci5UT1BfUklHSFQ6XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuY29udHJvbHMudG9wcmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nVG9wID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAkLkNvbnRyb2xBbmNob3IuQk9UVE9NX1JJR0hUOlxuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmNvbnRyb2xzLmJvdHRvbXJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodCA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJC5Db250cm9sQW5jaG9yLkJPVFRPTV9MRUZUOlxuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmNvbnRyb2xzLmJvdHRvbWxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICQuQ29udHJvbEFuY2hvci5UT1BfTEVGVDpcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5jb250cm9scy50b3BsZWZ0O1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nVG9wID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAkLkNvbnRyb2xBbmNob3IuQUJTT0xVVEU6XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm1hcmdpbiA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZyA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY2FzZSAkLkNvbnRyb2xBbmNob3IuTk9ORTpcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubWFyZ2luID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wYWRkaW5nID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29udHJvbHMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgJC5Db250cm9sKCBlbGVtZW50LCBjb250cm9sT3B0aW9ucywgZGl2IClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLkNvbnRyb2xEb2NrfSBDaGFpbmFibGUuXG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVDb250cm9sOiBmdW5jdGlvbiAoIGVsZW1lbnQgKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBlbGVtZW50ICk7XG4gICAgICAgICAgICB2YXIgaSA9IGdldENvbnRyb2xJbmRleCggdGhpcywgZWxlbWVudCApO1xuXG4gICAgICAgICAgICBpZiAoIGkgPj0gMCApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzWyBpIF0uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHMuc3BsaWNlKCBpLCAxICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5Db250cm9sRG9ja30gQ2hhaW5hYmxlLlxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXJDb250cm9sczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2hpbGUgKCB0aGlzLmNvbnRyb2xzLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9scy5wb3AoKS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgYXJlQ29udHJvbHNFbmFibGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgZm9yICggaSA9IHRoaXMuY29udHJvbHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLmNvbnRyb2xzWyBpIF0uaXNWaXNpYmxlKCkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLkNvbnRyb2xEb2NrfSBDaGFpbmFibGUuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRDb250cm9sc0VuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICkge1xuICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgIGZvciAoIGkgPSB0aGlzLmNvbnRyb2xzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNbIGkgXS5zZXRWaXNpYmxlKCBlbmFibGVkICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICB9O1xuXG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gVXRpbGl0eSBtZXRob2RzXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIGdldENvbnRyb2xJbmRleCggZG9jaywgZWxlbWVudCApIHtcbiAgICAgICAgdmFyIGNvbnRyb2xzID0gZG9jay5jb250cm9scyxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yICggaSA9IGNvbnRyb2xzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgICAgICAgICAgaWYgKCBjb250cm9sc1sgaSBdLmVsZW1lbnQgPT0gZWxlbWVudCApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gUGxhY2VtZW50XG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMTYgT3BlblNlYWRyYWdvbiBjb250cmlidXRvcnNcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgQ29kZVBsZXggRm91bmRhdGlvbiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRFxuICogVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuICAgIC8qKlxuICAgICAqIEFuIGVudW1lcmF0aW9uIG9mIHBvc2l0aW9ucyB0byBhbmNob3IgYW4gZWxlbWVudC5cbiAgICAgKiBAbWVtYmVyIFBsYWNlbWVudFxuICAgICAqIEBtZW1iZXJPZiBPcGVuU2VhZHJhZ29uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IENFTlRFUlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IFRPUF9MRUZUXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBsYWNlbWVudH0gVE9QXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBsYWNlbWVudH0gVE9QX1JJR0hUXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBsYWNlbWVudH0gUklHSFRcbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBCT1RUT01fUklHSFRcbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBCT1RUT01cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBCT1RUT01fTEVGVFxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IExFRlRcbiAgICAgKi9cbiAgICAkLlBsYWNlbWVudCA9ICQuZnJlZXplT2JqZWN0KHtcbiAgICAgICAgQ0VOVEVSOiAgICAgICAwLFxuICAgICAgICBUT1BfTEVGVDogICAgIDEsXG4gICAgICAgIFRPUDogICAgICAgICAgMixcbiAgICAgICAgVE9QX1JJR0hUOiAgICAzLFxuICAgICAgICBSSUdIVDogICAgICAgIDQsXG4gICAgICAgIEJPVFRPTV9SSUdIVDogNSxcbiAgICAgICAgQk9UVE9NOiAgICAgICA2LFxuICAgICAgICBCT1RUT01fTEVGVDogIDcsXG4gICAgICAgIExFRlQ6ICAgICAgICAgOCxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgMDoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNIb3Jpem9udGFsbHlDZW50ZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1JpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNWZXJ0aWNhbGx5Q2VudGVyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaXNCb3R0b206IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMToge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0hvcml6b250YWxseUNlbnRlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1JpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1ZlcnRpY2FsbHlDZW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNCb3R0b206IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMjoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNIb3Jpem9udGFsbHlDZW50ZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1JpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1ZlcnRpY2FsbHlDZW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNCb3R0b206IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMzoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNIb3Jpem9udGFsbHlDZW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNSaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1ZlcnRpY2FsbHlDZW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNCb3R0b206IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNDoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNIb3Jpem9udGFsbHlDZW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNSaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNWZXJ0aWNhbGx5Q2VudGVyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaXNCb3R0b206IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNToge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNIb3Jpem9udGFsbHlDZW50ZXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNSaWdodDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNWZXJ0aWNhbGx5Q2VudGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzQm90dG9tOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNjoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNIb3Jpem9udGFsbHlDZW50ZXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc1JpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNWZXJ0aWNhbGx5Q2VudGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzQm90dG9tOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgNzoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0hvcml6b250YWxseUNlbnRlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1JpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNWZXJ0aWNhbGx5Q2VudGVyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzQm90dG9tOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgODoge1xuICAgICAgICAgICAgICAgIGlzTGVmdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0hvcml6b250YWxseUNlbnRlcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1JpZ2h0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc1RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgaXNWZXJ0aWNhbGx5Q2VudGVyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgaXNCb3R0b206IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxufShPcGVuU2VhZHJhZ29uKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gVmlld2VyXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vLyBkaWN0aW9uYXJ5IGZyb20gaGFzaCB0byBwcml2YXRlIHByb3BlcnRpZXNcbnZhciBUSElTID0ge307XG52YXIgbmV4dEhhc2ggPSAxO1xuXG4vKipcbiAqXG4gKiBUaGUgbWFpbiBwb2ludCBvZiBlbnRyeSBpbnRvIGNyZWF0aW5nIGEgem9vbWFibGUgaW1hZ2Ugb24gdGhlIHBhZ2UuPGJyPlxuICogPGJyPlxuICogV2UgaGF2ZSBwcm92aWRlZCBhbiBpZGlvbWF0aWMgamF2YXNjcmlwdCBjb25zdHJ1Y3RvciB3aGljaCB0YWtlc1xuICogYSBzaW5nbGUgb2JqZWN0LCBidXQgc3RpbGwgc3VwcG9ydCB0aGUgbGVnYWN5IHBvc2l0aW9uYWwgYXJndW1lbnRzLjxicj5cbiAqIDxicj5cbiAqIFRoZSBvcHRpb25zIGJlbG93IGFyZSBnaXZlbiBpbiBvcmRlciB0aGF0IHRoZXkgYXBwZWFyZWQgaW4gdGhlIGNvbnN0cnVjdG9yXG4gKiBhcyBhcmd1bWVudHMgYW5kIHdlIHRyYW5zbGF0ZSBhIHBvc2l0aW9uYWwgY2FsbCBpbnRvIGFuIGlkaW9tYXRpYyBjYWxsLjxicj5cbiAqIDxicj5cbiAqIFRvIGNyZWF0ZSBhIHZpZXdlciwgeW91IGNhbiB1c2UgZWl0aGVyIG9mIHRoaXMgbWV0aG9kczo8YnI+XG4gKiA8dWw+XG4gKiA8bGk+PGNvZGU+dmFyIHZpZXdlciA9IG5ldyBPcGVuU2VhZHJhZ29uLlZpZXdlcihvcHRpb25zKTs8L2NvZGU+PC9saT5cbiAqIDxsaT48Y29kZT52YXIgdmlld2VyID0gT3BlblNlYWRyYWdvbihvcHRpb25zKTs8L2NvZGU+PC9saT5cbiAqIDwvdWw+XG4gKiBAY2xhc3MgVmlld2VyXG4gKiBAY2xhc3NkZXNjIFRoZSBtYWluIE9wZW5TZWFkcmFnb24gdmlld2VyIGNsYXNzLlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLkV2ZW50U291cmNlXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLkNvbnRyb2xEb2NrXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uT3B0aW9uc30gb3B0aW9ucyAtIFZpZXdlciBvcHRpb25zLlxuICpcbiAqKi9cbiQuVmlld2VyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cbiAgICB2YXIgYXJncyAgPSBhcmd1bWVudHMsXG4gICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgaTtcblxuXG4gICAgLy9iYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBwb3NpdGlvbmFsIGFyZ3Mgd2hpbGUgcHJlZmVyaW5nIG1vcmVcbiAgICAvL2lkaW9tYXRpYyBqYXZhc2NyaXB0IG9wdGlvbnMgb2JqZWN0IGFzIHRoZSBvbmx5IGFyZ3VtZW50XG4gICAgaWYoICEkLmlzUGxhaW5PYmplY3QoIG9wdGlvbnMgKSApe1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgICAgICBhcmdzWyAwIF0sXG4gICAgICAgICAgICB4bWxQYXRoOiAgICAgICAgICAgIGFyZ3MubGVuZ3RoID4gMSA/IGFyZ3NbIDEgXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHByZWZpeFVybDogICAgICAgICAgYXJncy5sZW5ndGggPiAyID8gYXJnc1sgMiBdIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29udHJvbHM6ICAgICAgICAgICBhcmdzLmxlbmd0aCA+IDMgPyBhcmdzWyAzIF0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdmVybGF5czogICAgICAgICAgIGFyZ3MubGVuZ3RoID4gNCA/IGFyZ3NbIDQgXSA6IHVuZGVmaW5lZFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vb3B0aW9ucy5jb25maWcgYW5kIHRoZSBnZW5lcmFsIGNvbmZpZyBhcmd1bWVudCBhcmUgZGVwcmVjYXRlZFxuICAgIC8vaW4gZmF2b3Igb2YgdGhlIG1vcmUgZGlyZWN0IHNwZWNpZmljYXRpb24gb2Ygb3B0aW9uYWwgc2V0dGluZ3NcbiAgICAvL2JlaW5nIHBhc3MgZGlyZWN0bHkgb24gdGhlIG9wdGlvbnMgb2JqZWN0XG4gICAgaWYgKCBvcHRpb25zLmNvbmZpZyApe1xuICAgICAgICAkLmV4dGVuZCggdHJ1ZSwgb3B0aW9ucywgb3B0aW9ucy5jb25maWcgKTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuY29uZmlnO1xuICAgIH1cblxuICAgIC8vUHVibGljIHByb3BlcnRpZXNcbiAgICAvL0FsbG93IHRoZSBvcHRpb25zIG9iamVjdCB0byBvdmVycmlkZSBnbG9iYWwgZGVmYXVsdHNcbiAgICAkLmV4dGVuZCggdHJ1ZSwgdGhpcywge1xuXG4gICAgICAgIC8vaW50ZXJuYWwgc3RhdGUgYW5kIGRvbSBpZGVudGlmaWVyc1xuICAgICAgICBpZDogICAgICAgICAgICAgb3B0aW9ucy5pZCxcbiAgICAgICAgaGFzaDogICAgICAgICAgIG9wdGlvbnMuaGFzaCB8fCBuZXh0SGFzaCsrLFxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggZm9yIHBhZ2UgdG8gYmUgc2hvd24gZmlyc3QgbmV4dCB0aW1lIG9wZW4oKSBpcyBjYWxsZWQgKG9ubHkgdXNlZCBpbiBzZXF1ZW5jZU1vZGUpLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGluaXRpYWxQYWdlXG4gICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlciNcbiAgICAgICAgICovXG4gICAgICAgIGluaXRpYWxQYWdlOiAgICAwLFxuXG4gICAgICAgIC8vZG9tIG5vZGVzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGFyZW50IGVsZW1lbnQgb2YgdGhpcyBWaWV3ZXIgaW5zdGFuY2UsIHBhc3NlZCBpbiB3aGVuIHRoZSBWaWV3ZXIgd2FzIGNyZWF0ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyI1xuICAgICAgICAgKi9cbiAgICAgICAgZWxlbWVudDogICAgICAgIG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBICZsdDtkaXYmZ3Q7IGVsZW1lbnQgKHByb3ZpZGVkIGJ5IHtAbGluayBPcGVuU2VhZHJhZ29uLkNvbnRyb2xEb2NrfSksIHRoZSBiYXNlIGVsZW1lbnQgb2YgdGhpcyBWaWV3ZXIgaW5zdGFuY2UuPGJyPjxicj5cbiAgICAgICAgICogQ2hpbGQgZWxlbWVudCBvZiB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjZWxlbWVudH0uXG4gICAgICAgICAqIEBtZW1iZXIge0VsZW1lbnR9IGNvbnRhaW5lclxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXIjXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluZXI6ICAgICAgbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgJmx0O2RpdiZndDsgZWxlbWVudCwgdGhlIGVsZW1lbnQgd2hlcmUgdXNlci1pbnB1dCBldmVudHMgYXJlIGhhbmRsZWQgZm9yIHBhbm5pbmcgYW5kIHpvb21pbmcuPGJyPjxicj5cbiAgICAgICAgICogQ2hpbGQgZWxlbWVudCBvZiB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY29udGFpbmVyfSxcbiAgICAgICAgICogcG9zaXRpb25lZCBvbiB0b3Agb2Yge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2tleWJvYXJkQ29tbWFuZEFyZWF9Ljxicj48YnI+XG4gICAgICAgICAqIFRoZSBwYXJlbnQgb2Yge0BsaW5rIE9wZW5TZWFkcmFnb24uRHJhd2VyI2NhbnZhc30gaW5zdGFuY2VzLlxuICAgICAgICAgKiBAbWVtYmVyIHtFbGVtZW50fSBjYW52YXNcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyI1xuICAgICAgICAgKi9cbiAgICAgICAgY2FudmFzOiAgICAgICAgIG51bGwsXG5cbiAgICAgICAgLy8gT3ZlcmxheXMgbGlzdC4gQW4gb3ZlcmxheSBhbGxvd3MgdG8gYWRkIGh0bWwgb24gdG9wIG9mIHRoZSB2aWV3ZXIuXG4gICAgICAgIG92ZXJsYXlzOiAgICAgICAgICAgW10sXG4gICAgICAgIC8vIENvbnRhaW5lciBpbnNpZGUgdGhlIGNhbnZhcyB3aGVyZSBvdmVybGF5cyBhcmUgZHJhd24uXG4gICAgICAgIG92ZXJsYXlzQ29udGFpbmVyOiAgbnVsbCxcblxuICAgICAgICAvL3ByaXZhdGUgc3RhdGUgcHJvcGVydGllc1xuICAgICAgICBwcmV2aW91c0JvZHk6ICAgW10sXG5cbiAgICAgICAgLy9UaGlzIHdhcyBvcmlnaW5hbGx5IGluaXRpYWxpemVkIGluIHRoZSBjb25zdHJ1Y3RvciBhbmQgc28gY291bGQgbmV2ZXJcbiAgICAgICAgLy9oYXZlIGFueXRoaW5nIGluIGl0LiAgbm93IGl0IGNhbiBiZWNhdXNlIHdlIGFsbG93IGl0IHRvIGJlIHNwZWNpZmllZFxuICAgICAgICAvL2luIHRoZSBvcHRpb25zIGFuZCBpcyBvbmx5IGVtcHR5IGJ5IGRlZmF1bHQgaWYgbm90IHNwZWNpZmllZC4gQWxzb1xuICAgICAgICAvL3RoaXMgYXJyYXkgd2FzIHJldHVybmVkIGZyb20gZ2V0X2NvbnRyb2xzIHdoaWNoIEkgZmluZCBjb25mdXNpbmdcbiAgICAgICAgLy9zaW5jZSB0aGlzIG9iamVjdCBoYXMgYSBjb250cm9scyBwcm9wZXJ0eSB3aGljaCBpcyB0cmVhdGVkIGluIG90aGVyXG4gICAgICAgIC8vZnVuY3Rpb25zIGxpa2UgY2xlYXJDb250cm9scy4gIEknbSByZW1vdmluZyB0aGUgYWNjZXNzb3JzLlxuICAgICAgICBjdXN0b21Db250cm9sczogW10sXG5cbiAgICAgICAgLy9UaGVzZSBhcmUgb3JpZ2luYWxseSBub3QgcGFydCBvcHRpb25zIGJ1dCBkZWNsYXJlZCBhcyBtZW1iZXJzXG4gICAgICAgIC8vaW4gaW5pdGlhbGl6ZS4gIEl0J3Mgc3RpbGwgY29uc2lkZXJlZCBpZGlvbWF0aWMgdG8gcHV0IHRoZW0gaGVyZVxuICAgICAgICBzb3VyY2U6ICAgICAgICAgbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhhbmRsZXMgcmVuZGVyaW5nIG9mIHRpbGVzIGluIHRoZSB2aWV3ZXIuIENyZWF0ZWQgZm9yIGVhY2ggVGlsZVNvdXJjZSBvcGVuZWQuXG4gICAgICAgICAqIEBtZW1iZXIge09wZW5TZWFkcmFnb24uRHJhd2VyfSBkcmF3ZXJcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyI1xuICAgICAgICAgKi9cbiAgICAgICAgZHJhd2VyOiAgICAgICAgICAgICBudWxsLFxuICAgICAgICB3b3JsZDogICAgICAgICAgICAgIG51bGwsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYW5kbGVzIGNvb3JkaW5hdGUtcmVsYXRlZCBmdW5jdGlvbmFsaXR5IC0gem9vbSwgcGFuLCByb3RhdGlvbiwgZXRjLiBDcmVhdGVkIGZvciBlYWNoIFRpbGVTb3VyY2Ugb3BlbmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtPcGVuU2VhZHJhZ29uLlZpZXdwb3J0fSB2aWV3cG9ydFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXIjXG4gICAgICAgICAqL1xuICAgICAgICB2aWV3cG9ydDogICAgICAgbnVsbCxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge09wZW5TZWFkcmFnb24uTmF2aWdhdG9yfSBuYXZpZ2F0b3JcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyI1xuICAgICAgICAgKi9cbiAgICAgICAgbmF2aWdhdG9yOiAgICAgIG51bGwsXG5cbiAgICAgICAgLy9BIGNvbGxlY3Rpb24gdmlld3BvcnQgaXMgYSBzZXBhcmF0ZSB2aWV3cG9ydCB1c2VkIHRvIHByb3ZpZGVcbiAgICAgICAgLy9zaW11bHRhbmVvdXMgcmVuZGVyaW5nIG9mIHNldHMgb2YgdGlsZXNcbiAgICAgICAgY29sbGVjdGlvblZpZXdwb3J0OiAgICAgbnVsbCxcbiAgICAgICAgY29sbGVjdGlvbkRyYXdlcjogICAgICAgbnVsbCxcblxuICAgICAgICAvL1VJIGltYWdlIHJlc291cmNlc1xuICAgICAgICAvL1RPRE86IHJlbmFtZSBuYXZJbWFnZXMgdG8gdWlJbWFnZXNcbiAgICAgICAgbmF2SW1hZ2VzOiAgICAgIG51bGwsXG5cbiAgICAgICAgLy9pbnRlcmZhY2UgYnV0dG9uIGNvbnRyb2xzXG4gICAgICAgIGJ1dHRvbnM6ICAgICAgICBudWxsLFxuXG4gICAgICAgIC8vVE9ETzogdGhpcyBpcyBkZWZ1bmN0IHNvIHNhZmVseSByZW1vdmUgaXRcbiAgICAgICAgcHJvZmlsZXI6ICAgICAgIG51bGxcblxuICAgIH0sICQuREVGQVVMVF9TRVRUSU5HUywgb3B0aW9ucyApO1xuXG4gICAgaWYgKCB0eXBlb2YoIHRoaXMuaGFzaCkgPT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgaGFzaCBtdXN0IGJlIGRlZmluZWQsIGVpdGhlciBieSBzcGVjaWZ5aW5nIG9wdGlvbnMuaWQgb3Igb3B0aW9ucy5oYXNoLlwiKTtcbiAgICB9XG4gICAgaWYgKCB0eXBlb2YoIFRISVNbIHRoaXMuaGFzaCBdICkgIT09IFwidW5kZWZpbmVkXCIgKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdG8gdGhyb3cgYW4gZXJyb3IgaGVyZSwgYXMgdGhlIHVzZXIgbWlnaHQgaGF2ZSBkaXNjYXJkZWRcbiAgICAgICAgLy8gdGhlIHByZXZpb3VzIHZpZXdlciB3aXRoIHRoZSBzYW1lIGhhc2ggYW5kIG5vdyB3YW50IHRvIHJlY3JlYXRlIGl0LlxuICAgICAgICAkLmNvbnNvbGUud2FybihcIkhhc2ggXCIgKyB0aGlzLmhhc2ggKyBcIiBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO1xuICAgIH1cblxuICAgIC8vUHJpdmF0ZSBzdGF0ZSBwcm9wZXJ0aWVzXG4gICAgVEhJU1sgdGhpcy5oYXNoIF0gPSB7XG4gICAgICAgIFwiZnNCb3VuZHNEZWx0YVwiOiAgICAgbmV3ICQuUG9pbnQoIDEsIDEgKSxcbiAgICAgICAgXCJwcmV2Q29udGFpbmVyU2l6ZVwiOiBudWxsLFxuICAgICAgICBcImFuaW1hdGluZ1wiOiAgICAgICAgIGZhbHNlLFxuICAgICAgICBcImZvcmNlUmVkcmF3XCI6ICAgICAgIGZhbHNlLFxuICAgICAgICBcIm1vdXNlSW5zaWRlXCI6ICAgICAgIGZhbHNlLFxuICAgICAgICBcImdyb3VwXCI6ICAgICAgICAgICAgIG51bGwsXG4gICAgICAgIC8vIHdoZXRoZXIgd2Ugc2hvdWxkIGJlIGNvbnRpbnVvdXNseSB6b29taW5nXG4gICAgICAgIFwiem9vbWluZ1wiOiAgICAgICAgICAgZmFsc2UsXG4gICAgICAgIC8vIGhvdyBtdWNoIHdlIHNob3VsZCBiZSBjb250aW51b3VzbHkgem9vbWluZyBieVxuICAgICAgICBcInpvb21GYWN0b3JcIjogICAgICAgIG51bGwsXG4gICAgICAgIFwibGFzdFpvb21UaW1lXCI6ICAgICAgbnVsbCxcbiAgICAgICAgXCJmdWxsUGFnZVwiOiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgXCJvbmZ1bGxzY3JlZW5jaGFuZ2VcIjogbnVsbFxuICAgIH07XG5cbiAgICB0aGlzLl9zZXF1ZW5jZUluZGV4ID0gMDtcbiAgICB0aGlzLl9maXJzdE9wZW4gPSB0cnVlO1xuICAgIHRoaXMuX3VwZGF0ZVJlcXVlc3RJZCA9IG51bGw7XG4gICAgdGhpcy5fbG9hZFF1ZXVlID0gW107XG4gICAgdGhpcy5jdXJyZW50T3ZlcmxheXMgPSBbXTtcblxuICAgIHRoaXMuX2xhc3RTY3JvbGxUaW1lID0gJC5ub3coKTsgLy8gdmFyaWFibGUgdXNlZCB0byBoZWxwIG5vcm1hbGl6ZSB0aGUgc2Nyb2xsIGV2ZW50IHNwZWVkIG9mIGRpZmZlcmVudCBkZXZpY2VzXG5cbiAgICAvL0luaGVyaXQgc29tZSBiZWhhdmlvcnMgYW5kIHByb3BlcnRpZXNcbiAgICAkLkV2ZW50U291cmNlLmNhbGwoIHRoaXMgKTtcblxuICAgIHRoaXMuYWRkSGFuZGxlciggJ29wZW4tZmFpbGVkJywgZnVuY3Rpb24gKCBldmVudCApIHtcbiAgICAgICAgdmFyIG1zZyA9ICQuZ2V0U3RyaW5nKCBcIkVycm9ycy5PcGVuRmFpbGVkXCIsIGV2ZW50LmV2ZW50U291cmNlLCBldmVudC5tZXNzYWdlKTtcbiAgICAgICAgX3RoaXMuX3Nob3dNZXNzYWdlKCBtc2cgKTtcbiAgICB9KTtcblxuICAgICQuQ29udHJvbERvY2suY2FsbCggdGhpcywgb3B0aW9ucyApO1xuXG4gICAgLy9EZWFsIHdpdGggdGlsZSBzb3VyY2VzXG4gICAgaWYgKHRoaXMueG1sUGF0aCkge1xuICAgICAgICAvL0RlcHJlY2F0ZWQgb3B0aW9uLiAgTm93IGl0IGlzIHByZWZlcnJlZCB0byB1c2UgdGhlIHRpbGVTb3VyY2VzIG9wdGlvblxuICAgICAgICB0aGlzLnRpbGVTb3VyY2VzID0gWyB0aGlzLnhtbFBhdGggXTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQgICAgICAgICAgICAgID0gdGhpcy5lbGVtZW50IHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB0aGlzLmlkICk7XG4gICAgdGhpcy5jYW52YXMgICAgICAgICAgICAgICA9ICQubWFrZU5ldXRyYWxFbGVtZW50KCBcImRpdlwiICk7XG5cbiAgICB0aGlzLmNhbnZhcy5jbGFzc05hbWUgPSBcIm9wZW5zZWFkcmFnb24tY2FudmFzXCI7XG4gICAgKGZ1bmN0aW9uKCBzdHlsZSApe1xuICAgICAgICBzdHlsZS53aWR0aCAgICA9IFwiMTAwJVwiO1xuICAgICAgICBzdHlsZS5oZWlnaHQgICA9IFwiMTAwJVwiO1xuICAgICAgICBzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBzdHlsZS50b3AgICAgICA9IFwiMHB4XCI7XG4gICAgICAgIHN0eWxlLmxlZnQgICAgID0gXCIwcHhcIjtcbiAgICB9KHRoaXMuY2FudmFzLnN0eWxlKSk7XG4gICAgJC5zZXRFbGVtZW50VG91Y2hBY3Rpb25Ob25lKCB0aGlzLmNhbnZhcyApO1xuICAgIGlmIChvcHRpb25zLnRhYkluZGV4ICE9PSBcIlwiKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLnRhYkluZGV4ID0gKG9wdGlvbnMudGFiSW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBvcHRpb25zLnRhYkluZGV4KTtcbiAgICB9XG5cbiAgICAvL3RoZSBjb250YWluZXIgaXMgY3JlYXRlZCB0aHJvdWdoIGFwcGx5aW5nIHRoZSBDb250cm9sRG9jayBjb25zdHJ1Y3RvciBhYm92ZVxuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTmFtZSA9IFwib3BlbnNlYWRyYWdvbi1jb250YWluZXJcIjtcbiAgICAoZnVuY3Rpb24oIHN0eWxlICl7XG4gICAgICAgIHN0eWxlLndpZHRoICAgICA9IFwiMTAwJVwiO1xuICAgICAgICBzdHlsZS5oZWlnaHQgICAgPSBcIjEwMCVcIjtcbiAgICAgICAgc3R5bGUucG9zaXRpb24gID0gXCJyZWxhdGl2ZVwiO1xuICAgICAgICBzdHlsZS5vdmVyZmxvdyAgPSBcImhpZGRlblwiO1xuICAgICAgICBzdHlsZS5sZWZ0ICAgICAgPSBcIjBweFwiO1xuICAgICAgICBzdHlsZS50b3AgICAgICAgPSBcIjBweFwiO1xuICAgICAgICBzdHlsZS50ZXh0QWxpZ24gPSBcImxlZnRcIjsgIC8vIG5lZWRlZCB0byBwcm90ZWN0IGFnYWluc3RcbiAgICB9KCB0aGlzLmNvbnRhaW5lci5zdHlsZSApKTtcblxuICAgIHRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSggdGhpcy5jYW52YXMsIHRoaXMuY29udGFpbmVyLmZpcnN0Q2hpbGQgKTtcbiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoIHRoaXMuY29udGFpbmVyICk7XG5cbiAgICAvL1VzZWQgZm9yIHRvZ2dsaW5nIGJldHdlZW4gZnVsbHNjcmVlbiBhbmQgZGVmYXVsdCBjb250YWluZXIgc2l6ZVxuICAgIC8vVE9ETzogdGhlc2UgY2FuIGJlIGNsb3N1cmUgcHJpdmF0ZSBhbmQgc2hhcmVkIGFjcm9zcyBWaWV3ZXJcbiAgICAvLyAgICAgIGluc3RhbmNlcy5cbiAgICB0aGlzLmJvZHlXaWR0aCAgICAgID0gZG9jdW1lbnQuYm9keS5zdHlsZS53aWR0aDtcbiAgICB0aGlzLmJvZHlIZWlnaHQgICAgID0gZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQ7XG4gICAgdGhpcy5ib2R5T3ZlcmZsb3cgICA9IGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c7XG4gICAgdGhpcy5kb2NPdmVyZmxvdyAgICA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdztcblxuICAgIHRoaXMuaW5uZXJUcmFja2VyID0gbmV3ICQuTW91c2VUcmFja2VyKHtcbiAgICAgICAgZWxlbWVudDogICAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyxcbiAgICAgICAgc3RhcnREaXNhYmxlZDogICAgICAgICAgICAhdGhpcy5tb3VzZU5hdkVuYWJsZWQsXG4gICAgICAgIGNsaWNrVGltZVRocmVzaG9sZDogICAgICAgdGhpcy5jbGlja1RpbWVUaHJlc2hvbGQsXG4gICAgICAgIGNsaWNrRGlzdFRocmVzaG9sZDogICAgICAgdGhpcy5jbGlja0Rpc3RUaHJlc2hvbGQsXG4gICAgICAgIGRibENsaWNrVGltZVRocmVzaG9sZDogICAgdGhpcy5kYmxDbGlja1RpbWVUaHJlc2hvbGQsXG4gICAgICAgIGRibENsaWNrRGlzdFRocmVzaG9sZDogICAgdGhpcy5kYmxDbGlja0Rpc3RUaHJlc2hvbGQsXG4gICAgICAgIGtleURvd25IYW5kbGVyOiAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNLZXlEb3duICksXG4gICAgICAgIGtleUhhbmRsZXI6ICAgICAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNLZXlQcmVzcyApLFxuICAgICAgICBjbGlja0hhbmRsZXI6ICAgICAgICAgICAgICQuZGVsZWdhdGUoIHRoaXMsIG9uQ2FudmFzQ2xpY2sgKSxcbiAgICAgICAgZGJsQ2xpY2tIYW5kbGVyOiAgICAgICAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNhbnZhc0RibENsaWNrICksXG4gICAgICAgIGRyYWdIYW5kbGVyOiAgICAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNEcmFnICksXG4gICAgICAgIGRyYWdFbmRIYW5kbGVyOiAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNEcmFnRW5kICksXG4gICAgICAgIGVudGVySGFuZGxlcjogICAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNFbnRlciApLFxuICAgICAgICBleGl0SGFuZGxlcjogICAgICAgICAgICAgICQuZGVsZWdhdGUoIHRoaXMsIG9uQ2FudmFzRXhpdCApLFxuICAgICAgICBwcmVzc0hhbmRsZXI6ICAgICAgICAgICAgICQuZGVsZWdhdGUoIHRoaXMsIG9uQ2FudmFzUHJlc3MgKSxcbiAgICAgICAgcmVsZWFzZUhhbmRsZXI6ICAgICAgICAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNhbnZhc1JlbGVhc2UgKSxcbiAgICAgICAgbm9uUHJpbWFyeVByZXNzSGFuZGxlcjogICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNhbnZhc05vblByaW1hcnlQcmVzcyApLFxuICAgICAgICBub25QcmltYXJ5UmVsZWFzZUhhbmRsZXI6ICQuZGVsZWdhdGUoIHRoaXMsIG9uQ2FudmFzTm9uUHJpbWFyeVJlbGVhc2UgKSxcbiAgICAgICAgc2Nyb2xsSGFuZGxlcjogICAgICAgICAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNhbnZhc1Njcm9sbCApLFxuICAgICAgICBwaW5jaEhhbmRsZXI6ICAgICAgICAgICAgICQuZGVsZWdhdGUoIHRoaXMsIG9uQ2FudmFzUGluY2ggKVxuICAgIH0pO1xuXG4gICAgdGhpcy5vdXRlclRyYWNrZXIgPSBuZXcgJC5Nb3VzZVRyYWNrZXIoe1xuICAgICAgICBlbGVtZW50OiAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLFxuICAgICAgICBzdGFydERpc2FibGVkOiAgICAgICAgICF0aGlzLm1vdXNlTmF2RW5hYmxlZCxcbiAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiAgICB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiAgICB0aGlzLmNsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgZGJsQ2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmRibENsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgZGJsQ2xpY2tEaXN0VGhyZXNob2xkOiB0aGlzLmRibENsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgZW50ZXJIYW5kbGVyOiAgICAgICAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNvbnRhaW5lckVudGVyICksXG4gICAgICAgIGV4aXRIYW5kbGVyOiAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25Db250YWluZXJFeGl0IClcbiAgICB9KTtcblxuICAgIGlmKCB0aGlzLnRvb2xiYXIgKXtcbiAgICAgICAgdGhpcy50b29sYmFyID0gbmV3ICQuQ29udHJvbERvY2soeyBlbGVtZW50OiB0aGlzLnRvb2xiYXIgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5iaW5kU3RhbmRhcmRDb250cm9scygpO1xuXG4gICAgVEhJU1sgdGhpcy5oYXNoIF0ucHJldkNvbnRhaW5lclNpemUgPSBfZ2V0U2FmZUVsZW1TaXplKCB0aGlzLmNvbnRhaW5lciApO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSB3b3JsZFxuICAgIHRoaXMud29ybGQgPSBuZXcgJC5Xb3JsZCh7XG4gICAgICAgIHZpZXdlcjogdGhpc1xuICAgIH0pO1xuXG4gICAgdGhpcy53b3JsZC5hZGRIYW5kbGVyKCdhZGQtaXRlbScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgd2UgbWFpbnRhaW4gdGhlIHNvdXJjZSBwcm9wZXJ0eVxuICAgICAgICBfdGhpcy5zb3VyY2UgPSBfdGhpcy53b3JsZC5nZXRJdGVtQXQoMCkuc291cmNlO1xuXG4gICAgICAgIFRISVNbIF90aGlzLmhhc2ggXS5mb3JjZVJlZHJhdyA9IHRydWU7XG5cbiAgICAgICAgaWYgKCFfdGhpcy5fdXBkYXRlUmVxdWVzdElkKSB7XG4gICAgICAgICAgICBfdGhpcy5fdXBkYXRlUmVxdWVzdElkID0gc2NoZWR1bGVVcGRhdGUoIF90aGlzLCB1cGRhdGVNdWx0aSApO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLndvcmxkLmFkZEhhbmRsZXIoJ3JlbW92ZS1pdGVtJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSBtYWludGFpbiB0aGUgc291cmNlIHByb3BlcnR5XG4gICAgICAgIGlmIChfdGhpcy53b3JsZC5nZXRJdGVtQ291bnQoKSkge1xuICAgICAgICAgICAgX3RoaXMuc291cmNlID0gX3RoaXMud29ybGQuZ2V0SXRlbUF0KDApLnNvdXJjZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBUSElTWyBfdGhpcy5oYXNoIF0uZm9yY2VSZWRyYXcgPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgdGhpcy53b3JsZC5hZGRIYW5kbGVyKCdtZXRyaWNzLWNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpcy52aWV3cG9ydCkge1xuICAgICAgICAgICAgX3RoaXMudmlld3BvcnQuX3NldENvbnRlbnRCb3VuZHMoX3RoaXMud29ybGQuZ2V0SG9tZUJvdW5kcygpLCBfdGhpcy53b3JsZC5nZXRDb250ZW50RmFjdG9yKCkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLndvcmxkLmFkZEhhbmRsZXIoJ2l0ZW0taW5kZXgtY2hhbmdlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB3ZSBtYWludGFpbiB0aGUgc291cmNlIHByb3BlcnR5XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IF90aGlzLndvcmxkLmdldEl0ZW1BdCgwKS5zb3VyY2U7XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHZpZXdwb3J0XG4gICAgdGhpcy52aWV3cG9ydCA9IG5ldyAkLlZpZXdwb3J0KHtcbiAgICAgICAgY29udGFpbmVyU2l6ZTogICAgICBUSElTWyB0aGlzLmhhc2ggXS5wcmV2Q29udGFpbmVyU2l6ZSxcbiAgICAgICAgc3ByaW5nU3RpZmZuZXNzOiAgICB0aGlzLnNwcmluZ1N0aWZmbmVzcyxcbiAgICAgICAgYW5pbWF0aW9uVGltZTogICAgICB0aGlzLmFuaW1hdGlvblRpbWUsXG4gICAgICAgIG1pblpvb21JbWFnZVJhdGlvOiAgdGhpcy5taW5ab29tSW1hZ2VSYXRpbyxcbiAgICAgICAgbWF4Wm9vbVBpeGVsUmF0aW86ICB0aGlzLm1heFpvb21QaXhlbFJhdGlvLFxuICAgICAgICB2aXNpYmlsaXR5UmF0aW86ICAgIHRoaXMudmlzaWJpbGl0eVJhdGlvLFxuICAgICAgICB3cmFwSG9yaXpvbnRhbDogICAgIHRoaXMud3JhcEhvcml6b250YWwsXG4gICAgICAgIHdyYXBWZXJ0aWNhbDogICAgICAgdGhpcy53cmFwVmVydGljYWwsXG4gICAgICAgIGRlZmF1bHRab29tTGV2ZWw6ICAgdGhpcy5kZWZhdWx0Wm9vbUxldmVsLFxuICAgICAgICBtaW5ab29tTGV2ZWw6ICAgICAgIHRoaXMubWluWm9vbUxldmVsLFxuICAgICAgICBtYXhab29tTGV2ZWw6ICAgICAgIHRoaXMubWF4Wm9vbUxldmVsLFxuICAgICAgICB2aWV3ZXI6ICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgIGRlZ3JlZXM6ICAgICAgICAgICAgdGhpcy5kZWdyZWVzLFxuICAgICAgICBuYXZpZ2F0b3JSb3RhdGU6ICAgIHRoaXMubmF2aWdhdG9yUm90YXRlLFxuICAgICAgICBob21lRmlsbHNWaWV3ZXI6ICAgIHRoaXMuaG9tZUZpbGxzVmlld2VyLFxuICAgICAgICBtYXJnaW5zOiAgICAgICAgICAgIHRoaXMudmlld3BvcnRNYXJnaW5zXG4gICAgfSk7XG5cbiAgICB0aGlzLnZpZXdwb3J0Ll9zZXRDb250ZW50Qm91bmRzKHRoaXMud29ybGQuZ2V0SG9tZUJvdW5kcygpLCB0aGlzLndvcmxkLmdldENvbnRlbnRGYWN0b3IoKSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIGltYWdlIGxvYWRlclxuICAgIHRoaXMuaW1hZ2VMb2FkZXIgPSBuZXcgJC5JbWFnZUxvYWRlcih7XG4gICAgICAgIGpvYkxpbWl0OiB0aGlzLmltYWdlTG9hZGVyTGltaXQsXG4gICAgICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dFxuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSB0aWxlIGNhY2hlXG4gICAgdGhpcy50aWxlQ2FjaGUgPSBuZXcgJC5UaWxlQ2FjaGUoe1xuICAgICAgICBtYXhJbWFnZUNhY2hlQ291bnQ6IHRoaXMubWF4SW1hZ2VDYWNoZUNvdW50XG4gICAgfSk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIGRyYXdlclxuICAgIHRoaXMuZHJhd2VyID0gbmV3ICQuRHJhd2VyKHtcbiAgICAgICAgdmlld2VyOiAgICAgICAgICAgICB0aGlzLFxuICAgICAgICB2aWV3cG9ydDogICAgICAgICAgIHRoaXMudmlld3BvcnQsXG4gICAgICAgIGVsZW1lbnQ6ICAgICAgICAgICAgdGhpcy5jYW52YXMsXG4gICAgICAgIGRlYnVnR3JpZENvbG9yOiAgICAgdGhpcy5kZWJ1Z0dyaWRDb2xvclxuICAgIH0pO1xuXG4gICAgLy8gT3ZlcmxheSBjb250YWluZXJcbiAgICB0aGlzLm92ZXJsYXlzQ29udGFpbmVyICAgID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwiZGl2XCIgKTtcbiAgICB0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCggdGhpcy5vdmVybGF5c0NvbnRhaW5lciApO1xuXG4gICAgLy8gTm93IHRoYXQgd2UgaGF2ZSBhIGRyYXdlciwgc2VlIGlmIGl0IHN1cHBvcnRzIHJvdGF0ZS4gSWYgbm90IHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSByb3RhdGUgYnV0dG9uc1xuICAgIGlmICghdGhpcy5kcmF3ZXIuY2FuUm90YXRlKCkpIHtcbiAgICAgICAgLy8gRGlzYWJsZS9yZW1vdmUgdGhlIHJvdGF0ZSBsZWZ0L3JpZ2h0IGJ1dHRvbnMgc2luY2UgdGhleSBhcmVuJ3Qgc3VwcG9ydGVkXG4gICAgICAgIGlmICh0aGlzLnJvdGF0ZUxlZnQpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLmJ1dHRvbnMuYnV0dG9ucy5pbmRleE9mKHRoaXMucm90YXRlTGVmdCk7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMuYnV0dG9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnJvdGF0ZUxlZnQuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucm90YXRlUmlnaHQpIHtcbiAgICAgICAgICAgIGkgPSB0aGlzLmJ1dHRvbnMuYnV0dG9ucy5pbmRleE9mKHRoaXMucm90YXRlUmlnaHQpO1xuICAgICAgICAgICAgdGhpcy5idXR0b25zLmJ1dHRvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdGhpcy5idXR0b25zLmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5yb3RhdGVSaWdodC5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vSW5zdGFudGlhdGUgYSBuYXZpZ2F0b3IgaWYgY29uZmlndXJlZFxuICAgIGlmICggdGhpcy5zaG93TmF2aWdhdG9yKXtcbiAgICAgICAgdGhpcy5uYXZpZ2F0b3IgPSBuZXcgJC5OYXZpZ2F0b3Ioe1xuICAgICAgICAgICAgaWQ6ICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdG9ySWQsXG4gICAgICAgICAgICBwb3NpdGlvbjogICAgICAgICAgdGhpcy5uYXZpZ2F0b3JQb3NpdGlvbixcbiAgICAgICAgICAgIHNpemVSYXRpbzogICAgICAgICB0aGlzLm5hdmlnYXRvclNpemVSYXRpbyxcbiAgICAgICAgICAgIG1haW50YWluU2l6ZVJhdGlvOiB0aGlzLm5hdmlnYXRvck1haW50YWluU2l6ZVJhdGlvLFxuICAgICAgICAgICAgdG9wOiAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yVG9wLFxuICAgICAgICAgICAgbGVmdDogICAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yTGVmdCxcbiAgICAgICAgICAgIHdpZHRoOiAgICAgICAgICAgICB0aGlzLm5hdmlnYXRvcldpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9ySGVpZ2h0LFxuICAgICAgICAgICAgYXV0b1Jlc2l6ZTogICAgICAgIHRoaXMubmF2aWdhdG9yQXV0b1Jlc2l6ZSxcbiAgICAgICAgICAgIGF1dG9GYWRlOiAgICAgICAgICB0aGlzLm5hdmlnYXRvckF1dG9GYWRlLFxuICAgICAgICAgICAgcHJlZml4VXJsOiAgICAgICAgIHRoaXMucHJlZml4VXJsLFxuICAgICAgICAgICAgdmlld2VyOiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBuYXZpZ2F0b3JSb3RhdGU6ICAgdGhpcy5uYXZpZ2F0b3JSb3RhdGUsXG4gICAgICAgICAgICBjcm9zc09yaWdpblBvbGljeTogdGhpcy5jcm9zc09yaWdpblBvbGljeVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTZXF1ZW5jZSBtb2RlXG4gICAgaWYgKHRoaXMuc2VxdWVuY2VNb2RlKSB7XG4gICAgICAgIHRoaXMuYmluZFNlcXVlbmNlQ29udHJvbHMoKTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGluaXRpYWwgdGlsZXNvdXJjZXNcbiAgICBpZiAodGhpcy50aWxlU291cmNlcykge1xuICAgICAgICB0aGlzLm9wZW4oIHRoaXMudGlsZVNvdXJjZXMgKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgY3VzdG9tIGNvbnRyb2xzXG4gICAgZm9yICggaSA9IDA7IGkgPCB0aGlzLmN1c3RvbUNvbnRyb2xzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICB0aGlzLmFkZENvbnRyb2woXG4gICAgICAgICAgICB0aGlzLmN1c3RvbUNvbnRyb2xzWyBpIF0uaWQsXG4gICAgICAgICAgICB7YW5jaG9yOiB0aGlzLmN1c3RvbUNvbnRyb2xzWyBpIF0uYW5jaG9yfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWwgZmFkZSBvdXRcbiAgICAkLnJlcXVlc3RBbmltYXRpb25GcmFtZSggZnVuY3Rpb24oKXtcbiAgICAgICAgYmVnaW5Db250cm9sc0F1dG9IaWRlKCBfdGhpcyApO1xuICAgIH0gKTtcbn07XG5cbiQuZXh0ZW5kKCAkLlZpZXdlci5wcm90b3R5cGUsICQuRXZlbnRTb3VyY2UucHJvdG90eXBlLCAkLkNvbnRyb2xEb2NrLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5wcm90b3R5cGUgKi97XG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNPcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMud29ybGQuZ2V0SXRlbUNvdW50KCk7XG4gICAgfSxcblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBvcGVuRHppOiBmdW5jdGlvbiAoIGR6aSApIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIltWaWV3ZXIub3BlbkR6aV0gdGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgVmlld2VyLm9wZW4oKSBpbnN0ZWFkLlwiICk7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW4oIGR6aSApO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgb3BlblRpbGVTb3VyY2U6IGZ1bmN0aW9uICggdGlsZVNvdXJjZSApIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIltWaWV3ZXIub3BlblRpbGVTb3VyY2VdIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZDsgdXNlIFZpZXdlci5vcGVuKCkgaW5zdGVhZC5cIiApO1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKCB0aWxlU291cmNlICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9wZW4gdGlsZWQgaW1hZ2VzIGludG8gdGhlIHZpZXdlciwgY2xvc2luZyBhbnkgb3RoZXJzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfE9iamVjdHxGdW5jdGlvbn0gdGlsZVNvdXJjZXMgLSBUaGlzIGNhbiBiZSBhIFRpbGVkSW1hZ2VcbiAgICAgKiBzcGVjaWZpZXIsIGEgVGlsZVNvdXJjZSBzcGVjaWZpZXIsIG9yIGFuIGFycmF5IG9mIGVpdGhlci4gQSBUaWxlZEltYWdlIHNwZWNpZmllclxuICAgICAqIGlzIHRoZSBzYW1lIGFzIHRoZSBvcHRpb25zIHBhcmFtZXRlciBmb3Ige0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2FkZFRpbGVkSW1hZ2V9LFxuICAgICAqIGV4Y2VwdCBmb3IgdGhlIGluZGV4IHByb3BlcnR5OyBpbWFnZXMgYXJlIGFkZGVkIGluIHNlcXVlbmNlLlxuICAgICAqIEEgVGlsZVNvdXJjZSBzcGVjaWZpZXIgaXMgYW55dGhpbmcgeW91IGNvdWxkIHBhc3MgYXMgdGhlIHRpbGVTb3VyY2UgcHJvcGVydHlcbiAgICAgKiBvZiB0aGUgb3B0aW9ucyBwYXJhbWV0ZXIgZm9yIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNhZGRUaWxlZEltYWdlfS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5pdGlhbFBhZ2UgLSBJZiBzZXF1ZW5jZU1vZGUgaXMgdHJ1ZSwgZGlzcGxheSB0aGlzIHBhZ2UgaW5pdGlhbGx5XG4gICAgICogZm9yIHRoZSBnaXZlbiB0aWxlU291cmNlcy4gSWYgc3BlY2lmaWVkLCB3aWxsIG92ZXJ3cml0ZSB0aGUgVmlld2VyJ3MgZXhpc3RpbmcgaW5pdGlhbFBhZ2UgcHJvcGVydHkuXG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IENoYWluYWJsZS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6b3BlblxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpvcGVuLWZhaWxlZFxuICAgICAqL1xuICAgIG9wZW46IGZ1bmN0aW9uICh0aWxlU291cmNlcywgaW5pdGlhbFBhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgICAgaWYgKCF0aWxlU291cmNlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2VxdWVuY2VNb2RlICYmICQuaXNBcnJheSh0aWxlU291cmNlcykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZmVyZW5jZVN0cmlwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VTdHJpcC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VTdHJpcCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5pdGlhbFBhZ2UgIT0gJ3VuZGVmaW5lZCcgJiYgIWlzTmFOKGluaXRpYWxQYWdlKSkge1xuICAgICAgICAgICAgICB0aGlzLmluaXRpYWxQYWdlID0gaW5pdGlhbFBhZ2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudGlsZVNvdXJjZXMgPSB0aWxlU291cmNlcztcbiAgICAgICAgICAgIHRoaXMuX3NlcXVlbmNlSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLnRpbGVTb3VyY2VzLmxlbmd0aCAtIDEsIHRoaXMuaW5pdGlhbFBhZ2UpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbGVTb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3Blbih0aGlzLnRpbGVTb3VyY2VzW3RoaXMuX3NlcXVlbmNlSW5kZXhdKTtcblxuICAgICAgICAgICAgICAgIGlmICggdGhpcy5zaG93UmVmZXJlbmNlU3RyaXAgKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRSZWZlcmVuY2VTdHJpcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2VxdWVuY2VCdXR0b25zKCB0aGlzLl9zZXF1ZW5jZUluZGV4ICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoISQuaXNBcnJheSh0aWxlU291cmNlcykpIHtcbiAgICAgICAgICAgIHRpbGVTb3VyY2VzID0gW3RpbGVTb3VyY2VzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGlsZVNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vcGVuaW5nID0gdHJ1ZTtcblxuICAgICAgICB2YXIgZXhwZWN0ZWQgPSB0aWxlU291cmNlcy5sZW5ndGg7XG4gICAgICAgIHZhciBzdWNjZXNzZXMgPSAwO1xuICAgICAgICB2YXIgZmFpbHVyZXMgPSAwO1xuICAgICAgICB2YXIgZmFpbEV2ZW50O1xuXG4gICAgICAgIHZhciBjaGVja0NvbXBsZXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA9PT0gZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZmlyc3RPcGVuIHx8ICFfdGhpcy5wcmVzZXJ2ZVZpZXdwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy52aWV3cG9ydC5nb0hvbWUoIHRydWUgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnZpZXdwb3J0LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ZpcnN0T3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSB0aWxlU291cmNlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZS50aWxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UudGlsZVNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEdsb2JhbCBvdmVybGF5c1xuICAgICAgICAgICAgICAgICAgICBpZiggX3RoaXMub3ZlcmxheXMgJiYgIV90aGlzLnByZXNlcnZlT3ZlcmxheXMgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IF90aGlzLm92ZXJsYXlzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRPdmVybGF5c1sgaSBdID0gZ2V0T3ZlcmxheU9iamVjdCggX3RoaXMsIF90aGlzLm92ZXJsYXlzWyBpIF0gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kcmF3T3ZlcmxheXMoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29wZW5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIHZpZXdlciBoYXMgb3BlbmVkIGFuZCBsb2FkZWQgb25lIG9yIG1vcmUgVGlsZVNvdXJjZXMuXG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBvcGVuXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2V9IHNvdXJjZSAtIFRoZSB0aWxlIHNvdXJjZSB0aGF0IHdhcyBvcGVuZWQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHNvdXJjZXM/XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJhaXNlRXZlbnQoICdvcGVuJywgeyBzb3VyY2U6IHNvdXJjZSB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29wZW5pbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGxvYWRpbmcgYSBUaWxlU291cmNlLlxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBAZXZlbnQgb3Blbi1mYWlsZWRcbiAgICAgICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gbWVzc2FnZSAtIEluZm9ybWF0aW9uIGFib3V0IHdoYXQgZmFpbGVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gc291cmNlIC0gVGhlIHRpbGUgc291cmNlIHRoYXQgZmFpbGVkLlxuICAgICAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yYWlzZUV2ZW50KCAnb3Blbi1mYWlsZWQnLCBmYWlsRXZlbnQgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRvT25lID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKCEkLmlzUGxhaW5PYmplY3Qob3B0aW9ucykgfHwgIW9wdGlvbnMudGlsZVNvdXJjZSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2U6IG9wdGlvbnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJC5jb25zb2xlLmVycm9yKCdbVmlld2VyLm9wZW5dIHNldHRpbmcgaW5kZXhlcyBoZXJlIGlzIG5vdCBzdXBwb3J0ZWQ7IHVzZSBhZGRUaWxlZEltYWdlIGluc3RlYWQnKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5pbmRleDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuY29sbGVjdGlvbkltbWVkaWF0ZWx5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbGxlY3Rpb25JbW1lZGlhdGVseSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN1Y2Nlc3MgPSBvcHRpb25zLnN1Y2Nlc3M7XG4gICAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NlcysrO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogbm93IHRoYXQgb3B0aW9ucyBoYXMgb3RoZXIgdGhpbmdzIGJlc2lkZXMgdGlsZVNvdXJjZSwgdGhlIG92ZXJsYXlzXG4gICAgICAgICAgICAgICAgLy8gc2hvdWxkIHByb2JhYmx5IGJlIGF0IHRoZSBvcHRpb25zIGxldmVsLCBub3QgdGhlIHRpbGVTb3VyY2UgbGV2ZWwuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudGlsZVNvdXJjZS5vdmVybGF5cykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMudGlsZVNvdXJjZS5vdmVybGF5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkT3ZlcmxheShvcHRpb25zLnRpbGVTb3VyY2Uub3ZlcmxheXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN1Y2Nlc3MoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGlvbigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsRXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICAgICAgICAgICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZXMrKztcblxuICAgICAgICAgICAgICAgIGlmICghZmFpbEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGZhaWxFdmVudCA9IGV2ZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNoZWNrQ29tcGxldGlvbigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgX3RoaXMuYWRkVGlsZWRJbWFnZShvcHRpb25zKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUaWxlU291cmNlc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbGVTb3VyY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkb09uZSh0aWxlU291cmNlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpjbG9zZVxuICAgICAqL1xuICAgIGNsb3NlOiBmdW5jdGlvbiAoICkge1xuICAgICAgICBpZiAoICFUSElTWyB0aGlzLmhhc2ggXSApIHtcbiAgICAgICAgICAgIC8vdGhpcyB2aWV3ZXIgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQ6IHJldHVybmluZyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9vcGVuaW5nID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCB0aGlzLm5hdmlnYXRvciApIHtcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVPdmVybGF5cykge1xuICAgICAgICAgICAgdGhpcy5jbGVhck92ZXJsYXlzKCk7XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXlzQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53b3JsZC5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5pbWFnZUxvYWRlci5jbGVhcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgdmlld2VyIGlzIGNsb3NlZCAoc2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNjbG9zZX0pLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgY2xvc2VcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdjbG9zZScgKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBkZXN0cm95IHRoZSB2aWV3ZXIgYW5kIGNsZWFuIHVwIGV2ZXJ5dGhpbmcgY3JlYXRlZCBieSBPcGVuU2VhZHJhZ29uLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKiB2YXIgdmlld2VyID0gT3BlblNlYWRyYWdvbih7XG4gICAgICogICBbLi4uXVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogLy93aGVuIHlvdSBhcmUgZG9uZSB3aXRoIHRoZSB2aWV3ZXI6XG4gICAgICogdmlld2VyLmRlc3Ryb3koKTtcbiAgICAgKiB2aWV3ZXIgPSBudWxsOyAvL2ltcG9ydGFudFxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oICkge1xuICAgICAgICBpZiAoICFUSElTWyB0aGlzLmhhc2ggXSApIHtcbiAgICAgICAgICAgIC8vdGhpcyB2aWV3ZXIgaGFzIGFscmVhZHkgYmVlbiBkZXN0cm95ZWQ6IHJldHVybmluZyBpbW1lZGlhdGVseVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuXG4gICAgICAgIHRoaXMuY2xlYXJPdmVybGF5cygpO1xuICAgICAgICB0aGlzLm92ZXJsYXlzQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgLy9UT0RPOiBpbXBsZW1lbnQgdGhpcy4uLlxuICAgICAgICAvL3RoaXMudW5iaW5kU2VxdWVuY2VDb250cm9scygpXG4gICAgICAgIC8vdGhpcy51bmJpbmRTdGFuZGFyZENvbnRyb2xzKClcblxuICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VTdHJpcCkge1xuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VTdHJpcC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnJlZmVyZW5jZVN0cmlwID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggdGhpcy5fdXBkYXRlUmVxdWVzdElkICE9PSBudWxsICkge1xuICAgICAgICAgICAgJC5jYW5jZWxBbmltYXRpb25GcmFtZSggdGhpcy5fdXBkYXRlUmVxdWVzdElkICk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVSZXF1ZXN0SWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCB0aGlzLmRyYXdlciApIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsSGFuZGxlcnMoKTtcblxuICAgICAgICAvLyBHbyB0aHJvdWdoIHRvcCBlbGVtZW50IChwYXNzZWQgdG8gdXMpIGFuZCByZW1vdmUgYWxsIGNoaWxkcmVuXG4gICAgICAgIC8vIFVzZSByZW1vdmVDaGlsZCB0byBtYWtlIHN1cmUgaXQgaGFuZGxlcyBTVkcgb3IgYW55IG5vbi1odG1sXG4gICAgICAgIC8vIGFsc28gaXQgcGVyZm9ybXMgYmV0dGVyIC0gaHR0cDovL2pzcGVyZi5jb20vaW5uZXJodG1sLXZzLXJlbW92ZWNoaWxkLzE1XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpe1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlc3Ryb3kgdGhlIG1vdXNlIHRyYWNrZXJzXG4gICAgICAgIGlmICh0aGlzLmlubmVyVHJhY2tlcil7XG4gICAgICAgICAgICB0aGlzLmlubmVyVHJhY2tlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3V0ZXJUcmFja2VyKXtcbiAgICAgICAgICAgIHRoaXMub3V0ZXJUcmFja2VyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFRISVNbIHRoaXMuaGFzaCBdID0gbnVsbDtcbiAgICAgICAgZGVsZXRlIFRISVNbIHRoaXMuaGFzaCBdO1xuXG4gICAgICAgIC8vIGNsZWFyIGFsbCBvdXIgcmVmZXJlbmNlcyB0byBkb20gb2JqZWN0c1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcblxuICAgICAgICAvLyBjbGVhciBvdXIgcmVmZXJlbmNlIHRvIHRoZSBtYWluIGVsZW1lbnQgLSB0aGV5IHdpbGwgbmVlZCB0byBwYXNzIGl0IGluIGFnYWluLCBjcmVhdGluZyBhIG5ldyB2aWV3ZXJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc01vdXNlTmF2RW5hYmxlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lclRyYWNrZXIuaXNUcmFja2luZygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGVuYWJsZWQgLSB0cnVlIHRvIGVuYWJsZSwgZmFsc2UgdG8gZGlzYWJsZVxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld2VyfSBDaGFpbmFibGUuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50Om1vdXNlLWVuYWJsZWRcbiAgICAgKi9cbiAgICBzZXRNb3VzZU5hdkVuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICl7XG4gICAgICAgIHRoaXMuaW5uZXJUcmFja2VyLnNldFRyYWNraW5nKCBlbmFibGVkICk7XG4gICAgICAgIHRoaXMub3V0ZXJUcmFja2VyLnNldFRyYWNraW5nKCBlbmFibGVkICk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYWlzZWQgd2hlbiBtb3VzZS90b3VjaCBuYXZpZ2F0aW9uIGlzIGVuYWJsZWQgb3IgZGlzYWJsZWQgKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjc2V0TW91c2VOYXZFbmFibGVkfSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBtb3VzZS1lbmFibGVkXG4gICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBlbmFibGVkXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFpc2VFdmVudCggJ21vdXNlLWVuYWJsZWQnLCB7IGVuYWJsZWQ6IGVuYWJsZWQgfSApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGFyZUNvbnRyb2xzRW5hYmxlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW5hYmxlZCA9IHRoaXMuY29udHJvbHMubGVuZ3RoLFxuICAgICAgICAgICAgaTtcbiAgICAgICAgZm9yKCBpID0gMDsgaSA8IHRoaXMuY29udHJvbHMubGVuZ3RoOyBpKysgKXtcbiAgICAgICAgICAgIGVuYWJsZWQgPSBlbmFibGVkICYmIHRoaXMuY29udHJvbHNbIGkgXS5pc1Zpc2liaWxlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuYWJsZWQ7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogU2hvd3Mgb3IgaGlkZXMgdGhlIGNvbnRyb2xzIChlLmcuIHRoZSBkZWZhdWx0IG5hdmlnYXRpb24gYnV0dG9ucykuXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHRydWUgdG8gc2hvdywgZmFsc2UgdG8gaGlkZS5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpjb250cm9scy1lbmFibGVkXG4gICAgICovXG4gICAgc2V0Q29udHJvbHNFbmFibGVkOiBmdW5jdGlvbiggZW5hYmxlZCApIHtcbiAgICAgICAgaWYoIGVuYWJsZWQgKXtcbiAgICAgICAgICAgIGFib3J0Q29udHJvbHNBdXRvSGlkZSggdGhpcyApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYmVnaW5Db250cm9sc0F1dG9IaWRlKCB0aGlzICk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSBuYXZpZ2F0aW9uIGNvbnRyb2xzIGFyZSBzaG93biBvciBoaWRkZW4gKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjc2V0Q29udHJvbHNFbmFibGVkfSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBjb250cm9scy1lbmFibGVkXG4gICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBlbmFibGVkXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFpc2VFdmVudCggJ2NvbnRyb2xzLWVuYWJsZWQnLCB7IGVuYWJsZWQ6IGVuYWJsZWQgfSApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHVybnMgZGVidWdnaW5nIG1vZGUgb24gb3Igb2ZmIGZvciB0aGlzIHZpZXdlci5cbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdHJ1ZSB0byB0dXJuIGRlYnVnIG9uLCBmYWxzZSB0byB0dXJuIGRlYnVnIG9mZi5cbiAgICAgKi9cbiAgICBzZXREZWJ1Z01vZGU6IGZ1bmN0aW9uKGRlYnVnTW9kZSl7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLndvcmxkLmdldEl0ZW1Db3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMud29ybGQuZ2V0SXRlbUF0KGkpLmRlYnVnTW9kZSA9IGRlYnVnTW9kZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVidWdNb2RlID0gZGVidWdNb2RlO1xuICAgICAgICB0aGlzLmZvcmNlUmVkcmF3KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNGdWxsUGFnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gVEhJU1sgdGhpcy5oYXNoIF0uZnVsbFBhZ2U7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIGZ1bGwgcGFnZSBtb2RlLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZnVsbFBhZ2VcbiAgICAgKiAgICAgIElmIHRydWUsIGVudGVyIGZ1bGwgcGFnZSBtb2RlLiAgSWYgZmFsc2UsIGV4aXQgZnVsbCBwYWdlIG1vZGUuXG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IENoYWluYWJsZS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6cHJlLWZ1bGwtcGFnZVxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpmdWxsLXBhZ2VcbiAgICAgKi9cbiAgICBzZXRGdWxsUGFnZTogZnVuY3Rpb24oIGZ1bGxQYWdlICkge1xuXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICAgIGJvZHlTdHlsZSA9IGJvZHkuc3R5bGUsXG4gICAgICAgICAgICBkb2NTdHlsZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgICAgICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgICAgIG5vZGVzLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvL2RvbnQgYm90aGVyIG1vZGlmeWluZyB0aGUgRE9NIGlmIHdlIGFyZSBhbHJlYWR5IGluIGZ1bGwgcGFnZSBtb2RlLlxuICAgICAgICBpZiAoIGZ1bGxQYWdlID09IHRoaXMuaXNGdWxsUGFnZSgpICkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZnVsbFBhZ2VFdmVudEFyZ3MgPSB7XG4gICAgICAgICAgICBmdWxsUGFnZTogZnVsbFBhZ2UsXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdEFjdGlvbjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSB2aWV3ZXIgaXMgYWJvdXQgdG8gY2hhbmdlIHRvL2Zyb20gZnVsbC1wYWdlIG1vZGUgKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjc2V0RnVsbFBhZ2V9KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IHByZS1mdWxsLXBhZ2VcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGZ1bGxQYWdlIC0gVHJ1ZSBpZiBlbnRlcmluZyBmdWxsLXBhZ2UgbW9kZSwgZmFsc2UgaWYgZXhpdGluZyBmdWxsLXBhZ2UgbW9kZS5cbiAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBwcmV2ZW50RGVmYXVsdEFjdGlvbiAtIFNldCB0byB0cnVlIHRvIHByZXZlbnQgZnVsbC1wYWdlIG1vZGUgY2hhbmdlLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCAncHJlLWZ1bGwtcGFnZScsIGZ1bGxQYWdlRXZlbnRBcmdzICk7XG4gICAgICAgIGlmICggZnVsbFBhZ2VFdmVudEFyZ3MucHJldmVudERlZmF1bHRBY3Rpb24gKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggZnVsbFBhZ2UgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFNpemUgPSAkLmdldEVsZW1lbnRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbiAgICAgICAgICAgIHRoaXMucGFnZVNjcm9sbCA9ICQuZ2V0UGFnZVNjcm9sbCgpO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRNYXJnaW4gPSB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50UGFkZGluZyA9IHRoaXMuZWxlbWVudC5zdHlsZS5wYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcblxuICAgICAgICAgICAgdGhpcy5ib2R5TWFyZ2luID0gYm9keVN0eWxlLm1hcmdpbjtcbiAgICAgICAgICAgIHRoaXMuZG9jTWFyZ2luID0gZG9jU3R5bGUubWFyZ2luO1xuICAgICAgICAgICAgYm9keVN0eWxlLm1hcmdpbiA9IFwiMFwiO1xuICAgICAgICAgICAgZG9jU3R5bGUubWFyZ2luID0gXCIwXCI7XG5cbiAgICAgICAgICAgIHRoaXMuYm9keVBhZGRpbmcgPSBib2R5U3R5bGUucGFkZGluZztcbiAgICAgICAgICAgIHRoaXMuZG9jUGFkZGluZyA9IGRvY1N0eWxlLnBhZGRpbmc7XG4gICAgICAgICAgICBib2R5U3R5bGUucGFkZGluZyA9IFwiMFwiO1xuICAgICAgICAgICAgZG9jU3R5bGUucGFkZGluZyA9IFwiMFwiO1xuXG4gICAgICAgICAgICB0aGlzLmJvZHlXaWR0aCA9IGJvZHlTdHlsZS53aWR0aDtcbiAgICAgICAgICAgIHRoaXMuZG9jV2lkdGggPSBkb2NTdHlsZS53aWR0aDtcbiAgICAgICAgICAgIGJvZHlTdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgZG9jU3R5bGUud2lkdGggPSBcIjEwMCVcIjtcblxuICAgICAgICAgICAgdGhpcy5ib2R5SGVpZ2h0ID0gYm9keVN0eWxlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZG9jSGVpZ2h0ID0gZG9jU3R5bGUuaGVpZ2h0O1xuICAgICAgICAgICAgYm9keVN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgZG9jU3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cbiAgICAgICAgICAgIC8vd2hlbiBlbnRlcmluZyBmdWxsIHNjcmVlbiBvbiB0aGUgaXBhZCBpdCB3YXNudCBzdWZmaWNpZW50IHRvIGxlYXZlXG4gICAgICAgICAgICAvL3RoZSBib2R5IGludGFjdCBhcyBvbmx5IG9ubHkgdGhlIHRvcCBoYWxmIG9mIHRoZSBzY3JlZW4gd291bGRcbiAgICAgICAgICAgIC8vcmVzcG9uZCB0byB0b3VjaCBldmVudHMgb24gdGhlIGNhbnZhcywgd2hpbGUgdGhlIGJvdHRvbSBoYWxmIHRyZWF0ZWRcbiAgICAgICAgICAgIC8vdGhlbSBhcyB0b3VjaCBldmVudHMgb24gdGhlIGRvY3VtZW50IGJvZHkuICBUaHVzIHdlIHJlbW92ZSBhbmQgc3RvcmVcbiAgICAgICAgICAgIC8vdGhlIGJvZGllcyBlbGVtZW50cyBhbmQgcmVwbGFjZSB0aGVtIHdoZW4gd2UgbGVhdmUgZnVsbCBzY3JlZW4uXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQm9keSA9IFtdO1xuICAgICAgICAgICAgVEhJU1sgdGhpcy5oYXNoIF0ucHJldkVsZW1lbnRQYXJlbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIFRISVNbIHRoaXMuaGFzaCBdLnByZXZOZXh0U2libGluZyA9IHRoaXMuZWxlbWVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgIFRISVNbIHRoaXMuaGFzaCBdLnByZXZFbGVtZW50V2lkdGggPSB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGg7XG4gICAgICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5wcmV2RWxlbWVudEhlaWdodCA9IHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQ7XG4gICAgICAgICAgICBub2RlcyA9IGJvZHkuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IG5vZGVzOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0JvZHkucHVzaCggYm9keS5jaGlsZE5vZGVzWyAwIF0gKTtcbiAgICAgICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKCBib2R5LmNoaWxkTm9kZXNbIDAgXSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL0lmIHdlJ3ZlIGdvdCBhIHRvb2xiYXIsIHdlIG5lZWQgdG8gZW5hYmxlIHRoZSB1c2VyIHRvIHVzZSBjc3MgdG9cbiAgICAgICAgICAgIC8vcHJlc2VydmUgaXQgaW4gZnVsbHBhZ2UgbW9kZVxuICAgICAgICAgICAgaWYgKCB0aGlzLnRvb2xiYXIgJiYgdGhpcy50b29sYmFyLmVsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgLy9zYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBwYXJlbnQgc28gd2UgY2FuIHB1dCBpdCBiYWNrXG4gICAgICAgICAgICAgICAgLy9pbiB0aGUgbG9uZyBydW4gd2UgbmVlZCBhIGJldHRlciBzdHJhdGVneVxuICAgICAgICAgICAgICAgIHRoaXMudG9vbGJhci5wYXJlbnROb2RlID0gdGhpcy50b29sYmFyLmVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xiYXIubmV4dFNpYmxpbmcgPSB0aGlzLnRvb2xiYXIuZWxlbWVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKCB0aGlzLnRvb2xiYXIuZWxlbWVudCApO1xuXG4gICAgICAgICAgICAgICAgLy9NYWtlIHN1cmUgdGhlIHVzZXIgaGFzIHNvbWUgYWJpbGl0eSB0byBzdHlsZSB0aGUgdG9vbGJhciBiYXNlZFxuICAgICAgICAgICAgICAgIC8vb24gdGhlIG1vZGVcbiAgICAgICAgICAgICAgICAkLmFkZENsYXNzKCB0aGlzLnRvb2xiYXIuZWxlbWVudCwgJ2Z1bGxwYWdlJyApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLmFkZENsYXNzKCB0aGlzLmVsZW1lbnQsICdmdWxscGFnZScgKTtcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoIHRoaXMuZWxlbWVudCApO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJC5nZXRXaW5kb3dTaXplKCkueSArICdweCc7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAkLmdldFdpbmRvd1NpemUoKS54ICsgJ3B4JztcblxuICAgICAgICAgICAgaWYgKCB0aGlzLnRvb2xiYXIgJiYgdGhpcy50b29sYmFyLmVsZW1lbnQgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IChcbiAgICAgICAgICAgICAgICAgICAgJC5nZXRFbGVtZW50U2l6ZSggdGhpcy5lbGVtZW50ICkueSAtICQuZ2V0RWxlbWVudFNpemUoIHRoaXMudG9vbGJhci5lbGVtZW50ICkueVxuICAgICAgICAgICAgICAgICkgKyAncHgnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5mdWxsUGFnZSA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIG1vdXNlIHdpbGwgYmUgaW5zaWRlIGNvbnRhaW5lciBub3dcbiAgICAgICAgICAgICQuZGVsZWdhdGUoIHRoaXMsIG9uQ29udGFpbmVyRW50ZXIgKSgge30gKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luID0gdGhpcy5lbGVtZW50TWFyZ2luO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnBhZGRpbmcgPSB0aGlzLmVsZW1lbnRQYWRkaW5nO1xuXG4gICAgICAgICAgICBib2R5U3R5bGUubWFyZ2luID0gdGhpcy5ib2R5TWFyZ2luO1xuICAgICAgICAgICAgZG9jU3R5bGUubWFyZ2luID0gdGhpcy5kb2NNYXJnaW47XG5cbiAgICAgICAgICAgIGJvZHlTdHlsZS5wYWRkaW5nID0gdGhpcy5ib2R5UGFkZGluZztcbiAgICAgICAgICAgIGRvY1N0eWxlLnBhZGRpbmcgPSB0aGlzLmRvY1BhZGRpbmc7XG5cbiAgICAgICAgICAgIGJvZHlTdHlsZS53aWR0aCA9IHRoaXMuYm9keVdpZHRoO1xuICAgICAgICAgICAgZG9jU3R5bGUud2lkdGggPSB0aGlzLmRvY1dpZHRoO1xuXG4gICAgICAgICAgICBib2R5U3R5bGUuaGVpZ2h0ID0gdGhpcy5ib2R5SGVpZ2h0O1xuICAgICAgICAgICAgZG9jU3R5bGUuaGVpZ2h0ID0gdGhpcy5kb2NIZWlnaHQ7XG5cbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoIHRoaXMuZWxlbWVudCApO1xuICAgICAgICAgICAgbm9kZXMgPSB0aGlzLnByZXZpb3VzQm9keS5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IG5vZGVzOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZCggdGhpcy5wcmV2aW91c0JvZHkuc2hpZnQoKSApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLnJlbW92ZUNsYXNzKCB0aGlzLmVsZW1lbnQsICdmdWxscGFnZScgKTtcbiAgICAgICAgICAgIFRISVNbIHRoaXMuaGFzaCBdLnByZXZFbGVtZW50UGFyZW50Lmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgVEhJU1sgdGhpcy5oYXNoIF0ucHJldk5leHRTaWJsaW5nXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvL0lmIHdlJ3ZlIGdvdCBhIHRvb2xiYXIsIHdlIG5lZWQgdG8gZW5hYmxlIHRoZSB1c2VyIHRvIHVzZSBjc3MgdG9cbiAgICAgICAgICAgIC8vcmVzZXQgaXQgdG8gaXRzIG9yaWdpbmFsIHN0YXRlXG4gICAgICAgICAgICBpZiAoIHRoaXMudG9vbGJhciAmJiB0aGlzLnRvb2xiYXIuZWxlbWVudCApIHtcbiAgICAgICAgICAgICAgICBib2R5LnJlbW92ZUNoaWxkKCB0aGlzLnRvb2xiYXIuZWxlbWVudCApO1xuXG4gICAgICAgICAgICAgICAgLy9NYWtlIHN1cmUgdGhlIHVzZXIgaGFzIHNvbWUgYWJpbGl0eSB0byBzdHlsZSB0aGUgdG9vbGJhciBiYXNlZFxuICAgICAgICAgICAgICAgIC8vb24gdGhlIG1vZGVcbiAgICAgICAgICAgICAgICAkLnJlbW92ZUNsYXNzKCB0aGlzLnRvb2xiYXIuZWxlbWVudCwgJ2Z1bGxwYWdlJyApO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50b29sYmFyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xiYXIuZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sYmFyLm5leHRTaWJsaW5nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy50b29sYmFyLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudG9vbGJhci5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gVEhJU1sgdGhpcy5oYXNoIF0ucHJldkVsZW1lbnRXaWR0aDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSBUSElTWyB0aGlzLmhhc2ggXS5wcmV2RWxlbWVudEhlaWdodDtcblxuICAgICAgICAgICAgLy8gQWZ0ZXIgZXhpdGluZyBmdWxsUGFnZSBvciBmdWxsU2NyZWVuLCBpdCBjYW4gdGFrZSBzb21lIHRpbWVcbiAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgYnJvd3NlciBjYW4gYWN0dWFsbHkgc2V0IHRoZSBzY3JvbGwuXG4gICAgICAgICAgICB2YXIgcmVzdG9yZVNjcm9sbENvdW50ZXIgPSAwO1xuICAgICAgICAgICAgdmFyIHJlc3RvcmVTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkLnNldFBhZ2VTY3JvbGwoIF90aGlzLnBhZ2VTY3JvbGwgKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFnZVNjcm9sbCA9ICQuZ2V0UGFnZVNjcm9sbCgpO1xuICAgICAgICAgICAgICAgIHJlc3RvcmVTY3JvbGxDb3VudGVyKys7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3RvcmVTY3JvbGxDb3VudGVyIDwgMTAgJiZcbiAgICAgICAgICAgICAgICAgICAgKHBhZ2VTY3JvbGwueCAhPT0gX3RoaXMucGFnZVNjcm9sbC54IHx8XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VTY3JvbGwueSAhPT0gX3RoaXMucGFnZVNjcm9sbC55KSkge1xuICAgICAgICAgICAgICAgICAgICAkLnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmVzdG9yZVNjcm9sbCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAkLnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmVzdG9yZVNjcm9sbCApO1xuXG4gICAgICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5mdWxsUGFnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBtb3VzZSB3aWxsIGxpa2VseSBiZSBvdXRzaWRlIG5vd1xuICAgICAgICAgICAgJC5kZWxlZ2F0ZSggdGhpcywgb25Db250YWluZXJFeGl0ICkoIHsgfSApO1xuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHRoaXMubmF2aWdhdG9yICYmIHRoaXMudmlld3BvcnQgKSB7XG4gICAgICAgICAgICB0aGlzLm5hdmlnYXRvci51cGRhdGUoIHRoaXMudmlld3BvcnQgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgdmlld2VyIGhhcyBjaGFuZ2VkIHRvL2Zyb20gZnVsbC1wYWdlIG1vZGUgKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjc2V0RnVsbFBhZ2V9KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGZ1bGwtcGFnZVxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gZnVsbFBhZ2UgLSBUcnVlIGlmIGNoYW5nZWQgdG8gZnVsbC1wYWdlIG1vZGUsIGZhbHNlIGlmIGV4aXRlZCBmdWxsLXBhZ2UgbW9kZS5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCAnZnVsbC1wYWdlJywgeyBmdWxsUGFnZTogZnVsbFBhZ2UgfSApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgZnVsbCBzY3JlZW4gbW9kZSBpZiBzdXBwb3J0ZWQuIFRvZ2dsZSBmdWxsIHBhZ2UgbW9kZSBvdGhlcndpc2UuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmdWxsU2NyZWVuXG4gICAgICogICAgICBJZiB0cnVlLCBlbnRlciBmdWxsIHNjcmVlbiBtb2RlLiAgSWYgZmFsc2UsIGV4aXQgZnVsbCBzY3JlZW4gbW9kZS5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpwcmUtZnVsbC1zY3JlZW5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6ZnVsbC1zY3JlZW5cbiAgICAgKi9cbiAgICBzZXRGdWxsU2NyZWVuOiBmdW5jdGlvbiggZnVsbFNjcmVlbiApIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAoICEkLnN1cHBvcnRzRnVsbFNjcmVlbiApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEZ1bGxQYWdlKCBmdWxsU2NyZWVuICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoICQuaXNGdWxsU2NyZWVuKCkgPT09IGZ1bGxTY3JlZW4gKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmdWxsU2NyZWVFdmVudEFyZ3MgPSB7XG4gICAgICAgICAgICBmdWxsU2NyZWVuOiBmdWxsU2NyZWVuLFxuICAgICAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgdmlld2VyIGlzIGFib3V0IHRvIGNoYW5nZSB0by9mcm9tIGZ1bGwtc2NyZWVuIG1vZGUgKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjc2V0RnVsbFNjcmVlbn0pLlxuICAgICAgICAgKiBOb3RlOiB0aGUgcHJlLWZ1bGwtc2NyZWVuIGV2ZW50IGlzIG5vdCByYWlzZWQgd2hlbiB0aGUgdXNlciBpcyBleGl0aW5nXG4gICAgICAgICAqIGZ1bGwtc2NyZWVuIG1vZGUgYnkgcHJlc3NpbmcgdGhlIEVzYyBrZXkuIEluIHRoYXQgY2FzZSwgY29uc2lkZXIgdXNpbmdcbiAgICAgICAgICogdGhlIGZ1bGwtc2NyZWVuLCBwcmUtZnVsbC1wYWdlIG9yIGZ1bGwtcGFnZSBldmVudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBwcmUtZnVsbC1zY3JlZW5cbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGZ1bGxTY3JlZW4gLSBUcnVlIGlmIGVudGVyaW5nIGZ1bGwtc2NyZWVuIG1vZGUsIGZhbHNlIGlmIGV4aXRpbmcgZnVsbC1zY3JlZW4gbW9kZS5cbiAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBwcmV2ZW50RGVmYXVsdEFjdGlvbiAtIFNldCB0byB0cnVlIHRvIHByZXZlbnQgZnVsbC1zY3JlZW4gbW9kZSBjaGFuZ2UuIERlZmF1bHQ6IGZhbHNlLlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdwcmUtZnVsbC1zY3JlZW4nLCBmdWxsU2NyZWVFdmVudEFyZ3MgKTtcbiAgICAgICAgaWYgKCBmdWxsU2NyZWVFdmVudEFyZ3MucHJldmVudERlZmF1bHRBY3Rpb24gKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggZnVsbFNjcmVlbiApIHtcblxuICAgICAgICAgICAgdGhpcy5zZXRGdWxsUGFnZSggdHJ1ZSApO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZ1bGwgcGFnZSBtb2RlIGlzIG5vdCBhY3R1YWxseSBlbnRlcmVkLCB3ZSBuZWVkIHRvIHByZXZlbnRcbiAgICAgICAgICAgIC8vIHRoZSBmdWxsIHNjcmVlbiBtb2RlLlxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc0Z1bGxQYWdlKCkgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZnVsbFBhZ2VTdHlsZVdpZHRoID0gdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5mdWxsUGFnZVN0eWxlSGVpZ2h0ID0gdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG5cbiAgICAgICAgICAgIHZhciBvbkZ1bGxTY3JlZW5DaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNGdWxsU2NyZWVuID0gJC5pc0Z1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgICAgICBpZiAoICFpc0Z1bGxTY3JlZW4gKSB7XG4gICAgICAgICAgICAgICAgICAgICQucmVtb3ZlRXZlbnQoIGRvY3VtZW50LCAkLmZ1bGxTY3JlZW5FdmVudE5hbWUsIG9uRnVsbFNjcmVlbkNoYW5nZSApO1xuICAgICAgICAgICAgICAgICAgICAkLnJlbW92ZUV2ZW50KCBkb2N1bWVudCwgJC5mdWxsU2NyZWVuRXJyb3JFdmVudE5hbWUsIG9uRnVsbFNjcmVlbkNoYW5nZSApO1xuXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldEZ1bGxQYWdlKCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIF90aGlzLmlzRnVsbFBhZ2UoKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSBfdGhpcy5mdWxsUGFnZVN0eWxlV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IF90aGlzLmZ1bGxQYWdlU3R5bGVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCBfdGhpcy5uYXZpZ2F0b3IgJiYgX3RoaXMudmlld3BvcnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm5hdmlnYXRvci51cGRhdGUoIF90aGlzLnZpZXdwb3J0ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSB2aWV3ZXIgaGFzIGNoYW5nZWQgdG8vZnJvbSBmdWxsLXNjcmVlbiBtb2RlIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI3NldEZ1bGxTY3JlZW59KS5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBldmVudCBmdWxsLXNjcmVlblxuICAgICAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBmdWxsU2NyZWVuIC0gVHJ1ZSBpZiBjaGFuZ2VkIHRvIGZ1bGwtc2NyZWVuIG1vZGUsIGZhbHNlIGlmIGV4aXRlZCBmdWxsLXNjcmVlbiBtb2RlLlxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBfdGhpcy5yYWlzZUV2ZW50KCAnZnVsbC1zY3JlZW4nLCB7IGZ1bGxTY3JlZW46IGlzRnVsbFNjcmVlbiB9ICk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgJC5hZGRFdmVudCggZG9jdW1lbnQsICQuZnVsbFNjcmVlbkV2ZW50TmFtZSwgb25GdWxsU2NyZWVuQ2hhbmdlICk7XG4gICAgICAgICAgICAkLmFkZEV2ZW50KCBkb2N1bWVudCwgJC5mdWxsU2NyZWVuRXJyb3JFdmVudE5hbWUsIG9uRnVsbFNjcmVlbkNoYW5nZSApO1xuXG4gICAgICAgICAgICAkLnJlcXVlc3RGdWxsU2NyZWVuKCBkb2N1bWVudC5ib2R5ICk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuZXhpdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Zpc2libGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgIT0gXCJoaWRkZW5cIjtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHZpc2libGVcbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDp2aXNpYmxlXG4gICAgICovXG4gICAgc2V0VmlzaWJsZTogZnVuY3Rpb24oIHZpc2libGUgKXtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IHZpc2libGUgPyBcIlwiIDogXCJoaWRkZW5cIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSB2aWV3ZXIgaXMgc2hvd24gb3IgaGlkZGVuIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI3NldFZpc2libGV9KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IHZpc2libGVcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHZpc2libGVcbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCAndmlzaWJsZScsIHsgdmlzaWJsZTogdmlzaWJsZSB9ICk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSB0aWxlZCBpbWFnZSB0byB0aGUgdmlld2VyLlxuICAgICAqIG9wdGlvbnMudGlsZVNvdXJjZSBjYW4gYmUgYW55dGhpbmcgdGhhdCB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjb3Blbn1cbiAgICAgKiAgc3VwcG9ydHMgZXhjZXB0IGFycmF5cyBvZiBpbWFnZXMuXG4gICAgICogTm90ZSB0aGF0IHlvdSBjYW4gc3BlY2lmeSBvcHRpb25zLndpZHRoIG9yIG9wdGlvbnMuaGVpZ2h0LCBidXQgbm90IGJvdGguXG4gICAgICogVGhlIG90aGVyIGRpbWVuc2lvbiB3aWxsIGJlIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBpdGVtJ3MgYXNwZWN0IHJhdGlvLlxuICAgICAqIElmIGNvbGxlY3Rpb25Nb2RlIGlzIG9uIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30pLCB0aGUgbmV3IGltYWdlIGlzXG4gICAgICogYXV0b21hdGljYWxseSBhcnJhbmdlZCB3aXRoIHRoZSBvdGhlcnMuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8RnVuY3Rpb259IG9wdGlvbnMudGlsZVNvdXJjZSAtIFRoZSBUaWxlU291cmNlIHNwZWNpZmllci5cbiAgICAgKiBBIFN0cmluZyBpbXBsaWVzIGEgdXJsIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSB0aWxlU291cmNlIGltcGxlbWVudGF0aW9uXG4gICAgICogICAgICBiYXNlZCBvbiB0aGUgZmlsZSBleHRlbnNpb24gb2YgdXJsLiBKU09OUCBpcyBpbXBsaWVkIGJ5ICouanMsXG4gICAgICogICAgICBvdGhlcndpc2UgdGhlIHVybCBpcyByZXRyaWV2ZWQgYXMgdGV4dCBhbmQgdGhlIHJlc3VsdGluZyB0ZXh0IGlzXG4gICAgICogICAgICBpbnRyb3NwZWN0ZWQgdG8gZGV0ZXJtaW5lIGlmIGl0cyBqc29uLCB4bWwsIG9yIHRleHQgYW5kIHBhcnNlZC5cbiAgICAgKiBBbiBPYmplY3QgaW1wbGllcyBhbiBpbmxpbmUgY29uZmlndXJhdGlvbiB3aGljaCBoYXMgYSBzaW5nbGVcbiAgICAgKiAgICAgIHByb3BlcnR5IHN1ZmZpY2llbnQgZm9yIGJlaW5nIGFibGUgdG8gZGV0ZXJtaW5lIHRpbGVTb3VyY2VcbiAgICAgKiAgICAgIGltcGxlbWVudGF0aW9uLiBJZiB0aGUgb2JqZWN0IGhhcyBhIHByb3BlcnR5IHdoaWNoIGlzIGEgZnVuY3Rpb25cbiAgICAgKiAgICAgIG5hbWVkICdnZXRUaWxlVXJsJywgaXQgaXMgdHJlYXRlZCBhcyBhIGN1c3RvbSBUaWxlU291cmNlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gVGhlIGluZGV4IG9mIHRoZSBpdGVtLiBBZGRlZCBvbiB0b3Agb2ZcbiAgICAgKiBhbGwgb3RoZXIgaXRlbXMgaWYgbm90IHNwZWNpZmllZC5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJlcGxhY2U9ZmFsc2VdIElmIHRydWUsIHRoZSBpdGVtIGF0IG9wdGlvbnMuaW5kZXggd2lsbCBiZVxuICAgICAqIHJlbW92ZWQgYW5kIHRoZSBuZXcgaXRlbSBpcyBhZGRlZCBpbiBpdHMgcGxhY2UuIG9wdGlvbnMudGlsZVNvdXJjZSB3aWxsIGJlXG4gICAgICogaW50ZXJwcmV0ZWQgYW5kIGZldGNoZWQgaWYgbmVjZXNzYXJ5IGJlZm9yZSB0aGUgb2xkIGl0ZW0gaXMgcmVtb3ZlZCB0byBhdm9pZCBsZWF2aW5nXG4gICAgICogYSBnYXAgaW4gdGhlIHdvcmxkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy54PTBdIFRoZSBYIHBvc2l0aW9uIGZvciB0aGUgaW1hZ2UgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnk9MF0gVGhlIFkgcG9zaXRpb24gZm9yIHRoZSBpbWFnZSBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGg9MV0gVGhlIHdpZHRoIGZvciB0aGUgaW1hZ2UgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gVGhlIGhlaWdodCBmb3IgdGhlIGltYWdlIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5SZWN0fSBbb3B0aW9ucy5maXRCb3VuZHNdIFRoZSBib3VuZHMgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXNcbiAgICAgKiB0byBmaXQgdGhlIGltYWdlIGludG8uIElmIHNwZWNpZmllZCwgeCwgeSwgd2lkdGggYW5kIGhlaWdodCBnZXQgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBbb3B0aW9ucy5maXRCb3VuZHNQbGFjZW1lbnQ9T3BlblNlYWRyYWdvbi5QbGFjZW1lbnQuQ0VOVEVSXVxuICAgICAqIEhvdyB0byBhbmNob3IgdGhlIGltYWdlIGluIHRoZSBib3VuZHMgaWYgb3B0aW9ucy5maXRCb3VuZHMgaXMgc2V0LlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5SZWN0fSBbb3B0aW9ucy5jbGlwXSAtIEFuIGFyZWEsIGluIGltYWdlIHBpeGVscywgdG8gY2xpcCB0b1xuICAgICAqIChwb3J0aW9ucyBvZiB0aGUgaW1hZ2Ugb3V0c2lkZSBvZiB0aGlzIGFyZWEgd2lsbCBub3QgYmUgdmlzaWJsZSkuIE9ubHkgd29ya3Mgb25cbiAgICAgKiBicm93c2VycyB0aGF0IHN1cHBvcnQgdGhlIEhUTUw1IGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub3BhY2l0eT0xXSBQcm9wb3J0aW9uYWwgb3BhY2l0eSBvZiB0aGUgdGlsZWQgaW1hZ2VzICgxPW9wYXF1ZSwgMD1oaWRkZW4pXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcmVsb2FkPWZhbHNlXSAgRGVmYXVsdCBzd2l0Y2ggZm9yIGxvYWRpbmcgaGlkZGVuIGltYWdlcyAodHJ1ZSBsb2FkcywgZmFsc2UgYmxvY2tzKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kZWdyZWVzPTBdIEluaXRpYWwgcm90YXRpb24gb2YgdGhlIHRpbGVkIGltYWdlIGFyb3VuZFxuICAgICAqIGl0cyB0b3AgbGVmdCBjb3JuZXIgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29tcG9zaXRlT3BlcmF0aW9uXSBIb3cgdGhlIGltYWdlIGlzIGNvbXBvc2l0ZWQgb250byBvdGhlciBpbWFnZXMuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5XSBUaGUgY3Jvc3NPcmlnaW5Qb2xpY3kgZm9yIHRoaXMgc3BlY2lmaWMgaW1hZ2UsXG4gICAgICogb3ZlcnJpZGluZyB2aWV3ZXIuY3Jvc3NPcmlnaW5Qb2xpY3kuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hamF4V2l0aENyZWRlbnRpYWxzXSBXaGV0aGVyIHRvIHNldCB3aXRoQ3JlZGVudGlhbHMgb24gdGlsZSBBSkFYXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5sb2FkVGlsZXNXaXRoQWpheF1cbiAgICAgKiAgICAgIFdoZXRoZXIgdG8gbG9hZCB0aWxlIGRhdGEgdXNpbmcgQUpBWCByZXF1ZXN0cy5cbiAgICAgKiAgICAgIERlZmF1bHRzIHRvIHRoZSBzZXR0aW5nIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5hamF4SGVhZGVyc11cbiAgICAgKiAgICAgIEEgc2V0IG9mIGhlYWRlcnMgdG8gaW5jbHVkZSB3aGVuIG1ha2luZyB0aWxlIEFKQVggcmVxdWVzdHMuXG4gICAgICogICAgICBOb3RlIHRoYXQgdGhlc2UgaGVhZGVycyB3aWxsIGJlIG1lcmdlZCBvdmVyIGFueSBoZWFkZXJzIHNwZWNpZmllZCBpbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAgICAgKiAgICAgIFNwZWNpZnlpbmcgYSBmYWxzeSB2YWx1ZSBmb3IgYSBoZWFkZXIgd2lsbCBjbGVhciBpdHMgZXhpc3RpbmcgdmFsdWUgc2V0IGF0IHRoZSBWaWV3ZXIgbGV2ZWwgKGlmIGFueSkuXG4gICAgICogcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuc3VjY2Vzc10gQSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIHdoZW4gdGhlIGltYWdlIGlzXG4gICAgICogc3VjY2Vzc2Z1bGx5IGFkZGVkLiBJdCdzIHBhc3NlZCB0aGUgZXZlbnQgb2JqZWN0IHdoaWNoIGNvbnRhaW5zIGEgc2luZ2xlIHByb3BlcnR5OlxuICAgICAqIFwiaXRlbVwiLCB0aGUgcmVzdWx0aW5nIFRpbGVkSW1hZ2UuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuZXJyb3JdIEEgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBpZiB0aGUgaW1hZ2UgaXNcbiAgICAgKiB1bmFibGUgdG8gYmUgYWRkZWQuIEl0J3MgcGFzc2VkIHRoZSBlcnJvciBldmVudCBvYmplY3QsIHdoaWNoIGNvbnRhaW5zIFwibWVzc2FnZVwiXG4gICAgICogYW5kIFwic291cmNlXCIgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNvbGxlY3Rpb25JbW1lZGlhdGVseT1mYWxzZV0gSWYgY29sbGVjdGlvbk1vZGUgaXMgb24sXG4gICAgICogc3BlY2lmaWVzIHdoZXRoZXIgdG8gc25hcCB0byB0aGUgbmV3IGFycmFuZ2VtZW50IGltbWVkaWF0ZWx5IG9yIHRvIGFuaW1hdGUgdG8gaXQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybnxGdW5jdGlvbn0gW29wdGlvbnMucGxhY2Vob2xkZXJGaWxsU3R5bGVdIC0gU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLldvcmxkLmV2ZW50OmFkZC1pdGVtXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50OmFkZC1pdGVtLWZhaWxlZFxuICAgICAqL1xuICAgIGFkZFRpbGVkSW1hZ2U6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KG9wdGlvbnMsIFwiW1ZpZXdlci5hZGRUaWxlZEltYWdlXSBvcHRpb25zIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KG9wdGlvbnMudGlsZVNvdXJjZSwgXCJbVmlld2VyLmFkZFRpbGVkSW1hZ2VdIG9wdGlvbnMudGlsZVNvdXJjZSBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydCghb3B0aW9ucy5yZXBsYWNlIHx8IChvcHRpb25zLmluZGV4ID4gLTEgJiYgb3B0aW9ucy5pbmRleCA8IHRoaXMud29ybGQuZ2V0SXRlbUNvdW50KCkpLFxuICAgICAgICAgICAgXCJbVmlld2VyLmFkZFRpbGVkSW1hZ2VdIGlmIG9wdGlvbnMucmVwbGFjZSBpcyB1c2VkLCBvcHRpb25zLmluZGV4IG11c3QgYmUgYSB2YWxpZCBpbmRleCBpbiBWaWV3ZXIud29ybGRcIik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAob3B0aW9ucy5yZXBsYWNlKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlcGxhY2VJdGVtID0gX3RoaXMud29ybGQuZ2V0SXRlbUF0KG9wdGlvbnMuaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGlkZU1lc3NhZ2UoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5wbGFjZWhvbGRlckZpbGxTdHlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBsYWNlaG9sZGVyRmlsbFN0eWxlID0gdGhpcy5wbGFjZWhvbGRlckZpbGxTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5vcGFjaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMub3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5wcmVsb2FkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHJlbG9hZCA9IHRoaXMucHJlbG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5jb21wb3NpdGVPcGVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3B0aW9ucy5jb21wb3NpdGVPcGVyYXRpb24gPSB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5jcm9zc09yaWdpblBvbGljeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5ID0gb3B0aW9ucy50aWxlU291cmNlLmNyb3NzT3JpZ2luUG9saWN5ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLnRpbGVTb3VyY2UuY3Jvc3NPcmlnaW5Qb2xpY3kgOiB0aGlzLmNyb3NzT3JpZ2luUG9saWN5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFqYXhXaXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3B0aW9ucy5hamF4V2l0aENyZWRlbnRpYWxzID0gdGhpcy5hamF4V2l0aENyZWRlbnRpYWxzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmxvYWRUaWxlc1dpdGhBamF4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMubG9hZFRpbGVzV2l0aEFqYXggPSB0aGlzLmxvYWRUaWxlc1dpdGhBamF4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmFqYXhIZWFkZXJzID09PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5hamF4SGVhZGVycyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgb3B0aW9ucy5hamF4SGVhZGVycyA9IHRoaXMuYWpheEhlYWRlcnM7XG4gICAgICAgIH0gZWxzZSBpZiAoJC5pc1BsYWluT2JqZWN0KG9wdGlvbnMuYWpheEhlYWRlcnMpICYmICQuaXNQbGFpbk9iamVjdCh0aGlzLmFqYXhIZWFkZXJzKSkge1xuICAgICAgICAgICAgb3B0aW9ucy5hamF4SGVhZGVycyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmFqYXhIZWFkZXJzLCBvcHRpb25zLmFqYXhIZWFkZXJzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBteVF1ZXVlSXRlbSA9IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiByYWlzZUFkZEl0ZW1GYWlsZWQoIGV2ZW50ICkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9sb2FkUXVldWVbaV0gPT09IG15UXVldWVJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9sb2FkUXVldWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfdGhpcy5fbG9hZFF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hXb3JsZChteVF1ZXVlSXRlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIGFuIGVycm9yIG9jY3VycyB3aGlsZSBhZGRpbmcgYSBpdGVtLlxuICAgICAgICAgICAgICogQGV2ZW50IGFkZC1pdGVtLWZhaWxlZFxuICAgICAgICAgICAgICogQG1lbWJlck9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gbWVzc2FnZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHNvdXJjZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9wdGlvbnMgVGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSBhZGRUaWxlZEltYWdlIG1ldGhvZC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggJ2FkZC1pdGVtLWZhaWxlZCcsIGV2ZW50ICk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoV29ybGQodGhlSXRlbSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmNvbGxlY3Rpb25Nb2RlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMud29ybGQuYXJyYW5nZSh7XG4gICAgICAgICAgICAgICAgICAgIGltbWVkaWF0ZWx5OiB0aGVJdGVtLm9wdGlvbnMuY29sbGVjdGlvbkltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgICAgICAgICByb3dzOiBfdGhpcy5jb2xsZWN0aW9uUm93cyxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogX3RoaXMuY29sbGVjdGlvbkNvbHVtbnMsXG4gICAgICAgICAgICAgICAgICAgIGxheW91dDogX3RoaXMuY29sbGVjdGlvbkxheW91dCxcbiAgICAgICAgICAgICAgICAgICAgdGlsZVNpemU6IF90aGlzLmNvbGxlY3Rpb25UaWxlU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgdGlsZU1hcmdpbjogX3RoaXMuY29sbGVjdGlvblRpbGVNYXJnaW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy53b3JsZC5zZXRBdXRvUmVmaWd1cmVTaXplcyh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkLmlzQXJyYXkob3B0aW9ucy50aWxlU291cmNlKSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByYWlzZUFkZEl0ZW1GYWlsZWQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIltWaWV3ZXIuYWRkVGlsZWRJbWFnZV0gU2VxdWVuY2VzIGNhbiBub3QgYmUgYWRkZWQ7IGFkZCB0aGVtIG9uZSBhdCBhIHRpbWUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBvcHRpb25zLnRpbGVTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZFF1ZXVlLnB1c2gobXlRdWV1ZUl0ZW0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NSZWFkeUl0ZW1zKCkge1xuICAgICAgICAgICAgdmFyIHF1ZXVlSXRlbSwgdGlsZWRJbWFnZSwgb3B0aW9uc0Nsb25lO1xuICAgICAgICAgICAgd2hpbGUgKF90aGlzLl9sb2FkUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcXVldWVJdGVtID0gX3RoaXMuX2xvYWRRdWV1ZVswXTtcbiAgICAgICAgICAgICAgICBpZiAoIXF1ZXVlSXRlbS50aWxlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF90aGlzLl9sb2FkUXVldWUuc3BsaWNlKDAsIDEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXVlSXRlbS5vcHRpb25zLnJlcGxhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0luZGV4ID0gX3RoaXMud29ybGQuZ2V0SW5kZXhPZkl0ZW0ocXVldWVJdGVtLm9wdGlvbnMucmVwbGFjZUl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlSXRlbS5vcHRpb25zLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMud29ybGQucmVtb3ZlSXRlbShxdWV1ZUl0ZW0ub3B0aW9ucy5yZXBsYWNlSXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGlsZWRJbWFnZSA9IG5ldyAkLlRpbGVkSW1hZ2Uoe1xuICAgICAgICAgICAgICAgICAgICB2aWV3ZXI6IF90aGlzLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHF1ZXVlSXRlbS50aWxlU291cmNlLFxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydDogX3RoaXMudmlld3BvcnQsXG4gICAgICAgICAgICAgICAgICAgIGRyYXdlcjogX3RoaXMuZHJhd2VyLFxuICAgICAgICAgICAgICAgICAgICB0aWxlQ2FjaGU6IF90aGlzLnRpbGVDYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VMb2FkZXI6IF90aGlzLmltYWdlTG9hZGVyLFxuICAgICAgICAgICAgICAgICAgICB4OiBxdWV1ZUl0ZW0ub3B0aW9ucy54LFxuICAgICAgICAgICAgICAgICAgICB5OiBxdWV1ZUl0ZW0ub3B0aW9ucy55LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogcXVldWVJdGVtLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogcXVldWVJdGVtLm9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBmaXRCb3VuZHM6IHF1ZXVlSXRlbS5vcHRpb25zLmZpdEJvdW5kcyxcbiAgICAgICAgICAgICAgICAgICAgZml0Qm91bmRzUGxhY2VtZW50OiBxdWV1ZUl0ZW0ub3B0aW9ucy5maXRCb3VuZHNQbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGNsaXA6IHF1ZXVlSXRlbS5vcHRpb25zLmNsaXAsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyRmlsbFN0eWxlOiBxdWV1ZUl0ZW0ub3B0aW9ucy5wbGFjZWhvbGRlckZpbGxTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogcXVldWVJdGVtLm9wdGlvbnMub3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZDogcXVldWVJdGVtLm9wdGlvbnMucHJlbG9hZCxcbiAgICAgICAgICAgICAgICAgICAgZGVncmVlczogcXVldWVJdGVtLm9wdGlvbnMuZGVncmVlcyxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlT3BlcmF0aW9uOiBxdWV1ZUl0ZW0ub3B0aW9ucy5jb21wb3NpdGVPcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHNwcmluZ1N0aWZmbmVzczogX3RoaXMuc3ByaW5nU3RpZmZuZXNzLFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25UaW1lOiBfdGhpcy5hbmltYXRpb25UaW1lLFxuICAgICAgICAgICAgICAgICAgICBtaW5ab29tSW1hZ2VSYXRpbzogX3RoaXMubWluWm9vbUltYWdlUmF0aW8sXG4gICAgICAgICAgICAgICAgICAgIHdyYXBIb3Jpem9udGFsOiBfdGhpcy53cmFwSG9yaXpvbnRhbCxcbiAgICAgICAgICAgICAgICAgICAgd3JhcFZlcnRpY2FsOiBfdGhpcy53cmFwVmVydGljYWwsXG4gICAgICAgICAgICAgICAgICAgIGltbWVkaWF0ZVJlbmRlcjogX3RoaXMuaW1tZWRpYXRlUmVuZGVyLFxuICAgICAgICAgICAgICAgICAgICBibGVuZFRpbWU6IF90aGlzLmJsZW5kVGltZSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzQmxlbmQ6IF90aGlzLmFsd2F5c0JsZW5kLFxuICAgICAgICAgICAgICAgICAgICBtaW5QaXhlbFJhdGlvOiBfdGhpcy5taW5QaXhlbFJhdGlvLFxuICAgICAgICAgICAgICAgICAgICBzbW9vdGhUaWxlRWRnZXNNaW5ab29tOiBfdGhpcy5zbW9vdGhUaWxlRWRnZXNNaW5ab29tLFxuICAgICAgICAgICAgICAgICAgICBpT1NEZXZpY2U6IF90aGlzLmlPU0RldmljZSxcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k6IHF1ZXVlSXRlbS5vcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5LFxuICAgICAgICAgICAgICAgICAgICBhamF4V2l0aENyZWRlbnRpYWxzOiBxdWV1ZUl0ZW0ub3B0aW9ucy5hamF4V2l0aENyZWRlbnRpYWxzLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVGlsZXNXaXRoQWpheDogcXVldWVJdGVtLm9wdGlvbnMubG9hZFRpbGVzV2l0aEFqYXgsXG4gICAgICAgICAgICAgICAgICAgIGFqYXhIZWFkZXJzOiBxdWV1ZUl0ZW0ub3B0aW9ucy5hamF4SGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgZGVidWdNb2RlOiBfdGhpcy5kZWJ1Z01vZGVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb2xsZWN0aW9uTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy53b3JsZC5zZXRBdXRvUmVmaWd1cmVTaXplcyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLndvcmxkLmFkZEl0ZW0oIHRpbGVkSW1hZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHF1ZXVlSXRlbS5vcHRpb25zLmluZGV4XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2xvYWRRdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzIHJlc3RvcmVzIHRoZSBhdXRvUmVmaWd1cmVTaXplcyBmbGFnIHRvIHRydWUuXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hXb3JsZChxdWV1ZUl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy53b3JsZC5nZXRJdGVtQ291bnQoKSA9PT0gMSAmJiAhX3RoaXMucHJlc2VydmVWaWV3cG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy52aWV3cG9ydC5nb0hvbWUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm5hdmlnYXRvcikge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zQ2xvbmUgPSAkLmV4dGVuZCh7fSwgcXVldWVJdGVtLm9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IGZhbHNlLCAvLyBuYXZpZ2F0b3IgYWxyZWFkeSByZW1vdmVkIHRoZSBsYXllciwgbm90aGluZyB0byByZXBsYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRpbGVkSW1hZ2U6IHRpbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlU291cmNlOiBxdWV1ZUl0ZW0udGlsZVNvdXJjZVxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5uYXZpZ2F0b3IuYWRkVGlsZWRJbWFnZShvcHRpb25zQ2xvbmUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZUl0ZW0ub3B0aW9ucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlSXRlbS5vcHRpb25zLnN1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbTogdGlsZWRJbWFnZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBnZXRUaWxlU291cmNlSW1wbGVtZW50YXRpb24oIHRoaXMsIG9wdGlvbnMudGlsZVNvdXJjZSwgb3B0aW9ucywgZnVuY3Rpb24oIHRpbGVTb3VyY2UgKSB7XG5cbiAgICAgICAgICAgIG15UXVldWVJdGVtLnRpbGVTb3VyY2UgPSB0aWxlU291cmNlO1xuXG4gICAgICAgICAgICAvLyBhZGQgZXZlcnlib2R5IGF0IHRoZSBmcm9udCBvZiB0aGUgcXVldWUgdGhhdCdzIHJlYWR5IHRvIGdvXG4gICAgICAgICAgICBwcm9jZXNzUmVhZHlJdGVtcygpO1xuICAgICAgICB9LCBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBldmVudC5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHJhaXNlQWRkSXRlbUZhaWxlZChldmVudCk7XG5cbiAgICAgICAgICAgIC8vIGFkZCBldmVyeWJvZHkgYXQgdGhlIGZyb250IG9mIHRoZSBxdWV1ZSB0aGF0J3MgcmVhZHkgdG8gZ29cbiAgICAgICAgICAgIHByb2Nlc3NSZWFkeUl0ZW1zKCk7XG4gICAgICAgIH0gKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgc2ltcGxlIGltYWdlIHRvIHRoZSB2aWV3ZXIuXG4gICAgICogVGhlIG9wdGlvbnMgYXJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNhZGRUaWxlZEltYWdlfVxuICAgICAqIGV4Y2VwdCBmb3Igb3B0aW9ucy50aWxlU291cmNlIHdoaWNoIGlzIHJlcGxhY2VkIGJ5IG9wdGlvbnMudXJsLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNhZGRUaWxlZEltYWdlfVxuICAgICAqIGZvciBhbGwgdGhlIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy51cmwgLSBUaGUgVVJMIG9mIHRoZSBpbWFnZSB0byBhZGQuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uV29ybGQuZXZlbnQ6YWRkLWl0ZW1cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6YWRkLWl0ZW0tZmFpbGVkXG4gICAgICovXG4gICAgYWRkU2ltcGxlSW1hZ2U6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydChvcHRpb25zLCBcIltWaWV3ZXIuYWRkU2ltcGxlSW1hZ2VdIG9wdGlvbnMgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQob3B0aW9ucy51cmwsIFwiW1ZpZXdlci5hZGRTaW1wbGVJbWFnZV0gb3B0aW9ucy51cmwgaXMgcmVxdWlyZWRcIik7XG5cbiAgICAgICAgdmFyIG9wdHMgPSAkLmV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgdGlsZVNvdXJjZToge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgdXJsOiAgb3B0aW9ucy51cmxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRlbGV0ZSBvcHRzLnVybDtcbiAgICAgICAgdGhpcy5hZGRUaWxlZEltYWdlKG9wdHMpO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgYWRkTGF5ZXI6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICQuY29uc29sZS5lcnJvciggXCJbVmlld2VyLmFkZExheWVyXSB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBWaWV3ZXIuYWRkVGlsZWRJbWFnZSgpIGluc3RlYWQuXCIgKTtcblxuICAgICAgICB2YXIgb3B0aW9uc0Nsb25lID0gJC5leHRlbmQoe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudChcImFkZC1sYXllclwiLCB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGRyYXdlcjogZXZlbnQuaXRlbVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJhaXNlRXZlbnQoXCJhZGQtbGF5ZXItZmFpbGVkXCIsIGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRUaWxlZEltYWdlKG9wdGlvbnNDbG9uZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZ2V0TGF5ZXJBdExldmVsOiBmdW5jdGlvbiggbGV2ZWwgKSB7XG4gICAgICAgICQuY29uc29sZS5lcnJvciggXCJbVmlld2VyLmdldExheWVyQXRMZXZlbF0gdGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgV29ybGQuZ2V0SXRlbUF0KCkgaW5zdGVhZC5cIiApO1xuICAgICAgICByZXR1cm4gdGhpcy53b3JsZC5nZXRJdGVtQXQobGV2ZWwpO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZ2V0TGV2ZWxPZkxheWVyOiBmdW5jdGlvbiggZHJhd2VyICkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoIFwiW1ZpZXdlci5nZXRMZXZlbE9mTGF5ZXJdIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZDsgdXNlIFdvcmxkLmdldEluZGV4T2ZJdGVtKCkgaW5zdGVhZC5cIiApO1xuICAgICAgICByZXR1cm4gdGhpcy53b3JsZC5nZXRJbmRleE9mSXRlbShkcmF3ZXIpO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZ2V0TGF5ZXJzQ291bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoIFwiW1ZpZXdlci5nZXRMYXllcnNDb3VudF0gdGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgV29ybGQuZ2V0SXRlbUNvdW50KCkgaW5zdGVhZC5cIiApO1xuICAgICAgICByZXR1cm4gdGhpcy53b3JsZC5nZXRJdGVtQ291bnQoKTtcbiAgICB9LFxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIHNldExheWVyTGV2ZWw6IGZ1bmN0aW9uKCBkcmF3ZXIsIGxldmVsICkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoIFwiW1ZpZXdlci5zZXRMYXllckxldmVsXSB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQ7IHVzZSBXb3JsZC5zZXRJdGVtSW5kZXgoKSBpbnN0ZWFkLlwiICk7XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkLnNldEl0ZW1JbmRleChkcmF3ZXIsIGxldmVsKTtcbiAgICB9LFxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIHJlbW92ZUxheWVyOiBmdW5jdGlvbiggZHJhd2VyICkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoIFwiW1ZpZXdlci5yZW1vdmVMYXllcl0gdGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgV29ybGQucmVtb3ZlSXRlbSgpIGluc3RlYWQuXCIgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGQucmVtb3ZlSXRlbShkcmF3ZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGb3JjZSB0aGUgdmlld2VyIHRvIHJlZHJhdyBpdHMgY29udGVudHMuXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uVmlld2VyfSBDaGFpbmFibGUuXG4gICAgICovXG4gICAgZm9yY2VSZWRyYXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5mb3JjZVJlZHJhdyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqL1xuICAgIGJpbmRTZXF1ZW5jZUNvbnRyb2xzOiBmdW5jdGlvbigpe1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIEltYWdlIFNlcXVlbmNlIENvbnRyb2xzXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIHZhciBvbkZvY3VzSGFuZGxlciAgICAgICAgICA9ICQuZGVsZWdhdGUoIHRoaXMsIG9uRm9jdXMgKSxcbiAgICAgICAgICAgIG9uQmx1ckhhbmRsZXIgICAgICAgICAgID0gJC5kZWxlZ2F0ZSggdGhpcywgb25CbHVyICksXG4gICAgICAgICAgICBvbk5leHRIYW5kbGVyICAgICAgICAgICA9ICQuZGVsZWdhdGUoIHRoaXMsIG9uTmV4dCApLFxuICAgICAgICAgICAgb25QcmV2aW91c0hhbmRsZXIgICAgICAgPSAkLmRlbGVnYXRlKCB0aGlzLCBvblByZXZpb3VzICksXG4gICAgICAgICAgICBuYXZJbWFnZXMgICAgICAgICAgICAgICA9IHRoaXMubmF2SW1hZ2VzLFxuICAgICAgICAgICAgdXNlR3JvdXAgICAgICAgICAgICAgICAgPSB0cnVlO1xuXG4gICAgICAgIGlmKCB0aGlzLnNob3dTZXF1ZW5jZUNvbnRyb2wgKXtcblxuICAgICAgICAgICAgaWYoIHRoaXMucHJldmlvdXNCdXR0b24gfHwgdGhpcy5uZXh0QnV0dG9uICl7XG4gICAgICAgICAgICAgICAgLy9pZiB3ZSBhcmUgYmluZGluZyB0byBjdXN0b20gYnV0dG9ucyB0aGVuIGxheW91dCBhbmRcbiAgICAgICAgICAgICAgICAvL2dyb3VwaW5nIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgcGFnZSBhdXRob3JcbiAgICAgICAgICAgICAgICB1c2VHcm91cCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzQnV0dG9uID0gbmV3ICQuQnV0dG9uKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiAgICB0aGlzLnByZXZpb3VzQnV0dG9uID8gJC5nZXRFbGVtZW50KCB0aGlzLnByZXZpb3VzQnV0dG9uICkgOiBudWxsLFxuICAgICAgICAgICAgICAgIGNsaWNrVGltZVRocmVzaG9sZDogdGhpcy5jbGlja1RpbWVUaHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiB0aGlzLmNsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICB0b29sdGlwOiAgICAkLmdldFN0cmluZyggXCJUb29sdGlwcy5QcmV2aW91c1BhZ2VcIiApLFxuICAgICAgICAgICAgICAgIHNyY1Jlc3Q6ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMucHJldmlvdXMuUkVTVCApLFxuICAgICAgICAgICAgICAgIHNyY0dyb3VwOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMucHJldmlvdXMuR1JPVVAgKSxcbiAgICAgICAgICAgICAgICBzcmNIb3ZlcjogICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLnByZXZpb3VzLkhPVkVSICksXG4gICAgICAgICAgICAgICAgc3JjRG93bjogICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy5wcmV2aW91cy5ET1dOICksXG4gICAgICAgICAgICAgICAgb25SZWxlYXNlOiAgb25QcmV2aW91c0hhbmRsZXIsXG4gICAgICAgICAgICAgICAgb25Gb2N1czogICAgb25Gb2N1c0hhbmRsZXIsXG4gICAgICAgICAgICAgICAgb25CbHVyOiAgICAgb25CbHVySGFuZGxlclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubmV4dEJ1dHRvbiA9IG5ldyAkLkJ1dHRvbih7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogICAgdGhpcy5uZXh0QnV0dG9uID8gJC5nZXRFbGVtZW50KCB0aGlzLm5leHRCdXR0b24gKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IHRoaXMuY2xpY2tEaXN0VGhyZXNob2xkLFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6ICAgICQuZ2V0U3RyaW5nKCBcIlRvb2x0aXBzLk5leHRQYWdlXCIgKSxcbiAgICAgICAgICAgICAgICBzcmNSZXN0OiAgICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLm5leHQuUkVTVCApLFxuICAgICAgICAgICAgICAgIHNyY0dyb3VwOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMubmV4dC5HUk9VUCApLFxuICAgICAgICAgICAgICAgIHNyY0hvdmVyOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMubmV4dC5IT1ZFUiApLFxuICAgICAgICAgICAgICAgIHNyY0Rvd246ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMubmV4dC5ET1dOICksXG4gICAgICAgICAgICAgICAgb25SZWxlYXNlOiAgb25OZXh0SGFuZGxlcixcbiAgICAgICAgICAgICAgICBvbkZvY3VzOiAgICBvbkZvY3VzSGFuZGxlcixcbiAgICAgICAgICAgICAgICBvbkJsdXI6ICAgICBvbkJsdXJIYW5kbGVyXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYoICF0aGlzLm5hdlByZXZOZXh0V3JhcCApe1xuICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMudGlsZVNvdXJjZXMgfHwgIXRoaXMudGlsZVNvdXJjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIHVzZUdyb3VwICl7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdpbmcgPSBuZXcgJC5CdXR0b25Hcm91cCh7XG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiB0aGlzLmNsaWNrRGlzdFRocmVzaG9sZFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdpbmdDb250cm9sID0gdGhpcy5wYWdpbmcuZWxlbWVudDtcblxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLnRvb2xiYXIgKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sYmFyLmFkZENvbnRyb2woXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2luZ0NvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICB7YW5jaG9yOiAkLkNvbnRyb2xBbmNob3IuQk9UVE9NX1JJR0hUfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENvbnRyb2woXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhZ2luZ0NvbnRyb2wsXG4gICAgICAgICAgICAgICAgICAgICAgICB7YW5jaG9yOiB0aGlzLnNlcXVlbmNlQ29udHJvbEFuY2hvciB8fCAkLkNvbnRyb2xBbmNob3IuVE9QX0xFRlR9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld2VyfSBDaGFpbmFibGUuXG4gICAgICovXG4gICAgYmluZFN0YW5kYXJkQ29udHJvbHM6IGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIE5hdmlnYXRpb24gQ29udHJvbHNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgdmFyIGJlZ2luWm9vbWluZ0luSGFuZGxlciAgID0gJC5kZWxlZ2F0ZSggdGhpcywgYmVnaW5ab29taW5nSW4gKSxcbiAgICAgICAgICAgIGVuZFpvb21pbmdIYW5kbGVyICAgICAgID0gJC5kZWxlZ2F0ZSggdGhpcywgZW5kWm9vbWluZyApLFxuICAgICAgICAgICAgZG9TaW5nbGVab29tSW5IYW5kbGVyICAgPSAkLmRlbGVnYXRlKCB0aGlzLCBkb1NpbmdsZVpvb21JbiApLFxuICAgICAgICAgICAgYmVnaW5ab29taW5nT3V0SGFuZGxlciAgPSAkLmRlbGVnYXRlKCB0aGlzLCBiZWdpblpvb21pbmdPdXQgKSxcbiAgICAgICAgICAgIGRvU2luZ2xlWm9vbU91dEhhbmRsZXIgID0gJC5kZWxlZ2F0ZSggdGhpcywgZG9TaW5nbGVab29tT3V0ICksXG4gICAgICAgICAgICBvbkhvbWVIYW5kbGVyICAgICAgICAgICA9ICQuZGVsZWdhdGUoIHRoaXMsIG9uSG9tZSApLFxuICAgICAgICAgICAgb25GdWxsU2NyZWVuSGFuZGxlciAgICAgPSAkLmRlbGVnYXRlKCB0aGlzLCBvbkZ1bGxTY3JlZW4gKSxcbiAgICAgICAgICAgIG9uUm90YXRlTGVmdEhhbmRsZXIgICAgID0gJC5kZWxlZ2F0ZSggdGhpcywgb25Sb3RhdGVMZWZ0ICksXG4gICAgICAgICAgICBvblJvdGF0ZVJpZ2h0SGFuZGxlciAgICA9ICQuZGVsZWdhdGUoIHRoaXMsIG9uUm90YXRlUmlnaHQgKSxcbiAgICAgICAgICAgIG9uRm9jdXNIYW5kbGVyICAgICAgICAgID0gJC5kZWxlZ2F0ZSggdGhpcywgb25Gb2N1cyApLFxuICAgICAgICAgICAgb25CbHVySGFuZGxlciAgICAgICAgICAgPSAkLmRlbGVnYXRlKCB0aGlzLCBvbkJsdXIgKSxcbiAgICAgICAgICAgIG5hdkltYWdlcyAgICAgICAgICAgICAgID0gdGhpcy5uYXZJbWFnZXMsXG4gICAgICAgICAgICBidXR0b25zICAgICAgICAgICAgICAgICA9IFtdLFxuICAgICAgICAgICAgdXNlR3JvdXAgICAgICAgICAgICAgICAgPSB0cnVlO1xuXG5cbiAgICAgICAgaWYgKCB0aGlzLnNob3dOYXZpZ2F0aW9uQ29udHJvbCApIHtcblxuICAgICAgICAgICAgaWYoIHRoaXMuem9vbUluQnV0dG9uIHx8IHRoaXMuem9vbU91dEJ1dHRvbiB8fFxuICAgICAgICAgICAgICAgIHRoaXMuaG9tZUJ1dHRvbiB8fCB0aGlzLmZ1bGxQYWdlQnV0dG9uIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVMZWZ0QnV0dG9uIHx8IHRoaXMucm90YXRlUmlnaHRCdXR0b24gKSB7XG4gICAgICAgICAgICAgICAgLy9pZiB3ZSBhcmUgYmluZGluZyB0byBjdXN0b20gYnV0dG9ucyB0aGVuIGxheW91dCBhbmRcbiAgICAgICAgICAgICAgICAvL2dyb3VwaW5nIGlzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgcGFnZSBhdXRob3JcbiAgICAgICAgICAgICAgICB1c2VHcm91cCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHRoaXMuc2hvd1pvb21Db250cm9sICkge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMucHVzaCggdGhpcy56b29tSW5CdXR0b24gPSBuZXcgJC5CdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAgICB0aGlzLnpvb21JbkJ1dHRvbiA/ICQuZ2V0RWxlbWVudCggdGhpcy56b29tSW5CdXR0b24gKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrVGltZVRocmVzaG9sZDogdGhpcy5jbGlja1RpbWVUaHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrRGlzdFRocmVzaG9sZDogdGhpcy5jbGlja0Rpc3RUaHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICAgICQuZ2V0U3RyaW5nKCBcIlRvb2x0aXBzLlpvb21JblwiICksXG4gICAgICAgICAgICAgICAgICAgIHNyY1Jlc3Q6ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMuem9vbUluLlJFU1QgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjR3JvdXA6ICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy56b29tSW4uR1JPVVAgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjSG92ZXI6ICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy56b29tSW4uSE9WRVIgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjRG93bjogICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy56b29tSW4uRE9XTiApLFxuICAgICAgICAgICAgICAgICAgICBvblByZXNzOiAgICBiZWdpblpvb21pbmdJbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uUmVsZWFzZTogIGVuZFpvb21pbmdIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAgICBkb1NpbmdsZVpvb21JbkhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uRW50ZXI6ICAgIGJlZ2luWm9vbWluZ0luSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25FeGl0OiAgICAgZW5kWm9vbWluZ0hhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM6ICAgIG9uRm9jdXNIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkJsdXI6ICAgICBvbkJsdXJIYW5kbGVyXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKCB0aGlzLnpvb21PdXRCdXR0b24gPSBuZXcgJC5CdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAgICB0aGlzLnpvb21PdXRCdXR0b24gPyAkLmdldEVsZW1lbnQoIHRoaXMuem9vbU91dEJ1dHRvbiApIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiB0aGlzLmNsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogICAgJC5nZXRTdHJpbmcoIFwiVG9vbHRpcHMuWm9vbU91dFwiICksXG4gICAgICAgICAgICAgICAgICAgIHNyY1Jlc3Q6ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMuem9vbU91dC5SRVNUICksXG4gICAgICAgICAgICAgICAgICAgIHNyY0dyb3VwOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMuem9vbU91dC5HUk9VUCApLFxuICAgICAgICAgICAgICAgICAgICBzcmNIb3ZlcjogICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLnpvb21PdXQuSE9WRVIgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjRG93bjogICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy56b29tT3V0LkRPV04gKSxcbiAgICAgICAgICAgICAgICAgICAgb25QcmVzczogICAgYmVnaW5ab29taW5nT3V0SGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25SZWxlYXNlOiAgZW5kWm9vbWluZ0hhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICAgIGRvU2luZ2xlWm9vbU91dEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uRW50ZXI6ICAgIGJlZ2luWm9vbWluZ091dEhhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uRXhpdDogICAgIGVuZFpvb21pbmdIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiAgICBvbkZvY3VzSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25CbHVyOiAgICAgb25CbHVySGFuZGxlclxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCB0aGlzLnNob3dIb21lQ29udHJvbCApIHtcbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goIHRoaXMuaG9tZUJ1dHRvbiA9IG5ldyAkLkJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICAgIHRoaXMuaG9tZUJ1dHRvbiA/ICQuZ2V0RWxlbWVudCggdGhpcy5ob21lQnV0dG9uICkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IHRoaXMuY2xpY2tUaW1lVGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IHRoaXMuY2xpY2tEaXN0VGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAgICAkLmdldFN0cmluZyggXCJUb29sdGlwcy5Ib21lXCIgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjUmVzdDogICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy5ob21lLlJFU1QgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjR3JvdXA6ICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy5ob21lLkdST1VQICksXG4gICAgICAgICAgICAgICAgICAgIHNyY0hvdmVyOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMuaG9tZS5IT1ZFUiApLFxuICAgICAgICAgICAgICAgICAgICBzcmNEb3duOiAgICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLmhvbWUuRE9XTiApLFxuICAgICAgICAgICAgICAgICAgICBvblJlbGVhc2U6ICBvbkhvbWVIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiAgICBvbkZvY3VzSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25CbHVyOiAgICAgb25CbHVySGFuZGxlclxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCB0aGlzLnNob3dGdWxsUGFnZUNvbnRyb2wgKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKCB0aGlzLmZ1bGxQYWdlQnV0dG9uID0gbmV3ICQuQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogICAgdGhpcy5mdWxsUGFnZUJ1dHRvbiA/ICQuZ2V0RWxlbWVudCggdGhpcy5mdWxsUGFnZUJ1dHRvbiApIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiB0aGlzLmNsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogICAgJC5nZXRTdHJpbmcoIFwiVG9vbHRpcHMuRnVsbFBhZ2VcIiApLFxuICAgICAgICAgICAgICAgICAgICBzcmNSZXN0OiAgICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLmZ1bGxwYWdlLlJFU1QgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjR3JvdXA6ICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy5mdWxscGFnZS5HUk9VUCApLFxuICAgICAgICAgICAgICAgICAgICBzcmNIb3ZlcjogICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLmZ1bGxwYWdlLkhPVkVSICksXG4gICAgICAgICAgICAgICAgICAgIHNyY0Rvd246ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMuZnVsbHBhZ2UuRE9XTiApLFxuICAgICAgICAgICAgICAgICAgICBvblJlbGVhc2U6ICBvbkZ1bGxTY3JlZW5IYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiAgICBvbkZvY3VzSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25CbHVyOiAgICAgb25CbHVySGFuZGxlclxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCB0aGlzLnNob3dSb3RhdGlvbkNvbnRyb2wgKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9ucy5wdXNoKCB0aGlzLnJvdGF0ZUxlZnRCdXR0b24gPSBuZXcgJC5CdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAgICB0aGlzLnJvdGF0ZUxlZnRCdXR0b24gPyAkLmdldEVsZW1lbnQoIHRoaXMucm90YXRlTGVmdEJ1dHRvbiApIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiB0aGlzLmNsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcDogICAgJC5nZXRTdHJpbmcoIFwiVG9vbHRpcHMuUm90YXRlTGVmdFwiICksXG4gICAgICAgICAgICAgICAgICAgIHNyY1Jlc3Q6ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMucm90YXRlbGVmdC5SRVNUICksXG4gICAgICAgICAgICAgICAgICAgIHNyY0dyb3VwOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMucm90YXRlbGVmdC5HUk9VUCApLFxuICAgICAgICAgICAgICAgICAgICBzcmNIb3ZlcjogICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLnJvdGF0ZWxlZnQuSE9WRVIgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjRG93bjogICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy5yb3RhdGVsZWZ0LkRPV04gKSxcbiAgICAgICAgICAgICAgICAgICAgb25SZWxlYXNlOiAgb25Sb3RhdGVMZWZ0SGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25Gb2N1czogICAgb25Gb2N1c0hhbmRsZXIsXG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cjogICAgIG9uQmx1ckhhbmRsZXJcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBidXR0b25zLnB1c2goIHRoaXMucm90YXRlUmlnaHRCdXR0b24gPSBuZXcgJC5CdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAgICB0aGlzLnJvdGF0ZVJpZ2h0QnV0dG9uID8gJC5nZXRFbGVtZW50KCB0aGlzLnJvdGF0ZVJpZ2h0QnV0dG9uICkgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IHRoaXMuY2xpY2tUaW1lVGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IHRoaXMuY2xpY2tEaXN0VGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAgICAkLmdldFN0cmluZyggXCJUb29sdGlwcy5Sb3RhdGVSaWdodFwiICksXG4gICAgICAgICAgICAgICAgICAgIHNyY1Jlc3Q6ICAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMucm90YXRlcmlnaHQuUkVTVCApLFxuICAgICAgICAgICAgICAgICAgICBzcmNHcm91cDogICByZXNvbHZlVXJsKCB0aGlzLnByZWZpeFVybCwgbmF2SW1hZ2VzLnJvdGF0ZXJpZ2h0LkdST1VQICksXG4gICAgICAgICAgICAgICAgICAgIHNyY0hvdmVyOiAgIHJlc29sdmVVcmwoIHRoaXMucHJlZml4VXJsLCBuYXZJbWFnZXMucm90YXRlcmlnaHQuSE9WRVIgKSxcbiAgICAgICAgICAgICAgICAgICAgc3JjRG93bjogICAgcmVzb2x2ZVVybCggdGhpcy5wcmVmaXhVcmwsIG5hdkltYWdlcy5yb3RhdGVyaWdodC5ET1dOICksXG4gICAgICAgICAgICAgICAgICAgIG9uUmVsZWFzZTogIG9uUm90YXRlUmlnaHRIYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiAgICBvbkZvY3VzSGFuZGxlcixcbiAgICAgICAgICAgICAgICAgICAgb25CbHVyOiAgICAgb25CbHVySGFuZGxlclxuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHVzZUdyb3VwICkge1xuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9ucyA9IG5ldyAkLkJ1dHRvbkdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IHRoaXMuY2xpY2tUaW1lVGhyZXNob2xkLFxuICAgICAgICAgICAgICAgICAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IHRoaXMuY2xpY2tEaXN0VGhyZXNob2xkXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm5hdkNvbnRyb2wgID0gdGhpcy5idXR0b25zLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRIYW5kbGVyKCAnb3BlbicsICQuZGVsZWdhdGUoIHRoaXMsIGxpZ2h0VXAgKSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXMudG9vbGJhciApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xiYXIuYWRkQ29udHJvbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF2Q29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHthbmNob3I6IHRoaXMubmF2aWdhdGlvbkNvbnRyb2xBbmNob3IgfHwgJC5Db250cm9sQW5jaG9yLlRPUF9MRUZUfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29udHJvbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF2Q29udHJvbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHthbmNob3I6IHRoaXMubmF2aWdhdGlvbkNvbnRyb2xBbmNob3IgfHwgJC5Db250cm9sQW5jaG9yLlRPUF9MRUZUfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhY3RpdmUgcGFnZSBvZiBhIHNlcXVlbmNlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGN1cnJlbnRQYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcXVlbmNlSW5kZXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld2VyfSBDaGFpbmFibGUuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50OnBhZ2VcbiAgICAgKi9cbiAgICBnb1RvUGFnZTogZnVuY3Rpb24oIHBhZ2UgKXtcbiAgICAgICAgaWYoIHRoaXMudGlsZVNvdXJjZXMgJiYgcGFnZSA+PSAwICYmIHBhZ2UgPCB0aGlzLnRpbGVTb3VyY2VzLmxlbmd0aCApe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgcGFnZSBpcyBjaGFuZ2VkIG9uIGEgdmlld2VyIGNvbmZpZ3VyZWQgd2l0aCBtdWx0aXBsZSBpbWFnZSBzb3VyY2VzIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2dvVG9QYWdlfSkuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IHBhZ2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHBhZ2UgLSBUaGUgcGFnZSBpbmRleC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCAncGFnZScsIHsgcGFnZTogcGFnZSB9ICk7XG5cbiAgICAgICAgICAgIHRoaXMuX3NlcXVlbmNlSW5kZXggPSBwYWdlO1xuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTZXF1ZW5jZUJ1dHRvbnMoIHBhZ2UgKTtcblxuICAgICAgICAgICAgdGhpcy5vcGVuKCB0aGlzLnRpbGVTb3VyY2VzWyBwYWdlIF0gKTtcblxuICAgICAgICAgICAgaWYoIHRoaXMucmVmZXJlbmNlU3RyaXAgKXtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jZVN0cmlwLnNldEZvY3VzKCBwYWdlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAvKipcbiAgICAgKiBBZGRzIGFuIGh0bWwgZWxlbWVudCBhcyBhbiBvdmVybGF5IHRvIHRoZSBjdXJyZW50IHZpZXdwb3J0LiAgVXNlZnVsIGZvclxuICAgICAqIGhpZ2hsaWdodGluZyB3b3JkcyBvciBhcmVhcyBvZiBpbnRlcmVzdCBvbiBhbiBpbWFnZSBvciBvdGhlciB6b29tYWJsZVxuICAgICAqIGludGVyZmFjZS4gVGhlIG92ZXJsYXlzIGFkZGVkIHZpYSB0aGlzIG1ldGhvZCBhcmUgcmVtb3ZlZCB3aGVuIHRoZSB2aWV3cG9ydFxuICAgICAqIGlzIGNsb3NlZCB3aGljaCBpbmNsdWRlIHdoZW4gY2hhbmdpbmcgcGFnZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ3xPYmplY3R9IGVsZW1lbnQgLSBBIHJlZmVyZW5jZSB0byBhbiBlbGVtZW50IG9yIGFuIGlkIGZvclxuICAgICAqICAgICAgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBvdmVybGF5ZWQuIE9yIGFuIE9iamVjdCBzcGVjaWZ5aW5nIHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGUgb3ZlcmxheS5cbiAgICAgKiAgICAgIElmIHVzaW5nIGFuIG9iamVjdCwgc2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLk92ZXJsYXl9IGZvciBhIGxpc3Qgb2ZcbiAgICAgKiAgICAgIGFsbCBhdmFpbGFibGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR8T3BlblNlYWRyYWdvbi5SZWN0fSBsb2NhdGlvbiAtIFRoZSBwb2ludCBvclxuICAgICAqICAgICAgcmVjdGFuZ2xlIHdoaWNoIHdpbGwgYmUgb3ZlcmxheWVkLiBUaGlzIGlzIGEgdmlld3BvcnQgcmVsYXRpdmUgbG9jYXRpb24uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBsYWNlbWVudH0gcGxhY2VtZW50IC0gVGhlIHBvc2l0aW9uIG9mIHRoZVxuICAgICAqICAgICAgdmlld3BvcnQgd2hpY2ggdGhlIGxvY2F0aW9uIGNvb3JkaW5hdGVzIHdpbGwgYmUgdHJlYXRlZCBhcyByZWxhdGl2ZVxuICAgICAqICAgICAgdG8uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb25EcmF3IC0gSWYgc3VwcGxpZWQgdGhlIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIHRoZSBvdmVybGF5XG4gICAgICogICAgICBuZWVkcyB0byBiZSBkcmF3bi4gSXQgaXQgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBjYWxsYmFjayB0byBkbyBhbnkgZHJhd2luZy9wb3NpdGlvbmluZy5cbiAgICAgKiAgICAgIEl0IGlzIHBhc3NlZCBwb3NpdGlvbiwgc2l6ZSBhbmQgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDphZGQtb3ZlcmxheVxuICAgICAqL1xuICAgIGFkZE92ZXJsYXk6IGZ1bmN0aW9uKCBlbGVtZW50LCBsb2NhdGlvbiwgcGxhY2VtZW50LCBvbkRyYXcgKSB7XG4gICAgICAgIHZhciBvcHRpb25zO1xuICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KCBlbGVtZW50ICkgKXtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgICAgICAgICAgICBvbkRyYXc6IG9uRHJhd1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIG9wdGlvbnMuZWxlbWVudCApO1xuXG4gICAgICAgIGlmICggZ2V0T3ZlcmxheUluZGV4KCB0aGlzLmN1cnJlbnRPdmVybGF5cywgZWxlbWVudCApID49IDAgKSB7XG4gICAgICAgICAgICAvLyB0aGV5J3JlIHRyeWluZyB0byBhZGQgYSBkdXBsaWNhdGUgb3ZlcmxheVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3ZlcmxheSA9IGdldE92ZXJsYXlPYmplY3QoIHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmN1cnJlbnRPdmVybGF5cy5wdXNoKG92ZXJsYXkpO1xuICAgICAgICBvdmVybGF5LmRyYXdIVE1MKCB0aGlzLm92ZXJsYXlzQ29udGFpbmVyLCB0aGlzLnZpZXdwb3J0ICk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIGFuIG92ZXJsYXkgaXMgYWRkZWQgdG8gdGhlIHZpZXdlciAoc2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNhZGRPdmVybGF5fSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBhZGQtb3ZlcmxheVxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RWxlbWVudH0gZWxlbWVudCAtIFRoZSBvdmVybGF5IGVsZW1lbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludHxPcGVuU2VhZHJhZ29uLlJlY3R9IGxvY2F0aW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IHBsYWNlbWVudFxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdhZGQtb3ZlcmxheScsIHtcbiAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICBsb2NhdGlvbjogb3B0aW9ucy5sb2NhdGlvbixcbiAgICAgICAgICAgIHBsYWNlbWVudDogb3B0aW9ucy5wbGFjZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvdmVybGF5IHJlcHJlc2VudGVkIGJ5IHRoZSByZWZlcmVuY2UgdG8gdGhlIGVsZW1lbnQgb3JcbiAgICAgKiBlbGVtZW50IGlkIG1vdmluZyBpdCB0byB0aGUgbmV3IGxvY2F0aW9uLCByZWxhdGl2ZSB0byB0aGUgbmV3IHBsYWNlbWVudC5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudCAtIEEgcmVmZXJlbmNlIHRvIGFuIGVsZW1lbnQgb3IgYW4gaWQgZm9yXG4gICAgICogICAgICB0aGUgZWxlbWVudCB3aGljaCBpcyBvdmVybGF5ZWQuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fE9wZW5TZWFkcmFnb24uUmVjdH0gbG9jYXRpb24gLSBUaGUgcG9pbnQgb3JcbiAgICAgKiAgICAgIHJlY3RhbmdsZSB3aGljaCB3aWxsIGJlIG92ZXJsYXllZC4gVGhpcyBpcyBhIHZpZXdwb3J0IHJlbGF0aXZlIGxvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IHBsYWNlbWVudCAtIFRoZSBwb3NpdGlvbiBvZiB0aGVcbiAgICAgKiAgICAgIHZpZXdwb3J0IHdoaWNoIHRoZSBsb2NhdGlvbiBjb29yZGluYXRlcyB3aWxsIGJlIHRyZWF0ZWQgYXMgcmVsYXRpdmVcbiAgICAgKiAgICAgIHRvLlxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld2VyfSBDaGFpbmFibGUuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50OnVwZGF0ZS1vdmVybGF5XG4gICAgICovXG4gICAgdXBkYXRlT3ZlcmxheTogZnVuY3Rpb24oIGVsZW1lbnQsIGxvY2F0aW9uLCBwbGFjZW1lbnQgKSB7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgaSA9IGdldE92ZXJsYXlJbmRleCggdGhpcy5jdXJyZW50T3ZlcmxheXMsIGVsZW1lbnQgKTtcblxuICAgICAgICBpZiAoIGkgPj0gMCApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXlzWyBpIF0udXBkYXRlKCBsb2NhdGlvbiwgcGxhY2VtZW50ICk7XG4gICAgICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5mb3JjZVJlZHJhdyA9IHRydWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIGFuIG92ZXJsYXkncyBsb2NhdGlvbiBvciBwbGFjZW1lbnQgY2hhbmdlc1xuICAgICAgICAgICAgICogKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjdXBkYXRlT3ZlcmxheX0pLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCB1cGRhdGUtb3ZlcmxheVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGVcbiAgICAgICAgICAgICAqIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtFbGVtZW50fSBlbGVtZW50XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR8T3BlblNlYWRyYWdvbi5SZWN0fSBsb2NhdGlvblxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBsYWNlbWVudH0gcGxhY2VtZW50XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMucmFpc2VFdmVudCggJ3VwZGF0ZS1vdmVybGF5Jywge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBvdmVybGF5IGlkZW50aWZpZWQgYnkgdGhlIHJlZmVyZW5jZSBlbGVtZW50IG9yIGVsZW1lbnQgaWRcbiAgICAgKiBhbmQgc2NoZWR1bGVzIGFuIHVwZGF0ZS5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudCAtIEEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IG9yIGFuXG4gICAgICogICAgICBlbGVtZW50IGlkIHdoaWNoIHJlcHJlc2VudCB0aGUgb3ZlbGF5IGNvbnRlbnQgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpyZW1vdmUtb3ZlcmxheVxuICAgICAqL1xuICAgIHJlbW92ZU92ZXJsYXk6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuICAgICAgICB2YXIgaTtcblxuICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBlbGVtZW50ICk7XG4gICAgICAgIGkgPSBnZXRPdmVybGF5SW5kZXgoIHRoaXMuY3VycmVudE92ZXJsYXlzLCBlbGVtZW50ICk7XG5cbiAgICAgICAgaWYgKCBpID49IDAgKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRPdmVybGF5c1sgaSBdLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXlzLnNwbGljZSggaSwgMSApO1xuICAgICAgICAgICAgVEhJU1sgdGhpcy5oYXNoIF0uZm9yY2VSZWRyYXcgPSB0cnVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiBhbiBvdmVybGF5IGlzIHJlbW92ZWQgZnJvbSB0aGUgdmlld2VyXG4gICAgICAgICAgICAgKiAoc2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNyZW1vdmVPdmVybGF5fSkuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IHJlbW92ZS1vdmVybGF5XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZVxuICAgICAgICAgICAgICogVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge0VsZW1lbnR9IGVsZW1lbnQgLSBUaGUgb3ZlcmxheSBlbGVtZW50LlxuICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdyZW1vdmUtb3ZlcmxheScsIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY3VycmVudGx5IGNvbmZpZ3VyZWQgT3ZlcmxheXMgZnJvbSB0aGlzIFZpZXdlciBhbmQgc2NoZWR1bGVzXG4gICAgICogYW4gdXBkYXRlLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpjbGVhci1vdmVybGF5XG4gICAgICovXG4gICAgY2xlYXJPdmVybGF5czogZnVuY3Rpb24oKSB7XG4gICAgICAgIHdoaWxlICggdGhpcy5jdXJyZW50T3ZlcmxheXMubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXlzLnBvcCgpLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS5mb3JjZVJlZHJhdyA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYWlzZWQgd2hlbiBhbGwgb3ZlcmxheXMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgdmlld2VyIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uRHJhd2VyI2NsZWFyT3ZlcmxheXN9KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGNsZWFyLW92ZXJsYXlcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdjbGVhci1vdmVybGF5Jywge30gKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgICAvKipcbiAgICAgKiBGaW5kcyBhbiBvdmVybGF5IGlkZW50aWZpZWQgYnkgdGhlIHJlZmVyZW5jZSBlbGVtZW50IG9yIGVsZW1lbnQgaWRcbiAgICAgKiBhbmQgcmV0dXJucyBpdCBhcyBhbiBvYmplY3QsIHJldHVybiBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtFbGVtZW50fFN0cmluZ30gZWxlbWVudCAtIEEgcmVmZXJlbmNlIHRvIHRoZSBlbGVtZW50IG9yIGFuXG4gICAgICogICAgICBlbGVtZW50IGlkIHdoaWNoIHJlcHJlc2VudHMgdGhlIG92ZXJsYXkgY29udGVudC5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLk92ZXJsYXl9IHRoZSBtYXRjaGluZyBvdmVybGF5IG9yIG51bGwgaWYgbm9uZSBmb3VuZC5cbiAgICAgKi9cbiAgICBnZXRPdmVybGF5QnlJZDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIGVsZW1lbnQgPSAkLmdldEVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgICAgICAgaSA9IGdldE92ZXJsYXlJbmRleCggdGhpcy5jdXJyZW50T3ZlcmxheXMsIGVsZW1lbnQgKTtcblxuICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50T3ZlcmxheXNbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzZXF1ZW5jZSBidXR0b25zLlxuICAgICAqIEBmdW5jdGlvbiBPcGVuU2VhZHJhZ29uLlZpZXdlci5wcm90b3R5cGUuX3VwZGF0ZVNlcXVlbmNlQnV0dG9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFNlcXVlbmNlIFZhbHVlXG4gICAgICovXG4gICAgX3VwZGF0ZVNlcXVlbmNlQnV0dG9uczogZnVuY3Rpb24oIHBhZ2UgKSB7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5uZXh0QnV0dG9uICkge1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnRpbGVTb3VyY2VzIHx8IHRoaXMudGlsZVNvdXJjZXMubGVuZ3RoIC0gMSA9PT0gcGFnZSkge1xuICAgICAgICAgICAgICAgICAgICAvL0Rpc2FibGUgbmV4dCBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhdGhpcy5uYXZQcmV2TmV4dFdyYXAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRCdXR0b24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICggdGhpcy5wcmV2aW91c0J1dHRvbiApIHtcbiAgICAgICAgICAgICAgICBpZiAoIHBhZ2UgPiAwICkge1xuICAgICAgICAgICAgICAgICAgICAvL0VuYWJsZSBwcmV2aW91cyBidXR0b25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0J1dHRvbi5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICF0aGlzLm5hdlByZXZOZXh0V3JhcCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNCdXR0b24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpc3BsYXkgYSBtZXNzYWdlIGluIHRoZSB2aWV3cG9ydFxuICAgICAqIEBmdW5jdGlvbiBPcGVuU2VhZHJhZ29uLlZpZXdlci5wcm90b3R5cGUuX3Nob3dNZXNzYWdlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBtZXNzYWdlXG4gICAgICovXG4gICAgX3Nob3dNZXNzYWdlOiBmdW5jdGlvbiAoIG1lc3NhZ2UgKSB7XG4gICAgICAgIHRoaXMuX2hpZGVNZXNzYWdlKCk7XG5cbiAgICAgICAgdmFyIGRpdiA9ICQubWFrZU5ldXRyYWxFbGVtZW50KCBcImRpdlwiICk7XG4gICAgICAgIGRpdi5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIG1lc3NhZ2UgKSApO1xuXG4gICAgICAgIHRoaXMubWVzc2FnZURpdiA9ICQubWFrZUNlbnRlcmVkTm9kZSggZGl2ICk7XG5cbiAgICAgICAgJC5hZGRDbGFzcyh0aGlzLm1lc3NhZ2VEaXYsIFwib3BlbnNlYWRyYWdvbi1tZXNzYWdlXCIpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLm1lc3NhZ2VEaXYgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGlkZSBhbnkgY3VycmVudGx5IGRpc3BsYXllZCB2aWV3cG9ydCBtZXNzYWdlXG4gICAgICogQGZ1bmN0aW9uIE9wZW5TZWFkcmFnb24uVmlld2VyLnByb3RvdHlwZS5faGlkZU1lc3NhZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9oaWRlTWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGl2ID0gdGhpcy5tZXNzYWdlRGl2O1xuICAgICAgICBpZiAoZGl2KSB7XG4gICAgICAgICAgICBkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkaXYpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVzc2FnZURpdjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoaXMgdmlld2VyJ3MgZ2VzdHVyZSBzZXR0aW5ncyBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgZGV2aWNlIHR5cGUuXG4gICAgICogQG1ldGhvZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIC0gVGhlIHBvaW50ZXIgZGV2aWNlIHR5cGUgdG8gZ2V0IHRoZSBnZXN0dXJlIHNldHRpbmdzIGZvciAoXCJtb3VzZVwiLCBcInRvdWNoXCIsIFwicGVuXCIsIGV0Yy4pLlxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uR2VzdHVyZVNldHRpbmdzfVxuICAgICAqL1xuICAgIGdlc3R1cmVTZXR0aW5nc0J5RGV2aWNlVHlwZTogZnVuY3Rpb24gKCB0eXBlICkge1xuICAgICAgICBzd2l0Y2ggKCB0eXBlICkge1xuICAgICAgICAgICAgY2FzZSAnbW91c2UnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlc3R1cmVTZXR0aW5nc01vdXNlO1xuICAgICAgICAgICAgY2FzZSAndG91Y2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlc3R1cmVTZXR0aW5nc1RvdWNoO1xuICAgICAgICAgICAgY2FzZSAncGVuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXN0dXJlU2V0dGluZ3NQZW47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdlc3R1cmVTZXR0aW5nc1Vua25vd247XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF9kcmF3T3ZlcmxheXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMuY3VycmVudE92ZXJsYXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICggaSA9IDA7IGkgPCBsZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE92ZXJsYXlzWyBpIF0uZHJhd0hUTUwoIHRoaXMub3ZlcmxheXNDb250YWluZXIsIHRoaXMudmlld3BvcnQgKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYW5jZWwgdGhlIFwiaW4gZmxpZ2h0XCIgaW1hZ2VzLlxuICAgICAqL1xuICAgIF9jYW5jZWxQZW5kaW5nSW1hZ2VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbG9hZFF1ZXVlID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHJlZmVyZW5jZSBzdHJpcCBhbmQgZGlzYWJsZXMgZGlzcGxheWluZyBpdC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICByZW1vdmVSZWZlcmVuY2VTdHJpcDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2hvd1JlZmVyZW5jZVN0cmlwID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMucmVmZXJlbmNlU3RyaXApIHtcbiAgICAgICAgICAgIHRoaXMucmVmZXJlbmNlU3RyaXAuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VTdHJpcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBhbmQgZGlzcGxheXMgdGhlIHJlZmVyZW5jZSBzdHJpcCBiYXNlZCBvbiB0aGUgY3VycmVudGx5IHNldCB0aWxlU291cmNlcy5cbiAgICAgKiBXb3JrcyBvbmx5IHdoZW4gdGhlIFZpZXdlciBoYXMgc2VxdWVuY2VNb2RlIHNldCB0byB0cnVlLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIGFkZFJlZmVyZW5jZVN0cmlwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zaG93UmVmZXJlbmNlU3RyaXAgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLnNlcXVlbmNlTW9kZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmZXJlbmNlU3RyaXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnRpbGVTb3VyY2VzLmxlbmd0aCAmJiB0aGlzLnRpbGVTb3VyY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jZVN0cmlwID0gbmV3ICQuUmVmZXJlbmNlU3RyaXAoe1xuICAgICAgICAgICAgICAgICAgICBpZDogICAgICAgICAgdGhpcy5yZWZlcmVuY2VTdHJpcEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAgICB0aGlzLnJlZmVyZW5jZVN0cmlwUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHNpemVSYXRpbzogICB0aGlzLnJlZmVyZW5jZVN0cmlwU2l6ZVJhdGlvLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6ICAgICAgdGhpcy5yZWZlcmVuY2VTdHJpcFNjcm9sbCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAgICAgIHRoaXMucmVmZXJlbmNlU3RyaXBIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAgICAgICB0aGlzLnJlZmVyZW5jZVN0cmlwV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHRpbGVTb3VyY2VzOiB0aGlzLnRpbGVTb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBwcmVmaXhVcmw6ICAgdGhpcy5wcmVmaXhVcmwsXG4gICAgICAgICAgICAgICAgICAgIHZpZXdlcjogICAgICB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlZmVyZW5jZVN0cmlwLnNldEZvY3VzKCB0aGlzLl9zZXF1ZW5jZUluZGV4ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkLmNvbnNvbGUud2FybignQXR0ZW1wdGluZyB0byBkaXNwbGF5IGEgcmVmZXJlbmNlIHN0cmlwIHdoaWxlIFwic2VxdWVuY2VNb2RlXCIgaXMgb2ZmLicpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cblxuLyoqXG4gKiBfZ2V0U2FmZUVsZW1TaXplIGlzIGxpa2UgZ2V0RWxlbWVudFNpemUoKSwgYnV0IHJlZnVzZXMgdG8gcmV0dXJuIDAgZm9yIHggb3IgeSxcbiAqIHdoaWNoIHdhcyBjYXVzaW5nIHNvbWUgY2FsbGluZyBvcGVyYXRpb25zIHRvIHJldHVybiBOYU4uXG4gKiBAcmV0dXJucyB7UG9pbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0U2FmZUVsZW1TaXplIChvRWxlbWVudCkge1xuICAgIG9FbGVtZW50ID0gJC5nZXRFbGVtZW50KCBvRWxlbWVudCApO1xuXG4gICAgcmV0dXJuIG5ldyAkLlBvaW50KFxuICAgICAgICAob0VsZW1lbnQuY2xpZW50V2lkdGggPT09IDAgPyAxIDogb0VsZW1lbnQuY2xpZW50V2lkdGgpLFxuICAgICAgICAob0VsZW1lbnQuY2xpZW50SGVpZ2h0ID09PSAwID8gMSA6IG9FbGVtZW50LmNsaWVudEhlaWdodClcbiAgICApO1xufVxuXG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBnZXRUaWxlU291cmNlSW1wbGVtZW50YXRpb24oIHZpZXdlciwgdGlsZVNvdXJjZSwgaW1nT3B0aW9ucywgc3VjY2Vzc0NhbGxiYWNrLFxuICAgIGZhaWxDYWxsYmFjayApIHtcbiAgICB2YXIgX3RoaXMgPSB2aWV3ZXI7XG5cbiAgICAvL2FsbG93IHBsYWluIHhtbCBzdHJpbmdzIG9yIGpzb24gc3RyaW5ncyB0byBiZSBwYXJzZWQgaGVyZVxuICAgIGlmICggJC50eXBlKCB0aWxlU291cmNlICkgPT0gJ3N0cmluZycgKSB7XG4gICAgICAgIC8veG1sIHNob3VsZCBzdGFydCB3aXRoIFwiPFwiIGFuZCBlbmQgd2l0aCBcIj5cIlxuICAgICAgICBpZiAoIHRpbGVTb3VyY2UubWF0Y2goIC9eXFxzKjwuKj5cXHMqJC8gKSApIHtcbiAgICAgICAgICAgIHRpbGVTb3VyY2UgPSAkLnBhcnNlWG1sKCB0aWxlU291cmNlICk7XG4gICAgICAgIC8vanNvbiBzaG91bGQgc3RhcnQgd2l0aCBcIntcIiBvciBcIltcIiBhbmQgZW5kIHdpdGggXCJ9XCIgb3IgXCJdXCJcbiAgICAgICAgfSBlbHNlIGlmICggdGlsZVNvdXJjZS5tYXRjaCgvXlxccypbXFx7XFxbXS4qW1xcfVxcXV1cXHMqJC8gKSApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhciB0aWxlU291cmNlSiA9ICQucGFyc2VKU09OKHRpbGVTb3VyY2UpO1xuICAgICAgICAgICAgICB0aWxlU291cmNlID0gdGlsZVNvdXJjZUo7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIC8vdGlsZVNvdXJjZSA9IHRpbGVTb3VyY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YWl0VW50aWxSZWFkeSh0aWxlU291cmNlLCBvcmlnaW5hbFRpbGVTb3VyY2UpIHtcbiAgICAgICAgaWYgKHRpbGVTb3VyY2UucmVhZHkpIHtcbiAgICAgICAgICAgIHN1Y2Nlc3NDYWxsYmFjayh0aWxlU291cmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbGVTb3VyY2UuYWRkSGFuZGxlcigncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrKHRpbGVTb3VyY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aWxlU291cmNlLmFkZEhhbmRsZXIoJ29wZW4tZmFpbGVkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZmFpbENhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXZlbnQubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiBvcmlnaW5hbFRpbGVTb3VyY2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggJC50eXBlKCB0aWxlU291cmNlICkgPT0gJ3N0cmluZycgKSB7XG4gICAgICAgICAgICAvL0lmIGl0cyBzdGlsbCBhIHN0cmluZyBpdCBtZWFucyBpdCBtdXN0IGJlIGEgdXJsIGF0IHRoaXMgcG9pbnRcbiAgICAgICAgICAgIHRpbGVTb3VyY2UgPSBuZXcgJC5UaWxlU291cmNlKHtcbiAgICAgICAgICAgICAgICB1cmw6IHRpbGVTb3VyY2UsXG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k6IGltZ09wdGlvbnMuY3Jvc3NPcmlnaW5Qb2xpY3kgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIGltZ09wdGlvbnMuY3Jvc3NPcmlnaW5Qb2xpY3kgOiB2aWV3ZXIuY3Jvc3NPcmlnaW5Qb2xpY3ksXG4gICAgICAgICAgICAgICAgYWpheFdpdGhDcmVkZW50aWFsczogdmlld2VyLmFqYXhXaXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgYWpheEhlYWRlcnM6IHZpZXdlci5hamF4SGVhZGVycyxcbiAgICAgICAgICAgICAgICB1c2VDYW52YXM6IHZpZXdlci51c2VDYW52YXMsXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2soIGV2ZW50LnRpbGVTb3VyY2UgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRpbGVTb3VyY2UuYWRkSGFuZGxlciggJ29wZW4tZmFpbGVkJywgZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgIGZhaWxDYWxsYmFjayggZXZlbnQgKTtcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICB9IGVsc2UgaWYgKCQuaXNQbGFpbk9iamVjdCh0aWxlU291cmNlKSB8fCB0aWxlU291cmNlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgICBpZiAodGlsZVNvdXJjZS5jcm9zc09yaWdpblBvbGljeSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgKGltZ09wdGlvbnMuY3Jvc3NPcmlnaW5Qb2xpY3kgIT09IHVuZGVmaW5lZCB8fCB2aWV3ZXIuY3Jvc3NPcmlnaW5Qb2xpY3kgIT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgICAgICB0aWxlU291cmNlLmNyb3NzT3JpZ2luUG9saWN5ID0gaW1nT3B0aW9ucy5jcm9zc09yaWdpblBvbGljeSAhPT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICAgICAgaW1nT3B0aW9ucy5jcm9zc09yaWdpblBvbGljeSA6IHZpZXdlci5jcm9zc09yaWdpblBvbGljeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aWxlU291cmNlLmFqYXhXaXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRpbGVTb3VyY2UuYWpheFdpdGhDcmVkZW50aWFscyA9IHZpZXdlci5hamF4V2l0aENyZWRlbnRpYWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVTb3VyY2UudXNlQ2FudmFzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aWxlU291cmNlLnVzZUNhbnZhcyA9IHZpZXdlci51c2VDYW52YXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCB0aWxlU291cmNlLmdldFRpbGVVcmwgKSApIHtcbiAgICAgICAgICAgICAgICAvL0N1c3RvbSB0aWxlIHNvdXJjZVxuICAgICAgICAgICAgICAgIHZhciBjdXN0b21UaWxlU291cmNlID0gbmV3ICQuVGlsZVNvdXJjZSggdGlsZVNvdXJjZSApO1xuICAgICAgICAgICAgICAgIGN1c3RvbVRpbGVTb3VyY2UuZ2V0VGlsZVVybCA9IHRpbGVTb3VyY2UuZ2V0VGlsZVVybDtcbiAgICAgICAgICAgICAgICBzdWNjZXNzQ2FsbGJhY2soIGN1c3RvbVRpbGVTb3VyY2UgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9pbmxpbmUgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgICAgIHZhciAkVGlsZVNvdXJjZSA9ICQuVGlsZVNvdXJjZS5kZXRlcm1pbmVUeXBlKCBfdGhpcywgdGlsZVNvdXJjZSApO1xuICAgICAgICAgICAgICAgIGlmICggISRUaWxlU291cmNlICkge1xuICAgICAgICAgICAgICAgICAgICBmYWlsQ2FsbGJhY2soIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVW5hYmxlIHRvIGxvYWQgVGlsZVNvdXJjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aWxlU291cmNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gJFRpbGVTb3VyY2UucHJvdG90eXBlLmNvbmZpZ3VyZS5hcHBseSggX3RoaXMsIFsgdGlsZVNvdXJjZSBdICk7XG4gICAgICAgICAgICAgICAgd2FpdFVudGlsUmVhZHkobmV3ICRUaWxlU291cmNlKG9wdGlvbnMpLCB0aWxlU291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vY2FuIGFzc3VtZSBpdCdzIGFscmVhZHkgYSB0aWxlIHNvdXJjZSBpbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgd2FpdFVudGlsUmVhZHkodGlsZVNvdXJjZSwgdGlsZVNvdXJjZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0T3ZlcmxheU9iamVjdCggdmlld2VyLCBvdmVybGF5ICkge1xuICAgIGlmICggb3ZlcmxheSBpbnN0YW5jZW9mICQuT3ZlcmxheSApIHtcbiAgICAgICAgcmV0dXJuIG92ZXJsYXk7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBudWxsO1xuICAgIGlmICggb3ZlcmxheS5lbGVtZW50ICkge1xuICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBvdmVybGF5LmVsZW1lbnQgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaWQgPSBvdmVybGF5LmlkID9cbiAgICAgICAgICAgIG92ZXJsYXkuaWQgOlxuICAgICAgICAgICAgXCJvcGVuc2VhZHJhZ29uLW92ZXJsYXktXCIgKyBNYXRoLmZsb29yKCBNYXRoLnJhbmRvbSgpICogMTAwMDAwMDAgKTtcblxuICAgICAgICBlbGVtZW50ID0gJC5nZXRFbGVtZW50KCBvdmVybGF5LmlkICk7XG4gICAgICAgIGlmICggIWVsZW1lbnQgKSB7XG4gICAgICAgICAgICBlbGVtZW50ICAgICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuICAgICAgICAgICAgZWxlbWVudC5ocmVmICAgID0gXCIjL292ZXJsYXkvXCIgKyBpZDtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50LmlkID0gaWQ7XG4gICAgICAgICQuYWRkQ2xhc3MoIGVsZW1lbnQsIG92ZXJsYXkuY2xhc3NOYW1lID9cbiAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NOYW1lIDpcbiAgICAgICAgICAgIFwib3BlbnNlYWRyYWdvbi1vdmVybGF5XCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgbG9jYXRpb24gPSBvdmVybGF5LmxvY2F0aW9uO1xuICAgIHZhciB3aWR0aCA9IG92ZXJsYXkud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IG92ZXJsYXkuaGVpZ2h0O1xuICAgIGlmICghbG9jYXRpb24pIHtcbiAgICAgICAgdmFyIHggPSBvdmVybGF5Lng7XG4gICAgICAgIHZhciB5ID0gb3ZlcmxheS55O1xuICAgICAgICBpZiAob3ZlcmxheS5weCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IHZpZXdlci52aWV3cG9ydC5pbWFnZVRvVmlld3BvcnRSZWN0YW5nbGUobmV3ICQuUmVjdChcbiAgICAgICAgICAgICAgICBvdmVybGF5LnB4LFxuICAgICAgICAgICAgICAgIG92ZXJsYXkucHksXG4gICAgICAgICAgICAgICAgd2lkdGggfHwgMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgfHwgMCkpO1xuICAgICAgICAgICAgeCA9IHJlY3QueDtcbiAgICAgICAgICAgIHkgPSByZWN0Lnk7XG4gICAgICAgICAgICB3aWR0aCA9IHdpZHRoICE9PSB1bmRlZmluZWQgPyByZWN0LndpZHRoIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICE9PSB1bmRlZmluZWQgPyByZWN0LmhlaWdodCA6IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBsb2NhdGlvbiA9IG5ldyAkLlBvaW50KHgsIHkpO1xuICAgIH1cblxuICAgIHZhciBwbGFjZW1lbnQgPSBvdmVybGF5LnBsYWNlbWVudDtcbiAgICBpZiAocGxhY2VtZW50ICYmICQudHlwZShwbGFjZW1lbnQpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHBsYWNlbWVudCA9ICQuUGxhY2VtZW50W292ZXJsYXkucGxhY2VtZW50LnRvVXBwZXJDYXNlKCldO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgJC5PdmVybGF5KHtcbiAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgICAgb25EcmF3OiBvdmVybGF5Lm9uRHJhdyxcbiAgICAgICAgY2hlY2tSZXNpemU6IG92ZXJsYXkuY2hlY2tSZXNpemUsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIHJvdGF0aW9uTW9kZTogb3ZlcmxheS5yb3RhdGlvbk1vZGVcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBEZXRlcm1pbmVzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gb3ZlcmxheSBpbiB0aGUgZ2l2ZW4gb3ZlcmxheXMgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGdldE92ZXJsYXlJbmRleCggb3ZlcmxheXMsIGVsZW1lbnQgKSB7XG4gICAgdmFyIGk7XG4gICAgZm9yICggaSA9IG92ZXJsYXlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgICAgICBpZiAoIG92ZXJsYXlzWyBpIF0uZWxlbWVudCA9PT0gZWxlbWVudCApIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBTY2hlZHVsZXJzIHByb3ZpZGUgdGhlIGdlbmVyYWwgZW5naW5lIGZvciBhbmltYXRpb25cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIHNjaGVkdWxlVXBkYXRlKCB2aWV3ZXIsIHVwZGF0ZUZ1bmMgKXtcbiAgICByZXR1cm4gJC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIGZ1bmN0aW9uKCl7XG4gICAgICAgIHVwZGF0ZUZ1bmMoIHZpZXdlciApO1xuICAgIH0gKTtcbn1cblxuXG4vL3Byb3ZpZGVzIGEgc2VxdWVuY2UgaW4gdGhlIGZhZGUgYW5pbWF0aW9uXG5mdW5jdGlvbiBzY2hlZHVsZUNvbnRyb2xzRmFkZSggdmlld2VyICkge1xuICAgICQucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBmdW5jdGlvbigpe1xuICAgICAgICB1cGRhdGVDb250cm9sc0ZhZGUoIHZpZXdlciApO1xuICAgIH0pO1xufVxuXG5cbi8vaW5pdGlhdGVzIGFuIGFuaW1hdGlvbiB0byBoaWRlIHRoZSBjb250cm9sc1xuZnVuY3Rpb24gYmVnaW5Db250cm9sc0F1dG9IaWRlKCB2aWV3ZXIgKSB7XG4gICAgaWYgKCAhdmlld2VyLmF1dG9IaWRlQ29udHJvbHMgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmlld2VyLmNvbnRyb2xzU2hvdWxkRmFkZSA9IHRydWU7XG4gICAgdmlld2VyLmNvbnRyb2xzRmFkZUJlZ2luVGltZSA9XG4gICAgICAgICQubm93KCkgK1xuICAgICAgICB2aWV3ZXIuY29udHJvbHNGYWRlRGVsYXk7XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKXtcbiAgICAgICAgc2NoZWR1bGVDb250cm9sc0ZhZGUoIHZpZXdlciApO1xuICAgIH0sIHZpZXdlci5jb250cm9sc0ZhZGVEZWxheSApO1xufVxuXG5cbi8vZGV0ZXJtaW5lcyBpZiBmYWRlIGFuaW1hdGlvbiBpcyBkb25lIG9yIGNvbnRpbnVlcyB0aGUgYW5pbWF0aW9uXG5mdW5jdGlvbiB1cGRhdGVDb250cm9sc0ZhZGUoIHZpZXdlciApIHtcbiAgICB2YXIgY3VycmVudFRpbWUsXG4gICAgICAgIGRlbHRhVGltZSxcbiAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgaTtcbiAgICBpZiAoIHZpZXdlci5jb250cm9sc1Nob3VsZEZhZGUgKSB7XG4gICAgICAgIGN1cnJlbnRUaW1lID0gJC5ub3coKTtcbiAgICAgICAgZGVsdGFUaW1lID0gY3VycmVudFRpbWUgLSB2aWV3ZXIuY29udHJvbHNGYWRlQmVnaW5UaW1lO1xuICAgICAgICBvcGFjaXR5ID0gMS4wIC0gZGVsdGFUaW1lIC8gdmlld2VyLmNvbnRyb2xzRmFkZUxlbmd0aDtcblxuICAgICAgICBvcGFjaXR5ID0gTWF0aC5taW4oIDEuMCwgb3BhY2l0eSApO1xuICAgICAgICBvcGFjaXR5ID0gTWF0aC5tYXgoIDAuMCwgb3BhY2l0eSApO1xuXG4gICAgICAgIGZvciAoIGkgPSB2aWV3ZXIuY29udHJvbHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmICh2aWV3ZXIuY29udHJvbHNbIGkgXS5hdXRvRmFkZSkge1xuICAgICAgICAgICAgICAgIHZpZXdlci5jb250cm9sc1sgaSBdLnNldE9wYWNpdHkoIG9wYWNpdHkgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggb3BhY2l0eSA+IDAgKSB7XG4gICAgICAgICAgICAvLyBmYWRlIGFnYWluXG4gICAgICAgICAgICBzY2hlZHVsZUNvbnRyb2xzRmFkZSggdmlld2VyICk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLy9zdG9wIHRoZSBmYWRlIGFuaW1hdGlvbiBvbiB0aGUgY29udHJvbHMgYW5kIHNob3cgdGhlbVxuZnVuY3Rpb24gYWJvcnRDb250cm9sc0F1dG9IaWRlKCB2aWV3ZXIgKSB7XG4gICAgdmFyIGk7XG4gICAgdmlld2VyLmNvbnRyb2xzU2hvdWxkRmFkZSA9IGZhbHNlO1xuICAgIGZvciAoIGkgPSB2aWV3ZXIuY29udHJvbHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG4gICAgICAgIHZpZXdlci5jb250cm9sc1sgaSBdLnNldE9wYWNpdHkoIDEuMCApO1xuICAgIH1cbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIERlZmF1bHQgdmlldyBldmVudCBoYW5kbGVycy5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIG9uRm9jdXMoKXtcbiAgICBhYm9ydENvbnRyb2xzQXV0b0hpZGUoIHRoaXMgKTtcbn1cblxuZnVuY3Rpb24gb25CbHVyKCl7XG4gICAgYmVnaW5Db250cm9sc0F1dG9IaWRlKCB0aGlzICk7XG5cbn1cblxuZnVuY3Rpb24gb25DYW52YXNLZXlEb3duKCBldmVudCApIHtcbiAgICBpZiAoICFldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvbiAmJiAhZXZlbnQuY3RybCAmJiAhZXZlbnQuYWx0ICYmICFldmVudC5tZXRhICkge1xuICAgICAgICBzd2l0Y2goIGV2ZW50LmtleUNvZGUgKXtcbiAgICAgICAgICAgIGNhc2UgMzg6Ly91cCBhcnJvd1xuICAgICAgICAgICAgICAgIGlmICggZXZlbnQuc2hpZnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuem9vbUJ5KDEuMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5wYW5CeSh0aGlzLnZpZXdwb3J0LmRlbHRhUG9pbnRzRnJvbVBpeGVscyhuZXcgJC5Qb2ludCgwLCAtNDApKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuYXBwbHlDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgNDA6Ly9kb3duIGFycm93XG4gICAgICAgICAgICAgICAgaWYgKCBldmVudC5zaGlmdCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC56b29tQnkoMC45KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0LnBhbkJ5KHRoaXMudmlld3BvcnQuZGVsdGFQb2ludHNGcm9tUGl4ZWxzKG5ldyAkLlBvaW50KDAsIDQwKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDM3Oi8vbGVmdCBhcnJvd1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQucGFuQnkodGhpcy52aWV3cG9ydC5kZWx0YVBvaW50c0Zyb21QaXhlbHMobmV3ICQuUG9pbnQoLTQwLCAwKSkpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuYXBwbHlDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgMzk6Ly9yaWdodCBhcnJvd1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQucGFuQnkodGhpcy52aWV3cG9ydC5kZWx0YVBvaW50c0Zyb21QaXhlbHMobmV3ICQuUG9pbnQoNDAsIDApKSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCAnbmF2aWdhdG9yIGtleWNvZGUgJXMnLCBldmVudC5rZXlDb2RlICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9uQ2FudmFzS2V5UHJlc3MoIGV2ZW50ICkge1xuICAgIGlmICggIWV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uICYmICFldmVudC5jdHJsICYmICFldmVudC5hbHQgJiYgIWV2ZW50Lm1ldGEgKSB7XG4gICAgICAgIHN3aXRjaCggZXZlbnQua2V5Q29kZSApe1xuICAgICAgICAgICAgY2FzZSA0MzovLz18K1xuICAgICAgICAgICAgY2FzZSA2MTovLz18K1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuem9vbUJ5KDEuMSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSA0NTovLy18X1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuem9vbUJ5KDAuOSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSA0ODovLzB8KVxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuZ29Ib21lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAxMTk6Ly93XG4gICAgICAgICAgICBjYXNlIDg3Oi8vV1xuICAgICAgICAgICAgICAgIGlmICggZXZlbnQuc2hpZnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuem9vbUJ5KDEuMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5wYW5CeSh0aGlzLnZpZXdwb3J0LmRlbHRhUG9pbnRzRnJvbVBpeGVscyhuZXcgJC5Qb2ludCgwLCAtNDApKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuYXBwbHlDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgMTE1Oi8vc1xuICAgICAgICAgICAgY2FzZSA4MzovL1NcbiAgICAgICAgICAgICAgICBpZiAoIGV2ZW50LnNoaWZ0ICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0Lnpvb21CeSgwLjkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQucGFuQnkodGhpcy52aWV3cG9ydC5kZWx0YVBvaW50c0Zyb21QaXhlbHMobmV3ICQuUG9pbnQoMCwgNDApKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuYXBwbHlDb25zdHJhaW50cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgOTc6Ly9hXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5wYW5CeSh0aGlzLnZpZXdwb3J0LmRlbHRhUG9pbnRzRnJvbVBpeGVscyhuZXcgJC5Qb2ludCgtNDAsIDApKSk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAxMDA6Ly9kXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5wYW5CeSh0aGlzLnZpZXdwb3J0LmRlbHRhUG9pbnRzRnJvbVBpeGVscyhuZXcgJC5Qb2ludCg0MCwgMCkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coICduYXZpZ2F0b3Iga2V5Y29kZSAlcycsIGV2ZW50LmtleUNvZGUgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gb25DYW52YXNDbGljayggZXZlbnQgKSB7XG4gICAgdmFyIGdlc3R1cmVTZXR0aW5ncztcblxuICAgIHZhciBoYXZlS2V5Ym9hcmRGb2N1cyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT0gdGhpcy5jYW52YXM7XG5cbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGtleWJvYXJkIGZvY3VzLCByZXF1ZXN0IGl0LlxuICAgIGlmICggIWhhdmVLZXlib2FyZEZvY3VzICkge1xuICAgICAgICB0aGlzLmNhbnZhcy5mb2N1cygpO1xuICAgIH1cblxuICAgIHZhciBjYW52YXNDbGlja0V2ZW50QXJncyA9IHtcbiAgICAgICAgdHJhY2tlcjogZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgIHBvc2l0aW9uOiBldmVudC5wb3NpdGlvbixcbiAgICAgICAgcXVpY2s6IGV2ZW50LnF1aWNrLFxuICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnQsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgIHByZXZlbnREZWZhdWx0QWN0aW9uOiBldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSYWlzZWQgd2hlbiBhIG1vdXNlIHByZXNzL3JlbGVhc2Ugb3IgdG91Y2gvcmVtb3ZlIG9jY3VycyBvbiB0aGUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2NhbnZhc30gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjYW52YXMtY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHF1aWNrIC0gVHJ1ZSBvbmx5IGlmIHRoZSBjbGlja0Rpc3RUaHJlc2hvbGQgYW5kIGNsaWNrVGltZVRocmVzaG9sZCBhcmUgYm90aCBwYXNzZWQuIFVzZWZ1bCBmb3IgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gY2xpY2tzIGFuZCBkcmFncy5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNoaWZ0IC0gVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHByZXZlbnREZWZhdWx0QWN0aW9uIC0gU2V0IHRvIHRydWUgdG8gcHJldmVudCBkZWZhdWx0IGNsaWNrIHRvIHpvb20gYmVoYXZpb3VyLiBEZWZhdWx0OiBmYWxzZS5cbiAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5yYWlzZUV2ZW50KCAnY2FudmFzLWNsaWNrJywgY2FudmFzQ2xpY2tFdmVudEFyZ3MpO1xuXG4gICAgaWYgKCAhY2FudmFzQ2xpY2tFdmVudEFyZ3MucHJldmVudERlZmF1bHRBY3Rpb24gJiYgdGhpcy52aWV3cG9ydCAmJiBldmVudC5xdWljayApIHtcbiAgICAgICAgZ2VzdHVyZVNldHRpbmdzID0gdGhpcy5nZXN0dXJlU2V0dGluZ3NCeURldmljZVR5cGUoIGV2ZW50LnBvaW50ZXJUeXBlICk7XG4gICAgICAgIGlmICggZ2VzdHVyZVNldHRpbmdzLmNsaWNrVG9ab29tICkge1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC56b29tQnkoXG4gICAgICAgICAgICAgICAgZXZlbnQuc2hpZnQgPyAxLjAgLyB0aGlzLnpvb21QZXJDbGljayA6IHRoaXMuem9vbVBlckNsaWNrLFxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQucG9pbnRGcm9tUGl4ZWwoIGV2ZW50LnBvc2l0aW9uLCB0cnVlIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gb25DYW52YXNEYmxDbGljayggZXZlbnQgKSB7XG4gICAgdmFyIGdlc3R1cmVTZXR0aW5ncztcblxuICAgIGlmICggIWV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uICYmIHRoaXMudmlld3BvcnQgKSB7XG4gICAgICAgIGdlc3R1cmVTZXR0aW5ncyA9IHRoaXMuZ2VzdHVyZVNldHRpbmdzQnlEZXZpY2VUeXBlKCBldmVudC5wb2ludGVyVHlwZSApO1xuICAgICAgICBpZiAoIGdlc3R1cmVTZXR0aW5ncy5kYmxDbGlja1RvWm9vbSApIHtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuem9vbUJ5KFxuICAgICAgICAgICAgICAgIGV2ZW50LnNoaWZ0ID8gMS4wIC8gdGhpcy56b29tUGVyQ2xpY2sgOiB0aGlzLnpvb21QZXJDbGljayxcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKCBldmVudC5wb3NpdGlvbiwgdHJ1ZSApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmFpc2VkIHdoZW4gYSBkb3VibGUgbW91c2UgcHJlc3MvcmVsZWFzZSBvciB0b3VjaC9yZW1vdmUgb2NjdXJzIG9uIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY2FudmFzfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV2ZW50IGNhbnZhcy1kb3VibGUtY2xpY2tcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNoaWZ0IC0gVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5yYWlzZUV2ZW50KCAnY2FudmFzLWRvdWJsZS1jbGljaycsIHtcbiAgICAgICAgdHJhY2tlcjogZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgIHBvc2l0aW9uOiBldmVudC5wb3NpdGlvbixcbiAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0LFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2FudmFzRHJhZyggZXZlbnQgKSB7XG4gICAgdmFyIGdlc3R1cmVTZXR0aW5ncztcblxuICAgIHZhciBjYW52YXNEcmFnRXZlbnRBcmdzID0ge1xuICAgICAgICB0cmFja2VyOiBldmVudC5ldmVudFNvdXJjZSxcbiAgICAgICAgcG9zaXRpb246IGV2ZW50LnBvc2l0aW9uLFxuICAgICAgICBkZWx0YTogZXZlbnQuZGVsdGEsXG4gICAgICAgIHNwZWVkOiBldmVudC5zcGVlZCxcbiAgICAgICAgZGlyZWN0aW9uOiBldmVudC5kaXJlY3Rpb24sXG4gICAgICAgIHNoaWZ0OiBldmVudC5zaGlmdCxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCxcbiAgICAgICAgcHJldmVudERlZmF1bHRBY3Rpb246IGV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJhaXNlZCB3aGVuIGEgbW91c2Ugb3IgdG91Y2ggZHJhZyBvcGVyYXRpb24gb2NjdXJzIG9uIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY2FudmFzfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV2ZW50IGNhbnZhcy1kcmFnXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBNb3VzZVRyYWNrZXIgd2hpY2ggb3JpZ2luYXRlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBvaW50fSBkZWx0YSAtIFRoZSB4LHkgY29tcG9uZW50cyBvZiB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHN0YXJ0IGRyYWcgYW5kIGVuZCBkcmFnLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzcGVlZCAtIEN1cnJlbnQgY29tcHV0ZWQgc3BlZWQsIGluIHBpeGVscyBwZXIgc2Vjb25kLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBkaXJlY3Rpb24gLSBDdXJyZW50IGNvbXB1dGVkIGRpcmVjdGlvbiwgZXhwcmVzc2VkIGFzIGFuIGFuZ2xlIGNvdW50ZXJjbG9ja3dpc2UgcmVsYXRpdmUgdG8gdGhlIHBvc2l0aXZlIFggYXhpcyAoLXBpIHRvIHBpLCBpbiByYWRpYW5zKS4gT25seSB2YWxpZCBpZiBzcGVlZCA+IDAuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzaGlmdCAtIFRydWUgaWYgdGhlIHNoaWZ0IGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBwcmV2ZW50RGVmYXVsdEFjdGlvbiAtIFNldCB0byB0cnVlIHRvIHByZXZlbnQgZGVmYXVsdCBkcmFnIGJlaGF2aW91ci4gRGVmYXVsdDogZmFsc2UuXG4gICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMucmFpc2VFdmVudCggJ2NhbnZhcy1kcmFnJywgY2FudmFzRHJhZ0V2ZW50QXJncyk7XG5cbiAgICBpZiAoICFjYW52YXNEcmFnRXZlbnRBcmdzLnByZXZlbnREZWZhdWx0QWN0aW9uICYmIHRoaXMudmlld3BvcnQgKSB7XG4gICAgICAgIGdlc3R1cmVTZXR0aW5ncyA9IHRoaXMuZ2VzdHVyZVNldHRpbmdzQnlEZXZpY2VUeXBlKCBldmVudC5wb2ludGVyVHlwZSApO1xuICAgICAgICBpZiggIXRoaXMucGFuSG9yaXpvbnRhbCApe1xuICAgICAgICAgICAgZXZlbnQuZGVsdGEueCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYoICF0aGlzLnBhblZlcnRpY2FsICl7XG4gICAgICAgICAgICBldmVudC5kZWx0YS55ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCB0aGlzLmNvbnN0cmFpbkR1cmluZ1BhbiApe1xuICAgICAgICAgICAgdmFyIGRlbHRhID0gdGhpcy52aWV3cG9ydC5kZWx0YVBvaW50c0Zyb21QaXhlbHMoIGV2ZW50LmRlbHRhLm5lZ2F0ZSgpICk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuY2VudGVyU3ByaW5nWC50YXJnZXQudmFsdWUgKz0gZGVsdGEueDtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuY2VudGVyU3ByaW5nWS50YXJnZXQudmFsdWUgKz0gZGVsdGEueTtcblxuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMudmlld3BvcnQuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICB2YXIgY29uc3RyYWluZWRCb3VuZHMgPSB0aGlzLnZpZXdwb3J0LmdldENvbnN0cmFpbmVkQm91bmRzKCk7XG5cbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuY2VudGVyU3ByaW5nWC50YXJnZXQudmFsdWUgLT0gZGVsdGEueDtcbiAgICAgICAgICAgIHRoaXMudmlld3BvcnQuY2VudGVyU3ByaW5nWS50YXJnZXQudmFsdWUgLT0gZGVsdGEueTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kcy54ICE9IGNvbnN0cmFpbmVkQm91bmRzLngpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWx0YS54ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kcy55ICE9IGNvbnN0cmFpbmVkQm91bmRzLnkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5kZWx0YS55ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlld3BvcnQucGFuQnkoIHRoaXMudmlld3BvcnQuZGVsdGFQb2ludHNGcm9tUGl4ZWxzKCBldmVudC5kZWx0YS5uZWdhdGUoKSApLCBnZXN0dXJlU2V0dGluZ3MuZmxpY2tFbmFibGVkICYmICF0aGlzLmNvbnN0cmFpbkR1cmluZ1Bhbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkNhbnZhc0RyYWdFbmQoIGV2ZW50ICkge1xuICAgIGlmICghZXZlbnQucHJldmVudERlZmF1bHRBY3Rpb24gJiYgdGhpcy52aWV3cG9ydCkge1xuICAgICAgICB2YXIgZ2VzdHVyZVNldHRpbmdzID0gdGhpcy5nZXN0dXJlU2V0dGluZ3NCeURldmljZVR5cGUoZXZlbnQucG9pbnRlclR5cGUpO1xuICAgICAgICBpZiAoZ2VzdHVyZVNldHRpbmdzLmZsaWNrRW5hYmxlZCAmJlxuICAgICAgICAgICAgZXZlbnQuc3BlZWQgPj0gZ2VzdHVyZVNldHRpbmdzLmZsaWNrTWluU3BlZWQpIHtcbiAgICAgICAgICAgIHZhciBhbXBsaXR1ZGVYID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhbkhvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgICBhbXBsaXR1ZGVYID0gZ2VzdHVyZVNldHRpbmdzLmZsaWNrTW9tZW50dW0gKiBldmVudC5zcGVlZCAqXG4gICAgICAgICAgICAgICAgICAgIE1hdGguY29zKGV2ZW50LmRpcmVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYW1wbGl0dWRlWSA9IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5wYW5WZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGFtcGxpdHVkZVkgPSBnZXN0dXJlU2V0dGluZ3MuZmxpY2tNb21lbnR1bSAqIGV2ZW50LnNwZWVkICpcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oZXZlbnQuZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjZW50ZXIgPSB0aGlzLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50KFxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuZ2V0Q2VudGVyKHRydWUpKTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKFxuICAgICAgICAgICAgICAgIG5ldyAkLlBvaW50KGNlbnRlci54IC0gYW1wbGl0dWRlWCwgY2VudGVyLnkgLSBhbXBsaXR1ZGVZKSk7XG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0LnBhblRvKHRhcmdldCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld3BvcnQuYXBwbHlDb25zdHJhaW50cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSYWlzZWQgd2hlbiBhIG1vdXNlIG9yIHRvdWNoIGRyYWcgb3BlcmF0aW9uIGVuZHMgb24gdGhlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNjYW52YXN9IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2FudmFzLWRyYWctZW5kXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBNb3VzZVRyYWNrZXIgd2hpY2ggb3JpZ2luYXRlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHNwZWVkIC0gU3BlZWQgYXQgdGhlIGVuZCBvZiBhIGRyYWcgZ2VzdHVyZSwgaW4gcGl4ZWxzIHBlciBzZWNvbmQuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGRpcmVjdGlvbiAtIERpcmVjdGlvbiBhdCB0aGUgZW5kIG9mIGEgZHJhZyBnZXN0dXJlLCBleHByZXNzZWQgYXMgYW4gYW5nbGUgY291bnRlcmNsb2Nrd2lzZSByZWxhdGl2ZSB0byB0aGUgcG9zaXRpdmUgWCBheGlzICgtcGkgdG8gcGksIGluIHJhZGlhbnMpLiBPbmx5IHZhbGlkIGlmIHNwZWVkID4gMC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IHNoaWZ0IC0gVHJ1ZSBpZiB0aGUgc2hpZnQga2V5IHdhcyBwcmVzc2VkIGR1cmluZyB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5yYWlzZUV2ZW50KCdjYW52YXMtZHJhZy1lbmQnLCB7XG4gICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICBwb3NpdGlvbjogZXZlbnQucG9zaXRpb24sXG4gICAgICAgIHNwZWVkOiBldmVudC5zcGVlZCxcbiAgICAgICAgZGlyZWN0aW9uOiBldmVudC5kaXJlY3Rpb24sXG4gICAgICAgIHNoaWZ0OiBldmVudC5zaGlmdCxcbiAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBvbkNhbnZhc0VudGVyKCBldmVudCApIHtcbiAgICAvKipcbiAgICAgKiBSYWlzZWQgd2hlbiBhIHBvaW50ZXIgZW50ZXJzIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY2FudmFzfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV2ZW50IGNhbnZhcy1lbnRlclxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IHRyYWNrZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIHdoaWNoIG9yaWdpbmF0ZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gcG9pbnRlclR5cGUgLSBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJ1dHRvbnMgLSBDdXJyZW50IGJ1dHRvbnMgcHJlc3NlZC4gQSBjb21iaW5hdGlvbiBvZiBiaXQgZmxhZ3MgMDogbm9uZSwgMTogcHJpbWFyeSAob3IgdG91Y2ggY29udGFjdCksIDI6IHNlY29uZGFyeSwgNDogYXV4IChvZnRlbiBtaWRkbGUpLCA4OiBYMSAob2Z0ZW4gYmFjayksIDE2OiBYMiAob2Z0ZW4gZm9yd2FyZCksIDMyOiBwZW4gZXJhc2VyLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBwb2ludGVycyAtIE51bWJlciBvZiBwb2ludGVycyAoYWxsIHR5cGVzKSBhY3RpdmUgaW4gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGluc2lkZUVsZW1lbnRQcmVzc2VkIC0gVHJ1ZSBpZiB0aGUgbGVmdCBtb3VzZSBidXR0b24gaXMgY3VycmVudGx5IGJlaW5nIHByZXNzZWQgYW5kIHdhcyBpbml0aWF0ZWQgaW5zaWRlIHRoZSB0cmFja2VkIGVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGJ1dHRvbkRvd25BbnkgLSBXYXMgdGhlIGJ1dHRvbiBkb3duIGFueXdoZXJlIGluIHRoZSBzY3JlZW4gZHVyaW5nIHRoZSBldmVudC4gPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+RGVwcmVjYXRlZC4gVXNlIGJ1dHRvbnMgaW5zdGVhZC48L3NwYW4+XG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9yaWdpbmFsRXZlbnQgLSBUaGUgb3JpZ2luYWwgRE9NIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgKi9cbiAgICB0aGlzLnJhaXNlRXZlbnQoICdjYW52YXMtZW50ZXInLCB7XG4gICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUsXG4gICAgICAgIHBvc2l0aW9uOiBldmVudC5wb3NpdGlvbixcbiAgICAgICAgYnV0dG9uczogZXZlbnQuYnV0dG9ucyxcbiAgICAgICAgcG9pbnRlcnM6IGV2ZW50LnBvaW50ZXJzLFxuICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQsXG4gICAgICAgIGJ1dHRvbkRvd25Bbnk6IGV2ZW50LmJ1dHRvbkRvd25BbnksXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25DYW52YXNFeGl0KCBldmVudCApIHtcblxuICAgIGlmICh3aW5kb3cubG9jYXRpb24gIT0gd2luZG93LnBhcmVudC5sb2NhdGlvbil7XG4gICAgICAgICQuTW91c2VUcmFja2VyLnJlc2V0QWxsTW91c2VUcmFja2VycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJhaXNlZCB3aGVuIGEgcG9pbnRlciBsZWF2ZXMgdGhlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNjYW52YXN9IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2FudmFzLWV4aXRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHBvaW50ZXJUeXBlIC0gXCJtb3VzZVwiLCBcInRvdWNoXCIsIFwicGVuXCIsIGV0Yy5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBidXR0b25zIC0gQ3VycmVudCBidXR0b25zIHByZXNzZWQuIEEgY29tYmluYXRpb24gb2YgYml0IGZsYWdzIDA6IG5vbmUsIDE6IHByaW1hcnkgKG9yIHRvdWNoIGNvbnRhY3QpLCAyOiBzZWNvbmRhcnksIDQ6IGF1eCAob2Z0ZW4gbWlkZGxlKSwgODogWDEgKG9mdGVuIGJhY2spLCAxNjogWDIgKG9mdGVuIGZvcndhcmQpLCAzMjogcGVuIGVyYXNlci5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcG9pbnRlcnMgLSBOdW1iZXIgb2YgcG9pbnRlcnMgKGFsbCB0eXBlcykgYWN0aXZlIGluIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpbnNpZGVFbGVtZW50UHJlc3NlZCAtIFRydWUgaWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSBiZWluZyBwcmVzc2VkIGFuZCB3YXMgaW5pdGlhdGVkIGluc2lkZSB0aGUgdHJhY2tlZCBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBidXR0b25Eb3duQW55IC0gV2FzIHRoZSBidXR0b24gZG93biBhbnl3aGVyZSBpbiB0aGUgc2NyZWVuIGR1cmluZyB0aGUgZXZlbnQuIDxzcGFuIHN0eWxlPVwiY29sb3I6cmVkO1wiPkRlcHJlY2F0ZWQuIFVzZSBidXR0b25zIGluc3RlYWQuPC9zcGFuPlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5yYWlzZUV2ZW50KCAnY2FudmFzLWV4aXQnLCB7XG4gICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICBwb2ludGVyVHlwZTogZXZlbnQucG9pbnRlclR5cGUsXG4gICAgICAgIHBvc2l0aW9uOiBldmVudC5wb3NpdGlvbixcbiAgICAgICAgYnV0dG9uczogZXZlbnQuYnV0dG9ucyxcbiAgICAgICAgcG9pbnRlcnM6IGV2ZW50LnBvaW50ZXJzLFxuICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQsXG4gICAgICAgIGJ1dHRvbkRvd25Bbnk6IGV2ZW50LmJ1dHRvbkRvd25BbnksXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25DYW52YXNQcmVzcyggZXZlbnQgKSB7XG4gICAgLyoqXG4gICAgICogUmFpc2VkIHdoZW4gdGhlIHByaW1hcnkgbW91c2UgYnV0dG9uIGlzIHByZXNzZWQgb3IgdG91Y2ggc3RhcnRzIG9uIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY2FudmFzfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV2ZW50IGNhbnZhcy1wcmVzc1xuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IHRyYWNrZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIHdoaWNoIG9yaWdpbmF0ZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gcG9pbnRlclR5cGUgLSBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpbnNpZGVFbGVtZW50UHJlc3NlZCAtIFRydWUgaWYgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGlzIGN1cnJlbnRseSBiZWluZyBwcmVzc2VkIGFuZCB3YXMgaW5pdGlhdGVkIGluc2lkZSB0aGUgdHJhY2tlZCBlbGVtZW50LCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpbnNpZGVFbGVtZW50UmVsZWFzZWQgLSBUcnVlIGlmIHRoZSBjdXJzb3Igc3RpbGwgaW5zaWRlIHRoZSB0cmFja2VkIGVsZW1lbnQgd2hlbiB0aGUgYnV0dG9uIHdhcyByZWxlYXNlZC5cbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMucmFpc2VFdmVudCggJ2NhbnZhcy1wcmVzcycsIHtcbiAgICAgICAgdHJhY2tlcjogZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSxcbiAgICAgICAgcG9zaXRpb246IGV2ZW50LnBvc2l0aW9uLFxuICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQsXG4gICAgICAgIGluc2lkZUVsZW1lbnRSZWxlYXNlZDogZXZlbnQuaW5zaWRlRWxlbWVudFJlbGVhc2VkLFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2FudmFzUmVsZWFzZSggZXZlbnQgKSB7XG4gICAgLyoqXG4gICAgICogUmFpc2VkIHdoZW4gdGhlIHByaW1hcnkgbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkIG9yIHRvdWNoIGVuZHMgb24gdGhlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNjYW52YXN9IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY2FudmFzLXJlbGVhc2VcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtTdHJpbmd9IHBvaW50ZXJUeXBlIC0gXCJtb3VzZVwiLCBcInRvdWNoXCIsIFwicGVuXCIsIGV0Yy5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW5zaWRlRWxlbWVudFByZXNzZWQgLSBUcnVlIGlmIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBpcyBjdXJyZW50bHkgYmVpbmcgcHJlc3NlZCBhbmQgd2FzIGluaXRpYXRlZCBpbnNpZGUgdGhlIHRyYWNrZWQgZWxlbWVudCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW5zaWRlRWxlbWVudFJlbGVhc2VkIC0gVHJ1ZSBpZiB0aGUgY3Vyc29yIHN0aWxsIGluc2lkZSB0aGUgdHJhY2tlZCBlbGVtZW50IHdoZW4gdGhlIGJ1dHRvbiB3YXMgcmVsZWFzZWQuXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9yaWdpbmFsRXZlbnQgLSBUaGUgb3JpZ2luYWwgRE9NIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgKi9cbiAgICB0aGlzLnJhaXNlRXZlbnQoICdjYW52YXMtcmVsZWFzZScsIHtcbiAgICAgICAgdHJhY2tlcjogZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSxcbiAgICAgICAgcG9zaXRpb246IGV2ZW50LnBvc2l0aW9uLFxuICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQsXG4gICAgICAgIGluc2lkZUVsZW1lbnRSZWxlYXNlZDogZXZlbnQuaW5zaWRlRWxlbWVudFJlbGVhc2VkLFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ2FudmFzTm9uUHJpbWFyeVByZXNzKCBldmVudCApIHtcbiAgICAvKipcbiAgICAgKiBSYWlzZWQgd2hlbiBhbnkgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2NhbnZhc30gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjYW52YXMtbm9ucHJpbWFyeS1wcmVzc1xuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IHRyYWNrZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIHdoaWNoIG9yaWdpbmF0ZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBwb2ludGVyVHlwZSAtIFwibW91c2VcIiwgXCJ0b3VjaFwiLCBcInBlblwiLCBldGMuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJ1dHRvbiAtIEJ1dHRvbiB3aGljaCBjYXVzZWQgdGhlIGV2ZW50LlxuICAgICAqICAgICAgLTE6IG5vbmUsIDA6IHByaW1hcnkvbGVmdCwgMTogYXV4L21pZGRsZSwgMjogc2Vjb25kYXJ5L3JpZ2h0LCAzOiBYMS9iYWNrLCA0OiBYMi9mb3J3YXJkLCA1OiBwZW4gZXJhc2VyLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBidXR0b25zIC0gQ3VycmVudCBidXR0b25zIHByZXNzZWQuXG4gICAgICogICAgICBDb21iaW5hdGlvbiBvZiBiaXQgZmxhZ3MgMDogbm9uZSwgMTogcHJpbWFyeSAob3IgdG91Y2ggY29udGFjdCksIDI6IHNlY29uZGFyeSwgNDogYXV4IChvZnRlbiBtaWRkbGUpLCA4OiBYMSAob2Z0ZW4gYmFjayksIDE2OiBYMiAob2Z0ZW4gZm9yd2FyZCksIDMyOiBwZW4gZXJhc2VyLlxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICovXG4gICAgdGhpcy5yYWlzZUV2ZW50KCAnY2FudmFzLW5vbnByaW1hcnktcHJlc3MnLCB7XG4gICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICBwb3NpdGlvbjogZXZlbnQucG9zaXRpb24sXG4gICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSxcbiAgICAgICAgYnV0dG9uOiBldmVudC5idXR0b24sXG4gICAgICAgIGJ1dHRvbnM6IGV2ZW50LmJ1dHRvbnMsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25DYW52YXNOb25QcmltYXJ5UmVsZWFzZSggZXZlbnQgKSB7XG4gICAgLyoqXG4gICAgICogUmFpc2VkIHdoZW4gYW55IG5vbi1wcmltYXJ5IHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY2FudmFzfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV2ZW50IGNhbnZhcy1ub25wcmltYXJ5LXJlbGVhc2VcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgZXZlbnQgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gcG9pbnRlclR5cGUgLSBcIm1vdXNlXCIsIFwidG91Y2hcIiwgXCJwZW5cIiwgZXRjLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBidXR0b24gLSBCdXR0b24gd2hpY2ggY2F1c2VkIHRoZSBldmVudC5cbiAgICAgKiAgICAgIC0xOiBub25lLCAwOiBwcmltYXJ5L2xlZnQsIDE6IGF1eC9taWRkbGUsIDI6IHNlY29uZGFyeS9yaWdodCwgMzogWDEvYmFjaywgNDogWDIvZm9yd2FyZCwgNTogcGVuIGVyYXNlci5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gYnV0dG9ucyAtIEN1cnJlbnQgYnV0dG9ucyBwcmVzc2VkLlxuICAgICAqICAgICAgQ29tYmluYXRpb24gb2YgYml0IGZsYWdzIDA6IG5vbmUsIDE6IHByaW1hcnkgKG9yIHRvdWNoIGNvbnRhY3QpLCAyOiBzZWNvbmRhcnksIDQ6IGF1eCAob2Z0ZW4gbWlkZGxlKSwgODogWDEgKG9mdGVuIGJhY2spLCAxNjogWDIgKG9mdGVuIGZvcndhcmQpLCAzMjogcGVuIGVyYXNlci5cbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMucmFpc2VFdmVudCggJ2NhbnZhcy1ub25wcmltYXJ5LXJlbGVhc2UnLCB7XG4gICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICBwb3NpdGlvbjogZXZlbnQucG9zaXRpb24sXG4gICAgICAgIHBvaW50ZXJUeXBlOiBldmVudC5wb2ludGVyVHlwZSxcbiAgICAgICAgYnV0dG9uOiBldmVudC5idXR0b24sXG4gICAgICAgIGJ1dHRvbnM6IGV2ZW50LmJ1dHRvbnMsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25DYW52YXNQaW5jaCggZXZlbnQgKSB7XG4gICAgdmFyIGdlc3R1cmVTZXR0aW5ncyxcbiAgICAgICAgY2VudGVyUHQsXG4gICAgICAgIGxhc3RDZW50ZXJQdCxcbiAgICAgICAgcGFuQnlQdDtcblxuICAgIGlmICggIWV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uICYmIHRoaXMudmlld3BvcnQgKSB7XG4gICAgICAgIGdlc3R1cmVTZXR0aW5ncyA9IHRoaXMuZ2VzdHVyZVNldHRpbmdzQnlEZXZpY2VUeXBlKCBldmVudC5wb2ludGVyVHlwZSApO1xuICAgICAgICBpZiAoIGdlc3R1cmVTZXR0aW5ncy5waW5jaFRvWm9vbSApIHtcbiAgICAgICAgICAgIGNlbnRlclB0ID0gdGhpcy52aWV3cG9ydC5wb2ludEZyb21QaXhlbCggZXZlbnQuY2VudGVyLCB0cnVlICk7XG4gICAgICAgICAgICBsYXN0Q2VudGVyUHQgPSB0aGlzLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKCBldmVudC5sYXN0Q2VudGVyLCB0cnVlICk7XG4gICAgICAgICAgICBwYW5CeVB0ID0gbGFzdENlbnRlclB0Lm1pbnVzKCBjZW50ZXJQdCApO1xuICAgICAgICAgICAgaWYoICF0aGlzLnBhbkhvcml6b250YWwgKSB7XG4gICAgICAgICAgICAgICAgcGFuQnlQdC54ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCAhdGhpcy5wYW5WZXJ0aWNhbCApIHtcbiAgICAgICAgICAgICAgICBwYW5CeVB0LnkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC56b29tQnkoIGV2ZW50LmRpc3RhbmNlIC8gZXZlbnQubGFzdERpc3RhbmNlLCBjZW50ZXJQdCwgdHJ1ZSApO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5wYW5CeSggcGFuQnlQdCwgdHJ1ZSApO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCBnZXN0dXJlU2V0dGluZ3MucGluY2hSb3RhdGUgKSB7XG4gICAgICAgICAgICAvLyBQaW5jaCByb3RhdGVcbiAgICAgICAgICAgIHZhciBhbmdsZTEgPSBNYXRoLmF0YW4yKGV2ZW50Lmdlc3R1cmVQb2ludHNbMF0uY3VycmVudFBvcy55IC0gZXZlbnQuZ2VzdHVyZVBvaW50c1sxXS5jdXJyZW50UG9zLnksXG4gICAgICAgICAgICAgICAgZXZlbnQuZ2VzdHVyZVBvaW50c1swXS5jdXJyZW50UG9zLnggLSBldmVudC5nZXN0dXJlUG9pbnRzWzFdLmN1cnJlbnRQb3MueCk7XG4gICAgICAgICAgICB2YXIgYW5nbGUyID0gTWF0aC5hdGFuMihldmVudC5nZXN0dXJlUG9pbnRzWzBdLmxhc3RQb3MueSAtIGV2ZW50Lmdlc3R1cmVQb2ludHNbMV0ubGFzdFBvcy55LFxuICAgICAgICAgICAgICAgIGV2ZW50Lmdlc3R1cmVQb2ludHNbMF0ubGFzdFBvcy54IC0gZXZlbnQuZ2VzdHVyZVBvaW50c1sxXS5sYXN0UG9zLngpO1xuICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5zZXRSb3RhdGlvbih0aGlzLnZpZXdwb3J0LmdldFJvdGF0aW9uKCkgKyAoKGFuZ2xlMSAtIGFuZ2xlMikgKiAoMTgwIC8gTWF0aC5QSSkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSYWlzZWQgd2hlbiBhIHBpbmNoIGV2ZW50IG9jY3VycyBvbiB0aGUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2NhbnZhc30gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBldmVudCBjYW52YXMtcGluY2hcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtBcnJheS48T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXIuR2VzdHVyZVBvaW50Pn0gZ2VzdHVyZVBvaW50cyAtIEdlc3R1cmUgcG9pbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2VzdHVyZS4gVmVsb2NpdHkgZGF0YSBjYW4gYmUgZm91bmQgaGVyZS5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IGxhc3RDZW50ZXIgLSBUaGUgcHJldmlvdXMgY2VudGVyIHBvaW50IG9mIHRoZSB0d28gcGluY2ggY29udGFjdCBwb2ludHMgcmVsYXRpdmUgdG8gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IGNlbnRlciAtIFRoZSBjZW50ZXIgcG9pbnQgb2YgdGhlIHR3byBwaW5jaCBjb250YWN0IHBvaW50cyByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBsYXN0RGlzdGFuY2UgLSBUaGUgcHJldmlvdXMgZGlzdGFuY2UgYmV0d2VlbiB0aGUgdHdvIHBpbmNoIGNvbnRhY3QgcG9pbnRzIGluIENTUyBwaXhlbHMuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGRpc3RhbmNlIC0gVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIHR3byBwaW5jaCBjb250YWN0IHBvaW50cyBpbiBDU1MgcGl4ZWxzLlxuICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc2hpZnQgLSBUcnVlIGlmIHRoZSBzaGlmdCBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9yaWdpbmFsRXZlbnQgLSBUaGUgb3JpZ2luYWwgRE9NIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgKi9cbiAgICB0aGlzLnJhaXNlRXZlbnQoJ2NhbnZhcy1waW5jaCcsIHtcbiAgICAgICAgdHJhY2tlcjogZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgIGdlc3R1cmVQb2ludHM6IGV2ZW50Lmdlc3R1cmVQb2ludHMsXG4gICAgICAgIGxhc3RDZW50ZXI6IGV2ZW50Lmxhc3RDZW50ZXIsXG4gICAgICAgIGNlbnRlcjogZXZlbnQuY2VudGVyLFxuICAgICAgICBsYXN0RGlzdGFuY2U6IGV2ZW50Lmxhc3REaXN0YW5jZSxcbiAgICAgICAgZGlzdGFuY2U6IGV2ZW50LmRpc3RhbmNlLFxuICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnQsXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICB9KTtcbiAgICAvL2NhbmNlbHMgZXZlbnRcbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9uQ2FudmFzU2Nyb2xsKCBldmVudCApIHtcbiAgICB2YXIgZ2VzdHVyZVNldHRpbmdzLFxuICAgICAgICBmYWN0b3IsXG4gICAgICAgIHRoaXNTY3JvbGxUaW1lLFxuICAgICAgICBkZWx0YVNjcm9sbFRpbWU7XG5cbiAgICAvKiBDZXJ0YWluIHNjcm9sbCBkZXZpY2VzIGZpcmUgdGhlIHNjcm9sbCBldmVudCB3YXkgdG9vIGZhc3Qgc28gd2UgYXJlIGluamVjdGluZyBhIHNpbXBsZSBhZGp1c3RtZW50IHRvIGtlZXAgdGhpbmdzXG4gICAgICogcGFydGlhbGx5IG5vcm1hbGl6ZWQuIElmIHdlIGhhdmUgYWxyZWFkeSBmaXJlZCBhbiBldmVudCB3aXRoaW4gdGhlIGxhc3QgJ21pblNjcm9sbERlbHRhJyBtaWxsaXNlY29uZHMgd2Ugc2tpcFxuICAgICAqIHRoaXMgb25lIGFuZCB3YWl0IGZvciB0aGUgbmV4dCBldmVudC4gKi9cbiAgICB0aGlzU2Nyb2xsVGltZSA9ICQubm93KCk7XG4gICAgZGVsdGFTY3JvbGxUaW1lID0gdGhpc1Njcm9sbFRpbWUgLSB0aGlzLl9sYXN0U2Nyb2xsVGltZTtcbiAgICBpZiAoZGVsdGFTY3JvbGxUaW1lID4gdGhpcy5taW5TY3JvbGxEZWx0YVRpbWUpIHtcbiAgICAgICAgdGhpcy5fbGFzdFNjcm9sbFRpbWUgPSB0aGlzU2Nyb2xsVGltZTtcblxuICAgICAgICBpZiAoICFldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvbiAmJiB0aGlzLnZpZXdwb3J0ICkge1xuICAgICAgICAgICAgZ2VzdHVyZVNldHRpbmdzID0gdGhpcy5nZXN0dXJlU2V0dGluZ3NCeURldmljZVR5cGUoIGV2ZW50LnBvaW50ZXJUeXBlICk7XG4gICAgICAgICAgICBpZiAoIGdlc3R1cmVTZXR0aW5ncy5zY3JvbGxUb1pvb20gKSB7XG4gICAgICAgICAgICAgICAgZmFjdG9yID0gTWF0aC5wb3coIHRoaXMuem9vbVBlclNjcm9sbCwgZXZlbnQuc2Nyb2xsICk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC56b29tQnkoXG4gICAgICAgICAgICAgICAgICAgIGZhY3RvcixcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5wb2ludEZyb21QaXhlbCggZXZlbnQucG9zaXRpb24sIHRydWUgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIGEgc2Nyb2xsIGV2ZW50IG9jY3VycyBvbiB0aGUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2NhbnZhc30gZWxlbWVudCAobW91c2Ugd2hlZWwpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgY2FudmFzLXNjcm9sbFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyIC0gQSByZWZlcmVuY2UgdG8gdGhlIE1vdXNlVHJhY2tlciB3aGljaCBvcmlnaW5hdGVkIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzY3JvbGwgLSBUaGUgc2Nyb2xsIGRlbHRhIGZvciB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gc2hpZnQgLSBUcnVlIGlmIHRoZSBzaGlmdCBrZXkgd2FzIHByZXNzZWQgZHVyaW5nIHRoaXMgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCAnY2FudmFzLXNjcm9sbCcsIHtcbiAgICAgICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICAgICAgcG9zaXRpb246IGV2ZW50LnBvc2l0aW9uLFxuICAgICAgICAgICAgc2Nyb2xsOiBldmVudC5zY3JvbGwsXG4gICAgICAgICAgICBzaGlmdDogZXZlbnQuc2hpZnQsXG4gICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZ2VzdHVyZVNldHRpbmdzICYmIGdlc3R1cmVTZXR0aW5ncy5zY3JvbGxUb1pvb20pIHtcbiAgICAgICAgICAgIC8vY2FuY2VscyBldmVudFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZXN0dXJlU2V0dGluZ3MgPSB0aGlzLmdlc3R1cmVTZXR0aW5nc0J5RGV2aWNlVHlwZSggZXZlbnQucG9pbnRlclR5cGUgKTtcbiAgICAgICAgaWYgKGdlc3R1cmVTZXR0aW5ncyAmJiBnZXN0dXJlU2V0dGluZ3Muc2Nyb2xsVG9ab29tKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLy8gV2UgYXJlIHN3YWxsb3dpbmcgdGhpcyBldmVudFxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBvbkNvbnRhaW5lckVudGVyKCBldmVudCApIHtcbiAgICBUSElTWyB0aGlzLmhhc2ggXS5tb3VzZUluc2lkZSA9IHRydWU7XG4gICAgYWJvcnRDb250cm9sc0F1dG9IaWRlKCB0aGlzICk7XG4gICAgLyoqXG4gICAgICogUmFpc2VkIHdoZW4gdGhlIGN1cnNvciBlbnRlcnMgdGhlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNjb250YWluZXJ9IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgY29udGFpbmVyLWVudGVyXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBNb3VzZVRyYWNrZXIgd2hpY2ggb3JpZ2luYXRlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJ1dHRvbnMgLSBDdXJyZW50IGJ1dHRvbnMgcHJlc3NlZC4gQSBjb21iaW5hdGlvbiBvZiBiaXQgZmxhZ3MgMDogbm9uZSwgMTogcHJpbWFyeSAob3IgdG91Y2ggY29udGFjdCksIDI6IHNlY29uZGFyeSwgNDogYXV4IChvZnRlbiBtaWRkbGUpLCA4OiBYMSAob2Z0ZW4gYmFjayksIDE2OiBYMiAob2Z0ZW4gZm9yd2FyZCksIDMyOiBwZW4gZXJhc2VyLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBwb2ludGVycyAtIE51bWJlciBvZiBwb2ludGVycyAoYWxsIHR5cGVzKSBhY3RpdmUgaW4gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGluc2lkZUVsZW1lbnRQcmVzc2VkIC0gVHJ1ZSBpZiB0aGUgbGVmdCBtb3VzZSBidXR0b24gaXMgY3VycmVudGx5IGJlaW5nIHByZXNzZWQgYW5kIHdhcyBpbml0aWF0ZWQgaW5zaWRlIHRoZSB0cmFja2VkIGVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGJ1dHRvbkRvd25BbnkgLSBXYXMgdGhlIGJ1dHRvbiBkb3duIGFueXdoZXJlIGluIHRoZSBzY3JlZW4gZHVyaW5nIHRoZSBldmVudC4gPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+RGVwcmVjYXRlZC4gVXNlIGJ1dHRvbnMgaW5zdGVhZC48L3NwYW4+XG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9yaWdpbmFsRXZlbnQgLSBUaGUgb3JpZ2luYWwgRE9NIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgKi9cbiAgICB0aGlzLnJhaXNlRXZlbnQoICdjb250YWluZXItZW50ZXInLCB7XG4gICAgICAgIHRyYWNrZXI6IGV2ZW50LmV2ZW50U291cmNlLFxuICAgICAgICBwb3NpdGlvbjogZXZlbnQucG9zaXRpb24sXG4gICAgICAgIGJ1dHRvbnM6IGV2ZW50LmJ1dHRvbnMsXG4gICAgICAgIHBvaW50ZXJzOiBldmVudC5wb2ludGVycyxcbiAgICAgICAgaW5zaWRlRWxlbWVudFByZXNzZWQ6IGV2ZW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkLFxuICAgICAgICBidXR0b25Eb3duQW55OiBldmVudC5idXR0b25Eb3duQW55LFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQ29udGFpbmVyRXhpdCggZXZlbnQgKSB7XG4gICAgaWYgKCBldmVudC5wb2ludGVycyA8IDEgKSB7XG4gICAgICAgIFRISVNbIHRoaXMuaGFzaCBdLm1vdXNlSW5zaWRlID0gZmFsc2U7XG4gICAgICAgIGlmICggIVRISVNbIHRoaXMuaGFzaCBdLmFuaW1hdGluZyApIHtcbiAgICAgICAgICAgIGJlZ2luQ29udHJvbHNBdXRvSGlkZSggdGhpcyApO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJhaXNlZCB3aGVuIHRoZSBjdXJzb3IgbGVhdmVzIHRoZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXIjY29udGFpbmVyfSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGV2ZW50IGNvbnRhaW5lci1leGl0XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoaXMgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBNb3VzZVRyYWNrZXIgd2hpY2ggb3JpZ2luYXRlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb24gLSBUaGUgcG9zaXRpb24gb2YgdGhlIGV2ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmFja2VkIGVsZW1lbnQuXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGJ1dHRvbnMgLSBDdXJyZW50IGJ1dHRvbnMgcHJlc3NlZC4gQSBjb21iaW5hdGlvbiBvZiBiaXQgZmxhZ3MgMDogbm9uZSwgMTogcHJpbWFyeSAob3IgdG91Y2ggY29udGFjdCksIDI6IHNlY29uZGFyeSwgNDogYXV4IChvZnRlbiBtaWRkbGUpLCA4OiBYMSAob2Z0ZW4gYmFjayksIDE2OiBYMiAob2Z0ZW4gZm9yd2FyZCksIDMyOiBwZW4gZXJhc2VyLlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBwb2ludGVycyAtIE51bWJlciBvZiBwb2ludGVycyAoYWxsIHR5cGVzKSBhY3RpdmUgaW4gdGhlIHRyYWNrZWQgZWxlbWVudC5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGluc2lkZUVsZW1lbnRQcmVzc2VkIC0gVHJ1ZSBpZiB0aGUgbGVmdCBtb3VzZSBidXR0b24gaXMgY3VycmVudGx5IGJlaW5nIHByZXNzZWQgYW5kIHdhcyBpbml0aWF0ZWQgaW5zaWRlIHRoZSB0cmFja2VkIGVsZW1lbnQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGJ1dHRvbkRvd25BbnkgLSBXYXMgdGhlIGJ1dHRvbiBkb3duIGFueXdoZXJlIGluIHRoZSBzY3JlZW4gZHVyaW5nIHRoZSBldmVudC4gPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+RGVwcmVjYXRlZC4gVXNlIGJ1dHRvbnMgaW5zdGVhZC48L3NwYW4+XG4gICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9yaWdpbmFsRXZlbnQgLSBUaGUgb3JpZ2luYWwgRE9NIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgKi9cbiAgICB0aGlzLnJhaXNlRXZlbnQoICdjb250YWluZXItZXhpdCcsIHtcbiAgICAgICAgdHJhY2tlcjogZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgIHBvc2l0aW9uOiBldmVudC5wb3NpdGlvbixcbiAgICAgICAgYnV0dG9uczogZXZlbnQuYnV0dG9ucyxcbiAgICAgICAgcG9pbnRlcnM6IGV2ZW50LnBvaW50ZXJzLFxuICAgICAgICBpbnNpZGVFbGVtZW50UHJlc3NlZDogZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQsXG4gICAgICAgIGJ1dHRvbkRvd25Bbnk6IGV2ZW50LmJ1dHRvbkRvd25BbnksXG4gICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnRcbiAgICB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBQYWdlIHVwZGF0ZSByb3V0aW5lcyAoIGFrYSBWaWV3cyAtIGZvciBmdXR1cmUgcmVmZXJlbmNlIClcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZnVuY3Rpb24gdXBkYXRlTXVsdGkoIHZpZXdlciApIHtcbiAgICB1cGRhdGVPbmNlKCB2aWV3ZXIgKTtcblxuICAgIC8vIFJlcXVlc3QgdGhlIG5leHQgZnJhbWUsIHVubGVzcyB3ZSd2ZSBiZWVuIGNsb3NlZFxuICAgIGlmICggdmlld2VyLmlzT3BlbigpICkge1xuICAgICAgICB2aWV3ZXIuX3VwZGF0ZVJlcXVlc3RJZCA9IHNjaGVkdWxlVXBkYXRlKCB2aWV3ZXIsIHVwZGF0ZU11bHRpICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmlld2VyLl91cGRhdGVSZXF1ZXN0SWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU9uY2UoIHZpZXdlciApIHtcblxuICAgIC8vdmlld2VyLnByb2ZpbGVyLmJlZ2luVXBkYXRlKCk7XG5cbiAgICBpZiAodmlld2VyLl9vcGVuaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmlld2VyLmF1dG9SZXNpemUpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBfZ2V0U2FmZUVsZW1TaXplKHZpZXdlci5jb250YWluZXIpO1xuICAgICAgICB2YXIgcHJldkNvbnRhaW5lclNpemUgPSBUSElTW3ZpZXdlci5oYXNoXS5wcmV2Q29udGFpbmVyU2l6ZTtcbiAgICAgICAgaWYgKCFjb250YWluZXJTaXplLmVxdWFscyhwcmV2Q29udGFpbmVyU2l6ZSkpIHtcbiAgICAgICAgICAgIHZhciB2aWV3cG9ydCA9IHZpZXdlci52aWV3cG9ydDtcbiAgICAgICAgICAgIGlmICh2aWV3ZXIucHJlc2VydmVJbWFnZVNpemVPblJlc2l6ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNpemVSYXRpbyA9IHByZXZDb250YWluZXJTaXplLnggLyBjb250YWluZXJTaXplLng7XG4gICAgICAgICAgICAgICAgdmFyIHpvb20gPSB2aWV3cG9ydC5nZXRab29tKCkgKiByZXNpemVSYXRpbztcbiAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gdmlld3BvcnQuZ2V0Q2VudGVyKCk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQucmVzaXplKGNvbnRhaW5lclNpemUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydC56b29tVG8oem9vbSwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQucGFuVG8oY2VudGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbWFpbnRhaW4gaW1hZ2UgcG9zaXRpb25cbiAgICAgICAgICAgICAgICB2YXIgb2xkQm91bmRzID0gdmlld3BvcnQuZ2V0Qm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnQucmVzaXplKGNvbnRhaW5lclNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0LmZpdEJvdW5kc1dpdGhDb25zdHJhaW50cyhvbGRCb3VuZHMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVEhJU1t2aWV3ZXIuaGFzaF0ucHJldkNvbnRhaW5lclNpemUgPSBjb250YWluZXJTaXplO1xuICAgICAgICAgICAgVEhJU1t2aWV3ZXIuaGFzaF0uZm9yY2VSZWRyYXcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHZpZXdwb3J0Q2hhbmdlID0gdmlld2VyLnZpZXdwb3J0LnVwZGF0ZSgpO1xuICAgIHZhciBhbmltYXRlZCA9IHZpZXdlci53b3JsZC51cGRhdGUoKSB8fCB2aWV3cG9ydENoYW5nZTtcblxuICAgIGlmICh2aWV3cG9ydENoYW5nZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gYW55IHNwcmluZyBhbmltYXRpb24gdXBkYXRlIG9jY3VycyAoem9vbSwgcGFuLCBldGMuKSxcbiAgICAgICAgICogYmVmb3JlIHRoZSB2aWV3ZXIgaGFzIGRyYXduIHRoZSBuZXcgbG9jYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCB2aWV3cG9ydC1jaGFuZ2VcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmlld2VyLnJhaXNlRXZlbnQoJ3ZpZXdwb3J0LWNoYW5nZScpO1xuICAgIH1cblxuICAgIGlmKCB2aWV3ZXIucmVmZXJlbmNlU3RyaXAgKXtcbiAgICAgICAgYW5pbWF0ZWQgPSB2aWV3ZXIucmVmZXJlbmNlU3RyaXAudXBkYXRlKCB2aWV3ZXIudmlld3BvcnQgKSB8fCBhbmltYXRlZDtcbiAgICB9XG5cbiAgICBpZiAoICFUSElTWyB2aWV3ZXIuaGFzaCBdLmFuaW1hdGluZyAmJiBhbmltYXRlZCApIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIGFueSBzcHJpbmcgYW5pbWF0aW9uIHN0YXJ0cyAoem9vbSwgcGFuLCBldGMuKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGFuaW1hdGlvbi1zdGFydFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB2aWV3ZXIucmFpc2VFdmVudCggXCJhbmltYXRpb24tc3RhcnRcIiApO1xuICAgICAgICBhYm9ydENvbnRyb2xzQXV0b0hpZGUoIHZpZXdlciApO1xuICAgIH1cblxuICAgIGlmICggYW5pbWF0ZWQgfHwgVEhJU1sgdmlld2VyLmhhc2ggXS5mb3JjZVJlZHJhdyB8fCB2aWV3ZXIud29ybGQubmVlZHNEcmF3KCkgKSB7XG4gICAgICAgIGRyYXdXb3JsZCggdmlld2VyICk7XG4gICAgICAgIHZpZXdlci5fZHJhd092ZXJsYXlzKCk7XG4gICAgICAgIGlmKCB2aWV3ZXIubmF2aWdhdG9yICl7XG4gICAgICAgICAgICB2aWV3ZXIubmF2aWdhdG9yLnVwZGF0ZSggdmlld2VyLnZpZXdwb3J0ICk7XG4gICAgICAgIH1cblxuICAgICAgICBUSElTWyB2aWV3ZXIuaGFzaCBdLmZvcmNlUmVkcmF3ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGFuaW1hdGVkKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIGFueSBzcHJpbmcgYW5pbWF0aW9uIHVwZGF0ZSBvY2N1cnMgKHpvb20sIHBhbiwgZXRjLiksXG4gICAgICAgICAgICAgKiBhZnRlciB0aGUgdmlld2VyIGhhcyBkcmF3biB0aGUgbmV3IGxvY2F0aW9uLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBhbmltYXRpb25cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmlld2VyLnJhaXNlRXZlbnQoIFwiYW5pbWF0aW9uXCIgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICggVEhJU1sgdmlld2VyLmhhc2ggXS5hbmltYXRpbmcgJiYgIWFuaW1hdGVkICkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gYW55IHNwcmluZyBhbmltYXRpb24gZW5kcyAoem9vbSwgcGFuLCBldGMuKS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGFuaW1hdGlvbi1maW5pc2hcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdmlld2VyLnJhaXNlRXZlbnQoIFwiYW5pbWF0aW9uLWZpbmlzaFwiICk7XG5cbiAgICAgICAgaWYgKCAhVEhJU1sgdmlld2VyLmhhc2ggXS5tb3VzZUluc2lkZSApIHtcbiAgICAgICAgICAgIGJlZ2luQ29udHJvbHNBdXRvSGlkZSggdmlld2VyICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBUSElTWyB2aWV3ZXIuaGFzaCBdLmFuaW1hdGluZyA9IGFuaW1hdGVkO1xuXG4gICAgLy92aWV3ZXIucHJvZmlsZXIuZW5kVXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGRyYXdXb3JsZCggdmlld2VyICkge1xuICAgIHZpZXdlci5pbWFnZUxvYWRlci5jbGVhcigpO1xuICAgIHZpZXdlci5kcmF3ZXIuY2xlYXIoKTtcbiAgICB2aWV3ZXIud29ybGQuZHJhdygpO1xuXG4gICAgLyoqXG4gICAgICogPGVtPi0gTmVlZHMgZG9jdW1lbnRhdGlvbiAtPC9lbT5cbiAgICAgKlxuICAgICAqIEBldmVudCB1cGRhdGUtdmlld3BvcnRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgKi9cbiAgICB2aWV3ZXIucmFpc2VFdmVudCggJ3VwZGF0ZS12aWV3cG9ydCcsIHt9ICk7XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIE5hdmlnYXRpb24gQ29udHJvbHNcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIHJlc29sdmVVcmwoIHByZWZpeCwgdXJsICkge1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyB1cmwgOiB1cmw7XG59XG5cblxuXG5mdW5jdGlvbiBiZWdpblpvb21pbmdJbigpIHtcbiAgICBUSElTWyB0aGlzLmhhc2ggXS5sYXN0Wm9vbVRpbWUgPSAkLm5vdygpO1xuICAgIFRISVNbIHRoaXMuaGFzaCBdLnpvb21GYWN0b3IgPSB0aGlzLnpvb21QZXJTZWNvbmQ7XG4gICAgVEhJU1sgdGhpcy5oYXNoIF0uem9vbWluZyA9IHRydWU7XG4gICAgc2NoZWR1bGVab29tKCB0aGlzICk7XG59XG5cblxuZnVuY3Rpb24gYmVnaW5ab29taW5nT3V0KCkge1xuICAgIFRISVNbIHRoaXMuaGFzaCBdLmxhc3Rab29tVGltZSA9ICQubm93KCk7XG4gICAgVEhJU1sgdGhpcy5oYXNoIF0uem9vbUZhY3RvciA9IDEuMCAvIHRoaXMuem9vbVBlclNlY29uZDtcbiAgICBUSElTWyB0aGlzLmhhc2ggXS56b29taW5nID0gdHJ1ZTtcbiAgICBzY2hlZHVsZVpvb20oIHRoaXMgKTtcbn1cblxuXG5mdW5jdGlvbiBlbmRab29taW5nKCkge1xuICAgIFRISVNbIHRoaXMuaGFzaCBdLnpvb21pbmcgPSBmYWxzZTtcbn1cblxuXG5mdW5jdGlvbiBzY2hlZHVsZVpvb20oIHZpZXdlciApIHtcbiAgICAkLnJlcXVlc3RBbmltYXRpb25GcmFtZSggJC5kZWxlZ2F0ZSggdmlld2VyLCBkb1pvb20gKSApO1xufVxuXG5cbmZ1bmN0aW9uIGRvWm9vbSgpIHtcbiAgICB2YXIgY3VycmVudFRpbWUsXG4gICAgICAgIGRlbHRhVGltZSxcbiAgICAgICAgYWRqdXN0ZWRGYWN0b3I7XG5cbiAgICBpZiAoIFRISVNbIHRoaXMuaGFzaCBdLnpvb21pbmcgJiYgdGhpcy52aWV3cG9ydCkge1xuICAgICAgICBjdXJyZW50VGltZSAgICAgPSAkLm5vdygpO1xuICAgICAgICBkZWx0YVRpbWUgICAgICAgPSBjdXJyZW50VGltZSAtIFRISVNbIHRoaXMuaGFzaCBdLmxhc3Rab29tVGltZTtcbiAgICAgICAgYWRqdXN0ZWRGYWN0b3IgID0gTWF0aC5wb3coIFRISVNbIHRoaXMuaGFzaCBdLnpvb21GYWN0b3IsIGRlbHRhVGltZSAvIDEwMDAgKTtcblxuICAgICAgICB0aGlzLnZpZXdwb3J0Lnpvb21CeSggYWRqdXN0ZWRGYWN0b3IgKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIFRISVNbIHRoaXMuaGFzaCBdLmxhc3Rab29tVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICBzY2hlZHVsZVpvb20oIHRoaXMgKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gZG9TaW5nbGVab29tSW4oKSB7XG4gICAgaWYgKCB0aGlzLnZpZXdwb3J0ICkge1xuICAgICAgICBUSElTWyB0aGlzLmhhc2ggXS56b29taW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlld3BvcnQuem9vbUJ5KFxuICAgICAgICAgICAgdGhpcy56b29tUGVyQ2xpY2sgLyAxLjBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGRvU2luZ2xlWm9vbU91dCgpIHtcbiAgICBpZiAoIHRoaXMudmlld3BvcnQgKSB7XG4gICAgICAgIFRISVNbIHRoaXMuaGFzaCBdLnpvb21pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52aWV3cG9ydC56b29tQnkoXG4gICAgICAgICAgICAxLjAgLyB0aGlzLnpvb21QZXJDbGlja1xuICAgICAgICApO1xuICAgICAgICB0aGlzLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gbGlnaHRVcCgpIHtcbiAgICB0aGlzLmJ1dHRvbnMuZW11bGF0ZUVudGVyKCk7XG4gICAgdGhpcy5idXR0b25zLmVtdWxhdGVFeGl0KCk7XG59XG5cblxuZnVuY3Rpb24gb25Ib21lKCkge1xuICAgIGlmICggdGhpcy52aWV3cG9ydCApIHtcbiAgICAgICAgdGhpcy52aWV3cG9ydC5nb0hvbWUoKTtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gb25GdWxsU2NyZWVuKCkge1xuICAgIGlmICggdGhpcy5pc0Z1bGxQYWdlKCkgJiYgISQuaXNGdWxsU2NyZWVuKCkgKSB7XG4gICAgICAgIC8vIElzIGZ1bGxQYWdlIGJ1dCBub3QgZnVsbFNjcmVlblxuICAgICAgICB0aGlzLnNldEZ1bGxQYWdlKCBmYWxzZSApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0RnVsbFNjcmVlbiggIXRoaXMuaXNGdWxsUGFnZSgpICk7XG4gICAgfVxuICAgIC8vIGNvcnJlY3QgZm9yIG5vIG1vdXNlb3V0IGV2ZW50IG9uIGNoYW5nZVxuICAgIGlmICggdGhpcy5idXR0b25zICkge1xuICAgICAgICB0aGlzLmJ1dHRvbnMuZW11bGF0ZUV4aXQoKTtcbiAgICB9XG4gICAgdGhpcy5mdWxsUGFnZUJ1dHRvbi5lbGVtZW50LmZvY3VzKCk7XG4gICAgaWYgKCB0aGlzLnZpZXdwb3J0ICkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbiAgICB9XG59XG5cbi8qKlxuICogTm90ZTogVGhlIGN1cnJlbnQgcm90YXRpb24gZmVhdHVyZSBpcyBsaW1pdGVkIHRvIDkwIGRlZ3JlZSB0dXJucy5cbiAqL1xuZnVuY3Rpb24gb25Sb3RhdGVMZWZ0KCkge1xuICAgIGlmICggdGhpcy52aWV3cG9ydCApIHtcbiAgICAgICAgdmFyIGN1cnJSb3RhdGlvbiA9IHRoaXMudmlld3BvcnQuZ2V0Um90YXRpb24oKTtcbiAgICAgICAgaWYgKGN1cnJSb3RhdGlvbiA9PT0gMCkge1xuICAgICAgICAgICAgY3VyclJvdGF0aW9uID0gMjcwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3VyclJvdGF0aW9uIC09IDkwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld3BvcnQuc2V0Um90YXRpb24oY3VyclJvdGF0aW9uKTtcbiAgICB9XG59XG5cbi8qKlxuICogTm90ZTogVGhlIGN1cnJlbnQgcm90YXRpb24gZmVhdHVyZSBpcyBsaW1pdGVkIHRvIDkwIGRlZ3JlZSB0dXJucy5cbiAqL1xuZnVuY3Rpb24gb25Sb3RhdGVSaWdodCgpIHtcbiAgICBpZiAoIHRoaXMudmlld3BvcnQgKSB7XG4gICAgICAgIHZhciBjdXJyUm90YXRpb24gPSB0aGlzLnZpZXdwb3J0LmdldFJvdGF0aW9uKCk7XG4gICAgICAgIGlmIChjdXJyUm90YXRpb24gPT09IDI3MCkge1xuICAgICAgICAgICAgY3VyclJvdGF0aW9uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJSb3RhdGlvbiArPSA5MDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdwb3J0LnNldFJvdGF0aW9uKGN1cnJSb3RhdGlvbik7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIG9uUHJldmlvdXMoKXtcbiAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9zZXF1ZW5jZUluZGV4IC0gMTtcbiAgICBpZih0aGlzLm5hdlByZXZOZXh0V3JhcCAmJiBwcmV2aW91cyA8IDApe1xuICAgICAgICBwcmV2aW91cyArPSB0aGlzLnRpbGVTb3VyY2VzLmxlbmd0aDtcbiAgICB9XG4gICAgdGhpcy5nb1RvUGFnZSggcHJldmlvdXMgKTtcbn1cblxuXG5mdW5jdGlvbiBvbk5leHQoKXtcbiAgICB2YXIgbmV4dCA9IHRoaXMuX3NlcXVlbmNlSW5kZXggKyAxO1xuICAgIGlmKHRoaXMubmF2UHJldk5leHRXcmFwICYmIG5leHQgPj0gdGhpcy50aWxlU291cmNlcy5sZW5ndGgpe1xuICAgICAgICBuZXh0ID0gMDtcbiAgICB9XG4gICAgdGhpcy5nb1RvUGFnZSggbmV4dCApO1xufVxuXG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gTmF2aWdhdG9yXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vKipcbiAqIEBjbGFzcyBOYXZpZ2F0b3JcbiAqIEBjbGFzc2Rlc2MgVGhlIE5hdmlnYXRvciBwcm92aWRlcyBhIHNtYWxsIHZpZXcgb2YgdGhlIGN1cnJlbnQgaW1hZ2UgYXMgZml4ZWRcbiAqIHdoaWxlIHJlcHJlc2VudGluZyB0aGUgdmlld3BvcnQgYXMgYSBtb3ZpbmcgYm94IHNlcnZpbmcgYXMgYSBmcmFtZVxuICogb2YgcmVmZXJlbmNlIGluIHRoZSBsYXJnZXIgdmlld3BvcnQgYXMgdG8gd2hpY2ggcG9ydGlvbiBvZiB0aGUgaW1hZ2VcbiAqIGlzIGN1cnJlbnRseSBiZWluZyBleGFtaW5lZC4gIFRoZSBuYXZpZ2F0b3IncyB2aWV3cG9ydCBjYW4gYmUgaW50ZXJhY3RlZFxuICogd2l0aCB1c2luZyB0aGUga2V5Ym9hcmQgb3IgdGhlIG1vdXNlLlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICogQGV4dGVuZHMgT3BlblNlYWRyYWdvbi5FdmVudFNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqL1xuJC5OYXZpZ2F0b3IgPSBmdW5jdGlvbiggb3B0aW9ucyApe1xuXG4gICAgdmFyIHZpZXdlciAgICAgID0gb3B0aW9ucy52aWV3ZXIsXG4gICAgICAgIF90aGlzID0gdGhpcyxcbiAgICAgICAgdmlld2VyU2l6ZSxcbiAgICAgICAgbmF2aWdhdG9yU2l6ZTtcblxuICAgIC8vV2UgbWF5IG5lZWQgdG8gY3JlYXRlIGEgbmV3IGVsZW1lbnQgYW5kIGlkIGlmIHRoZXkgZGlkIG5vdFxuICAgIC8vcHJvdmlkZSB0aGUgaWQgZm9yIHRoZSBleGlzdGluZyBlbGVtZW50XG4gICAgaWYoICFvcHRpb25zLmlkICl7XG4gICAgICAgIG9wdGlvbnMuaWQgICAgICAgICAgICAgID0gJ25hdmlnYXRvci0nICsgJC5ub3coKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ICAgICAgICAgICAgPSAkLm1ha2VOZXV0cmFsRWxlbWVudCggXCJkaXZcIiApO1xuICAgICAgICBvcHRpb25zLmNvbnRyb2xPcHRpb25zICA9IHtcbiAgICAgICAgICAgIGFuY2hvcjogICAgICAgICAgICQuQ29udHJvbEFuY2hvci5UT1BfUklHSFQsXG4gICAgICAgICAgICBhdHRhY2hUb1ZpZXdlcjogICB0cnVlLFxuICAgICAgICAgICAgYXV0b0ZhZGU6ICAgICAgICAgb3B0aW9ucy5hdXRvRmFkZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKCBvcHRpb25zLnBvc2l0aW9uICl7XG4gICAgICAgICAgICBpZiggJ0JPVFRPTV9SSUdIVCcgPT0gb3B0aW9ucy5wb3NpdGlvbiApe1xuICAgICAgICAgICAgICAgb3B0aW9ucy5jb250cm9sT3B0aW9ucy5hbmNob3IgPSAkLkNvbnRyb2xBbmNob3IuQk9UVE9NX1JJR0hUO1xuICAgICAgICAgICAgfSBlbHNlIGlmKCAnQk9UVE9NX0xFRlQnID09IG9wdGlvbnMucG9zaXRpb24gKXtcbiAgICAgICAgICAgICAgIG9wdGlvbnMuY29udHJvbE9wdGlvbnMuYW5jaG9yID0gJC5Db250cm9sQW5jaG9yLkJPVFRPTV9MRUZUO1xuICAgICAgICAgICAgfSBlbHNlIGlmKCAnVE9QX1JJR0hUJyA9PSBvcHRpb25zLnBvc2l0aW9uICl7XG4gICAgICAgICAgICAgICBvcHRpb25zLmNvbnRyb2xPcHRpb25zLmFuY2hvciA9ICQuQ29udHJvbEFuY2hvci5UT1BfUklHSFQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYoICdUT1BfTEVGVCcgPT0gb3B0aW9ucy5wb3NpdGlvbiApe1xuICAgICAgICAgICAgICAgb3B0aW9ucy5jb250cm9sT3B0aW9ucy5hbmNob3IgPSAkLkNvbnRyb2xBbmNob3IuVE9QX0xFRlQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYoICdBQlNPTFVURScgPT0gb3B0aW9ucy5wb3NpdGlvbiApe1xuICAgICAgICAgICAgICAgb3B0aW9ucy5jb250cm9sT3B0aW9ucy5hbmNob3IgPSAkLkNvbnRyb2xBbmNob3IuQUJTT0xVVEU7XG4gICAgICAgICAgICAgICBvcHRpb25zLmNvbnRyb2xPcHRpb25zLnRvcCA9IG9wdGlvbnMudG9wO1xuICAgICAgICAgICAgICAgb3B0aW9ucy5jb250cm9sT3B0aW9ucy5sZWZ0ID0gb3B0aW9ucy5sZWZ0O1xuICAgICAgICAgICAgICAgb3B0aW9ucy5jb250cm9sT3B0aW9ucy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgICAgIG9wdGlvbnMuY29udHJvbE9wdGlvbnMud2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1lbnQgICAgICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBvcHRpb25zLmlkICk7XG4gICAgICAgIG9wdGlvbnMuY29udHJvbE9wdGlvbnMgID0ge1xuICAgICAgICAgICAgYW5jaG9yOiAgICAgICAgICAgJC5Db250cm9sQW5jaG9yLk5PTkUsXG4gICAgICAgICAgICBhdHRhY2hUb1ZpZXdlcjogICBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9GYWRlOiAgICAgICAgIGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudC5pZCAgICAgICAgID0gb3B0aW9ucy5pZDtcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lICArPSAnIG5hdmlnYXRvcic7XG5cbiAgICBvcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHtcbiAgICAgICAgc2l6ZVJhdGlvOiAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLm5hdmlnYXRvclNpemVSYXRpb1xuICAgIH0sIG9wdGlvbnMsIHtcbiAgICAgICAgZWxlbWVudDogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICB0YWJJbmRleDogICAgICAgICAgICAgICAtMSwgLy8gTm8ga2V5Ym9hcmQgbmF2aWdhdGlvbiwgb21pdCBmcm9tIHRhYiBvcmRlclxuICAgICAgICAvL1RoZXNlIG5lZWQgdG8gYmUgb3ZlcnJpZGRlbiB0byBwcmV2ZW50IHJlY3Vyc2lvbiBzaW5jZVxuICAgICAgICAvL3RoZSBuYXZpZ2F0b3IgaXMgYSB2aWV3ZXIgYW5kIGEgdmlld2VyIGhhcyBhIG5hdmlnYXRvclxuICAgICAgICBzaG93TmF2aWdhdG9yOiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgbW91c2VOYXZFbmFibGVkOiAgICAgICAgZmFsc2UsXG4gICAgICAgIHNob3dOYXZpZ2F0aW9uQ29udHJvbDogIGZhbHNlLFxuICAgICAgICBzaG93U2VxdWVuY2VDb250cm9sOiAgICBmYWxzZSxcbiAgICAgICAgaW1tZWRpYXRlUmVuZGVyOiAgICAgICAgdHJ1ZSxcbiAgICAgICAgYmxlbmRUaW1lOiAgICAgICAgICAgICAgMCxcbiAgICAgICAgYW5pbWF0aW9uVGltZTogICAgICAgICAgMCxcbiAgICAgICAgYXV0b1Jlc2l6ZTogICAgICAgICAgICAgb3B0aW9ucy5hdXRvUmVzaXplLFxuICAgICAgICAvLyBwcmV2ZW50IHJlc2l6aW5nIHRoZSBuYXZpZ2F0b3IgZnJvbSBhZGRpbmcgdW53YW50ZWQgc3BhY2UgYXJvdW5kIHRoZSBpbWFnZVxuICAgICAgICBtaW5ab29tSW1hZ2VSYXRpbzogICAgICAxLjBcbiAgICB9KTtcblxuICAgIG9wdGlvbnMubWluUGl4ZWxSYXRpbyA9IHRoaXMubWluUGl4ZWxSYXRpbyA9IHZpZXdlci5taW5QaXhlbFJhdGlvO1xuXG4gICAgJC5zZXRFbGVtZW50VG91Y2hBY3Rpb25Ob25lKCB0aGlzLmVsZW1lbnQgKTtcblxuICAgIHRoaXMuYm9yZGVyV2lkdGggPSAyO1xuICAgIC8vQXQgc29tZSBicm93c2VyIG1hZ25pZmljYXRpb24gbGV2ZWxzIHRoZSBkaXNwbGF5IHJlZ2lvbnMgbGluZXMgdXAgY29ycmVjdGx5LCBidXQgYXQgc29tZSB0aGVyZSBhcHBlYXJzIHRvXG4gICAgLy9iZSBhIG9uZSBwaXhlbCBnYXAuXG4gICAgdGhpcy5mdWRnZSA9IG5ldyAkLlBvaW50KDEsIDEpO1xuICAgIHRoaXMudG90YWxCb3JkZXJXaWR0aHMgPSBuZXcgJC5Qb2ludCh0aGlzLmJvcmRlcldpZHRoICogMiwgdGhpcy5ib3JkZXJXaWR0aCAqIDIpLm1pbnVzKHRoaXMuZnVkZ2UpO1xuXG5cbiAgICBpZiAoIG9wdGlvbnMuY29udHJvbE9wdGlvbnMuYW5jaG9yICE9ICQuQ29udHJvbEFuY2hvci5OT05FICkge1xuICAgICAgICAoZnVuY3Rpb24oIHN0eWxlLCBib3JkZXJXaWR0aCApe1xuICAgICAgICAgICAgc3R5bGUubWFyZ2luICAgICAgICA9ICcwcHgnO1xuICAgICAgICAgICAgc3R5bGUuYm9yZGVyICAgICAgICA9IGJvcmRlcldpZHRoICsgJ3B4IHNvbGlkICM1NTUnO1xuICAgICAgICAgICAgc3R5bGUucGFkZGluZyAgICAgICA9ICcwcHgnO1xuICAgICAgICAgICAgc3R5bGUuYmFja2dyb3VuZCAgICA9ICcjMDAwJztcbiAgICAgICAgICAgIHN0eWxlLm9wYWNpdHkgICAgICAgPSAwLjg7XG4gICAgICAgICAgICBzdHlsZS5vdmVyZmxvdyAgICAgID0gJ2hpZGRlbic7XG4gICAgICAgIH0oIHRoaXMuZWxlbWVudC5zdHlsZSwgdGhpcy5ib3JkZXJXaWR0aCkpO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGxheVJlZ2lvbiAgICAgICAgICAgPSAkLm1ha2VOZXV0cmFsRWxlbWVudCggXCJkaXZcIiApO1xuICAgIHRoaXMuZGlzcGxheVJlZ2lvbi5pZCAgICAgICAgPSB0aGlzLmVsZW1lbnQuaWQgKyAnLWRpc3BsYXlyZWdpb24nO1xuICAgIHRoaXMuZGlzcGxheVJlZ2lvbi5jbGFzc05hbWUgPSAnZGlzcGxheXJlZ2lvbic7XG5cbiAgICAoZnVuY3Rpb24oIHN0eWxlLCBib3JkZXJXaWR0aCApe1xuICAgICAgICBzdHlsZS5wb3NpdGlvbiAgICAgID0gJ3JlbGF0aXZlJztcbiAgICAgICAgc3R5bGUudG9wICAgICAgICAgICA9ICcwcHgnO1xuICAgICAgICBzdHlsZS5sZWZ0ICAgICAgICAgID0gJzBweCc7XG4gICAgICAgIHN0eWxlLmZvbnRTaXplICAgICAgPSAnMHB4JztcbiAgICAgICAgc3R5bGUub3ZlcmZsb3cgICAgICA9ICdoaWRkZW4nO1xuICAgICAgICBzdHlsZS5ib3JkZXIgICAgICAgID0gYm9yZGVyV2lkdGggKyAncHggc29saWQgIzkwMCc7XG4gICAgICAgIHN0eWxlLm1hcmdpbiAgICAgICAgPSAnMHB4JztcbiAgICAgICAgc3R5bGUucGFkZGluZyAgICAgICA9ICcwcHgnO1xuICAgICAgICAvL1RPRE86IElFIGRvZXNudCBsaWtlIHRoaXMgcHJvcGVydHkgYmVpbmcgc2V0XG4gICAgICAgIC8vdHJ5eyBzdHlsZS5vdXRsaW5lICA9ICcycHggYXV0byAjOTA5JzsgfWNhdGNoKGUpey8qaWdub3JlKi99XG5cbiAgICAgICAgc3R5bGUuYmFja2dyb3VuZCAgICA9ICd0cmFuc3BhcmVudCc7XG5cbiAgICAgICAgLy8gV2UgdXNlIHNxdWFyZSBicmFja2V0IG5vdGF0aW9uIG9uIHRoZSBzdGF0ZW1lbnQgYmVsb3csIGJlY2F1c2UgZmxvYXQgaXMgYSBrZXl3b3JkLlxuICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBmb3IgdGhlIEdvb2dsZSBDbG9zdXJlIGNvbXBpbGVyLCBpZiBub3RoaW5nIGVsc2UuXG4gICAgICAgIC8qanNoaW50IHN1Yjp0cnVlICovXG4gICAgICAgIHN0eWxlWydmbG9hdCddICAgICAgPSAnbGVmdCc7IC8vV2Via2l0XG5cbiAgICAgICAgc3R5bGUuY3NzRmxvYXQgICAgICA9ICdsZWZ0JzsgLy9GaXJlZm94XG4gICAgICAgIHN0eWxlLnN0eWxlRmxvYXQgICAgPSAnbGVmdCc7IC8vSUVcbiAgICAgICAgc3R5bGUuekluZGV4ICAgICAgICA9IDk5OTk5OTk5OTtcbiAgICAgICAgc3R5bGUuY3Vyc29yICAgICAgICA9ICdkZWZhdWx0JztcbiAgICB9KCB0aGlzLmRpc3BsYXlSZWdpb24uc3R5bGUsIHRoaXMuYm9yZGVyV2lkdGggKSk7XG5cbiAgICB0aGlzLmRpc3BsYXlSZWdpb25Db250YWluZXIgPSAkLm1ha2VOZXV0cmFsRWxlbWVudChcImRpdlwiKTtcbiAgICB0aGlzLmRpc3BsYXlSZWdpb25Db250YWluZXIuaWQgPSB0aGlzLmVsZW1lbnQuaWQgKyAnLWRpc3BsYXlyZWdpb25jb250YWluZXInO1xuICAgIHRoaXMuZGlzcGxheVJlZ2lvbkNvbnRhaW5lci5jbGFzc05hbWUgPSBcImRpc3BsYXlyZWdpb25jb250YWluZXJcIjtcbiAgICB0aGlzLmRpc3BsYXlSZWdpb25Db250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMCVcIjtcbiAgICB0aGlzLmRpc3BsYXlSZWdpb25Db250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XG5cbiAgICB2aWV3ZXIuYWRkQ29udHJvbChcbiAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICBvcHRpb25zLmNvbnRyb2xPcHRpb25zXG4gICAgKTtcblxuICAgIHRoaXMuX3Jlc2l6ZVdpdGhWaWV3ZXIgPSBvcHRpb25zLmNvbnRyb2xPcHRpb25zLmFuY2hvciAhPSAkLkNvbnRyb2xBbmNob3IuQUJTT0xVVEUgJiZcbiAgICAgICAgb3B0aW9ucy5jb250cm9sT3B0aW9ucy5hbmNob3IgIT0gJC5Db250cm9sQW5jaG9yLk5PTkU7XG5cbiAgICBpZiAoIHRoaXMuX3Jlc2l6ZVdpdGhWaWV3ZXIgKSB7XG4gICAgICAgIGlmICggb3B0aW9ucy53aWR0aCAmJiBvcHRpb25zLmhlaWdodCApIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0eXBlb2YgKG9wdGlvbnMuaGVpZ2h0KSA9PSBcIm51bWJlclwiID8gKG9wdGlvbnMuaGVpZ2h0ICsgJ3B4JykgOiBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCAgPSB0eXBlb2YgKG9wdGlvbnMud2lkdGgpID09IFwibnVtYmVyXCIgPyAob3B0aW9ucy53aWR0aCArICdweCcpIDogb3B0aW9ucy53aWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdlclNpemUgPSAkLmdldEVsZW1lbnRTaXplKCB2aWV3ZXIuZWxlbWVudCApO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IE1hdGgucm91bmQoIHZpZXdlclNpemUueSAqIG9wdGlvbnMuc2l6ZVJhdGlvICkgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoICA9IE1hdGgucm91bmQoIHZpZXdlclNpemUueCAqIG9wdGlvbnMuc2l6ZVJhdGlvICkgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5vbGRWaWV3ZXJTaXplID0gdmlld2VyU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBuYXZpZ2F0b3JTaXplID0gJC5nZXRFbGVtZW50U2l6ZSggdGhpcy5lbGVtZW50ICk7XG4gICAgICAgIHRoaXMuZWxlbWVudEFyZWEgPSBuYXZpZ2F0b3JTaXplLnggKiBuYXZpZ2F0b3JTaXplLnk7XG4gICAgfVxuXG4gICAgdGhpcy5vbGRDb250YWluZXJTaXplID0gbmV3ICQuUG9pbnQoIDAsIDAgKTtcblxuICAgICQuVmlld2VyLmFwcGx5KCB0aGlzLCBbIG9wdGlvbnMgXSApO1xuXG4gICAgdGhpcy5kaXNwbGF5UmVnaW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZGlzcGxheVJlZ2lvbik7XG4gICAgdGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKVswXS5hcHBlbmRDaGlsZCh0aGlzLmRpc3BsYXlSZWdpb25Db250YWluZXIpO1xuXG4gICAgZnVuY3Rpb24gcm90YXRlKGRlZ3JlZXMpIHtcbiAgICAgICAgX3NldFRyYW5zZm9ybVJvdGF0ZShfdGhpcy5kaXNwbGF5UmVnaW9uQ29udGFpbmVyLCBkZWdyZWVzKTtcbiAgICAgICAgX3NldFRyYW5zZm9ybVJvdGF0ZShfdGhpcy5kaXNwbGF5UmVnaW9uLCAtZGVncmVlcyk7XG4gICAgICAgIF90aGlzLnZpZXdwb3J0LnNldFJvdGF0aW9uKGRlZ3JlZXMpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5uYXZpZ2F0b3JSb3RhdGUpIHtcbiAgICAgICAgdmFyIGRlZ3JlZXMgPSBvcHRpb25zLnZpZXdlci52aWV3cG9ydCA/XG4gICAgICAgICAgICBvcHRpb25zLnZpZXdlci52aWV3cG9ydC5nZXRSb3RhdGlvbigpIDpcbiAgICAgICAgICAgIG9wdGlvbnMudmlld2VyLmRlZ3JlZXMgfHwgMDtcbiAgICAgICAgcm90YXRlKGRlZ3JlZXMpO1xuICAgICAgICBvcHRpb25zLnZpZXdlci5hZGRIYW5kbGVyKFwicm90YXRlXCIsIGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgICAgICByb3RhdGUoYXJncy5kZWdyZWVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIHRoZSBiYXNlIGNsYXNzJyAoVmlld2VyJ3MpIGlubmVyVHJhY2tlciBhbmQgcmVwbGFjZSBpdCB3aXRoIG91ciBvd25cbiAgICB0aGlzLmlubmVyVHJhY2tlci5kZXN0cm95KCk7XG4gICAgdGhpcy5pbm5lclRyYWNrZXIgPSBuZXcgJC5Nb3VzZVRyYWNrZXIoe1xuICAgICAgICBlbGVtZW50OiAgICAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgICAgZHJhZ0hhbmRsZXI6ICAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNhbnZhc0RyYWcgKSxcbiAgICAgICAgY2xpY2tIYW5kbGVyOiAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbkNhbnZhc0NsaWNrICksXG4gICAgICAgIHJlbGVhc2VIYW5kbGVyOiAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNSZWxlYXNlICksXG4gICAgICAgIHNjcm9sbEhhbmRsZXI6ICAgJC5kZWxlZ2F0ZSggdGhpcywgb25DYW52YXNTY3JvbGwgKVxuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRIYW5kbGVyKFwicmVzZXQtc2l6ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKF90aGlzLnZpZXdwb3J0KSB7XG4gICAgICAgICAgICBfdGhpcy52aWV3cG9ydC5nb0hvbWUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHZpZXdlci53b3JsZC5hZGRIYW5kbGVyKFwiaXRlbS1pbmRleC1jaGFuZ2VcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBpdGVtID0gX3RoaXMud29ybGQuZ2V0SXRlbUF0KGV2ZW50LnByZXZpb3VzSW5kZXgpO1xuICAgICAgICAgICAgX3RoaXMud29ybGQuc2V0SXRlbUluZGV4KGl0ZW0sIGV2ZW50Lm5ld0luZGV4KTtcbiAgICAgICAgfSwgMSk7XG4gICAgfSk7XG5cbiAgICB2aWV3ZXIud29ybGQuYWRkSGFuZGxlcihcInJlbW92ZS1pdGVtXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciB0aGVpckl0ZW0gPSBldmVudC5pdGVtO1xuICAgICAgICB2YXIgbXlJdGVtID0gX3RoaXMuX2dldE1hdGNoaW5nSXRlbSh0aGVpckl0ZW0pO1xuICAgICAgICBpZiAobXlJdGVtKSB7XG4gICAgICAgICAgICBfdGhpcy53b3JsZC5yZW1vdmVJdGVtKG15SXRlbSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMudXBkYXRlKHZpZXdlci52aWV3cG9ydCk7XG59O1xuXG4kLmV4dGVuZCggJC5OYXZpZ2F0b3IucHJvdG90eXBlLCAkLkV2ZW50U291cmNlLnByb3RvdHlwZSwgJC5WaWV3ZXIucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uTmF2aWdhdG9yLnByb3RvdHlwZSAqL3tcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gbm90aWZ5IHRoZSBuYXZpZ2F0b3Igd2hlbiBpdHMgc2l6ZSBoYXMgY2hhbmdlZC5cbiAgICAgKiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9Lm5hdmlnYXRvckF1dG9SZXNpemUgaXMgc2V0IHRvIGZhbHNlIGFuZCB0aGUgbmF2aWdhdG9yIGlzIHJlc2l6YWJsZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICB1cGRhdGVTaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICggdGhpcy52aWV3cG9ydCApIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJTaXplID0gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCA9PT0gMCA/IDEgOiB0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCksXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQgPT09IDAgPyAxIDogdGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGlmICggIWNvbnRhaW5lclNpemUuZXF1YWxzKCB0aGlzLm9sZENvbnRhaW5lclNpemUgKSApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0LnJlc2l6ZSggY29udGFpbmVyU2l6ZSwgdHJ1ZSApO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuZ29Ib21lKHRydWUpO1xuICAgICAgICAgICAgICAgIHRoaXMub2xkQ29udGFpbmVyU2l6ZSA9IGNvbnRhaW5lclNpemU7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3ZXIuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndvcmxkLmRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIHVwZGF0ZSB0aGUgbmF2aWdhdG9yIG1pbmltYXAncyB2aWV3cG9ydCByZWN0YW5nbGUgd2hlbiBhIGNoYW5nZSBpbiB0aGUgdmlld2VyJ3Mgdmlld3BvcnQgb2NjdXJzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5WaWV3cG9ydH0gVGhlIHZpZXdwb3J0IHRoaXMgbmF2aWdhdG9yIGlzIHRyYWNraW5nLlxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oIHZpZXdwb3J0ICkge1xuXG4gICAgICAgIHZhciB2aWV3ZXJTaXplLFxuICAgICAgICAgICAgbmV3V2lkdGgsXG4gICAgICAgICAgICBuZXdIZWlnaHQsXG4gICAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgICB0b3BsZWZ0LFxuICAgICAgICAgICAgYm90dG9tcmlnaHQ7XG5cbiAgICAgICAgdmlld2VyU2l6ZSA9ICQuZ2V0RWxlbWVudFNpemUoIHRoaXMudmlld2VyLmVsZW1lbnQgKTtcbiAgICAgICAgaWYgKCB0aGlzLl9yZXNpemVXaXRoVmlld2VyICYmIHZpZXdlclNpemUueCAmJiB2aWV3ZXJTaXplLnkgJiYgIXZpZXdlclNpemUuZXF1YWxzKCB0aGlzLm9sZFZpZXdlclNpemUgKSApIHtcbiAgICAgICAgICAgIHRoaXMub2xkVmlld2VyU2l6ZSA9IHZpZXdlclNpemU7XG5cbiAgICAgICAgICAgIGlmICggdGhpcy5tYWludGFpblNpemVSYXRpbyB8fCAhdGhpcy5lbGVtZW50QXJlYSkge1xuICAgICAgICAgICAgICAgIG5ld1dpZHRoICA9IHZpZXdlclNpemUueCAqIHRoaXMuc2l6ZVJhdGlvO1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IHZpZXdlclNpemUueSAqIHRoaXMuc2l6ZVJhdGlvO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IE1hdGguc3FydCh0aGlzLmVsZW1lbnRBcmVhICogKHZpZXdlclNpemUueCAvIHZpZXdlclNpemUueSkpO1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IHRoaXMuZWxlbWVudEFyZWEgLyBuZXdXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoICA9IE1hdGgucm91bmQoIG5ld1dpZHRoICkgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IE1hdGgucm91bmQoIG5ld0hlaWdodCApICsgJ3B4JztcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRBcmVhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50QXJlYSA9IG5ld1dpZHRoICogbmV3SGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aWV3cG9ydCAmJiB0aGlzLnZpZXdwb3J0KSB7XG4gICAgICAgICAgICBib3VuZHMgICAgICA9IHZpZXdwb3J0LmdldEJvdW5kc05vUm90YXRlKHRydWUpO1xuICAgICAgICAgICAgdG9wbGVmdCAgICAgPSB0aGlzLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50Tm9Sb3RhdGUoYm91bmRzLmdldFRvcExlZnQoKSwgZmFsc2UpO1xuICAgICAgICAgICAgYm90dG9tcmlnaHQgPSB0aGlzLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50Tm9Sb3RhdGUoYm91bmRzLmdldEJvdHRvbVJpZ2h0KCksIGZhbHNlKVxuICAgICAgICAgICAgICAgIC5taW51cyggdGhpcy50b3RhbEJvcmRlcldpZHRocyApO1xuXG4gICAgICAgICAgICAvL3VwZGF0ZSBzdHlsZSBmb3IgbmF2aWdhdG9yLWJveFxuICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5kaXNwbGF5UmVnaW9uLnN0eWxlO1xuICAgICAgICAgICAgc3R5bGUuZGlzcGxheSA9IHRoaXMud29ybGQuZ2V0SXRlbUNvdW50KCkgPyAnYmxvY2snIDogJ25vbmUnO1xuXG4gICAgICAgICAgICBzdHlsZS50b3AgICAgPSBNYXRoLnJvdW5kKCB0b3BsZWZ0LnkgKSArICdweCc7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ICAgPSBNYXRoLnJvdW5kKCB0b3BsZWZ0LnggKSArICdweCc7XG5cbiAgICAgICAgICAgIHZhciB3aWR0aCA9IE1hdGguYWJzKCB0b3BsZWZ0LnggLSBib3R0b21yaWdodC54ICk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5hYnMoIHRvcGxlZnQueSAtIGJvdHRvbXJpZ2h0LnkgKTtcbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBub24tbmVnYXRpdmUgc28gSUUgZG9lc24ndCB0aHJvd1xuICAgICAgICAgICAgc3R5bGUud2lkdGggID0gTWF0aC5yb3VuZCggTWF0aC5tYXgoIHdpZHRoLCAwICkgKSArICdweCc7XG4gICAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBNYXRoLnJvdW5kKCBNYXRoLm1heCggaGVpZ2h0LCAwICkgKSArICdweCc7XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICAvLyBvdmVycmlkZXMgVmlld2VyLmFkZFRpbGVkSW1hZ2VcbiAgICBhZGRUaWxlZEltYWdlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG9yaWdpbmFsID0gb3B0aW9ucy5vcmlnaW5hbFRpbGVkSW1hZ2U7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLm9yaWdpbmFsO1xuXG4gICAgICAgIHZhciBvcHRpb25zQ2xvbmUgPSAkLmV4dGVuZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbXlJdGVtID0gZXZlbnQuaXRlbTtcbiAgICAgICAgICAgICAgICBteUl0ZW0uX29yaWdpbmFsRm9yTmF2aWdhdG9yID0gb3JpZ2luYWw7XG4gICAgICAgICAgICAgICAgX3RoaXMuX21hdGNoQm91bmRzKG15SXRlbSwgb3JpZ2luYWwsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbWF0Y2hCb3VuZHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9tYXRjaEJvdW5kcyhteUl0ZW0sIG9yaWdpbmFsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtYXRjaE9wYWNpdHkoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9tYXRjaE9wYWNpdHkobXlJdGVtLCBvcmlnaW5hbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbWF0Y2hDb21wb3NpdGVPcGVyYXRpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9tYXRjaENvbXBvc2l0ZU9wZXJhdGlvbihteUl0ZW0sIG9yaWdpbmFsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvcmlnaW5hbC5hZGRIYW5kbGVyKCdib3VuZHMtY2hhbmdlJywgbWF0Y2hCb3VuZHMpO1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsLmFkZEhhbmRsZXIoJ2NsaXAtY2hhbmdlJywgbWF0Y2hCb3VuZHMpO1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsLmFkZEhhbmRsZXIoJ29wYWNpdHktY2hhbmdlJywgbWF0Y2hPcGFjaXR5KTtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbC5hZGRIYW5kbGVyKCdjb21wb3NpdGUtb3BlcmF0aW9uLWNoYW5nZScsIG1hdGNoQ29tcG9zaXRlT3BlcmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuICQuVmlld2VyLnByb3RvdHlwZS5hZGRUaWxlZEltYWdlLmFwcGx5KHRoaXMsIFtvcHRpb25zQ2xvbmVdKTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF9nZXRNYXRjaGluZ0l0ZW06IGZ1bmN0aW9uKHRoZWlySXRlbSkge1xuICAgICAgICB2YXIgY291bnQgPSB0aGlzLndvcmxkLmdldEl0ZW1Db3VudCgpO1xuICAgICAgICB2YXIgaXRlbTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtID0gdGhpcy53b3JsZC5nZXRJdGVtQXQoaSk7XG4gICAgICAgICAgICBpZiAoaXRlbS5fb3JpZ2luYWxGb3JOYXZpZ2F0b3IgPT09IHRoZWlySXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfbWF0Y2hCb3VuZHM6IGZ1bmN0aW9uKG15SXRlbSwgdGhlaXJJdGVtLCBpbW1lZGlhdGVseSkge1xuICAgICAgICB2YXIgYm91bmRzID0gdGhlaXJJdGVtLmdldEJvdW5kc05vUm90YXRlKCk7XG4gICAgICAgIG15SXRlbS5zZXRQb3NpdGlvbihib3VuZHMuZ2V0VG9wTGVmdCgpLCBpbW1lZGlhdGVseSk7XG4gICAgICAgIG15SXRlbS5zZXRXaWR0aChib3VuZHMud2lkdGgsIGltbWVkaWF0ZWx5KTtcbiAgICAgICAgbXlJdGVtLnNldFJvdGF0aW9uKHRoZWlySXRlbS5nZXRSb3RhdGlvbigpLCBpbW1lZGlhdGVseSk7XG4gICAgICAgIG15SXRlbS5zZXRDbGlwKHRoZWlySXRlbS5nZXRDbGlwKCkpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX21hdGNoT3BhY2l0eTogZnVuY3Rpb24obXlJdGVtLCB0aGVpckl0ZW0pIHtcbiAgICAgICAgbXlJdGVtLnNldE9wYWNpdHkodGhlaXJJdGVtLm9wYWNpdHkpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX21hdGNoQ29tcG9zaXRlT3BlcmF0aW9uOiBmdW5jdGlvbihteUl0ZW0sIHRoZWlySXRlbSkge1xuICAgICAgICBteUl0ZW0uc2V0Q29tcG9zaXRlT3BlcmF0aW9uKHRoZWlySXRlbS5jb21wb3NpdGVPcGVyYXRpb24pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBvbkNhbnZhc0NsaWNrKCBldmVudCApIHtcbiAgICBpZiAoIGV2ZW50LnF1aWNrICYmIHRoaXMudmlld2VyLnZpZXdwb3J0ICkge1xuICAgICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC5wYW5Ubyh0aGlzLnZpZXdwb3J0LnBvaW50RnJvbVBpeGVsKGV2ZW50LnBvc2l0aW9uKSk7XG4gICAgICAgIHRoaXMudmlld2VyLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9uQ2FudmFzRHJhZyggZXZlbnQgKSB7XG4gICAgaWYgKCB0aGlzLnZpZXdlci52aWV3cG9ydCApIHtcbiAgICAgICAgaWYoICF0aGlzLnBhbkhvcml6b250YWwgKXtcbiAgICAgICAgICAgIGV2ZW50LmRlbHRhLnggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmKCAhdGhpcy5wYW5WZXJ0aWNhbCApe1xuICAgICAgICAgICAgZXZlbnQuZGVsdGEueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52aWV3ZXIudmlld3BvcnQucGFuQnkoXG4gICAgICAgICAgICB0aGlzLnZpZXdwb3J0LmRlbHRhUG9pbnRzRnJvbVBpeGVscyhcbiAgICAgICAgICAgICAgICBldmVudC5kZWx0YVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBpZiggdGhpcy52aWV3ZXIuY29uc3RyYWluRHVyaW5nUGFuICl7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gb25DYW52YXNSZWxlYXNlKCBldmVudCApIHtcbiAgICBpZiAoIGV2ZW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkICYmIHRoaXMudmlld2VyLnZpZXdwb3J0ICkge1xuICAgICAgICB0aGlzLnZpZXdlci52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG4gICAgfVxufVxuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9uQ2FudmFzU2Nyb2xsKCBldmVudCApIHtcbiAgICAvKipcbiAgICAgKiBSYWlzZWQgd2hlbiBhIHNjcm9sbCBldmVudCBvY2N1cnMgb24gdGhlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNuYXZpZ2F0b3J9IGVsZW1lbnQgKG1vdXNlIHdoZWVsLCB0b3VjaCBwaW5jaCwgZXRjLikuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgbmF2aWdhdG9yLXNjcm9sbFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Nb3VzZVRyYWNrZXJ9IHRyYWNrZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgTW91c2VUcmFja2VyIHdoaWNoIG9yaWdpbmF0ZWQgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBldmVudCByZWxhdGl2ZSB0byB0aGUgdHJhY2tlZCBlbGVtZW50LlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBzY3JvbGwgLSBUaGUgc2Nyb2xsIGRlbHRhIGZvciB0aGUgZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHtCb29sZWFufSBzaGlmdCAtIFRydWUgaWYgdGhlIHNoaWZ0IGtleSB3YXMgcHJlc3NlZCBkdXJpbmcgdGhpcyBldmVudC5cbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIHRoaXMudmlld2VyLnJhaXNlRXZlbnQoICduYXZpZ2F0b3Itc2Nyb2xsJywge1xuICAgICAgICB0cmFja2VyOiBldmVudC5ldmVudFNvdXJjZSxcbiAgICAgICAgcG9zaXRpb246IGV2ZW50LnBvc2l0aW9uLFxuICAgICAgICBzY3JvbGw6IGV2ZW50LnNjcm9sbCxcbiAgICAgICAgc2hpZnQ6IGV2ZW50LnNoaWZ0LFxuICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50XG4gICAgfSk7XG5cbiAgICAvL2RvbnQgc2Nyb2xsIHRoZSBwYWdlIHVwIGFuZCBkb3duIGlmIHRoZSB1c2VyIGlzIHNjcm9sbGluZ1xuICAgIC8vaW4gdGhlIG5hdmlnYXRvclxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gICAgKiBAZnVuY3Rpb25cbiAgICAqIEBwcml2YXRlXG4gICAgKiBAcGFyYW0ge09iamVjdH0gZWxlbWVudFxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXNcbiAgICAqL1xuZnVuY3Rpb24gX3NldFRyYW5zZm9ybVJvdGF0ZSAoZWxlbWVudCwgZGVncmVlcykge1xuICAgIGVsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID0gXCJyb3RhdGUoXCIgKyBkZWdyZWVzICsgXCJkZWcpXCI7XG4gICAgZWxlbWVudC5zdHlsZS5tb3pUcmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIGRlZ3JlZXMgKyBcImRlZylcIjtcbiAgICBlbGVtZW50LnN0eWxlLm1zVHJhbnNmb3JtID0gXCJyb3RhdGUoXCIgKyBkZWdyZWVzICsgXCJkZWcpXCI7XG4gICAgZWxlbWVudC5zdHlsZS5vVHJhbnNmb3JtID0gXCJyb3RhdGUoXCIgKyBkZWdyZWVzICsgXCJkZWcpXCI7XG4gICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBcInJvdGF0ZShcIiArIGRlZ3JlZXMgKyBcImRlZylcIjtcbn1cblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBnZXRTdHJpbmcvc2V0U3RyaW5nXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vL1RPRE86IEkgZ3Vlc3MgdGhpcyBpcyB3aGVyZSB0aGUgaTE4biBuZWVkcyB0byBiZSByZWltcGxlbWVudGVkLiAgSSdsbCBsb29rXG4vLyAgICAgIGludG8gZXhpc3RpbmcgcGF0dGVybnMgZm9yIGkxOG4gaW4gamF2YXNjcmlwdCBidXQgaSB0aGluayB0aGF0IG1pbWlja2luZ1xuLy8gICAgICBweXRob25zIGdldHRleHQgbWlnaHQgYmUgYSByZWFzb25hYmxlIGFwcHJvYWNoLlxudmFyIEkxOE4gPSB7XG4gICAgRXJyb3JzOiB7XG4gICAgICAgIER6YzogICAgICAgICAgICBcIlNvcnJ5LCB3ZSBkb24ndCBzdXBwb3J0IERlZXAgWm9vbSBDb2xsZWN0aW9ucyFcIixcbiAgICAgICAgRHppOiAgICAgICAgICAgIFwiSG1tLCB0aGlzIGRvZXNuJ3QgYXBwZWFyIHRvIGJlIGEgdmFsaWQgRGVlcCBab29tIEltYWdlLlwiLFxuICAgICAgICBYbWw6ICAgICAgICAgICAgXCJIbW0sIHRoaXMgZG9lc24ndCBhcHBlYXIgdG8gYmUgYSB2YWxpZCBEZWVwIFpvb20gSW1hZ2UuXCIsXG4gICAgICAgIEltYWdlRm9ybWF0OiAgICBcIlNvcnJ5LCB3ZSBkb24ndCBzdXBwb3J0IHswfS1iYXNlZCBEZWVwIFpvb20gSW1hZ2VzLlwiLFxuICAgICAgICBTZWN1cml0eTogICAgICAgXCJJdCBsb29rcyBsaWtlIGEgc2VjdXJpdHkgcmVzdHJpY3Rpb24gc3RvcHBlZCB1cyBmcm9tIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibG9hZGluZyB0aGlzIERlZXAgWm9vbSBJbWFnZS5cIixcbiAgICAgICAgU3RhdHVzOiAgICAgICAgIFwiVGhpcyBzcGFjZSB1bmludGVudGlvbmFsbHkgbGVmdCBibGFuayAoezB9IHsxfSkuXCIsXG4gICAgICAgIE9wZW5GYWlsZWQ6ICAgICBcIlVuYWJsZSB0byBvcGVuIHswfTogezF9XCJcbiAgICB9LFxuXG4gICAgVG9vbHRpcHM6IHtcbiAgICAgICAgRnVsbFBhZ2U6ICAgICAgIFwiVG9nZ2xlIGZ1bGwgcGFnZVwiLFxuICAgICAgICBIb21lOiAgICAgICAgICAgXCJHbyBob21lXCIsXG4gICAgICAgIFpvb21JbjogICAgICAgICBcIlpvb20gaW5cIixcbiAgICAgICAgWm9vbU91dDogICAgICAgIFwiWm9vbSBvdXRcIixcbiAgICAgICAgTmV4dFBhZ2U6ICAgICAgIFwiTmV4dCBwYWdlXCIsXG4gICAgICAgIFByZXZpb3VzUGFnZTogICBcIlByZXZpb3VzIHBhZ2VcIixcbiAgICAgICAgUm90YXRlTGVmdDogICAgIFwiUm90YXRlIGxlZnRcIixcbiAgICAgICAgUm90YXRlUmlnaHQ6ICAgIFwiUm90YXRlIHJpZ2h0XCJcbiAgICB9XG59O1xuXG4kLmV4dGVuZCggJCwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uICove1xuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAgICovXG4gICAgZ2V0U3RyaW5nOiBmdW5jdGlvbiggcHJvcCApIHtcblxuICAgICAgICB2YXIgcHJvcHMgICA9IHByb3Auc3BsaXQoJy4nKSxcbiAgICAgICAgICAgIHN0cmluZyAgPSBudWxsLFxuICAgICAgICAgICAgYXJncyAgICA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IEkxOE4sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugbm90IGEgc3VicHJvcGVydHlcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lclsgcHJvcHNbIGkgXSBdIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZyA9IGNvbnRhaW5lclsgcHJvcHNbIGkgXSBdO1xuXG4gICAgICAgIGlmICggdHlwZW9mKCBzdHJpbmcgKSAhPSBcInN0cmluZ1wiICkge1xuICAgICAgICAgICAgJC5jb25zb2xlLmxvZyggXCJVbnRyYW5zbGF0ZWQgc291cmNlIHN0cmluZzpcIiwgcHJvcCApO1xuICAgICAgICAgICAgc3RyaW5nID0gXCJcIjsgLy8gRklYTUU6IHRoaXMgYnJlYWtzIGdldHRleHQoKS1zdHlsZSBjb252ZW50aW9uLCB3aGljaCB3b3VsZCByZXR1cm4gc291cmNlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24oY2FwdHVyZSkge1xuICAgICAgICAgICAgdmFyIGkgPSBwYXJzZUludCggY2FwdHVyZS5tYXRjaCggL1xcZCsvICksIDEwICkgKyAxO1xuICAgICAgICAgICAgcmV0dXJuIGkgPCBhcmdzLmxlbmd0aCA/XG4gICAgICAgICAgICAgICAgYXJnc1sgaSBdIDpcbiAgICAgICAgICAgICAgICBcIlwiO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqL1xuICAgIHNldFN0cmluZzogZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXG4gICAgICAgIHZhciBwcm9wcyAgICAgPSBwcm9wLnNwbGl0KCcuJyksXG4gICAgICAgICAgICBjb250YWluZXIgPSBJMThOLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IHByb3BzLmxlbmd0aCAtIDE7IGkrKyApIHtcbiAgICAgICAgICAgIGlmICggIWNvbnRhaW5lclsgcHJvcHNbIGkgXSBdICkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lclsgcHJvcHNbIGkgXSBdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXJbIHByb3BzWyBpIF0gXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lclsgcHJvcHNbIGkgXSBdID0gdmFsdWU7XG4gICAgfVxuXG59KTtcblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBQb2ludFxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLyoqXG4gKiBAY2xhc3MgUG9pbnRcbiAqIEBjbGFzc2Rlc2MgQSBQb2ludCBpcyByZWFsbHkgdXNlZCBhcyBhIDItZGltZW5zaW9uYWwgdmVjdG9yLCBlcXVhbGx5IHVzZWZ1bCBmb3JcbiAqIHJlcHJlc2VudGluZyBhIHBvaW50IG9uIGEgcGxhbmUsIG9yIHRoZSBoZWlnaHQgYW5kIHdpZHRoIG9mIGEgcGxhbmVcbiAqIG5vdCByZXF1aXJpbmcgYW55IG90aGVyIGZyYW1lIG9mIHJlZmVyZW5jZS5cbiAqXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQHBhcmFtIHtOdW1iZXJ9IFt4XSBUaGUgdmVjdG9yIGNvbXBvbmVudCAneCcuIERlZmF1bHRzIHRvIHRoZSBvcmlnaW4gYXQgMC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbeV0gVGhlIHZlY3RvciBjb21wb25lbnQgJ3knLiBEZWZhdWx0cyB0byB0aGUgb3JpZ2luIGF0IDAuXG4gKi9cbiQuUG9pbnQgPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdmVjdG9yIGNvbXBvbmVudCAneCcuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSB4XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uUG9pbnQjXG4gICAgICovXG4gICAgdGhpcy54ID0gdHlwZW9mICggeCApID09IFwibnVtYmVyXCIgPyB4IDogMDtcbiAgICAvKipcbiAgICAgKiBUaGUgdmVjdG9yIGNvbXBvbmVudCAneScuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSB5XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uUG9pbnQjXG4gICAgICovXG4gICAgdGhpcy55ID0gdHlwZW9mICggeSApID09IFwibnVtYmVyXCIgPyB5IDogMDtcbn07XG5cbi8qKiBAbGVuZHMgT3BlblNlYWRyYWdvbi5Qb2ludC5wcm90b3R5cGUgKi9cbiQuUG9pbnQucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBhIGR1cGxpY2F0ZSBvZiB0aGlzIFBvaW50XG4gICAgICovXG4gICAgY2xvbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW5vdGhlciBQb2ludCB0byB0aGlzIHBvaW50IGFuZCByZXR1cm4gYSBuZXcgUG9pbnQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb2ludCBUaGUgcG9pbnQgdG8gYWRkIHZlY3RvciBjb21wb25lbnRzLlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBBIG5ldyBwb2ludCByZXByZXNlbnRpbmcgdGhlIHN1bSBvZiB0aGVcbiAgICAgKiAgdmVjdG9yIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBwbHVzOiBmdW5jdGlvbiggcG9pbnQgKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludChcbiAgICAgICAgICAgIHRoaXMueCArIHBvaW50LngsXG4gICAgICAgICAgICB0aGlzLnkgKyBwb2ludC55XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnN0cmFjdCBhbm90aGVyIFBvaW50IHRvIHRoaXMgcG9pbnQgYW5kIHJldHVybiBhIG5ldyBQb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50IFRoZSBwb2ludCB0byBzdWJzdHJhY3QgdmVjdG9yIGNvbXBvbmVudHMuXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9IEEgbmV3IHBvaW50IHJlcHJlc2VudGluZyB0aGUgc3Vic3RyYWN0aW9uIG9mIHRoZVxuICAgICAqICB2ZWN0b3IgY29tcG9uZW50c1xuICAgICAqL1xuICAgIG1pbnVzOiBmdW5jdGlvbiggcG9pbnQgKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludChcbiAgICAgICAgICAgIHRoaXMueCAtIHBvaW50LngsXG4gICAgICAgICAgICB0aGlzLnkgLSBwb2ludC55XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoaXMgcG9pbnQgYnkgYSBmYWN0b3IgYW5kIHJldHVybiBhIG5ldyBQb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZmFjdG9yIFRoZSBmYWN0b3IgdG8gbXVsdGlwbHkgdmVjdG9yIGNvbXBvbmVudHMuXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9IEEgbmV3IHBvaW50IHJlcHJlc2VudGluZyB0aGUgbXVsdGlwbGljYXRpb25cbiAgICAgKiAgb2YgdGhlIHZlY3RvciBjb21wb25lbnRzIGJ5IHRoZSBmYWN0b3JcbiAgICAgKi9cbiAgICB0aW1lczogZnVuY3Rpb24oIGZhY3RvciApIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgdGhpcy54ICogZmFjdG9yLFxuICAgICAgICAgICAgdGhpcy55ICogZmFjdG9yXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZSB0aGlzIHBvaW50IGJ5IGEgZmFjdG9yIGFuZCByZXR1cm4gYSBuZXcgUG9pbnQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZhY3RvciBUaGUgZmFjdG9yIHRvIGRpdmlkZSB2ZWN0b3IgY29tcG9uZW50cy5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gQSBuZXcgcG9pbnQgcmVwcmVzZW50aW5nIHRoZSBkaXZpc2lvbiBvZiB0aGVcbiAgICAgKiAgdmVjdG9yIGNvbXBvbmVudHMgYnkgdGhlIGZhY3RvclxuICAgICAqL1xuICAgIGRpdmlkZTogZnVuY3Rpb24oIGZhY3RvciApIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgdGhpcy54IC8gZmFjdG9yLFxuICAgICAgICAgICAgdGhpcy55IC8gZmFjdG9yXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIG9wcG9zaXRlIG9mIHRoaXMgcG9pbnQgYW5kIHJldHVybiBhIG5ldyBQb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gQSBuZXcgcG9pbnQgcmVwcmVzZW50aW5nIHRoZSBvcHBvc2l0ZSBvZiB0aGVcbiAgICAgKiAgdmVjdG9yIGNvbXBvbmVudHNcbiAgICAgKi9cbiAgICBuZWdhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoIC10aGlzLngsIC10aGlzLnkgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIHBvaW50LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHRvIGNvbXB1dGUgdGhlIGRpc3RhbmNlIHdpdGguXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIDIgcG9pbnRzXG4gICAgICovXG4gICAgZGlzdGFuY2VUbzogZnVuY3Rpb24oIHBvaW50ICkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3coIHRoaXMueCAtIHBvaW50LngsIDIgKSArXG4gICAgICAgICAgICBNYXRoLnBvdyggdGhpcy55IC0gcG9pbnQueSwgMiApXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIHNxdWFyZWQgZGlzdGFuY2UgYmV0d2VlbiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIHBvaW50LlxuICAgICAqIFVzZWZ1bCBmb3Igb3B0aW1pemluZyB0aGluZ3MgbGlrZSBjb21wYXJpbmcgZGlzdGFuY2VzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHRvIGNvbXB1dGUgdGhlIHNxdWFyZWQgZGlzdGFuY2Ugd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSAyIHBvaW50c1xuICAgICAqL1xuICAgIHNxdWFyZWREaXN0YW5jZVRvOiBmdW5jdGlvbiggcG9pbnQgKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdyggdGhpcy54IC0gcG9pbnQueCwgMiApICtcbiAgICAgICAgICAgIE1hdGgucG93KCB0aGlzLnkgLSBwb2ludC55LCAyICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IGEgZnVuY3Rpb24gdG8gZWFjaCBjb29yZGluYXRlIG9mIHRoaXMgcG9pbnQgYW5kIHJldHVybiBhIG5ldyBwb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSB0byBlYWNoIGNvb3JkaW5hdGUuXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9IEEgbmV3IHBvaW50IHdpdGggdGhlIGNvb3JkaW5hdGVzIGNvbXB1dGVkXG4gICAgICogYnkgdGhlIHNwZWNpZmllZCBmdW5jdGlvblxuICAgICAqL1xuICAgIGFwcGx5OiBmdW5jdGlvbiggZnVuYyApIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KCBmdW5jKCB0aGlzLnggKSwgZnVuYyggdGhpcy55ICkgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBwb2ludCBpcyBlcXVhbCB0byBhbm90aGVyIG9uZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50IFRoZSBwb2ludCB0byBjb21wYXJlIHRoaXMgcG9pbnQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGV5IGFyZSBlcXVhbCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGVxdWFsczogZnVuY3Rpb24oIHBvaW50ICkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9pbnQgaW5zdGFuY2VvZiAkLlBvaW50XG4gICAgICAgICkgJiYgKFxuICAgICAgICAgICAgdGhpcy54ID09PSBwb2ludC54XG4gICAgICAgICkgJiYgKFxuICAgICAgICAgICAgdGhpcy55ID09PSBwb2ludC55XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHBvaW50IGFyb3VuZCB0aGUgc3BlY2lmaWVkIHBpdm90XG4gICAgICogRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ0NjU5MzEvcm90YXRlLXJlY3RhbmdsZS1hcm91bmQtYS1wb2ludFxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZXNzIHRvIHJvdGF0ZSBhcm91bmQgdGhlIHBpdm90LlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gW3Bpdm90PSgwLDApXSBQb2ludCBhcm91bmQgd2hpY2ggdG8gcm90YXRlLlxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBvcmlnaW4uXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9LiBBIG5ldyBwb2ludCByZXByZXNlbnRpbmcgdGhlIHBvaW50IHJvdGF0ZWQgYXJvdW5kIHRoZSBzcGVjaWZpZWQgcGl2b3RcbiAgICAgKi9cbiAgICByb3RhdGU6IGZ1bmN0aW9uIChkZWdyZWVzLCBwaXZvdCkge1xuICAgICAgICBwaXZvdCA9IHBpdm90IHx8IG5ldyAkLlBvaW50KDAsIDApO1xuICAgICAgICB2YXIgY29zO1xuICAgICAgICB2YXIgc2luO1xuICAgICAgICAvLyBBdm9pZCBmbG9hdCBjb21wdXRhdGlvbnMgd2hlbiBwb3NzaWJsZVxuICAgICAgICBpZiAoZGVncmVlcyAlIDkwID09PSAwKSB7XG4gICAgICAgICAgICB2YXIgZCA9ICQucG9zaXRpdmVNb2R1bG8oZGVncmVlcywgMzYwKTtcbiAgICAgICAgICAgIHN3aXRjaCAoZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY29zID0gMTtcbiAgICAgICAgICAgICAgICAgICAgc2luID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5MDpcbiAgICAgICAgICAgICAgICAgICAgY29zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2luID0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxODA6XG4gICAgICAgICAgICAgICAgICAgIGNvcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICBzaW4gPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI3MDpcbiAgICAgICAgICAgICAgICAgICAgY29zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2luID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gZGVncmVlcyAqIE1hdGguUEkgLyAxODAuMDtcbiAgICAgICAgICAgIGNvcyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeCA9IGNvcyAqICh0aGlzLnggLSBwaXZvdC54KSAtIHNpbiAqICh0aGlzLnkgLSBwaXZvdC55KSArIHBpdm90Lng7XG4gICAgICAgIHZhciB5ID0gc2luICogKHRoaXMueCAtIHBpdm90LngpICsgY29zICogKHRoaXMueSAtIHBpdm90LnkpICsgcGl2b3QueTtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KHgsIHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoaXMgcG9pbnQgdG8gYSBzdHJpbmcgaW4gdGhlIGZvcm1hdCAoeCx5KSB3aGVyZSB4IGFuZCB5IGFyZVxuICAgICAqIHJvdW5kZWQgdG8gdGhlIG5lYXJlc3QgaW50ZWdlci5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFwiKFwiICsgKE1hdGgucm91bmQodGhpcy54ICogMTAwKSAvIDEwMCkgKyBcIixcIiArIChNYXRoLnJvdW5kKHRoaXMueSAqIDEwMCkgLyAxMDApICsgXCIpXCI7XG4gICAgfVxufTtcblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBUaWxlU291cmNlXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG5cbi8qKlxuICogQGNsYXNzIFRpbGVTb3VyY2VcbiAqIEBjbGFzc2Rlc2MgVGhlIFRpbGVTb3VyY2UgY29udGFpbnMgdGhlIG1vc3QgYmFzaWMgaW1wbGVtZW50YXRpb24gcmVxdWlyZWQgdG8gY3JlYXRlIGFcbiAqIHNtb290aCB0cmFuc2l0aW9uIGJldHdlZW4gbGF5ZXJzIGluIGFuIGltYWdlIHB5cmFtaWQuIEl0IGhhcyBvbmx5IGEgc2luZ2xlIGtleVxuICogaW50ZXJmYWNlIHRoYXQgbXVzdCBiZSBpbXBsZW1lbnRlZCB0byBjb21wbGV0ZSBpdHMga2V5IGZ1bmN0aW9uYWxpdHk6XG4gKiAnZ2V0VGlsZVVybCcuICBJdCBhbHNvIGhhcyBzZXZlcmFsIG9wdGlvbmFsIGludGVyZmFjZXMgdGhhdCBjYW4gYmVcbiAqIGltcGxlbWVudGVkIGlmIGEgbmV3IFRpbGVTb3VyY2Ugd2lzaGVzIHRvIHN1cHBvcnQgY29uZmlndXJhdGlvbiB2aWEgYSBzaW1wbGVcbiAqIG9iamVjdCBvciBhcnJheSAoJ2NvbmZpZ3VyZScpIGFuZCBpZiB0aGUgdGlsZSBzb3VyY2Ugc3VwcG9ydHMgb3IgcmVxdWlyZXNcbiAqIGNvbmZpZ3VyYXRpb24gdmlhIHJldHJpZXZhbCBvZiBhIGRvY3VtZW50IG9uIHRoZSBuZXR3b3JrIGFsYSBBSkFYIG9yIEpTT05QLFxuICogKCdnZXRJbWFnZUluZm8nKS5cbiAqIDxici8+XG4gKiBCeSBkZWZhdWx0IHRoZSBpbWFnZSBweXJhbWlkIGlzIHNwbGl0IGludG8gTiBsYXllcnMgd2hlcmUgdGhlIGltYWdlJ3MgbG9uZ2VzdFxuICogc2lkZSBpbiBNIChpbiBwaXhlbHMpLCB3aGVyZSBOIGlzIHRoZSBzbWFsbGVzdCBpbnRlZ2VyIHdoaWNoIHNhdGlzZmllc1xuICogICAgICA8c3Ryb25nPjJeKE4rMSkgPj0gTTwvc3Ryb25nPi5cbiAqXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQGV4dGVuZHMgT3BlblNlYWRyYWdvbi5FdmVudFNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqICAgICAgWW91IGNhbiBlaXRoZXIgc3BlY2lmeSBhIFVSTCwgb3IgbGl0ZXJhbGx5IGRlZmluZSB0aGUgVGlsZVNvdXJjZSAoYnkgc3BlY2lmeWluZ1xuICogICAgICB3aWR0aCwgaGVpZ2h0LCB0aWxlU2l6ZSwgdGlsZU92ZXJsYXAsIG1pbkxldmVsLCBhbmQgbWF4TGV2ZWwpLiBGb3IgdGhlIGZvcm1lcixcbiAqICAgICAgdGhlIGV4dGVuZGluZyBjbGFzcyBpcyBleHBlY3RlZCB0byBpbXBsZW1lbnQgJ2dldEltYWdlSW5mbycgYW5kICdjb25maWd1cmUnLlxuICogICAgICBGb3IgdGhlIGxhdHRlciwgdGhlIGNvbnN0cnVjdGlvbiBpcyBhc3N1bWVkIHRvIG9jY3VyIHRocm91Z2hcbiAqICAgICAgdGhlIGV4dGVuZGluZyBjbGFzc2VzIGltcGxlbWVudGF0aW9uIG9mICdjb25maWd1cmUnLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnVybF1cbiAqICAgICAgVGhlIFVSTCBmb3IgdGhlIGRhdGEgbmVjZXNzYXJ5IGZvciB0aGlzIFRpbGVTb3VyY2UuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucmVmZXJlbmNlU3RyaXBUaHVtYm5haWxVcmxdXG4gKiAgICAgIFRoZSBVUkwgZm9yIGEgdGh1bWJuYWlsIGltYWdlIHRvIGJlIHVzZWQgYnkgdGhlIHJlZmVyZW5jZSBzdHJpcFxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuc3VjY2Vzc11cbiAqICAgICAgQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgdXBvbiBzdWNjZXNzZnVsIGNyZWF0aW9uLlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hamF4V2l0aENyZWRlbnRpYWxzXVxuICogICAgICBJZiB0aGlzIFRpbGVTb3VyY2UgbmVlZHMgdG8gbWFrZSBhbiBBSkFYIGNhbGwsIHRoaXMgc3BlY2lmaWVzIHdoZXRoZXIgdG8gc2V0XG4gKiAgICAgIHRoZSBYSFIncyB3aXRoQ3JlZGVudGlhbHMgKGZvciBhY2Nlc3Npbmcgc2VjdXJlIGRhdGEpLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmFqYXhIZWFkZXJzXVxuICogICAgICBBIHNldCBvZiBoZWFkZXJzIHRvIGluY2x1ZGUgaW4gQUpBWCByZXF1ZXN0cy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF1cbiAqICAgICAgV2lkdGggb2YgdGhlIHNvdXJjZSBpbWFnZSBhdCBtYXggcmVzb2x1dGlvbiBpbiBwaXhlbHMuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XVxuICogICAgICBIZWlnaHQgb2YgdGhlIHNvdXJjZSBpbWFnZSBhdCBtYXggcmVzb2x1dGlvbiBpbiBwaXhlbHMuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGlsZVNpemVdXG4gKiAgICAgIFRoZSBzaXplIG9mIHRoZSB0aWxlcyB0byBhc3N1bWVkIHRvIG1ha2UgdXAgZWFjaCBweXJhbWlkIGxheWVyIGluIHBpeGVscy5cbiAqICAgICAgVGlsZSBzaXplIGRldGVybWluZXMgdGhlIHBvaW50IGF0IHdoaWNoIHRoZSBpbWFnZSBweXJhbWlkIG11c3QgYmVcbiAqICAgICAgZGl2aWRlZCBpbnRvIGEgbWF0cml4IG9mIHNtYWxsZXIgaW1hZ2VzLlxuICogICAgICBVc2Ugb3B0aW9ucy50aWxlV2lkdGggYW5kIG9wdGlvbnMudGlsZUhlaWdodCB0byBzdXBwb3J0IG5vbi1zcXVhcmUgdGlsZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGlsZVdpZHRoXVxuICogICAgICBUaGUgd2lkdGggb2YgdGhlIHRpbGVzIHRvIGFzc3VtZWQgdG8gbWFrZSB1cCBlYWNoIHB5cmFtaWQgbGF5ZXIgaW4gcGl4ZWxzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbGVIZWlnaHRdXG4gKiAgICAgIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGVzIHRvIGFzc3VtZWQgdG8gbWFrZSB1cCBlYWNoIHB5cmFtaWQgbGF5ZXIgaW4gcGl4ZWxzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbGVPdmVybGFwXVxuICogICAgICBUaGUgbnVtYmVyIG9mIHBpeGVscyBlYWNoIHRpbGUgaXMgZXhwZWN0ZWQgdG8gb3ZlcmxhcCB0b3VjaGluZyB0aWxlcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5MZXZlbF1cbiAqICAgICAgVGhlIG1pbmltdW0gbGV2ZWwgdG8gYXR0ZW1wdCB0byBsb2FkLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1heExldmVsXVxuICogICAgICBUaGUgbWF4aW11bSBsZXZlbCB0byBhdHRlbXB0IHRvIGxvYWQuXG4gKi9cbiQuVGlsZVNvdXJjZSA9IGZ1bmN0aW9uKCB3aWR0aCwgaGVpZ2h0LCB0aWxlU2l6ZSwgdGlsZU92ZXJsYXAsIG1pbkxldmVsLCBtYXhMZXZlbCApIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGk7XG5cbiAgICBpZiggJC5pc1BsYWluT2JqZWN0KCB3aWR0aCApICl7XG4gICAgICAgIG9wdGlvbnMgPSB3aWR0aDtcbiAgICB9ZWxzZXtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBhcmdzWzBdLFxuICAgICAgICAgICAgaGVpZ2h0OiBhcmdzWzFdLFxuICAgICAgICAgICAgdGlsZVNpemU6IGFyZ3NbMl0sXG4gICAgICAgICAgICB0aWxlT3ZlcmxhcDogYXJnc1szXSxcbiAgICAgICAgICAgIG1pbkxldmVsOiBhcmdzWzRdLFxuICAgICAgICAgICAgbWF4TGV2ZWw6IGFyZ3NbNV1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvL1RpbGUgc291cmNlcyBzdXBwbHkgc29tZSBldmVudHMsIG5hbWVseSAncmVhZHknIHdoZW4gdGhleSBtdXN0IGJlIGNvbmZpZ3VyZWRcbiAgICAvL2J5IGFzeW5jaHJvbm91c2x5IGZldGNoaW5nIHRoZWlyIGNvbmZpZ3VyYXRpb24gZGF0YS5cbiAgICAkLkV2ZW50U291cmNlLmNhbGwoIHRoaXMgKTtcblxuICAgIC8vd2UgYWxsb3cgb3B0aW9ucyB0byBvdmVycmlkZSBhbnl0aGluZyB3ZSBkb250IHRyZWF0IGFzXG4gICAgLy9yZXF1aXJlZCB2aWEgaWRpb21hdGljIG9wdGlvbnMgb3Igd2hpY2ggaXMgZnVuY3Rpb25hbGx5XG4gICAgLy9zZXQgZGVwZW5kaW5nIG9uIHRoZSBzdGF0ZSBvZiB0aGUgcmVhZGluZXNzIG9mIHRoaXMgdGlsZVxuICAgIC8vc291cmNlXG4gICAgJC5leHRlbmQoIHRydWUsIHRoaXMsIG9wdGlvbnMgKTtcblxuICAgIGlmICghdGhpcy5zdWNjZXNzKSB7XG4gICAgICAgIC8vQW55IGZ1bmN0aW9ucyB0aGF0IGFyZSBwYXNzZWQgYXMgYXJndW1lbnRzIGFyZSBib3VuZCB0byB0aGUgcmVhZHkgY2FsbGJhY2tcbiAgICAgICAgZm9yICggaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggYXJndW1lbnRzWyBpIF0gKSApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBhcmd1bWVudHNbIGkgXTtcbiAgICAgICAgICAgICAgICAvL29ubHkgb25lIGNhbGxiYWNrIHBlciBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3VjY2Vzcykge1xuICAgICAgICB0aGlzLmFkZEhhbmRsZXIoICdyZWFkeScsIGZ1bmN0aW9uICggZXZlbnQgKSB7XG4gICAgICAgICAgICBfdGhpcy5zdWNjZXNzKCBldmVudCApO1xuICAgICAgICB9ICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmF0aW8gb2Ygd2lkdGggdG8gaGVpZ2h0XG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBhc3BlY3RSYXRpb1xuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2UjXG4gICAgICovXG4gICAgLyoqXG4gICAgICogVmVjdG9yIHN0b3JpbmcgeCBhbmQgeSBkaW1lbnNpb25zICggd2lkdGggYW5kIGhlaWdodCByZXNwZWN0aXZlbHkgKS5cbiAgICAgKiBAbWVtYmVyIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBkaW1lbnNpb25zXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZVNvdXJjZSNcbiAgICAgKi9cbiAgICAvKipcbiAgICAgKiBUaGUgb3ZlcmxhcCBpbiBwaXhlbHMgZWFjaCB0aWxlIHNoYXJlcyB3aXRoIGl0cyBhZGphY2VudCBuZWlnaGJvcnMuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSB0aWxlT3ZlcmxhcFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2UjXG4gICAgICovXG4gICAgLyoqXG4gICAgICogVGhlIG1pbmltdW0gcHlyYW1pZCBsZXZlbCB0aGlzIHRpbGUgc291cmNlIHN1cHBvcnRzIG9yIHNob3VsZCBhdHRlbXB0IHRvIGxvYWQuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBtaW5MZXZlbFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2UjXG4gICAgICovXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gcHlyYW1pZCBsZXZlbCB0aGlzIHRpbGUgc291cmNlIHN1cHBvcnRzIG9yIHNob3VsZCBhdHRlbXB0IHRvIGxvYWQuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBtYXhMZXZlbFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2UjXG4gICAgICovXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufSByZWFkeVxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2UjXG4gICAgICovXG5cbiAgICBpZiggJ3N0cmluZycgPT0gJC50eXBlKCBhcmd1bWVudHNbIDAgXSApICl7XG4gICAgICAgIHRoaXMudXJsID0gYXJndW1lbnRzWzBdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVybCkge1xuICAgICAgICAvL2luIGNhc2UgdGhlIGdldEltYWdlSW5mbyBtZXRob2QgaXMgb3ZlcnJpZGVuIGFuZC9vciBpbXBsaWVzIGFuXG4gICAgICAgIC8vYXN5bmMgbWVjaGFuaXNtIHNldCBzb21lIHNhZmUgZGVmYXVsdHMgZmlyc3RcbiAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IDE7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyAgPSBuZXcgJC5Qb2ludCggMTAsIDEwICk7XG4gICAgICAgIHRoaXMuX3RpbGVXaWR0aCAgPSAwO1xuICAgICAgICB0aGlzLl90aWxlSGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy50aWxlT3ZlcmxhcCA9IDA7XG4gICAgICAgIHRoaXMubWluTGV2ZWwgICAgPSAwO1xuICAgICAgICB0aGlzLm1heExldmVsICAgID0gMDtcbiAgICAgICAgdGhpcy5yZWFkeSAgICAgICA9IGZhbHNlO1xuICAgICAgICAvL2NvbmZpZ3VyYXRpb24gdmlhIHVybCBpbXBsaWVzIHRoZSBleHRlbmRpbmcgY2xhc3NcbiAgICAgICAgLy9pbXBsZW1lbnRzIGFuZCAnY29uZmlndXJlJ1xuICAgICAgICB0aGlzLmdldEltYWdlSW5mbyggdGhpcy51cmwgKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy9leHBsaWNpdCBjb25maWd1cmF0aW9uIHZpYSBwb3NpdGlvbmFsIGFyZ3MgaW4gY29uc3RydWN0b3JcbiAgICAgICAgLy9vciB0aGUgbW9yZSBpZGlvbWF0aWMgJ29wdGlvbnMnIG9iamVjdFxuICAgICAgICB0aGlzLnJlYWR5ICAgICAgID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hc3BlY3RSYXRpbyA9IChvcHRpb25zLndpZHRoICYmIG9wdGlvbnMuaGVpZ2h0KSA/XG4gICAgICAgICAgICAob3B0aW9ucy53aWR0aCAvIG9wdGlvbnMuaGVpZ2h0KSA6IDE7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyAgPSBuZXcgJC5Qb2ludCggb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQgKTtcblxuICAgICAgICBpZiAoIHRoaXMudGlsZVNpemUgKXtcbiAgICAgICAgICAgIHRoaXMuX3RpbGVXaWR0aCA9IHRoaXMuX3RpbGVIZWlnaHQgPSB0aGlzLnRpbGVTaXplO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMudGlsZVNpemU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiggdGhpcy50aWxlV2lkdGggKXtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHBhc3NlZCB0aWxlV2lkdGggaW4gb3B0aW9ucywgYnV0IHdlIHdhbnQgdG8gcmVuYW1lIGl0XG4gICAgICAgICAgICAgICAgLy8gd2l0aCBhIGxlYWRpbmcgdW5kZXJzY29yZSB0byBtYWtlIGNsZWFyIHRoYXQgaXQgaXMgbm90IHNhZmUgdG8gZGlyZWN0bHkgbW9kaWZ5IGl0XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZVdpZHRoID0gdGhpcy50aWxlV2lkdGg7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMudGlsZVdpZHRoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlV2lkdGggPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggdGhpcy50aWxlSGVpZ2h0ICl7XG4gICAgICAgICAgICAgICAgLy8gU2VlIG5vdGUgYWJvdmUgYWJvdXQgcmVuYW1pbmcgdGhpcy50aWxlV2lkdGhcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlSGVpZ2h0ID0gdGhpcy50aWxlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVIZWlnaHQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlT3ZlcmxhcCA9IG9wdGlvbnMudGlsZU92ZXJsYXAgPyBvcHRpb25zLnRpbGVPdmVybGFwIDogMDtcbiAgICAgICAgdGhpcy5taW5MZXZlbCAgICA9IG9wdGlvbnMubWluTGV2ZWwgPyBvcHRpb25zLm1pbkxldmVsIDogMDtcbiAgICAgICAgdGhpcy5tYXhMZXZlbCAgICA9ICggdW5kZWZpbmVkICE9PSBvcHRpb25zLm1heExldmVsICYmIG51bGwgIT09IG9wdGlvbnMubWF4TGV2ZWwgKSA/XG4gICAgICAgICAgICBvcHRpb25zLm1heExldmVsIDogKFxuICAgICAgICAgICAgICAgICggb3B0aW9ucy53aWR0aCAmJiBvcHRpb25zLmhlaWdodCApID8gTWF0aC5jZWlsKFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmxvZyggTWF0aC5tYXgoIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0ICkgKSAvXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubG9nKCAyIClcbiAgICAgICAgICAgICAgICApIDogMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgaWYoIHRoaXMuc3VjY2VzcyAmJiAkLmlzRnVuY3Rpb24oIHRoaXMuc3VjY2VzcyApICl7XG4gICAgICAgICAgICB0aGlzLnN1Y2Nlc3MoIHRoaXMgKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59O1xuXG4vKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uVGlsZVNvdXJjZS5wcm90b3R5cGUgKi9cbiQuVGlsZVNvdXJjZS5wcm90b3R5cGUgPSB7XG5cbiAgICBnZXRUaWxlU2l6ZTogZnVuY3Rpb24oIGxldmVsICkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIltUaWxlU291cmNlLmdldFRpbGVTaXplXSBpcyBkZXByZWNhdGVkLlwiICtcbiAgICAgICAgICAgIFwiVXNlIFRpbGVTb3VyY2UuZ2V0VGlsZVdpZHRoKCkgYW5kIFRpbGVTb3VyY2UuZ2V0VGlsZUhlaWdodCgpIGluc3RlYWRcIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZVdpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbGVXaWR0aCBmb3IgYSBnaXZlbiBsZXZlbC5cbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIGlmIHRpbGVXaWR0aCBjYW4gYmUgZGlmZmVyZW50IGF0IGRpZmZlcmVudCBsZXZlbHNcbiAgICAgKiAgIHN1Y2ggYXMgaW4gSUlJRlRpbGVTb3VyY2UuICBDb2RlIHNob3VsZCB1c2UgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZWFkaW5nXG4gICAgICogICBmcm9tIC5fdGlsZVdpZHRoIGRpcmVjdGx5LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICAgICAqL1xuICAgIGdldFRpbGVXaWR0aDogZnVuY3Rpb24oIGxldmVsICkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpbGVXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZVNpemUobGV2ZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlV2lkdGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgdGlsZUhlaWdodCBmb3IgYSBnaXZlbiBsZXZlbC5cbiAgICAgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIGlmIHRpbGVIZWlnaHQgY2FuIGJlIGRpZmZlcmVudCBhdCBkaWZmZXJlbnQgbGV2ZWxzXG4gICAgICogICBzdWNoIGFzIGluIElJSUZUaWxlU291cmNlLiAgQ29kZSBzaG91bGQgdXNlIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmVhZGluZ1xuICAgICAqICAgZnJvbSAuX3RpbGVIZWlnaHQgZGlyZWN0bHkuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICovXG4gICAgZ2V0VGlsZUhlaWdodDogZnVuY3Rpb24oIGxldmVsICkge1xuICAgICAgICBpZiAoIXRoaXMuX3RpbGVIZWlnaHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRpbGVTaXplKGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZUhlaWdodDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICovXG4gICAgZ2V0TGV2ZWxTY2FsZTogZnVuY3Rpb24oIGxldmVsICkge1xuXG4gICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vb3BlbnNlYWRyYWdvbi9vcGVuc2VhZHJhZ29uL2lzc3Vlcy8yMlxuICAgICAgICAvLyB3ZSB1c2UgdGhlIHRpbGVzb3VyY2VzIGltcGxlbWVudGF0aW9uIG9mIGdldExldmVsU2NhbGUgdG8gZ2VuZXJhdGVcbiAgICAgICAgLy8gYSBtZW1vaXplZCByZS1pbXBsZW1lbnRhdGlvblxuICAgICAgICB2YXIgbGV2ZWxTY2FsZUNhY2hlID0ge30sXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IoIGkgPSAwOyBpIDw9IHRoaXMubWF4TGV2ZWw7IGkrKyApe1xuICAgICAgICAgICAgbGV2ZWxTY2FsZUNhY2hlWyBpIF0gPSAxIC8gTWF0aC5wb3coMiwgdGhpcy5tYXhMZXZlbCAtIGkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0TGV2ZWxTY2FsZSA9IGZ1bmN0aW9uKCBfbGV2ZWwgKXtcbiAgICAgICAgICAgIHJldHVybiBsZXZlbFNjYWxlQ2FjaGVbIF9sZXZlbCBdO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRMZXZlbFNjYWxlKCBsZXZlbCApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXROdW1UaWxlczogZnVuY3Rpb24oIGxldmVsICkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldExldmVsU2NhbGUoIGxldmVsICksXG4gICAgICAgICAgICB4ID0gTWF0aC5jZWlsKCBzY2FsZSAqIHRoaXMuZGltZW5zaW9ucy54IC8gdGhpcy5nZXRUaWxlV2lkdGgobGV2ZWwpICksXG4gICAgICAgICAgICB5ID0gTWF0aC5jZWlsKCBzY2FsZSAqIHRoaXMuZGltZW5zaW9ucy55IC8gdGhpcy5nZXRUaWxlSGVpZ2h0KGxldmVsKSApO1xuXG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCggeCwgeSApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXRQaXhlbFJhdGlvOiBmdW5jdGlvbiggbGV2ZWwgKSB7XG4gICAgICAgIHZhciBpbWFnZVNpemVTY2FsZWQgPSB0aGlzLmRpbWVuc2lvbnMudGltZXMoIHRoaXMuZ2V0TGV2ZWxTY2FsZSggbGV2ZWwgKSApLFxuICAgICAgICAgICAgcnggPSAxLjAgLyBpbWFnZVNpemVTY2FsZWQueCxcbiAgICAgICAgICAgIHJ5ID0gMS4wIC8gaW1hZ2VTaXplU2NhbGVkLnk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KHJ4LCByeSk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGhpZ2hlc3QgbGV2ZWwgaW4gdGhpcyB0aWxlIHNvdXJjZSB0aGF0IGNhbiBiZSBjb250YWluZWQgaW4gYSBzaW5nbGUgdGlsZS5cbiAgICAgKi9cbiAgICBnZXRDbG9zZXN0TGV2ZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHRpbGVzO1xuXG4gICAgICAgIGZvciAoaSA9IHRoaXMubWluTGV2ZWwgKyAxOyBpIDw9IHRoaXMubWF4TGV2ZWw7IGkrKyl7XG4gICAgICAgICAgICB0aWxlcyA9IHRoaXMuZ2V0TnVtVGlsZXMoaSk7XG4gICAgICAgICAgICBpZiAodGlsZXMueCA+IDEgfHwgdGlsZXMueSA+IDEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpIC0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb2ludFxuICAgICAqL1xuICAgIGdldFRpbGVBdFBvaW50OiBmdW5jdGlvbihsZXZlbCwgcG9pbnQpIHtcbiAgICAgICAgdmFyIHZhbGlkUG9pbnQgPSBwb2ludC54ID49IDAgJiYgcG9pbnQueCA8PSAxICYmXG4gICAgICAgICAgICBwb2ludC55ID49IDAgJiYgcG9pbnQueSA8PSAxIC8gdGhpcy5hc3BlY3RSYXRpbztcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydCh2YWxpZFBvaW50LCBcIltUaWxlU291cmNlLmdldFRpbGVBdFBvaW50XSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgdmFsaWQgcG9pbnQuXCIpO1xuXG4gICAgICAgIHZhciB3aWR0aFNjYWxlZCA9IHRoaXMuZGltZW5zaW9ucy54ICogdGhpcy5nZXRMZXZlbFNjYWxlKGxldmVsKTtcbiAgICAgICAgdmFyIHBpeGVsWCA9IHBvaW50LnggKiB3aWR0aFNjYWxlZDtcbiAgICAgICAgdmFyIHBpeGVsWSA9IHBvaW50LnkgKiB3aWR0aFNjYWxlZDtcblxuICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IocGl4ZWxYIC8gdGhpcy5nZXRUaWxlV2lkdGgobGV2ZWwpKTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKHBpeGVsWSAvIHRoaXMuZ2V0VGlsZUhlaWdodChsZXZlbCkpO1xuXG4gICAgICAgIC8vIFdoZW4gcG9pbnQueCA9PSAxIG9yIHBvaW50LnkgPT0gMSAvIHRoaXMuYXNwZWN0UmF0aW8gd2Ugd2FudCB0b1xuICAgICAgICAvLyByZXR1cm4gdGhlIGxhc3QgdGlsZSBvZiB0aGUgcm93L2NvbHVtblxuICAgICAgICBpZiAocG9pbnQueCA+PSAxKSB7XG4gICAgICAgICAgICB4ID0gdGhpcy5nZXROdW1UaWxlcyhsZXZlbCkueCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIEVQU0lMT04gPSAxZS0xNjtcbiAgICAgICAgaWYgKHBvaW50LnkgPj0gMSAvIHRoaXMuYXNwZWN0UmF0aW8gLSBFUFNJTE9OKSB7XG4gICAgICAgICAgICB5ID0gdGhpcy5nZXROdW1UaWxlcyhsZXZlbCkueSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoeCwgeSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKi9cbiAgICBnZXRUaWxlQm91bmRzOiBmdW5jdGlvbiggbGV2ZWwsIHgsIHkgKSB7XG4gICAgICAgIHZhciBkaW1lbnNpb25zU2NhbGVkID0gdGhpcy5kaW1lbnNpb25zLnRpbWVzKCB0aGlzLmdldExldmVsU2NhbGUoIGxldmVsICkgKSxcbiAgICAgICAgICAgIHRpbGVXaWR0aCA9IHRoaXMuZ2V0VGlsZVdpZHRoKGxldmVsKSxcbiAgICAgICAgICAgIHRpbGVIZWlnaHQgPSB0aGlzLmdldFRpbGVIZWlnaHQobGV2ZWwpLFxuICAgICAgICAgICAgcHggPSAoIHggPT09IDAgKSA/IDAgOiB0aWxlV2lkdGggKiB4IC0gdGhpcy50aWxlT3ZlcmxhcCxcbiAgICAgICAgICAgIHB5ID0gKCB5ID09PSAwICkgPyAwIDogdGlsZUhlaWdodCAqIHkgLSB0aGlzLnRpbGVPdmVybGFwLFxuICAgICAgICAgICAgc3ggPSB0aWxlV2lkdGggKyAoIHggPT09IDAgPyAxIDogMiApICogdGhpcy50aWxlT3ZlcmxhcCxcbiAgICAgICAgICAgIHN5ID0gdGlsZUhlaWdodCArICggeSA9PT0gMCA/IDEgOiAyICkgKiB0aGlzLnRpbGVPdmVybGFwLFxuICAgICAgICAgICAgc2NhbGUgPSAxLjAgLyBkaW1lbnNpb25zU2NhbGVkLng7XG5cbiAgICAgICAgc3ggPSBNYXRoLm1pbiggc3gsIGRpbWVuc2lvbnNTY2FsZWQueCAtIHB4ICk7XG4gICAgICAgIHN5ID0gTWF0aC5taW4oIHN5LCBkaW1lbnNpb25zU2NhbGVkLnkgLSBweSApO1xuXG4gICAgICAgIHJldHVybiBuZXcgJC5SZWN0KCBweCAqIHNjYWxlLCBweSAqIHNjYWxlLCBzeCAqIHNjYWxlLCBzeSAqIHNjYWxlICk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmVzcG9uc2libGUgZm9yIHJldHJpZXZpbmcsIGFuZCBjYWNoaW5nIHRoZVxuICAgICAqIGltYWdlIG1ldGFkYXRhIHBlcnRpbmVudCB0byB0aGlzIFRpbGVTb3VyY2VzIGltcGxlbWVudGF0aW9uLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICAgKi9cbiAgICBnZXRJbWFnZUluZm86IGZ1bmN0aW9uKCB1cmwgKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXMsXG4gICAgICAgICAgICBjYWxsYmFja05hbWUsXG4gICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgIHJlYWR5U291cmNlLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHVybFBhcnRzLFxuICAgICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgICBsYXN0RG90O1xuXG5cbiAgICAgICAgaWYoIHVybCApIHtcbiAgICAgICAgICAgIHVybFBhcnRzID0gdXJsLnNwbGl0KCAnLycgKTtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gdXJsUGFydHNbIHVybFBhcnRzLmxlbmd0aCAtIDEgXTtcbiAgICAgICAgICAgIGxhc3REb3QgID0gZmlsZW5hbWUubGFzdEluZGV4T2YoICcuJyApO1xuICAgICAgICAgICAgaWYgKCBsYXN0RG90ID4gLTEgKSB7XG4gICAgICAgICAgICAgICAgdXJsUGFydHNbIHVybFBhcnRzLmxlbmd0aCAtIDEgXSA9IGZpbGVuYW1lLnNsaWNlKCAwLCBsYXN0RG90ICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayA9IGZ1bmN0aW9uKCBkYXRhICl7XG4gICAgICAgICAgICBpZiggdHlwZW9mKGRhdGEpID09PSBcInN0cmluZ1wiICkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSAkLnBhcnNlWG1sKCBkYXRhICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgJFRpbGVTb3VyY2UgPSAkLlRpbGVTb3VyY2UuZGV0ZXJtaW5lVHlwZSggX3RoaXMsIGRhdGEsIHVybCApO1xuICAgICAgICAgICAgaWYgKCAhJFRpbGVTb3VyY2UgKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGxvYWRpbmcgYSBUaWxlU291cmNlLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IG9wZW4tZmFpbGVkXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZVNvdXJjZVxuICAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2V9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFRpbGVTb3VyY2Ugd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gbWVzc2FnZVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzb3VyY2VcbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggJ29wZW4tZmFpbGVkJywgeyBtZXNzYWdlOiBcIlVuYWJsZSB0byBsb2FkIFRpbGVTb3VyY2VcIiwgc291cmNlOiB1cmwgfSApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucyA9ICRUaWxlU291cmNlLnByb3RvdHlwZS5jb25maWd1cmUuYXBwbHkoIF90aGlzLCBbIGRhdGEsIHVybCBdKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFqYXhXaXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWpheFdpdGhDcmVkZW50aWFscyA9IF90aGlzLmFqYXhXaXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlYWR5U291cmNlID0gbmV3ICRUaWxlU291cmNlKCBvcHRpb25zICk7XG4gICAgICAgICAgICBfdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIGEgVGlsZVNvdXJjZSBpcyBvcGVuZWQgYW5kIGluaXRpYWxpemVkLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCByZWFkeVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZVNvdXJjZVxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlU291cmNlfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBUaWxlU291cmNlIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gdGlsZVNvdXJjZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5yYWlzZUV2ZW50KCAncmVhZHknLCB7IHRpbGVTb3VyY2U6IHJlYWR5U291cmNlIH0gKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiggdXJsLm1hdGNoKC9cXC5qcyQvKSApe1xuICAgICAgICAgICAgLy9UT0RPOiBJdHMgbm90IHZlcnkgZmxleGlibGUgdG8gcmVxdWlyZSB0aWxlIHNvdXJjZXMgdG8gZW5kIGpzb25wXG4gICAgICAgICAgICAvLyAgICAgIHJlcXVlc3QgZm9yIGluZm8gIHdpdGggYSB1cmwgdGhhdCBlbmRzIHdpdGggJy5qcycgYnV0IGZvclxuICAgICAgICAgICAgLy8gICAgICBub3cgaXQncyB0aGUgb25seSB3YXkgSSBzZWUgdG8gZGlzdGluZ3Vpc2ggdW5pZm9ybWx5LlxuICAgICAgICAgICAgY2FsbGJhY2tOYW1lID0gdXJsLnNwbGl0KCcvJykucG9wKCkucmVwbGFjZSgnLmpzJywgJycpO1xuICAgICAgICAgICAgJC5qc29ucCh7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrTmFtZTogY2FsbGJhY2tOYW1lLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZXF1ZXN0IGluZm8gdmlhIHhociBhc3luY2hyb25vdXNseS5cbiAgICAgICAgICAgICQubWFrZUFqYXhSZXF1ZXN0KCB7XG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmFqYXhXaXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5hamF4SGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiggeGhyICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHByb2Nlc3NSZXNwb25zZSggeGhyICk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCBkYXRhICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCB4aHIsIGV4YyApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZztcblxuICAgICAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICAgICAgICAgSUUgPCAxMCB3aWxsIGJsb2NrIFhIUiByZXF1ZXN0cyB0byBkaWZmZXJlbnQgb3JpZ2lucy4gQW55IHByb3BlcnR5IGFjY2VzcyBvbiB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0IHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uIHdoaWNoIHdlJ2xsIGF0dGVtcHQgdG8gaGFuZGxlIGJ5IGZvcm1hdHRpbmcgdGhlIG9yaWdpbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGNlcHRpb24gcmF0aGVyIHRoYW4gdGhlIHNlY29uZCBvbmUgcmFpc2VkIHdoZW4gd2UgdHJ5IHRvIGFjY2VzcyB4aHIuc3RhdHVzXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gXCJIVFRQIFwiICsgeGhyLnN0YXR1cyArIFwiIGF0dGVtcHRpbmcgdG8gbG9hZCBUaWxlU291cmNlXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZEV4YztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdHlwZW9mKCBleGMgKSA9PSBcInVuZGVmaW5lZFwiIHx8ICFleGMudG9TdHJpbmcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkRXhjID0gXCJVbmtub3duIGVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZEV4YyA9IGV4Yy50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBmb3JtYXR0ZWRFeGMgKyBcIiBhdHRlbXB0aW5nIHRvIGxvYWQgVGlsZVNvdXJjZVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLyoqKlxuICAgICAgICAgICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgbG9hZGluZyBhIFRpbGVTb3VyY2UuXG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIEBldmVudCBvcGVuLWZhaWxlZFxuICAgICAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlU291cmNlXG4gICAgICAgICAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlU291cmNlfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBUaWxlU291cmNlIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggJ29wZW4tZmFpbGVkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiB1cmxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNwb25zaWJsZSBkZXRlcm1pbmluZyBpZiBhIHRoZSBwYXJ0aWN1bGFyIFRpbGVTb3VyY2Ugc3VwcG9ydHMgdGhlXG4gICAgICogZGF0YSBmb3JtYXQgKCBhbmQgYWxsb3dlZCB0byBhcHBseSBsb2dpYyBhZ2FpbnN0IHRoZSB1cmwgdGhlIGRhdGEgd2FzXG4gICAgICogbG9hZGVkIGZyb20sIGlmIGFueSApLiBPdmVycmlkaW5nIGltcGxlbWVudGF0aW9ucyBhcmUgZXhwZWN0ZWQgdG8gZG9cbiAgICAgKiBzb21ldGhpbmcgc21hcnQgd2l0aCBkYXRhIGFuZCAvIG9yIHVybCB0byBkZXRlcm1pbmUgc3VwcG9ydC4gIEFsc29cbiAgICAgKiB1bmRlcnN0YW5kIHRoYXQgaXRlcmF0aW9uIG9yZGVyIG9mIFRpbGVTb3VyY2VzIGlzIG5vdCBndWFydW50ZWVkIHNvXG4gICAgICogcGxlYXNlIG1ha2Ugc3VyZSB5b3VyIGRhdGEgb3IgdXJsIGlzIGV4cHJlc3NpdmUgZW5vdWdoIHRvIGVuc3VyZSBhIHNpbXBsZVxuICAgICAqIGFuZCBzdWZmaWNpZW50IG1lY2hhbmlzaW0gZm9yIGNsZWFyIGRldGVybWluYXRpb24uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fEFycmF5fERvY3VtZW50fSBkYXRhXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHRoZSB1cmwgdGhlIGRhdGEgd2FzIGxvYWRlZFxuICAgICAqICAgICAgZnJvbSBpZiBhbnkuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzdXBwb3J0czogZnVuY3Rpb24oIGRhdGEsIHVybCApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgcGFyc2luZyBhbmQgY29uZmlndXJpbmcgdGhlXG4gICAgICogaW1hZ2UgbWV0YWRhdGEgcGVydGluZW50IHRvIHRoaXMgVGlsZVNvdXJjZXMgaW1wbGVtZW50YXRpb24uXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGJ5IHRoaXMgY2xhc3Mgb3RoZXIgdGhhbiB0byB0aHJvdyBhbiBFcnJvclxuICAgICAqIGFubm91bmNpbmcgeW91IGhhdmUgdG8gaW1wbGVtZW50IGl0LiAgQmVjYXVzZSBvZiB0aGUgdmFyaWV0eSBvZiB0aWxlXG4gICAgICogc2VydmVyIHRlY2hub2xvZ2llcywgYW5kIHZhcmlvdXMgc3BlY2lmaWNhdGlvbnMgZm9yIGJ1aWxkaW5nIGltYWdlXG4gICAgICogcHlyYW1pZHMsIHRoaXMgbWV0aG9kIGlzIGhlcmUgdG8gYWxsb3cgZWFzeSBpbnRlZ3JhdGlvbi5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R8QXJyYXl8RG9jdW1lbnR9IGRhdGFcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdGhlIHVybCB0aGUgZGF0YSB3YXMgbG9hZGVkXG4gICAgICogICAgICBmcm9tIGlmIGFueS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9wdGlvbnMgLSBBIGRpY3Rpb25hcnkgb2Yga2V5d29yZCBhcmd1bWVudHMgc3VmZmljaWVudFxuICAgICAqICAgICAgdG8gY29uZmlndXJlIHRoaXMgdGlsZSBzb3VyY2VzIGNvbnN0cnVjdG9yLlxuICAgICAqIEB0aHJvd3Mge0Vycm9yfVxuICAgICAqL1xuICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24oIGRhdGEsIHVybCApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCBcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzcG9uc2libGUgZm9yIHJldHJpZXZpbmcgdGhlIHVybCB3aGljaCB3aWxsIHJldHVybiBhbiBpbWFnZSBmb3IgdGhlXG4gICAgICogcmVnaW9uIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4geCwgeSwgYW5kIGxldmVsIGNvbXBvbmVudHMuXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGJ5IHRoaXMgY2xhc3Mgb3RoZXIgdGhhbiB0byB0aHJvdyBhbiBFcnJvclxuICAgICAqIGFubm91bmNpbmcgeW91IGhhdmUgdG8gaW1wbGVtZW50IGl0LiAgQmVjYXVzZSBvZiB0aGUgdmFyaWV0eSBvZiB0aWxlXG4gICAgICogc2VydmVyIHRlY2hub2xvZ2llcywgYW5kIHZhcmlvdXMgc3BlY2lmaWNhdGlvbnMgZm9yIGJ1aWxkaW5nIGltYWdlXG4gICAgICogcHlyYW1pZHMsIHRoaXMgbWV0aG9kIGlzIGhlcmUgdG8gYWxsb3cgZWFzeSBpbnRlZ3JhdGlvbi5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICovXG4gICAgZ2V0VGlsZVVybDogZnVuY3Rpb24oIGxldmVsLCB4LCB5ICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIiApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXNwb25zaWJsZSBmb3IgcmV0cmlldmluZyB0aGUgaGVhZGVycyB3aGljaCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBpbWFnZSByZXF1ZXN0IGZvciB0aGVcbiAgICAgKiByZWdpb24gc3BlY2lmaWVkIGJ5IHRoZSBnaXZlbiB4LCB5LCBhbmQgbGV2ZWwgY29tcG9uZW50cy5cbiAgICAgKiBUaGlzIG9wdGlvbiBpcyBvbmx5IHJlbGV2YW50IGlmIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LmxvYWRUaWxlc1dpdGhBamF4IGlzIHNldCB0byB0cnVlLlxuICAgICAqIFRoZSBoZWFkZXJzIHJldHVybmVkIGhlcmUgd2lsbCBvdmVycmlkZSBoZWFkZXJzIHNwZWNpZmllZCBhdCB0aGUgVmlld2VyIG9yIFRpbGVkSW1hZ2UgbGV2ZWwuXG4gICAgICogU3BlY2lmeWluZyBhIGZhbHN5IHZhbHVlIGZvciBhIGhlYWRlciB3aWxsIGNsZWFyIGl0cyBleGlzdGluZyB2YWx1ZSBzZXQgYXQgdGhlIFZpZXdlciBvclxuICAgICAqIFRpbGVkSW1hZ2UgbGV2ZWwgKGlmIGFueSkuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0VGlsZUFqYXhIZWFkZXJzOiBmdW5jdGlvbiggbGV2ZWwsIHgsIHkgKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqL1xuICAgIHRpbGVFeGlzdHM6IGZ1bmN0aW9uKCBsZXZlbCwgeCwgeSApIHtcbiAgICAgICAgdmFyIG51bVRpbGVzID0gdGhpcy5nZXROdW1UaWxlcyggbGV2ZWwgKTtcbiAgICAgICAgcmV0dXJuIGxldmVsID49IHRoaXMubWluTGV2ZWwgJiZcbiAgICAgICAgICAgICAgIGxldmVsIDw9IHRoaXMubWF4TGV2ZWwgJiZcbiAgICAgICAgICAgICAgIHggPj0gMCAmJlxuICAgICAgICAgICAgICAgeSA+PSAwICYmXG4gICAgICAgICAgICAgICB4IDwgbnVtVGlsZXMueCAmJlxuICAgICAgICAgICAgICAgeSA8IG51bVRpbGVzLnk7XG4gICAgfVxufTtcblxuXG4kLmV4dGVuZCggdHJ1ZSwgJC5UaWxlU291cmNlLnByb3RvdHlwZSwgJC5FdmVudFNvdXJjZS5wcm90b3R5cGUgKTtcblxuXG4vKipcbiAqIERlY2lkZXMgd2hldGhlciB0byB0cnkgdG8gcHJvY2VzcyB0aGUgcmVzcG9uc2UgYXMgeG1sLCBqc29uLCBvciBoYW5kIGJhY2tcbiAqIHRoZSB0ZXh0XG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhociAtIHRoZSBjb21wbGV0ZWQgbmV0d29yayByZXF1ZXN0XG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NSZXNwb25zZSggeGhyICl7XG4gICAgdmFyIHJlc3BvbnNlVGV4dCA9IHhoci5yZXNwb25zZVRleHQsXG4gICAgICAgIHN0YXR1cyAgICAgICA9IHhoci5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQsXG4gICAgICAgIGRhdGE7XG5cbiAgICBpZiAoICF4aHIgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvciggJC5nZXRTdHJpbmcoIFwiRXJyb3JzLlNlY3VyaXR5XCIgKSApO1xuICAgIH0gZWxzZSBpZiAoIHhoci5zdGF0dXMgIT09IDIwMCAmJiB4aHIuc3RhdHVzICE9PSAwICkge1xuICAgICAgICBzdGF0dXMgICAgID0geGhyLnN0YXR1cztcbiAgICAgICAgc3RhdHVzVGV4dCA9ICggc3RhdHVzID09IDQwNCApID9cbiAgICAgICAgICAgIFwiTm90IEZvdW5kXCIgOlxuICAgICAgICAgICAgeGhyLnN0YXR1c1RleHQ7XG4gICAgICAgIHRocm93IG5ldyBFcnJvciggJC5nZXRTdHJpbmcoIFwiRXJyb3JzLlN0YXR1c1wiLCBzdGF0dXMsIHN0YXR1c1RleHQgKSApO1xuICAgIH1cblxuICAgIGlmKCByZXNwb25zZVRleHQubWF0Y2goL1xccyo8LiovKSApe1xuICAgICAgICB0cnl7XG4gICAgICAgIGRhdGEgPSAoIHhoci5yZXNwb25zZVhNTCAmJiB4aHIucmVzcG9uc2VYTUwuZG9jdW1lbnRFbGVtZW50ICkgP1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlWE1MIDpcbiAgICAgICAgICAgICQucGFyc2VYbWwoIHJlc3BvbnNlVGV4dCApO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIGRhdGEgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG4gICAgfWVsc2UgaWYoIHJlc3BvbnNlVGV4dC5tYXRjaCgvXFxzKltcXHtcXFtdLiovKSApe1xuICAgICAgICB0cnl7XG4gICAgICAgICAgZGF0YSA9ICQucGFyc2VKU09OKHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgZGF0YSA9ICByZXNwb25zZVRleHQ7XG4gICAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgICAgZGF0YSA9IHJlc3BvbnNlVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSBUaWxlU291cmNlIEltcGxlbWVudGF0aW9uIGJ5IGludHJvc3BlY3Rpb24gb2YgT3BlblNlYWRyYWdvblxuICogbmFtZXNwYWNlLCBjYWxsaW5nIGVhY2ggVGlsZVNvdXJjZSBpbXBsZW1lbnRhdGlvbiBvZiAnaXNUeXBlJ1xuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheXxEb2N1bWVudH0gZGF0YSAtIHRoZSB0aWxlIHNvdXJjZSBjb25maWd1cmF0aW9uIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHRoZSB1cmwgd2hlcmUgdGhlIHRpbGUgc291cmNlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHdhc1xuICogICAgICBsb2FkZWQgZnJvbSwgaWYgYW55LlxuICovXG4kLlRpbGVTb3VyY2UuZGV0ZXJtaW5lVHlwZSA9IGZ1bmN0aW9uKCB0aWxlU291cmNlLCBkYXRhLCB1cmwgKXtcbiAgICB2YXIgcHJvcGVydHk7XG4gICAgZm9yKCBwcm9wZXJ0eSBpbiBPcGVuU2VhZHJhZ29uICl7XG4gICAgICAgIGlmKCBwcm9wZXJ0eS5tYXRjaCgvLitUaWxlU291cmNlJC8pICYmXG4gICAgICAgICAgICAkLmlzRnVuY3Rpb24oIE9wZW5TZWFkcmFnb25bIHByb3BlcnR5IF0gKSAmJlxuICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKCBPcGVuU2VhZHJhZ29uWyBwcm9wZXJ0eSBdLnByb3RvdHlwZS5zdXBwb3J0cyApICYmXG4gICAgICAgICAgICBPcGVuU2VhZHJhZ29uWyBwcm9wZXJ0eSBdLnByb3RvdHlwZS5zdXBwb3J0cy5jYWxsKCB0aWxlU291cmNlLCBkYXRhLCB1cmwgKVxuICAgICAgICApe1xuICAgICAgICAgICAgcmV0dXJuIE9wZW5TZWFkcmFnb25bIHByb3BlcnR5IF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkLmNvbnNvbGUuZXJyb3IoIFwiTm8gVGlsZVNvdXJjZSB3YXMgYWJsZSB0byBvcGVuICVzICVzXCIsIHVybCwgZGF0YSApO1xufTtcblxuXG59KCBPcGVuU2VhZHJhZ29uICkpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIER6aVRpbGVTb3VyY2VcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDkgQ29kZVBsZXggRm91bmRhdGlvblxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMTMgT3BlblNlYWRyYWdvbiBjb250cmlidXRvcnNcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgQ29kZVBsZXggRm91bmRhdGlvbiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRFxuICogVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICl7XG5cbi8qKlxuICogQGNsYXNzIER6aVRpbGVTb3VyY2VcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2VcbiAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gd2lkdGggLSB0aGUgcGl4ZWwgd2lkdGggb2YgdGhlIGltYWdlIG9yIHRoZSBpZGlvbWF0aWNcbiAqICAgICAgb3B0aW9ucyBvYmplY3Qgd2hpY2ggaXMgdXNlZCBpbnN0ZWFkIG9mIHBvc2l0aW9uYWwgYXJndW1lbnRzLlxuICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbGVTaXplXG4gKiBAcGFyYW0ge051bWJlcn0gdGlsZU92ZXJsYXBcbiAqIEBwYXJhbSB7U3RyaW5nfSB0aWxlc1VybFxuICogQHBhcmFtIHtTdHJpbmd9IGZpbGVGb3JtYXRcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5EaXNwbGF5UmVjdFtdfSBkaXNwbGF5UmVjdHNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSB0aWxlc1VybFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGZpbGVGb3JtYXRcbiAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5EaXNwbGF5UmVjdFtdfSBkaXNwbGF5UmVjdHNcbiAqL1xuJC5EemlUaWxlU291cmNlID0gZnVuY3Rpb24oIHdpZHRoLCBoZWlnaHQsIHRpbGVTaXplLCB0aWxlT3ZlcmxhcCwgdGlsZXNVcmwsIGZpbGVGb3JtYXQsIGRpc3BsYXlSZWN0cywgbWluTGV2ZWwsIG1heExldmVsICkge1xuICAgIHZhciBpLFxuICAgICAgICByZWN0LFxuICAgICAgICBsZXZlbCxcbiAgICAgICAgb3B0aW9ucztcblxuICAgIGlmKCAkLmlzUGxhaW5PYmplY3QoIHdpZHRoICkgKXtcbiAgICAgICAgb3B0aW9ucyA9IHdpZHRoO1xuICAgIH1lbHNle1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgd2lkdGg6IGFyZ3VtZW50c1sgMCBdLFxuICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbIDEgXSxcbiAgICAgICAgICAgIHRpbGVTaXplOiBhcmd1bWVudHNbIDIgXSxcbiAgICAgICAgICAgIHRpbGVPdmVybGFwOiBhcmd1bWVudHNbIDMgXSxcbiAgICAgICAgICAgIHRpbGVzVXJsOiBhcmd1bWVudHNbIDQgXSxcbiAgICAgICAgICAgIGZpbGVGb3JtYXQ6IGFyZ3VtZW50c1sgNSBdLFxuICAgICAgICAgICAgZGlzcGxheVJlY3RzOiBhcmd1bWVudHNbIDYgXSxcbiAgICAgICAgICAgIG1pbkxldmVsOiBhcmd1bWVudHNbIDcgXSxcbiAgICAgICAgICAgIG1heExldmVsOiBhcmd1bWVudHNbIDggXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuX2xldmVsUmVjdHMgID0ge307XG4gICAgdGhpcy50aWxlc1VybCAgICAgPSBvcHRpb25zLnRpbGVzVXJsO1xuICAgIHRoaXMuZmlsZUZvcm1hdCAgID0gb3B0aW9ucy5maWxlRm9ybWF0O1xuICAgIHRoaXMuZGlzcGxheVJlY3RzID0gb3B0aW9ucy5kaXNwbGF5UmVjdHM7XG5cbiAgICBpZiAoIHRoaXMuZGlzcGxheVJlY3RzICkge1xuICAgICAgICBmb3IgKCBpID0gdGhpcy5kaXNwbGF5UmVjdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5kaXNwbGF5UmVjdHNbIGkgXTtcbiAgICAgICAgICAgIGZvciAoIGxldmVsID0gcmVjdC5taW5MZXZlbDsgbGV2ZWwgPD0gcmVjdC5tYXhMZXZlbDsgbGV2ZWwrKyApIHtcbiAgICAgICAgICAgICAgICBpZiAoICF0aGlzLl9sZXZlbFJlY3RzWyBsZXZlbCBdICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbFJlY3RzWyBsZXZlbCBdID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsUmVjdHNbIGxldmVsIF0ucHVzaCggcmVjdCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgJC5UaWxlU291cmNlLmFwcGx5KCB0aGlzLCBbIG9wdGlvbnMgXSApO1xuXG59O1xuXG4kLmV4dGVuZCggJC5EemlUaWxlU291cmNlLnByb3RvdHlwZSwgJC5UaWxlU291cmNlLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkR6aVRpbGVTb3VyY2UucHJvdG90eXBlICove1xuXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIGRhdGEgYW5kL29yIHVybCBpbXBseSB0aGUgaW1hZ2Ugc2VydmljZSBpcyBzdXBwb3J0ZWQgYnlcbiAgICAgKiB0aGlzIHRpbGUgc291cmNlLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBkYXRhXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbmFsIC0gdXJsXG4gICAgICovXG4gICAgc3VwcG9ydHM6IGZ1bmN0aW9uKCBkYXRhLCB1cmwgKXtcbiAgICAgICAgdmFyIG5zO1xuICAgICAgICBpZiAoIGRhdGEuSW1hZ2UgKSB7XG4gICAgICAgICAgICBucyA9IGRhdGEuSW1hZ2UueG1sbnM7XG4gICAgICAgIH0gZWxzZSBpZiAoIGRhdGEuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoXCJJbWFnZVwiID09IGRhdGEuZG9jdW1lbnRFbGVtZW50LmxvY2FsTmFtZSB8fCBcIkltYWdlXCIgPT0gZGF0YS5kb2N1bWVudEVsZW1lbnQudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIG5zID0gZGF0YS5kb2N1bWVudEVsZW1lbnQubmFtZXNwYWNlVVJJO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbnMgPSAobnMgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgcmV0dXJuIChucy5pbmRleE9mKCdzY2hlbWFzLm1pY3Jvc29mdC5jb20vZGVlcHpvb20vMjAwOCcpICE9PSAtMSB8fFxuICAgICAgICAgICAgbnMuaW5kZXhPZignc2NoZW1hcy5taWNyb3NvZnQuY29tL2RlZXB6b29tLzIwMDknKSAhPT0gLTEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fFhNTERvY3VtZW50fSBkYXRhIC0gdGhlIHJhdyBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHRoZSB1cmwgdGhlIGRhdGEgd2FzIHJldHJlaXZlZCBmcm9tIGlmIGFueS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9wdGlvbnMgLSBBIGRpY3Rpb25hcnkgb2Yga2V5d29yZCBhcmd1bWVudHMgc3VmZmljaWVudFxuICAgICAqICAgICAgdG8gY29uZmlndXJlIHRoaXMgdGlsZSBzb3VyY2VzIGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24oIGRhdGEsIHVybCApe1xuXG4gICAgICAgIHZhciBvcHRpb25zO1xuXG4gICAgICAgIGlmKCAhJC5pc1BsYWluT2JqZWN0KGRhdGEpICl7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb25maWd1cmVGcm9tWE1MKCB0aGlzLCBkYXRhICk7XG5cbiAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb25maWd1cmVGcm9tT2JqZWN0KCB0aGlzLCBkYXRhICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXJsICYmICFvcHRpb25zLnRpbGVzVXJsKSB7XG4gICAgICAgICAgICBvcHRpb25zLnRpbGVzVXJsID0gdXJsLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgIC8oW15cXC9dKz8pKFxcLihkeml8eG1sfGpzKT8oXFw/W15cXC9dKik/KT9cXC8/JC8sICckMV9maWxlcy8nKTtcblxuICAgICAgICAgICAgaWYgKHVybC5zZWFyY2goL1xcLihkeml8eG1sfGpzKVxcPy8pICE9IC0xKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5xdWVyeVBhcmFtcyA9IHVybC5tYXRjaCgvXFw/LiovKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucXVlcnlQYXJhbXMgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKi9cbiAgICBnZXRUaWxlVXJsOiBmdW5jdGlvbiggbGV2ZWwsIHgsIHkgKSB7XG4gICAgICAgIHJldHVybiBbIHRoaXMudGlsZXNVcmwsIGxldmVsLCAnLycsIHgsICdfJywgeSwgJy4nLCB0aGlzLmZpbGVGb3JtYXQsIHRoaXMucXVlcnlQYXJhbXMgXS5qb2luKCAnJyApO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKi9cbiAgICB0aWxlRXhpc3RzOiBmdW5jdGlvbiggbGV2ZWwsIHgsIHkgKSB7XG4gICAgICAgIHZhciByZWN0cyA9IHRoaXMuX2xldmVsUmVjdHNbIGxldmVsIF0sXG4gICAgICAgICAgICByZWN0LFxuICAgICAgICAgICAgc2NhbGUsXG4gICAgICAgICAgICB4TWluLFxuICAgICAgICAgICAgeU1pbixcbiAgICAgICAgICAgIHhNYXgsXG4gICAgICAgICAgICB5TWF4LFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBpZiAoICFyZWN0cyB8fCAhcmVjdHMubGVuZ3RoICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBpID0gcmVjdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG4gICAgICAgICAgICByZWN0ID0gcmVjdHNbIGkgXTtcblxuICAgICAgICAgICAgaWYgKCBsZXZlbCA8IHJlY3QubWluTGV2ZWwgfHwgbGV2ZWwgPiByZWN0Lm1heExldmVsICkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzY2FsZSA9IHRoaXMuZ2V0TGV2ZWxTY2FsZSggbGV2ZWwgKTtcbiAgICAgICAgICAgIHhNaW4gPSByZWN0LnggKiBzY2FsZTtcbiAgICAgICAgICAgIHlNaW4gPSByZWN0LnkgKiBzY2FsZTtcbiAgICAgICAgICAgIHhNYXggPSB4TWluICsgcmVjdC53aWR0aCAqIHNjYWxlO1xuICAgICAgICAgICAgeU1heCA9IHlNaW4gKyByZWN0LmhlaWdodCAqIHNjYWxlO1xuXG4gICAgICAgICAgICB4TWluID0gTWF0aC5mbG9vciggeE1pbiAvIHRoaXMuX3RpbGVXaWR0aCApO1xuICAgICAgICAgICAgeU1pbiA9IE1hdGguZmxvb3IoIHlNaW4gLyB0aGlzLl90aWxlV2lkdGggKTsgLy8gRFpJIHRpbGVzIGFyZSBzcXVhcmUsIHNvIHdlIGp1c3QgdXNlIF90aWxlV2lkdGhcbiAgICAgICAgICAgIHhNYXggPSBNYXRoLmNlaWwoIHhNYXggLyB0aGlzLl90aWxlV2lkdGggKTtcbiAgICAgICAgICAgIHlNYXggPSBNYXRoLmNlaWwoIHlNYXggLyB0aGlzLl90aWxlV2lkdGggKTtcblxuICAgICAgICAgICAgaWYgKCB4TWluIDw9IHggJiYgeCA8IHhNYXggJiYgeU1pbiA8PSB5ICYmIHkgPCB5TWF4ICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0pO1xuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZUZyb21YTUwoIHRpbGVTb3VyY2UsIHhtbERvYyApe1xuXG4gICAgaWYgKCAheG1sRG9jIHx8ICF4bWxEb2MuZG9jdW1lbnRFbGVtZW50ICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoICQuZ2V0U3RyaW5nKCBcIkVycm9ycy5YbWxcIiApICk7XG4gICAgfVxuXG4gICAgdmFyIHJvb3QgICAgICAgICAgID0geG1sRG9jLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgcm9vdE5hbWUgICAgICAgPSByb290LmxvY2FsTmFtZSB8fCByb290LnRhZ05hbWUsXG4gICAgICAgIG5zICAgICAgICAgICAgID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5uYW1lc3BhY2VVUkksXG4gICAgICAgIGNvbmZpZ3VyYXRpb24gID0gbnVsbCxcbiAgICAgICAgZGlzcGxheVJlY3RzICAgPSBbXSxcbiAgICAgICAgZGlzcFJlY3ROb2RlcyxcbiAgICAgICAgZGlzcFJlY3ROb2RlLFxuICAgICAgICByZWN0Tm9kZSxcbiAgICAgICAgc2l6ZU5vZGUsXG4gICAgICAgIGk7XG5cbiAgICBpZiAoIHJvb3ROYW1lID09IFwiSW1hZ2VcIiApIHtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2l6ZU5vZGUgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiU2l6ZVwiIClbIDAgXTtcbiAgICAgICAgICAgIGlmIChzaXplTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2l6ZU5vZGUgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMobnMsIFwiU2l6ZVwiIClbIDAgXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlndXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBJbWFnZToge1xuICAgICAgICAgICAgICAgICAgICB4bWxuczogICAgICAgXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL2RlZXB6b29tLzIwMDhcIixcbiAgICAgICAgICAgICAgICAgICAgVXJsOiAgICAgICAgIHJvb3QuZ2V0QXR0cmlidXRlKCBcIlVybFwiICksXG4gICAgICAgICAgICAgICAgICAgIEZvcm1hdDogICAgICByb290LmdldEF0dHJpYnV0ZSggXCJGb3JtYXRcIiApLFxuICAgICAgICAgICAgICAgICAgICBEaXNwbGF5UmVjdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgT3ZlcmxhcDogICAgIHBhcnNlSW50KCByb290LmdldEF0dHJpYnV0ZSggXCJPdmVybGFwXCIgKSwgMTAgKSxcbiAgICAgICAgICAgICAgICAgICAgVGlsZVNpemU6ICAgIHBhcnNlSW50KCByb290LmdldEF0dHJpYnV0ZSggXCJUaWxlU2l6ZVwiICksIDEwICksXG4gICAgICAgICAgICAgICAgICAgIFNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEhlaWdodDogcGFyc2VJbnQoIHNpemVOb2RlLmdldEF0dHJpYnV0ZSggXCJIZWlnaHRcIiApLCAxMCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgV2lkdGg6ICBwYXJzZUludCggc2l6ZU5vZGUuZ2V0QXR0cmlidXRlKCBcIldpZHRoXCIgKSwgMTAgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCAhJC5pbWFnZUZvcm1hdFN1cHBvcnRlZCggY29uZmlndXJhdGlvbi5JbWFnZS5Gb3JtYXQgKSApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICQuZ2V0U3RyaW5nKCBcIkVycm9ycy5JbWFnZUZvcm1hdFwiLCBjb25maWd1cmF0aW9uLkltYWdlLkZvcm1hdC50b1VwcGVyQ2FzZSgpIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXNwUmVjdE5vZGVzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkRpc3BsYXlSZWN0XCIgKTtcbiAgICAgICAgICAgIGlmIChkaXNwUmVjdE5vZGVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkaXNwUmVjdE5vZGVzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKG5zLCBcIkRpc3BsYXlSZWN0XCIgKVsgMCBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGRpc3BSZWN0Tm9kZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgZGlzcFJlY3ROb2RlID0gZGlzcFJlY3ROb2Rlc1sgaSBdO1xuICAgICAgICAgICAgICAgIHJlY3ROb2RlICAgICA9IGRpc3BSZWN0Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIlJlY3RcIiApWyAwIF07XG4gICAgICAgICAgICAgICAgaWYgKHJlY3ROb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdE5vZGUgPSBkaXNwUmVjdE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyhucywgXCJSZWN0XCIgKVsgMCBdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRpc3BsYXlSZWN0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgUmVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgWDogcGFyc2VJbnQoIHJlY3ROb2RlLmdldEF0dHJpYnV0ZSggXCJYXCIgKSwgMTAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFk6IHBhcnNlSW50KCByZWN0Tm9kZS5nZXRBdHRyaWJ1dGUoIFwiWVwiICksIDEwICksXG4gICAgICAgICAgICAgICAgICAgICAgICBXaWR0aDogcGFyc2VJbnQoIHJlY3ROb2RlLmdldEF0dHJpYnV0ZSggXCJXaWR0aFwiICksIDEwICksXG4gICAgICAgICAgICAgICAgICAgICAgICBIZWlnaHQ6IHBhcnNlSW50KCByZWN0Tm9kZS5nZXRBdHRyaWJ1dGUoIFwiSGVpZ2h0XCIgKSwgMTAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1pbkxldmVsOiBwYXJzZUludCggZGlzcFJlY3ROb2RlLmdldEF0dHJpYnV0ZSggXCJNaW5MZXZlbFwiICksIDEwICksXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXhMZXZlbDogcGFyc2VJbnQoIGRpc3BSZWN0Tm9kZS5nZXRBdHRyaWJ1dGUoIFwiTWF4TGV2ZWxcIiApLCAxMCApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGRpc3BsYXlSZWN0cy5sZW5ndGggKXtcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uLkltYWdlLkRpc3BsYXlSZWN0ID0gZGlzcGxheVJlY3RzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29uZmlndXJlRnJvbU9iamVjdCggdGlsZVNvdXJjZSwgY29uZmlndXJhdGlvbiApO1xuXG4gICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgdGhyb3cgKGUgaW5zdGFuY2VvZiBFcnJvcikgP1xuICAgICAgICAgICAgICAgIGUgOlxuICAgICAgICAgICAgICAgIG5ldyBFcnJvciggJC5nZXRTdHJpbmcoXCJFcnJvcnMuRHppXCIpICk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCByb290TmFtZSA9PSBcIkNvbGxlY3Rpb25cIiApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCAkLmdldFN0cmluZyggXCJFcnJvcnMuRHpjXCIgKSApO1xuICAgIH0gZWxzZSBpZiAoIHJvb3ROYW1lID09IFwiRXJyb3JcIiApIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VOb2RlID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIk1lc3NhZ2VcIilbMF07XG4gICAgICAgIHZhciBtZXNzYWdlID0gbWVzc2FnZU5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoICQuZ2V0U3RyaW5nKCBcIkVycm9ycy5EemlcIiApICk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZUZyb21PYmplY3QoIHRpbGVTb3VyY2UsIGNvbmZpZ3VyYXRpb24gKXtcbiAgICB2YXIgaW1hZ2VEYXRhICAgICA9IGNvbmZpZ3VyYXRpb24uSW1hZ2UsXG4gICAgICAgIHRpbGVzVXJsICAgICAgPSBpbWFnZURhdGEuVXJsLFxuICAgICAgICBmaWxlRm9ybWF0ICAgID0gaW1hZ2VEYXRhLkZvcm1hdCxcbiAgICAgICAgc2l6ZURhdGEgICAgICA9IGltYWdlRGF0YS5TaXplLFxuICAgICAgICBkaXNwUmVjdERhdGEgID0gaW1hZ2VEYXRhLkRpc3BsYXlSZWN0IHx8IFtdLFxuICAgICAgICB3aWR0aCAgICAgICAgID0gcGFyc2VJbnQoIHNpemVEYXRhLldpZHRoLCAxMCApLFxuICAgICAgICBoZWlnaHQgICAgICAgID0gcGFyc2VJbnQoIHNpemVEYXRhLkhlaWdodCwgMTAgKSxcbiAgICAgICAgdGlsZVNpemUgICAgICA9IHBhcnNlSW50KCBpbWFnZURhdGEuVGlsZVNpemUsIDEwICksXG4gICAgICAgIHRpbGVPdmVybGFwICAgPSBwYXJzZUludCggaW1hZ2VEYXRhLk92ZXJsYXAsIDEwICksXG4gICAgICAgIGRpc3BsYXlSZWN0cyAgPSBbXSxcbiAgICAgICAgcmVjdERhdGEsXG4gICAgICAgIGk7XG5cbiAgICAvL1RPRE86IG5lZWQgdG8gZmlndXJlIG91dCBvdXQgdG8gYmV0dGVyIGhhbmRsZSBpbWFnZSBmb3JtYXQgY29tcGF0aWJpbGl0eVxuICAgIC8vICAgICAgd2hpY2ggYWN0dWFsbHkgaW5jbHVkZXMgYWRkaXRpb25hbCBmaWxlIGZvcm1hdHMgbGlrZSB4bWwgYW5kIHBkZlxuICAgIC8vICAgICAgYW5kIHBsYWluIHRleHQgZm9yIHZhcmlvdXMgdGlsZXNvdXJjZSBpbXBsZW1lbnRhdGlvbnMgdG8gYXZvaWQgbG93XG4gICAgLy8gICAgICBsZXZlbCBlcnJvcnMuXG4gICAgLy9cbiAgICAvLyAgICAgIEZvciBub3csIGp1c3QgZG9uJ3QgcGVyZm9ybSB0aGUgY2hlY2suXG4gICAgLy9cbiAgICAvKmlmICggIWltYWdlRm9ybWF0U3VwcG9ydGVkKCBmaWxlRm9ybWF0ICkgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICQuZ2V0U3RyaW5nKCBcIkVycm9ycy5JbWFnZUZvcm1hdFwiLCBmaWxlRm9ybWF0LnRvVXBwZXJDYXNlKCkgKVxuICAgICAgICApO1xuICAgIH0qL1xuXG4gICAgZm9yICggaSA9IDA7IGkgPCBkaXNwUmVjdERhdGEubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIHJlY3REYXRhID0gZGlzcFJlY3REYXRhWyBpIF0uUmVjdDtcblxuICAgICAgICBkaXNwbGF5UmVjdHMucHVzaCggbmV3ICQuRGlzcGxheVJlY3QoXG4gICAgICAgICAgICBwYXJzZUludCggcmVjdERhdGEuWCwgMTAgKSxcbiAgICAgICAgICAgIHBhcnNlSW50KCByZWN0RGF0YS5ZLCAxMCApLFxuICAgICAgICAgICAgcGFyc2VJbnQoIHJlY3REYXRhLldpZHRoLCAxMCApLFxuICAgICAgICAgICAgcGFyc2VJbnQoIHJlY3REYXRhLkhlaWdodCwgMTAgKSxcbiAgICAgICAgICAgIHBhcnNlSW50KCByZWN0RGF0YS5NaW5MZXZlbCwgMTAgKSxcbiAgICAgICAgICAgIHBhcnNlSW50KCByZWN0RGF0YS5NYXhMZXZlbCwgMTAgKVxuICAgICAgICApKTtcbiAgICB9XG5cbiAgICByZXR1cm4gJC5leHRlbmQodHJ1ZSwge1xuICAgICAgICB3aWR0aDogd2lkdGgsIC8qIHdpZHRoICpyZXF1aXJlZCAqL1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCwgLyogaGVpZ2h0ICpyZXF1aXJlZCAqL1xuICAgICAgICB0aWxlU2l6ZTogdGlsZVNpemUsIC8qIHRpbGVTaXplICpyZXF1aXJlZCAqL1xuICAgICAgICB0aWxlT3ZlcmxhcDogdGlsZU92ZXJsYXAsIC8qIHRpbGVPdmVybGFwICpyZXF1aXJlZCAqL1xuICAgICAgICBtaW5MZXZlbDogbnVsbCwgLyogbWluTGV2ZWwgKi9cbiAgICAgICAgbWF4TGV2ZWw6IG51bGwsIC8qIG1heExldmVsICovXG4gICAgICAgIHRpbGVzVXJsOiB0aWxlc1VybCwgLyogdGlsZXNVcmwgKi9cbiAgICAgICAgZmlsZUZvcm1hdDogZmlsZUZvcm1hdCwgLyogZmlsZUZvcm1hdCAqL1xuICAgICAgICBkaXNwbGF5UmVjdHM6IGRpc3BsYXlSZWN0cyAvKiBkaXNwbGF5UmVjdHMgKi9cbiAgICB9LCBjb25maWd1cmF0aW9uICk7XG5cbn1cblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBJSUlGVGlsZVNvdXJjZVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLyoqXG4gKiBAY2xhc3MgSUlJRlRpbGVTb3VyY2VcbiAqIEBjbGFzc2Rlc2MgQSBjbGllbnQgaW1wbGVtZW50YXRpb24gb2YgdGhlIEludGVybmF0aW9uYWwgSW1hZ2UgSW50ZXJvcGVyYWJpbGl0eSBGcmFtZXdvcmtcbiAqIEZvcm1hdDogSW1hZ2UgQVBJIDEuMCAtIDIuMVxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2VcbiAqIEBzZWUgaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlL1xuICovXG4kLklJSUZUaWxlU291cmNlID0gZnVuY3Rpb24oIG9wdGlvbnMgKXtcblxuICAgIC8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuXG4gICAgJC5leHRlbmQoIHRydWUsIHRoaXMsIG9wdGlvbnMgKTtcblxuICAgIGlmICggISggdGhpcy5oZWlnaHQgJiYgdGhpcy53aWR0aCAmJiB0aGlzWydAaWQnXSApICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoICdJSUlGIHJlcXVpcmVkIHBhcmFtZXRlcnMgbm90IHByb3ZpZGVkLicgKTtcbiAgICB9XG5cbiAgICBvcHRpb25zLnRpbGVTaXplUGVyU2NhbGVGYWN0b3IgPSB7fTtcblxuICAgIC8vIE4uQi4gMi4wIHJlbmFtZWQgc2NhbGVfZmFjdG9ycyB0byBzY2FsZUZhY3RvcnNcbiAgICBpZiAoIHRoaXMudGlsZV93aWR0aCAmJiB0aGlzLnRpbGVfaGVpZ2h0ICkge1xuICAgICAgICBvcHRpb25zLnRpbGVXaWR0aCA9IHRoaXMudGlsZV93aWR0aDtcbiAgICAgICAgb3B0aW9ucy50aWxlSGVpZ2h0ID0gdGhpcy50aWxlX2hlaWdodDtcbiAgICB9IGVsc2UgaWYgKCB0aGlzLnRpbGVfd2lkdGggKSB7XG4gICAgICAgIG9wdGlvbnMudGlsZVNpemUgPSB0aGlzLnRpbGVfd2lkdGg7XG4gICAgfSBlbHNlIGlmICggdGhpcy50aWxlX2hlaWdodCApIHtcbiAgICAgICAgb3B0aW9ucy50aWxlU2l6ZSA9IHRoaXMudGlsZV9oZWlnaHQ7XG4gICAgfSBlbHNlIGlmICggdGhpcy50aWxlcyApIHtcbiAgICAgICAgLy8gVmVyc2lvbiAyLjAgZm9yd2FyZHNcbiAgICAgICAgaWYgKCB0aGlzLnRpbGVzLmxlbmd0aCA9PSAxICkge1xuICAgICAgICAgICAgb3B0aW9ucy50aWxlV2lkdGggID0gdGhpcy50aWxlc1swXS53aWR0aDtcbiAgICAgICAgICAgIC8vIFVzZSBoZWlnaHQgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBhc3N1bWUgc3F1YXJlIHRpbGVzIGFuZCB1c2Ugd2lkdGguXG4gICAgICAgICAgICBvcHRpb25zLnRpbGVIZWlnaHQgPSB0aGlzLnRpbGVzWzBdLmhlaWdodCB8fCB0aGlzLnRpbGVzWzBdLndpZHRoO1xuICAgICAgICAgICAgdGhpcy5zY2FsZV9mYWN0b3JzID0gdGhpcy50aWxlc1swXS5zY2FsZUZhY3RvcnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBNdWx0aXBsZSB0aWxlIHNpemVzIGF0IGRpZmZlcmVudCBsZXZlbHNcbiAgICAgICAgICAgIHRoaXMuc2NhbGVfZmFjdG9ycyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLnRpbGVzLmxlbmd0aDsgdCsrICkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHNmID0gMDsgc2YgPCB0aGlzLnRpbGVzW3RdLnNjYWxlRmFjdG9ycy5sZW5ndGg7IHNmKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gdGhpcy50aWxlc1t0XS5zY2FsZUZhY3RvcnNbc2ZdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjYWxlX2ZhY3RvcnMucHVzaChzY2FsZUZhY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudGlsZVNpemVQZXJTY2FsZUZhY3RvcltzY2FsZUZhY3Rvcl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy50aWxlc1t0XS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy50aWxlc1t0XS5oZWlnaHQgfHwgdGhpcy50aWxlc1t0XS53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIGNhbkJlVGlsZWQob3B0aW9ucy5wcm9maWxlKSApIHtcbiAgICAgICAgLy8gdXNlIHRoZSBsYXJnZXN0IG9mIHRpbGVPcHRpb25zIHRoYXQgaXMgc21hbGxlciB0aGFuIHRoZSBzaG9ydCBkaW1lbnNpb25cbiAgICAgICAgdmFyIHNob3J0RGltID0gTWF0aC5taW4oIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoICksXG4gICAgICAgICAgICB0aWxlT3B0aW9ucyA9IFsyNTYsIDUxMiwgMTAyNF0sXG4gICAgICAgICAgICBzbWFsbGVyVGlsZXMgPSBbXTtcblxuICAgICAgICBmb3IgKCB2YXIgYyA9IDA7IGMgPCB0aWxlT3B0aW9ucy5sZW5ndGg7IGMrKyApIHtcbiAgICAgICAgICAgIGlmICggdGlsZU9wdGlvbnNbY10gPD0gc2hvcnREaW0gKSB7XG4gICAgICAgICAgICAgICAgc21hbGxlclRpbGVzLnB1c2goIHRpbGVPcHRpb25zW2NdICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHNtYWxsZXJUaWxlcy5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgb3B0aW9ucy50aWxlU2l6ZSA9IE1hdGgubWF4LmFwcGx5KCBudWxsLCBzbWFsbGVyVGlsZXMgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIHNtYWxsZXIgdGhhbiAyNTYsIGp1c3QgdXNlIHRoZSBzaG9ydCBzaWRlLlxuICAgICAgICAgICAgb3B0aW9ucy50aWxlU2l6ZSA9IHNob3J0RGltO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnNpemVzICYmIHRoaXMuc2l6ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBUaGlzIGluZm8uanNvbiBjYW4ndCBiZSB0aWxlZCwgYnV0IHdlIGNhbiBzdGlsbCBjb25zdHJ1Y3QgYSBsZWdhY3kgcHlyYW1pZCBmcm9tIHRoZSBzaXplcyBhcnJheS5cbiAgICAgICAgLy8gSW4gdGhpcyBtb2RlLCBJSUlGVGlsZVNvdXJjZSB3aWxsIGNhbGwgZnVuY3Rpb25zIGZyb20gdGhlIGFic3RyYWN0IGJhc2VUaWxlU291cmNlIG9yIHRoZVxuICAgICAgICAvLyBMZWdhY3lUaWxlU291cmNlIGluc3RlYWQgb2YgcGVyZm9ybWluZyBJSUlGIHRpbGluZy5cbiAgICAgICAgdGhpcy5lbXVsYXRlTGVnYWN5SW1hZ2VQeXJhbWlkID0gdHJ1ZTtcblxuICAgICAgICBvcHRpb25zLmxldmVscyA9IGNvbnN0cnVjdExldmVscyggdGhpcyApO1xuICAgICAgICAvLyB1c2UgdGhlIGxhcmdlc3QgYXZhaWxhYmxlIHNpemUgdG8gZGVmaW5lIHRpbGVzXG4gICAgICAgICQuZXh0ZW5kKCB0cnVlLCBvcHRpb25zLCB7XG4gICAgICAgICAgICB3aWR0aDogb3B0aW9ucy5sZXZlbHNbIG9wdGlvbnMubGV2ZWxzLmxlbmd0aCAtIDEgXS53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogb3B0aW9ucy5sZXZlbHNbIG9wdGlvbnMubGV2ZWxzLmxlbmd0aCAtIDEgXS5oZWlnaHQsXG4gICAgICAgICAgICB0aWxlU2l6ZTogTWF0aC5tYXgoIG9wdGlvbnMuaGVpZ2h0LCBvcHRpb25zLndpZHRoICksXG4gICAgICAgICAgICB0aWxlT3ZlcmxhcDogMCxcbiAgICAgICAgICAgIG1pbkxldmVsOiAwLFxuICAgICAgICAgICAgbWF4TGV2ZWw6IG9wdGlvbnMubGV2ZWxzLmxlbmd0aCAtIDFcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gb3B0aW9ucy5sZXZlbHM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKFwiTm90aGluZyBpbiB0aGUgaW5mby5qc29uIHRvIGNvbnN0cnVjdCBpbWFnZSBweXJhbWlkcyBmcm9tXCIpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5tYXhMZXZlbCAmJiAhdGhpcy5lbXVsYXRlTGVnYWN5SW1hZ2VQeXJhbWlkKSB7XG4gICAgICAgIGlmICghdGhpcy5zY2FsZV9mYWN0b3JzKSB7XG4gICAgICAgICAgICBvcHRpb25zLm1heExldmVsID0gTnVtYmVyKE1hdGguY2VpbChNYXRoLmxvZyhNYXRoLm1heCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCksIDIpKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25zLm1heExldmVsID0gTWF0aC5mbG9vcihNYXRoLnBvdyhNYXRoLm1heC5hcHBseShudWxsLCB0aGlzLnNjYWxlX2ZhY3RvcnMpLCAwLjUpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQuVGlsZVNvdXJjZS5hcHBseSggdGhpcywgWyBvcHRpb25zIF0gKTtcbn07XG5cbiQuZXh0ZW5kKCAkLklJSUZUaWxlU291cmNlLnByb3RvdHlwZSwgJC5UaWxlU291cmNlLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLklJSUZUaWxlU291cmNlLnByb3RvdHlwZSAqL3tcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIGRhdGEgYW5kL29yIHVybCBpbXBseSB0aGUgaW1hZ2Ugc2VydmljZSBpcyBzdXBwb3J0ZWQgYnlcbiAgICAgKiB0aGlzIHRpbGUgc291cmNlLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBkYXRhXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvbmFsIC0gdXJsXG4gICAgICovXG5cbiAgICBzdXBwb3J0czogZnVuY3Rpb24oIGRhdGEsIHVybCApIHtcbiAgICAgICAgLy8gVmVyc2lvbiAyLjAgYW5kIGZvcndhcmRzXG4gICAgICAgIGlmIChkYXRhLnByb3RvY29sICYmIGRhdGEucHJvdG9jb2wgPT0gJ2h0dHA6Ly9paWlmLmlvL2FwaS9pbWFnZScpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBWZXJzaW9uIDEuMVxuICAgICAgICB9IGVsc2UgaWYgKCBkYXRhWydAY29udGV4dCddICYmIChcbiAgICAgICAgICAgIGRhdGFbJ0Bjb250ZXh0J10gPT0gXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbnRleHQuanNvblwiIHx8XG4gICAgICAgICAgICBkYXRhWydAY29udGV4dCddID09IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEvY29udGV4dC5qc29uXCIpICkge1xuICAgICAgICAgICAgLy8gTi5CLiB0aGUgaWlpZi5pbyBjb250ZXh0IGlzIHdyb25nLCBidXQgd2hlcmUgdGhlIHJlcHJlc2VudGF0aW9uIGxpdmVzIHNvIGxpa2VseSB0byBiZSB1c2VkXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAvLyBWZXJzaW9uIDEuMFxuICAgICAgICB9IGVsc2UgaWYgKCBkYXRhLnByb2ZpbGUgJiZcbiAgICAgICAgICAgIGRhdGEucHJvZmlsZS5pbmRleE9mKFwiaHR0cDovL2xpYnJhcnkuc3RhbmZvcmQuZWR1L2lpaWYvaW1hZ2UtYXBpL2NvbXBsaWFuY2UuaHRtbFwiKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIGRhdGEuaWRlbnRpZmllciAmJiBkYXRhLndpZHRoICYmIGRhdGEuaGVpZ2h0ICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIGRhdGEuZG9jdW1lbnRFbGVtZW50ICYmXG4gICAgICAgICAgICBcImluZm9cIiA9PSBkYXRhLmRvY3VtZW50RWxlbWVudC50YWdOYW1lICYmXG4gICAgICAgICAgICBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9ucy9cIiA9PVxuICAgICAgICAgICAgICAgIGRhdGEuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgLy8gTm90IElJSUZcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gdGhlIHJhdyBjb25maWd1cmF0aW9uXG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+SUlJRiAxLjEgSW5mbyBMb29rcyBsaWtlIHRoaXM8L2NhcHRpb24+XG4gICAgICoge1xuICAgICAqICAgXCJAY29udGV4dFwiIDogXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbnRleHQuanNvblwiLFxuICAgICAqICAgXCJAaWRcIiA6IFwiaHR0cDovL2lpaWYuZXhhbXBsZS5jb20vcHJlZml4LzFFMzQ3NTBELTM4REItNDgyNS1BMzhBLUI2MEEzNDVFNTkxQ1wiLFxuICAgICAqICAgXCJ3aWR0aFwiIDogNjAwMCxcbiAgICAgKiAgIFwiaGVpZ2h0XCIgOiA0MDAwLFxuICAgICAqICAgXCJzY2FsZV9mYWN0b3JzXCIgOiBbIDEsIDIsIDQgXSxcbiAgICAgKiAgIFwidGlsZV93aWR0aFwiIDogMTAyNCxcbiAgICAgKiAgIFwidGlsZV9oZWlnaHRcIiA6IDEwMjQsXG4gICAgICogICBcImZvcm1hdHNcIiA6IFsgXCJqcGdcIiwgXCJwbmdcIiBdLFxuICAgICAqICAgXCJxdWFsaXRpZXNcIiA6IFsgXCJuYXRpdmVcIiwgXCJncmV5XCIgXSxcbiAgICAgKiAgIFwicHJvZmlsZVwiIDogXCJodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbXBsaWFuY2UuaHRtbCNsZXZlbDBcIlxuICAgICAqIH1cbiAgICAgKi9cbiAgICBjb25maWd1cmU6IGZ1bmN0aW9uKCBkYXRhLCB1cmwgKXtcbiAgICAgICAgLy8gVHJ5IHRvIGRlZHVjZSBvdXIgdmVyc2lvbiBhbmQgZmFrZSBpdCB1cHdhcmRzIGlmIG5lZWRlZFxuICAgICAgICBpZiAoICEkLmlzUGxhaW5PYmplY3QoZGF0YSkgKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGNvbmZpZ3VyZUZyb21YbWwxMCggZGF0YSApO1xuICAgICAgICAgICAgb3B0aW9uc1snQGNvbnRleHQnXSA9IFwiaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEuMC9jb250ZXh0Lmpzb25cIjtcbiAgICAgICAgICAgIG9wdGlvbnNbJ0BpZCddID0gdXJsLnJlcGxhY2UoJy9pbmZvLnhtbCcsICcnKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICB9IGVsc2UgaWYgKCAhZGF0YVsnQGNvbnRleHQnXSApIHtcbiAgICAgICAgICAgIGRhdGFbJ0Bjb250ZXh0J10gPSAnaHR0cDovL2lpaWYuaW8vYXBpL2ltYWdlLzEuMC9jb250ZXh0Lmpzb24nO1xuICAgICAgICAgICAgZGF0YVsnQGlkJ10gPSB1cmwucmVwbGFjZSgnL2luZm8uanNvbicsICcnKTtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB0aWxlV2lkdGggZm9yIHRoZSBnaXZlbiBsZXZlbC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXRUaWxlV2lkdGg6IGZ1bmN0aW9uKCBsZXZlbCApIHtcblxuICAgICAgICBpZih0aGlzLmVtdWxhdGVMZWdhY3lJbWFnZVB5cmFtaWQpIHtcbiAgICAgICAgICAgIHJldHVybiAkLlRpbGVTb3VyY2UucHJvdG90eXBlLmdldFRpbGVXaWR0aC5jYWxsKHRoaXMsIGxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzY2FsZUZhY3RvciA9IE1hdGgucG93KDIsIHRoaXMubWF4TGV2ZWwgLSBsZXZlbCk7XG5cbiAgICAgICAgaWYgKHRoaXMudGlsZVNpemVQZXJTY2FsZUZhY3RvciAmJiB0aGlzLnRpbGVTaXplUGVyU2NhbGVGYWN0b3Jbc2NhbGVGYWN0b3JdKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlU2l6ZVBlclNjYWxlRmFjdG9yW3NjYWxlRmFjdG9yXS53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZVdpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHRpbGVIZWlnaHQgZm9yIHRoZSBnaXZlbiBsZXZlbC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXRUaWxlSGVpZ2h0OiBmdW5jdGlvbiggbGV2ZWwgKSB7XG5cbiAgICAgICAgaWYodGhpcy5lbXVsYXRlTGVnYWN5SW1hZ2VQeXJhbWlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJC5UaWxlU291cmNlLnByb3RvdHlwZS5nZXRUaWxlSGVpZ2h0LmNhbGwodGhpcywgbGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gTWF0aC5wb3coMiwgdGhpcy5tYXhMZXZlbCAtIGxldmVsKTtcblxuICAgICAgICBpZiAodGhpcy50aWxlU2l6ZVBlclNjYWxlRmFjdG9yICYmIHRoaXMudGlsZVNpemVQZXJTY2FsZUZhY3RvcltzY2FsZUZhY3Rvcl0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbGVTaXplUGVyU2NhbGVGYWN0b3Jbc2NhbGVGYWN0b3JdLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdGlsZUhlaWdodDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICovXG4gICAgZ2V0TGV2ZWxTY2FsZTogZnVuY3Rpb24gKCBsZXZlbCApIHtcblxuICAgICAgICBpZih0aGlzLmVtdWxhdGVMZWdhY3lJbWFnZVB5cmFtaWQpIHtcbiAgICAgICAgICAgIHZhciBsZXZlbFNjYWxlID0gTmFOO1xuICAgICAgICAgICAgaWYgKHRoaXMubGV2ZWxzLmxlbmd0aCA+IDAgJiYgbGV2ZWwgPj0gdGhpcy5taW5MZXZlbCAmJiBsZXZlbCA8PSB0aGlzLm1heExldmVsKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxTY2FsZSA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW2xldmVsXS53aWR0aCAvXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMubWF4TGV2ZWxdLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxldmVsU2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJC5UaWxlU291cmNlLnByb3RvdHlwZS5nZXRMZXZlbFNjYWxlLmNhbGwodGhpcywgbGV2ZWwpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXROdW1UaWxlczogZnVuY3Rpb24oIGxldmVsICkge1xuXG4gICAgICAgIGlmKHRoaXMuZW11bGF0ZUxlZ2FjeUltYWdlUHlyYW1pZCkge1xuICAgICAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRMZXZlbFNjYWxlKGxldmVsKTtcbiAgICAgICAgICAgIGlmIChzY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCgxLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICQuVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0TnVtVGlsZXMuY2FsbCh0aGlzLCBsZXZlbCk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb2ludFxuICAgICAqL1xuICAgIGdldFRpbGVBdFBvaW50OiBmdW5jdGlvbiggbGV2ZWwsIHBvaW50ICkge1xuXG4gICAgICAgIGlmKHRoaXMuZW11bGF0ZUxlZ2FjeUltYWdlUHlyYW1pZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICQuVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZUF0UG9pbnQuY2FsbCh0aGlzLCBsZXZlbCwgcG9pbnQpO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIFJlc3BvbnNpYmxlIGZvciByZXRyaWV2aW5nIHRoZSB1cmwgd2hpY2ggd2lsbCByZXR1cm4gYW4gaW1hZ2UgZm9yIHRoZVxuICAgICAqIHJlZ2lvbiBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIHgsIHksIGFuZCBsZXZlbCBjb21wb25lbnRzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCAtIHogaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICovXG4gICAgZ2V0VGlsZVVybDogZnVuY3Rpb24oIGxldmVsLCB4LCB5ICl7XG5cbiAgICAgICAgaWYodGhpcy5lbXVsYXRlTGVnYWN5SW1hZ2VQeXJhbWlkKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gbnVsbDtcbiAgICAgICAgICAgIGlmICggdGhpcy5sZXZlbHMubGVuZ3RoID4gMCAmJiBsZXZlbCA+PSB0aGlzLm1pbkxldmVsICYmIGxldmVsIDw9IHRoaXMubWF4TGV2ZWwgKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gdGhpcy5sZXZlbHNbIGxldmVsIF0udXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIyBjb25zdGFudHNcbiAgICAgICAgdmFyIElJSUZfUk9UQVRJT04gPSAnMCcsXG4gICAgICAgICAgICAvLyMjIGdldCB0aGUgc2NhbGUgKGxldmVsIGFzIGEgZGVjaW1hbClcbiAgICAgICAgICAgIHNjYWxlID0gTWF0aC5wb3coIDAuNSwgdGhpcy5tYXhMZXZlbCAtIGxldmVsICksXG5cbiAgICAgICAgICAgIC8vIyBpbWFnZSBkaW1lbnNpb25zIGF0IHRoaXMgbGV2ZWxcbiAgICAgICAgICAgIGxldmVsV2lkdGggPSBNYXRoLmNlaWwoIHRoaXMud2lkdGggKiBzY2FsZSApLFxuICAgICAgICAgICAgbGV2ZWxIZWlnaHQgPSBNYXRoLmNlaWwoIHRoaXMuaGVpZ2h0ICogc2NhbGUgKSxcblxuICAgICAgICAgICAgLy8jIyBpaWlmIHJlZ2lvblxuICAgICAgICAgICAgdGlsZVdpZHRoLFxuICAgICAgICAgICAgdGlsZUhlaWdodCxcbiAgICAgICAgICAgIGlpaWZUaWxlU2l6ZVdpZHRoLFxuICAgICAgICAgICAgaWlpZlRpbGVTaXplSGVpZ2h0LFxuICAgICAgICAgICAgaWlpZlJlZ2lvbixcbiAgICAgICAgICAgIGlpaWZUaWxlWCxcbiAgICAgICAgICAgIGlpaWZUaWxlWSxcbiAgICAgICAgICAgIGlpaWZUaWxlVyxcbiAgICAgICAgICAgIGlpaWZUaWxlSCxcbiAgICAgICAgICAgIGlpaWZTaXplLFxuICAgICAgICAgICAgaWlpZlF1YWxpdHksXG4gICAgICAgICAgICB1cmk7XG5cbiAgICAgICAgdGlsZVdpZHRoID0gdGhpcy5nZXRUaWxlV2lkdGgobGV2ZWwpO1xuICAgICAgICB0aWxlSGVpZ2h0ID0gdGhpcy5nZXRUaWxlSGVpZ2h0KGxldmVsKTtcbiAgICAgICAgaWlpZlRpbGVTaXplV2lkdGggPSBNYXRoLmNlaWwoIHRpbGVXaWR0aCAvIHNjYWxlICk7XG4gICAgICAgIGlpaWZUaWxlU2l6ZUhlaWdodCA9IE1hdGguY2VpbCggdGlsZUhlaWdodCAvIHNjYWxlICk7XG5cbiAgICAgICAgaWYgKCB0aGlzWydAY29udGV4dCddLmluZGV4T2YoJy8xLjAvY29udGV4dC5qc29uJykgPiAtMSB8fFxuICAgICAgICAgICAgIHRoaXNbJ0Bjb250ZXh0J10uaW5kZXhPZignLzEuMS9jb250ZXh0Lmpzb24nKSA+IC0xIHx8XG4gICAgICAgICAgICAgdGhpc1snQGNvbnRleHQnXS5pbmRleE9mKCcvMS9jb250ZXh0Lmpzb24nKSA+IC0xICkge1xuICAgICAgICAgICAgaWlpZlF1YWxpdHkgPSBcIm5hdGl2ZS5qcGdcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpaWZRdWFsaXR5ID0gXCJkZWZhdWx0LmpwZ1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBsZXZlbFdpZHRoIDwgdGlsZVdpZHRoICYmIGxldmVsSGVpZ2h0IDwgdGlsZUhlaWdodCApe1xuICAgICAgICAgICAgaWlpZlNpemUgPSBsZXZlbFdpZHRoICsgXCIsXCI7XG4gICAgICAgICAgICBpaWlmUmVnaW9uID0gJ2Z1bGwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWlpZlRpbGVYID0geCAqIGlpaWZUaWxlU2l6ZVdpZHRoO1xuICAgICAgICAgICAgaWlpZlRpbGVZID0geSAqIGlpaWZUaWxlU2l6ZUhlaWdodDtcbiAgICAgICAgICAgIGlpaWZUaWxlVyA9IE1hdGgubWluKCBpaWlmVGlsZVNpemVXaWR0aCwgdGhpcy53aWR0aCAtIGlpaWZUaWxlWCApO1xuICAgICAgICAgICAgaWlpZlRpbGVIID0gTWF0aC5taW4oIGlpaWZUaWxlU2l6ZUhlaWdodCwgdGhpcy5oZWlnaHQgLSBpaWlmVGlsZVkgKTtcbiAgICAgICAgICAgIGlpaWZTaXplID0gTWF0aC5jZWlsKCBpaWlmVGlsZVcgKiBzY2FsZSApICsgXCIsXCI7XG4gICAgICAgICAgICBpaWlmUmVnaW9uID0gWyBpaWlmVGlsZVgsIGlpaWZUaWxlWSwgaWlpZlRpbGVXLCBpaWlmVGlsZUggXS5qb2luKCAnLCcgKTtcbiAgICAgICAgfVxuICAgICAgICB1cmkgPSBbIHRoaXNbJ0BpZCddLCBpaWlmUmVnaW9uLCBpaWlmU2l6ZSwgSUlJRl9ST1RBVElPTiwgaWlpZlF1YWxpdHkgXS5qb2luKCAnLycgKTtcblxuICAgICAgICByZXR1cm4gdXJpO1xuICAgIH1cblxuICB9KTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSB3aGV0aGVyIGFyYml0cmFyeSB0aWxlIHJlcXVlc3RzIGNhbiBiZSBtYWRlIGFnYWluc3QgYSBzZXJ2aWNlIHdpdGggdGhlIGdpdmVuIHByb2ZpbGVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvZmlsZSAtIElJSUYgcHJvZmlsZSBvYmplY3RcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYW5CZVRpbGVkIChwcm9maWxlICkge1xuICAgICAgICB2YXIgbGV2ZWwwUHJvZmlsZXMgPSBbXG4gICAgICAgICAgICBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS9jb21wbGlhbmNlLmh0bWwjbGV2ZWwwXCIsXG4gICAgICAgICAgICBcImh0dHA6Ly9saWJyYXJ5LnN0YW5mb3JkLmVkdS9paWlmL2ltYWdlLWFwaS8xLjEvY29tcGxpYW5jZS5odG1sI2xldmVsMFwiLFxuICAgICAgICAgICAgXCJodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9sZXZlbDAuanNvblwiXG4gICAgICAgIF07XG4gICAgICAgIHZhciBpc0xldmVsMCA9IChsZXZlbDBQcm9maWxlcy5pbmRleE9mKHByb2ZpbGVbMF0pICE9IC0xKTtcbiAgICAgICAgcmV0dXJuICFpc0xldmVsMCB8fCAocHJvZmlsZS5pbmRleE9mKFwic2l6ZUJ5V1wiKSAhPSAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbGQgdGhlIGxlZ2FjeSBweXJhbWlkIFVSTHMgKG9uZSB0aWxlIHBlciBsZXZlbClcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIGluZm9Kc29uXG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RydWN0TGV2ZWxzKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IFtdO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5zaXplcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV2ZWxzLnB1c2goe1xuICAgICAgICAgICAgICAgIHVybDogb3B0aW9uc1snQGlkJ10gKyAnL2Z1bGwvJyArIG9wdGlvbnMuc2l6ZXNbaV0ud2lkdGggKyAnLC8wL2RlZmF1bHQuanBnJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy5zaXplc1tpXS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuc2l6ZXNbaV0uaGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGV2ZWxzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEud2lkdGggLSBiLndpZHRoO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbmZpZ3VyZUZyb21YbWwxMCh4bWxEb2MpIHtcbiAgICAgICAgLy9wYXJzZSB0aGUgeG1sXG4gICAgICAgIGlmICggIXhtbERvYyB8fCAheG1sRG9jLmRvY3VtZW50RWxlbWVudCApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvciggJC5nZXRTdHJpbmcoIFwiRXJyb3JzLlhtbFwiICkgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByb290ICAgICAgICAgICAgPSB4bWxEb2MuZG9jdW1lbnRFbGVtZW50LFxuICAgICAgICAgICAgcm9vdE5hbWUgICAgICAgID0gcm9vdC50YWdOYW1lLFxuICAgICAgICAgICAgY29uZmlndXJhdGlvbiAgID0gbnVsbDtcblxuICAgICAgICBpZiAoIHJvb3ROYW1lID09IFwiaW5mb1wiICkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uID0ge307XG4gICAgICAgICAgICAgICAgcGFyc2VYTUwxMCggcm9vdCwgY29uZmlndXJhdGlvbiApO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWd1cmF0aW9uO1xuXG4gICAgICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyAoZSBpbnN0YW5jZW9mIEVycm9yKSA/XG4gICAgICAgICAgICAgICAgICAgIGUgOlxuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IoICQuZ2V0U3RyaW5nKFwiRXJyb3JzLklJSUZcIikgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoICQuZ2V0U3RyaW5nKCBcIkVycm9ycy5JSUlGXCIgKSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlWE1MMTAoIG5vZGUsIGNvbmZpZ3VyYXRpb24sIHByb3BlcnR5ICkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHZhbHVlO1xuICAgICAgICBpZiAoIG5vZGUubm9kZVR5cGUgPT0gMyAmJiBwcm9wZXJ0eSApIHsvL3RleHQgbm9kZVxuICAgICAgICAgICAgdmFsdWUgPSBub2RlLm5vZGVWYWx1ZS50cmltKCk7XG4gICAgICAgICAgICBpZiggdmFsdWUubWF0Y2goL15cXGQqJC8pKXtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IE51bWJlciggdmFsdWUgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCAhY29uZmlndXJhdGlvblsgcHJvcGVydHkgXSApe1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25bIHByb3BlcnR5IF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGlmKCAhJC5pc0FycmF5KCBjb25maWd1cmF0aW9uWyBwcm9wZXJ0eSBdICkgKXtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhdGlvblsgcHJvcGVydHkgXSA9IFsgY29uZmlndXJhdGlvblsgcHJvcGVydHkgXSBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9uWyBwcm9wZXJ0eSBdLnB1c2goIHZhbHVlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiggbm9kZS5ub2RlVHlwZSA9PSAxICl7XG4gICAgICAgICAgICBmb3IoIGkgPSAwOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrICl7XG4gICAgICAgICAgICAgICAgcGFyc2VYTUwxMCggbm9kZS5jaGlsZE5vZGVzWyBpIF0sIGNvbmZpZ3VyYXRpb24sIG5vZGUubm9kZU5hbWUgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gT3NtVGlsZVNvdXJjZVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4vKlxuICogRGVyaXZlZCBmcm9tIHRoZSBPU00gdGlsZSBzb3VyY2UgaW4gUmFpbmVyIFNpbW9uJ3Mgc2VhamF4LXV0aWxzIHByb2plY3RcbiAqIDxodHRwOi8vZ2l0aHViLmNvbS9yc2ltb24vc2VhamF4LXV0aWxzPi4gIFJhaW5lciBTaW1vbiBoYXMgY29udHJpYnV0ZWRcbiAqIHRoZSBpbmNsdWRlZCBjb2RlIHRvIHRoZSBPcGVuU2VhZHJhZ29uIHByb2plY3QgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZTtcbiAqIHNlZSA8aHR0cHM6Ly9naXRodWIuY29tL29wZW5zZWFkcmFnb24vb3BlbnNlYWRyYWdvbi9pc3N1ZXMvNTg+LlxuICovXG5cblxuKGZ1bmN0aW9uKCAkICl7XG5cbi8qKlxuICogQGNsYXNzIE9zbVRpbGVTb3VyY2VcbiAqIEBjbGFzc2Rlc2MgQSB0aWxlc291cmNlIGltcGxlbWVudGF0aW9uIGZvciBPcGVuU3RyZWV0TWFwLjxicj48YnI+XG4gKlxuICogTm90ZSAxLiBab29tbGV2ZWxzLiBEZWVwIFpvb20gYW5kIE9TTSBkZWZpbmUgem9vbSBsZXZlbHMgZGlmZmVyZW50bHkuIEluICBEZWVwXG4gKiBab29tLCBsZXZlbCAwIGVxdWFscyBhbiBpbWFnZSBvZiAxeDEgcGl4ZWxzLiBJbiBPU00sIGxldmVsIDAgZXF1YWxzIGFuIGltYWdlIG9mXG4gKiAyNTZ4MjU2IGxldmVscyAoc2VlIGh0dHA6Ly9nYXNpLmNoL2Jsb2cvaW5zaWRlLWRlZXAtem9vbS0yKS4gSS5lLiB0aGVyZSBpcyBhXG4gKiBkaWZmZXJlbmNlIG9mIGxvZzIoMjU2KT04IGxldmVscy48YnI+PGJyPlxuICpcbiAqIE5vdGUgMi4gSW1hZ2UgZGltZW5zaW9uLiBBY2NvcmRpbmcgdG8gdGhlIE9TTSBXaWtpXG4gKiAoaHR0cDovL3dpa2kub3BlbnN0cmVldG1hcC5vcmcvd2lraS9TbGlwcHlfbWFwX3RpbGVuYW1lcyNab29tX2xldmVscylcbiAqIHRoZSBoaWdoZXN0IE1hcG5payB6b29tIGxldmVsIGhhcyAyNTYuMTQ0eDI1Ni4xNDQgdGlsZXMsIHdpdGggYSAyNTZ4MjU2XG4gKiBwaXhlbCBzaXplLiBJLmUuIHRoZSBEZWVwIFpvb20gaW1hZ2UgZGltZW5zaW9uIGlzIDY1LjU3Mi44NjR4NjUuNTcyLjg2NFxuICogcGl4ZWxzLlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2VcbiAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gd2lkdGggLSB0aGUgcGl4ZWwgd2lkdGggb2YgdGhlIGltYWdlIG9yIHRoZSBpZGlvbWF0aWNcbiAqICAgICAgb3B0aW9ucyBvYmplY3Qgd2hpY2ggaXMgdXNlZCBpbnN0ZWFkIG9mIHBvc2l0aW9uYWwgYXJndW1lbnRzLlxuICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodFxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbGVTaXplXG4gKiBAcGFyYW0ge051bWJlcn0gdGlsZU92ZXJsYXBcbiAqIEBwYXJhbSB7U3RyaW5nfSB0aWxlc1VybFxuICovXG4kLk9zbVRpbGVTb3VyY2UgPSBmdW5jdGlvbiggd2lkdGgsIGhlaWdodCwgdGlsZVNpemUsIHRpbGVPdmVybGFwLCB0aWxlc1VybCApIHtcbiAgICB2YXIgb3B0aW9ucztcblxuICAgIGlmKCAkLmlzUGxhaW5PYmplY3QoIHdpZHRoICkgKXtcbiAgICAgICAgb3B0aW9ucyA9IHdpZHRoO1xuICAgIH1lbHNle1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgd2lkdGg6IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgIGhlaWdodDogYXJndW1lbnRzWzFdLFxuICAgICAgICAgICAgdGlsZVNpemU6IGFyZ3VtZW50c1syXSxcbiAgICAgICAgICAgIHRpbGVPdmVybGFwOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICB0aWxlc1VybDogYXJndW1lbnRzWzRdXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vYXBwbHkgZGVmYXVsdCBzZXR0aW5nIGZvciBzdGFuZGFyZCBwdWJsaWMgT3BlblN0cmVhdE1hcHMgc2VydmljZVxuICAgIC8vYnV0IGFsbG93IHRoZW0gdG8gYmUgc3BlY2lmaWVkIHNvIGZsaWtzIGNhbiBob3N0IHRoZXJlIG93biBpbnN0YW5jZVxuICAgIC8vb3IgYXBwbHkgYWdhaW5zdCBvdGhlciBzZXJ2aWNlcyBzdXBwb3J0dGluZyB0aGUgc2FtZSBzdGFuZGFyZFxuICAgIGlmKCAhb3B0aW9ucy53aWR0aCB8fCAhb3B0aW9ucy5oZWlnaHQgKXtcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IDY1NTcyODY0O1xuICAgICAgICBvcHRpb25zLmhlaWdodCA9IDY1NTcyODY0O1xuICAgIH1cbiAgICBpZiggIW9wdGlvbnMudGlsZVNpemUgKXtcbiAgICAgICAgb3B0aW9ucy50aWxlU2l6ZSA9IDI1NjtcbiAgICAgICAgb3B0aW9ucy50aWxlT3ZlcmxhcCA9IDA7XG4gICAgfVxuICAgIGlmKCAhb3B0aW9ucy50aWxlc1VybCApe1xuICAgICAgICBvcHRpb25zLnRpbGVzVXJsID0gXCJodHRwOi8vdGlsZS5vcGVuc3RyZWV0bWFwLm9yZy9cIjtcbiAgICB9XG4gICAgb3B0aW9ucy5taW5MZXZlbCA9IDg7XG5cbiAgICAkLlRpbGVTb3VyY2UuYXBwbHkoIHRoaXMsIFsgb3B0aW9ucyBdICk7XG5cbn07XG5cbiQuZXh0ZW5kKCAkLk9zbVRpbGVTb3VyY2UucHJvdG90eXBlLCAkLlRpbGVTb3VyY2UucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uT3NtVGlsZVNvdXJjZS5wcm90b3R5cGUgKi97XG5cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZSBpZiB0aGUgZGF0YSBhbmQvb3IgdXJsIGltcGx5IHRoZSBpbWFnZSBzZXJ2aWNlIGlzIHN1cHBvcnRlZCBieVxuICAgICAqIHRoaXMgdGlsZSBzb3VyY2UuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGRhdGFcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9uYWwgLSB1cmxcbiAgICAgKi9cbiAgICBzdXBwb3J0czogZnVuY3Rpb24oIGRhdGEsIHVybCApe1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGF0YS50eXBlICYmXG4gICAgICAgICAgICBcIm9wZW5zdHJlZXRtYXBzXCIgPT0gZGF0YS50eXBlXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSB0aGUgcmF3IGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdGhlIHVybCB0aGUgZGF0YSB3YXMgcmV0cmVpdmVkIGZyb20gaWYgYW55LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb3B0aW9ucyAtIEEgZGljdGlvbmFyeSBvZiBrZXl3b3JkIGFyZ3VtZW50cyBzdWZmaWNpZW50XG4gICAgICogICAgICB0byBjb25maWd1cmUgdGhpcyB0aWxlIHNvdXJjZXMgY29uc3RydWN0b3IuXG4gICAgICovXG4gICAgY29uZmlndXJlOiBmdW5jdGlvbiggZGF0YSwgdXJsICl7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKi9cbiAgICBnZXRUaWxlVXJsOiBmdW5jdGlvbiggbGV2ZWwsIHgsIHkgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVzVXJsICsgKGxldmVsIC0gOCkgKyBcIi9cIiArIHggKyBcIi9cIiArIHkgKyBcIi5wbmdcIjtcbiAgICB9XG59KTtcblxuXG59KCBPcGVuU2VhZHJhZ29uICkpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIFRtc1RpbGVTb3VyY2VcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDkgQ29kZVBsZXggRm91bmRhdGlvblxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMTMgT3BlblNlYWRyYWdvbiBjb250cmlidXRvcnNcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgQ29kZVBsZXggRm91bmRhdGlvbiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRFxuICogVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuLypcbiAqIERlcml2ZWQgZnJvbSB0aGUgVE1TIHRpbGUgc291cmNlIGluIFJhaW5lciBTaW1vbidzIHNlYWpheC11dGlscyBwcm9qZWN0XG4gKiA8aHR0cDovL2dpdGh1Yi5jb20vcnNpbW9uL3NlYWpheC11dGlscz4uICBSYWluZXIgU2ltb24gaGFzIGNvbnRyaWJ1dGVkXG4gKiB0aGUgaW5jbHVkZWQgY29kZSB0byB0aGUgT3BlblNlYWRyYWdvbiBwcm9qZWN0IHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2U7XG4gKiBzZWUgPGh0dHBzOi8vZ2l0aHViLmNvbS9vcGVuc2VhZHJhZ29uL29wZW5zZWFkcmFnb24vaXNzdWVzLzU4Pi5cbiAqL1xuXG5cbihmdW5jdGlvbiggJCApe1xuXG4vKipcbiAqIEBjbGFzcyBUbXNUaWxlU291cmNlXG4gKiBAY2xhc3NkZXNjIEEgdGlsZXNvdXJjZSBpbXBsZW1lbnRhdGlvbiBmb3IgVGlsZWQgTWFwIFNlcnZpY2VzIChUTVMpLlxuICogVE1TIHRpbGUgc2NoZW1lICggWyBhcyBzdXBwb3J0ZWQgYnkgT3BlbkxheWVycyBdIGlzIGRlc2NyaWJlZCBoZXJlXG4gKiAoIGh0dHA6Ly9vcGVubGF5ZXJzLm9yZy9kZXYvZXhhbXBsZXMvdG1zLmh0bWwgKS5cbiAqXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQGV4dGVuZHMgT3BlblNlYWRyYWdvbi5UaWxlU291cmNlXG4gKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IHdpZHRoIC0gdGhlIHBpeGVsIHdpZHRoIG9mIHRoZSBpbWFnZSBvciB0aGUgaWRpb21hdGljXG4gKiAgICAgIG9wdGlvbnMgb2JqZWN0IHdoaWNoIGlzIHVzZWQgaW5zdGVhZCBvZiBwb3NpdGlvbmFsIGFyZ3VtZW50cy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAqIEBwYXJhbSB7TnVtYmVyfSB0aWxlU2l6ZVxuICogQHBhcmFtIHtOdW1iZXJ9IHRpbGVPdmVybGFwXG4gKiBAcGFyYW0ge1N0cmluZ30gdGlsZXNVcmxcbiAqL1xuJC5UbXNUaWxlU291cmNlID0gZnVuY3Rpb24oIHdpZHRoLCBoZWlnaHQsIHRpbGVTaXplLCB0aWxlT3ZlcmxhcCwgdGlsZXNVcmwgKSB7XG4gICAgdmFyIG9wdGlvbnM7XG5cbiAgICBpZiggJC5pc1BsYWluT2JqZWN0KCB3aWR0aCApICl7XG4gICAgICAgIG9wdGlvbnMgPSB3aWR0aDtcbiAgICB9ZWxzZXtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgICBoZWlnaHQ6IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgIHRpbGVTaXplOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICB0aWxlT3ZlcmxhcDogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgdGlsZXNVcmw6IGFyZ3VtZW50c1s0XVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBUTVMgaGFzIGludGVnZXIgbXVsdGlwbGVzIG9mIDI1NiBmb3Igd2lkdGgvaGVpZ2h0IGFuZCBhZGRzIGJ1ZmZlclxuICAgIC8vIGlmIG5lY2Vzc2FyeSAtPiBhY2NvdW50IGZvciB0aGlzIVxuICAgIHZhciBidWZmZXJlZFdpZHRoID0gTWF0aC5jZWlsKG9wdGlvbnMud2lkdGggLyAyNTYpICogMjU2LFxuICAgICAgICBidWZmZXJlZEhlaWdodCA9IE1hdGguY2VpbChvcHRpb25zLmhlaWdodCAvIDI1NikgKiAyNTYsXG4gICAgICAgIG1heDtcblxuICAgIC8vIENvbXB1dGUgbnVtYmVyIG9mIHpvb21sZXZlbHMgaW4gdGhpcyB0aWxlc2V0XG4gICAgaWYgKGJ1ZmZlcmVkV2lkdGggPiBidWZmZXJlZEhlaWdodCkge1xuICAgICAgICBtYXggPSBidWZmZXJlZFdpZHRoIC8gMjU2O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG1heCA9IGJ1ZmZlcmVkSGVpZ2h0IC8gMjU2O1xuICAgIH1cbiAgICBvcHRpb25zLm1heExldmVsID0gTWF0aC5jZWlsKE1hdGgubG9nKG1heCkgLyBNYXRoLmxvZygyKSkgLSAxO1xuICAgIG9wdGlvbnMudGlsZVNpemUgPSAyNTY7XG4gICAgb3B0aW9ucy53aWR0aCA9IGJ1ZmZlcmVkV2lkdGg7XG4gICAgb3B0aW9ucy5oZWlnaHQgPSBidWZmZXJlZEhlaWdodDtcblxuICAgICQuVGlsZVNvdXJjZS5hcHBseSggdGhpcywgWyBvcHRpb25zIF0gKTtcblxufTtcblxuJC5leHRlbmQoICQuVG1zVGlsZVNvdXJjZS5wcm90b3R5cGUsICQuVGlsZVNvdXJjZS5wcm90b3R5cGUsIC8qKiBAbGVuZHMgT3BlblNlYWRyYWdvbi5UbXNUaWxlU291cmNlLnByb3RvdHlwZSAqL3tcblxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHRoZSBkYXRhIGFuZC9vciB1cmwgaW1wbHkgdGhlIGltYWdlIHNlcnZpY2UgaXMgc3VwcG9ydGVkIGJ5XG4gICAgICogdGhpcyB0aWxlIHNvdXJjZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gZGF0YVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25hbCAtIHVybFxuICAgICAqL1xuICAgIHN1cHBvcnRzOiBmdW5jdGlvbiggZGF0YSwgdXJsICl7XG4gICAgICAgIHJldHVybiAoIGRhdGEudHlwZSAmJiBcInRpbGVkbWFwc2VydmljZVwiID09IGRhdGEudHlwZSApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gdGhlIHJhdyBjb25maWd1cmF0aW9uXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHRoZSB1cmwgdGhlIGRhdGEgd2FzIHJldHJlaXZlZCBmcm9tIGlmIGFueS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9wdGlvbnMgLSBBIGRpY3Rpb25hcnkgb2Yga2V5d29yZCBhcmd1bWVudHMgc3VmZmljaWVudFxuICAgICAqICAgICAgdG8gY29uZmlndXJlIHRoaXMgdGlsZSBzb3VyY2VzIGNvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24oIGRhdGEsIHVybCApe1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICovXG4gICAgZ2V0VGlsZVVybDogZnVuY3Rpb24oIGxldmVsLCB4LCB5ICkge1xuICAgICAgICAvLyBDb252ZXJ0IGZyb20gRGVlcCBab29tIGRlZmluaXRpb24gdG8gVE1TIHpvb20gZGVmaW5pdGlvblxuICAgICAgICB2YXIgeVRpbGVzID0gdGhpcy5nZXROdW1UaWxlcyggbGV2ZWwgKS55IC0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcy50aWxlc1VybCArIGxldmVsICsgXCIvXCIgKyB4ICsgXCIvXCIgKyAoeVRpbGVzIC0geSkgKyBcIi5wbmdcIjtcbiAgICB9XG59KTtcblxuXG59KCBPcGVuU2VhZHJhZ29uICkpO1xuXG4oZnVuY3Rpb24oJCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFpvb21pZnlUaWxlU291cmNlXG4gICAgICogQGNsYXNzZGVzYyBBIHRpbGVzb3VyY2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSB6b29taWZ5IGZvcm1hdC5cbiAgICAgKlxuICAgICAqIEEgZGVzY3JpcHRpb24gb2YgdGhlIGZvcm1hdCBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL2Vjb21tb25zLmNvcm5lbGwuZWR1L2JpdHN0cmVhbS9oYW5kbGUvMTgxMy81NDEwL0ludHJvZHVjaW5nX1pvb21pZnlfSW1hZ2UucGRmXG4gICAgICpcbiAgICAgKiBUaGVyZSBhcmUgdHdvIHdheXMgb2YgY3JlYXRpbmcgYSB6b29taWZ5IHRpbGVzb3VyY2UgZm9yIG9wZW5zZWFkcmFnb25cbiAgICAgKlxuICAgICAqIDEpIFN1cHBseWluZyBhbGwgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGluIHRoZSB0aWxlc291cmNlIG9iamVjdC4gQSBtaW5pbWFsIGV4YW1wbGUgb2JqZWN0IGZvciB0aGlzIG1ldGhvZCBsb29rcyBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiB7XG4gICAgICogICAgICB0eXBlOiBcInpvb21pZnl0aWxlc2VydmljZVwiLFxuICAgICAqICAgICAgd2lkdGg6IDEwMDAsXG4gICAgICogICAgICBoZWlnaHQ6IDEwMDAsXG4gICAgICogICAgICB0aWxlc1VybDogXCIvdGVzdC9kYXRhL3pvb21pZnkvXCJcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBUaGUgdGlsZVNpemUgaXMgY3VycmVudGx5IGhhcmRjb2RlZCB0byAyNTYgKHRoZSB1c3VhbCBab29taWZ5IGRlZmF1bHQpLiBUaGUgdGlsZVVybCBtdXN0IHRoZSBwYXRoIHRvIHRoZSBpbWFnZSBfZGlyZWN0b3J5Xy5cbiAgICAgKlxuICAgICAqIDIpIExvYWRpbmcgaW1hZ2UgbWV0YWRhdGEgZnJvbSB4bWwgZmlsZTogKENVUlJFTlRMWSBOT1QgU1VQUE9SVEVEKVxuICAgICAqXG4gICAgICogV2hlbiBjcmVhdGluZyB6b29taWZ5IGZvcm1hdHRlZCBpbWFnZXMgb25lIFwieG1sXCIgbGlrZSBmaWxlIHdpdGggbmFtZSBJbWFnZVByb3BlcnRpZXMueG1sXG4gICAgICogd2lsbCBiZSBjcmVhdGVkIGFzIHdlbGwuIEhlcmUgaXMgYW4gZXhhbXBsZSBvZiBzdWNoIGEgZmlsZTpcbiAgICAgKlxuICAgICAqIDxJTUFHRV9QUk9QRVJUSUVTIFdJRFRIPVwiMTAwMFwiIEhFSUdIVD1cIjEwMDBcIiBOVU1USUxFUz1cIjIxXCIgTlVNSU1BR0VTPVwiMVwiIFZFUlNJT049XCIxLjhcIiBUSUxFU0laRT1cIjI1NlwiIC8+XG4gICAgICpcbiAgICAgKiBUbyB1c2UgdGhpcyB4bWwgZmlsZSBhcyBtZXRhZGF0YSBzb3VyY2UgeW91IG11c3Qgc3VwcGx5IHRoZSBwYXRoIHRvIHRoZSBJbWFnZVByb3BlcnRpZXMueG1sIGZpbGUgYW5kIGxlYXZlIG91dCBhbGwgb3RoZXIgcGFyYW1ldGVyczpcbiAgICAgKiBBcyBzdGF0ZWQgYWJvdmUsIHRoaXMgbWV0aG9kIG9mIGxvYWRpbmcgYSB6b29taWZ5IHRpbGVzb3VyY2UgaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWRcbiAgICAgKlxuICAgICAqIHtcbiAgICAgKiAgICAgIHR5cGU6IFwiem9vbWlmeXRpbGVzZXJ2aWNlXCIsXG4gICAgICogICAgICB0aWxlc1VybDogXCIvdGVzdC9kYXRhL3pvb21pZnkvSW1hZ2VQcm9wZXJ0aWVzLnhtbFwiXG4gICAgICogfVxuXG4gICAgKlxuICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSB0aGUgcGl4ZWwgd2lkdGggb2YgdGhlIGltYWdlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdGlsZVNpemVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGlsZXNVcmxcbiAgICAgKi9cbiAgICAkLlpvb21pZnlUaWxlU291cmNlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zLnRpbGVTaXplID0gMjU2O1xuXG4gICAgICAgIHZhciBjdXJyZW50SW1hZ2VTaXplID0ge1xuICAgICAgICAgICAgeDogb3B0aW9ucy53aWR0aCxcbiAgICAgICAgICAgIHk6IG9wdGlvbnMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMuaW1hZ2VTaXplcyA9IFt7XG4gICAgICAgICAgICB4OiBvcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgeTogb3B0aW9ucy5oZWlnaHRcbiAgICAgICAgfV07XG4gICAgICAgIG9wdGlvbnMuZ3JpZFNpemUgPSBbdGhpcy5fZ2V0R3JpZFNpemUob3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQsIG9wdGlvbnMudGlsZVNpemUpXTtcblxuICAgICAgICB3aGlsZSAocGFyc2VJbnQoY3VycmVudEltYWdlU2l6ZS54LCAxMCkgPiBvcHRpb25zLnRpbGVTaXplIHx8IHBhcnNlSW50KGN1cnJlbnRJbWFnZVNpemUueSwgMTApID4gb3B0aW9ucy50aWxlU2l6ZSkge1xuICAgICAgICAgICAgY3VycmVudEltYWdlU2l6ZS54ID0gTWF0aC5mbG9vcihjdXJyZW50SW1hZ2VTaXplLnggLyAyKTtcbiAgICAgICAgICAgIGN1cnJlbnRJbWFnZVNpemUueSA9IE1hdGguZmxvb3IoY3VycmVudEltYWdlU2l6ZS55IC8gMik7XG4gICAgICAgICAgICBvcHRpb25zLmltYWdlU2l6ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogY3VycmVudEltYWdlU2l6ZS54LFxuICAgICAgICAgICAgICAgIHk6IGN1cnJlbnRJbWFnZVNpemUueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvcHRpb25zLmdyaWRTaXplLnB1c2godGhpcy5fZ2V0R3JpZFNpemUoY3VycmVudEltYWdlU2l6ZS54LCBjdXJyZW50SW1hZ2VTaXplLnksIG9wdGlvbnMudGlsZVNpemUpKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmltYWdlU2l6ZXMucmV2ZXJzZSgpO1xuICAgICAgICBvcHRpb25zLmdyaWRTaXplLnJldmVyc2UoKTtcbiAgICAgICAgb3B0aW9ucy5taW5MZXZlbCA9IDA7XG4gICAgICAgIG9wdGlvbnMubWF4TGV2ZWwgPSBvcHRpb25zLmdyaWRTaXplLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgT3BlblNlYWRyYWdvbi5UaWxlU291cmNlLmFwcGx5KHRoaXMsIFtvcHRpb25zXSk7XG4gICAgfTtcblxuICAgICQuZXh0ZW5kKCQuWm9vbWlmeVRpbGVTb3VyY2UucHJvdG90eXBlLCAkLlRpbGVTb3VyY2UucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uWm9vbWlmeVRpbGVTb3VyY2UucHJvdG90eXBlICovIHtcblxuICAgICAgICAvL3ByaXZhdGVcbiAgICAgICAgX2dldEdyaWRTaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCB0aWxlU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBNYXRoLmNlaWwod2lkdGggLyB0aWxlU2l6ZSksXG4gICAgICAgICAgICAgICAgeTogTWF0aC5jZWlsKGhlaWdodCAvIHRpbGVTaXplKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICAvL3ByaXZhdGVcbiAgICAgICAgX2NhbGN1bGF0ZUFic29sdXRlVGlsZU51bWJlcjogZnVuY3Rpb24obGV2ZWwsIHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBudW0gPSAwO1xuICAgICAgICAgICAgdmFyIHNpemUgPSB7fTtcblxuICAgICAgICAgICAgLy9TdW0gdXAgYWxsIHRpbGVzIGJlbG93IHRoZSBsZXZlbCB3ZSB3YW50IHRoZSBudW1iZXIgb2YgdGlsZXNcbiAgICAgICAgICAgIGZvciAodmFyIHogPSAwOyB6IDwgbGV2ZWw7IHorKykge1xuICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLmdyaWRTaXplW3pdO1xuICAgICAgICAgICAgICAgIG51bSArPSBzaXplLnggKiBzaXplLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0FkZCB0aGUgdGlsZXMgb2YgdGhlIGxldmVsXG4gICAgICAgICAgICBzaXplID0gdGhpcy5ncmlkU2l6ZVtsZXZlbF07XG4gICAgICAgICAgICBudW0gKz0gc2l6ZS54ICogeSArIHg7XG4gICAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIGRhdGEgYW5kL29yIHVybCBpbXBseSB0aGUgaW1hZ2Ugc2VydmljZSBpcyBzdXBwb3J0ZWQgYnlcbiAgICAgICAgICogdGhpcyB0aWxlIHNvdXJjZS5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25hbCAtIHVybFxuICAgICAgICAgKi9cbiAgICAgICAgc3VwcG9ydHM6IGZ1bmN0aW9uKGRhdGEsIHVybCkge1xuICAgICAgICAgICAgcmV0dXJuIChkYXRhLnR5cGUgJiYgXCJ6b29taWZ5dGlsZXNlcnZpY2VcIiA9PSBkYXRhLnR5cGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSB0aGUgcmF3IGNvbmZpZ3VyYXRpb25cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCAtIHRoZSB1cmwgdGhlIGRhdGEgd2FzIHJldHJlaXZlZCBmcm9tIGlmIGFueS5cbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBvcHRpb25zIC0gQSBkaWN0aW9uYXJ5IG9mIGtleXdvcmQgYXJndW1lbnRzIHN1ZmZpY2llbnRcbiAgICAgICAgICogICAgICB0byBjb25maWd1cmUgdGhpcyB0aWxlIHNvdXJjZXMgY29uc3RydWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBjb25maWd1cmU6IGZ1bmN0aW9uKGRhdGEsIHVybCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgICAgICovXG4gICAgICAgIGdldFRpbGVVcmw6IGZ1bmN0aW9uKGxldmVsLCB4LCB5KSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGxldmVsKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAwO1xuICAgICAgICAgICAgdmFyIG51bSA9IHRoaXMuX2NhbGN1bGF0ZUFic29sdXRlVGlsZU51bWJlcihsZXZlbCwgeCwgeSk7XG4gICAgICAgICAgICByZXN1bHQgPSBNYXRoLmZsb29yKG51bSAvIDI1Nik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aWxlc1VybCArICdUaWxlR3JvdXAnICsgcmVzdWx0ICsgJy8nICsgbGV2ZWwgKyAnLScgKyB4ICsgJy0nICsgeSArICcuanBnJztcblxuICAgICAgICB9XG4gICAgfSk7XG5cbn0oT3BlblNlYWRyYWdvbikpO1xuXG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gTGVnYWN5VGlsZVNvdXJjZVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLyoqXG4gKiBAY2xhc3MgTGVnYWN5VGlsZVNvdXJjZVxuICogQGNsYXNzZGVzYyBUaGUgTGVnYWN5VGlsZVNvdXJjZSBhbGxvd3Mgc2ltcGxlLCB0cmFkaXRpb25hbCBpbWFnZSBweXJhbWlkcyB0byBiZSBsb2FkZWRcbiAqIGludG8gYW4gT3BlblNlYWRyYWdvbiBWaWV3ZXIuICBCYXNpY2FsbHksIHRoaXMgdHJhbnNsYXRlcyB0byB0aGUgaGlzdG9yaWNhbGx5XG4gKiBjb21tb24gcHJhY3RpY2Ugb2Ygc3RhcnRpbmcgd2l0aCBhICdtYXN0ZXInIGltYWdlLCBtYXliZSBhIHRpZmYgZm9yIGV4YW1wbGUsXG4gKiBhbmQgZ2VuZXJhdGluZyBhIHNldCBvZiAnc2VydmljZScgaW1hZ2VzIGxpa2Ugb25lIG9yIG1vcmUgdGh1bWJuYWlscywgYSBtZWRpdW1cbiAqIHJlc29sdXRpb24gaW1hZ2UgYW5kIGEgaGlnaCByZXNvbHV0aW9uIGltYWdlIGluIHN0YW5kYXJkIHdlYiBmb3JtYXRzIGxpa2VcbiAqIHBuZyBvciBqcGcuXG4gKlxuICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAqIEBleHRlbmRzIE9wZW5TZWFkcmFnb24uVGlsZVNvdXJjZVxuICogQHBhcmFtIHtBcnJheX0gbGV2ZWxzIEFuIGFycmF5IG9mIGZpbGUgZGVzY3JpcHRpb25zLCBlYWNoIGlzIGFuIG9iamVjdCB3aXRoXG4gKiAgICAgIGEgJ3VybCcsIGEgJ3dpZHRoJywgYW5kIGEgJ2hlaWdodCcuICBPdmVycmlkaW5nIGNsYXNzZXMgY2FuIGV4cGVjdCBtb3JlXG4gKiAgICAgIHByb3BlcnRpZXMgYnV0IHRoZXNlIHByb3BlcnRpZXMgYXJlIHN1ZmZpY2llbnQgZm9yIHRoaXMgaW1wbGVtZW50YXRpb24uXG4gKiAgICAgIEFkZGl0aW9uYWxseSwgdGhlIGxldmVscyBhcmUgcmVxdWlyZWQgdG8gYmUgbGlzdGVkIGluIG9yZGVyIGZyb21cbiAqICAgICAgc21hbGxlc3QgdG8gbGFyZ2VzdC5cbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBhc3BlY3RSYXRpb1xuICogQHByb3BlcnR5IHtOdW1iZXJ9IGRpbWVuc2lvbnNcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSB0aWxlU2l6ZVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IHRpbGVPdmVybGFwXG4gKiBAcHJvcGVydHkge051bWJlcn0gbWluTGV2ZWxcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBtYXhMZXZlbFxuICogQHByb3BlcnR5IHtBcnJheX0gIGxldmVsc1xuICovXG4kLkxlZ2FjeVRpbGVTb3VyY2UgPSBmdW5jdGlvbiggbGV2ZWxzICkge1xuXG4gICAgdmFyIG9wdGlvbnMsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQ7XG5cbiAgICBpZiggJC5pc0FycmF5KCBsZXZlbHMgKSApe1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgdHlwZTogJ2xlZ2FjeS1pbWFnZS1weXJhbWlkJyxcbiAgICAgICAgICAgIGxldmVsczogbGV2ZWxzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy9jbGVhbiB1cCB0aGUgbGV2ZWxzIHRvIG1ha2Ugc3VyZSB3ZSBzdXBwb3J0IGFsbCBmb3JtYXRzXG4gICAgb3B0aW9ucy5sZXZlbHMgPSBmaWx0ZXJGaWxlcyggb3B0aW9ucy5sZXZlbHMgKTtcblxuICAgIGlmICggb3B0aW9ucy5sZXZlbHMubGVuZ3RoID4gMCApIHtcbiAgICAgICAgd2lkdGggPSBvcHRpb25zLmxldmVsc1sgb3B0aW9ucy5sZXZlbHMubGVuZ3RoIC0gMSBdLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmxldmVsc1sgb3B0aW9ucy5sZXZlbHMubGVuZ3RoIC0gMSBdLmhlaWdodDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIk5vIHN1cHBvcnRlZCBpbWFnZSBmb3JtYXRzIGZvdW5kXCIgKTtcbiAgICB9XG5cbiAgICAkLmV4dGVuZCggdHJ1ZSwgb3B0aW9ucywge1xuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB0aWxlU2l6ZTogTWF0aC5tYXgoIGhlaWdodCwgd2lkdGggKSxcbiAgICAgICAgdGlsZU92ZXJsYXA6IDAsXG4gICAgICAgIG1pbkxldmVsOiAwLFxuICAgICAgICBtYXhMZXZlbDogb3B0aW9ucy5sZXZlbHMubGVuZ3RoID4gMCA/IG9wdGlvbnMubGV2ZWxzLmxlbmd0aCAtIDEgOiAwXG4gICAgfSApO1xuXG4gICAgJC5UaWxlU291cmNlLmFwcGx5KCB0aGlzLCBbIG9wdGlvbnMgXSApO1xuXG4gICAgdGhpcy5sZXZlbHMgPSBvcHRpb25zLmxldmVscztcbn07XG5cbiQuZXh0ZW5kKCAkLkxlZ2FjeVRpbGVTb3VyY2UucHJvdG90eXBlLCAkLlRpbGVTb3VyY2UucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uTGVnYWN5VGlsZVNvdXJjZS5wcm90b3R5cGUgKi97XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lIGlmIHRoZSBkYXRhIGFuZC9vciB1cmwgaW1wbHkgdGhlIGltYWdlIHNlcnZpY2UgaXMgc3VwcG9ydGVkIGJ5XG4gICAgICogdGhpcyB0aWxlIHNvdXJjZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdHxBcnJheX0gZGF0YVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25hbCAtIHVybFxuICAgICAqL1xuICAgIHN1cHBvcnRzOiBmdW5jdGlvbiggZGF0YSwgdXJsICl7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBkYXRhLnR5cGUgJiZcbiAgICAgICAgICAgIFwibGVnYWN5LWltYWdlLXB5cmFtaWRcIiA9PSBkYXRhLnR5cGVcbiAgICAgICAgKSB8fCAoXG4gICAgICAgICAgICBkYXRhLmRvY3VtZW50RWxlbWVudCAmJlxuICAgICAgICAgICAgXCJsZWdhY3ktaW1hZ2UtcHlyYW1pZFwiID09IGRhdGEuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpXG4gICAgICAgICk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdHxYTUxEb2N1bWVudH0gY29uZmlndXJhdGlvbiAtIHRoZSByYXcgY29uZmlndXJhdGlvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhVXJsIC0gdGhlIHVybCB0aGUgZGF0YSB3YXMgcmV0cmVpdmVkIGZyb20gaWYgYW55LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb3B0aW9ucyAtIEEgZGljdGlvbmFyeSBvZiBrZXl3b3JkIGFyZ3VtZW50cyBzdWZmaWNpZW50XG4gICAgICogICAgICB0byBjb25maWd1cmUgdGhpcyB0aWxlIHNvdXJjZXMgY29uc3RydWN0b3IuXG4gICAgICovXG4gICAgY29uZmlndXJlOiBmdW5jdGlvbiggY29uZmlndXJhdGlvbiwgZGF0YVVybCApe1xuXG4gICAgICAgIHZhciBvcHRpb25zO1xuXG4gICAgICAgIGlmKCAhJC5pc1BsYWluT2JqZWN0KGNvbmZpZ3VyYXRpb24pICl7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb25maWd1cmVGcm9tWE1MKCB0aGlzLCBjb25maWd1cmF0aW9uICk7XG5cbiAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb25maWd1cmVGcm9tT2JqZWN0KCB0aGlzLCBjb25maWd1cmF0aW9uICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0aW9ucztcblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXRMZXZlbFNjYWxlOiBmdW5jdGlvbiAoIGxldmVsICkge1xuICAgICAgICB2YXIgbGV2ZWxTY2FsZSA9IE5hTjtcbiAgICAgICAgaWYgKCB0aGlzLmxldmVscy5sZW5ndGggPiAwICYmIGxldmVsID49IHRoaXMubWluTGV2ZWwgJiYgbGV2ZWwgPD0gdGhpcy5tYXhMZXZlbCApIHtcbiAgICAgICAgICAgIGxldmVsU2NhbGUgPVxuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzWyBsZXZlbCBdLndpZHRoIC9cbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsc1sgdGhpcy5tYXhMZXZlbCBdLndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsZXZlbFNjYWxlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKi9cbiAgICBnZXROdW1UaWxlczogZnVuY3Rpb24oIGxldmVsICkge1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldExldmVsU2NhbGUoIGxldmVsICk7XG4gICAgICAgIGlmICggc2NhbGUgKXtcbiAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCggMSwgMSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KCAwLCAwICk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkIGJ5IHRoaXMgY2xhc3Mgb3RoZXIgdGhhbiB0byB0aHJvdyBhbiBFcnJvclxuICAgICAqIGFubm91bmNpbmcgeW91IGhhdmUgdG8gaW1wbGVtZW50IGl0LiAgQmVjYXVzZSBvZiB0aGUgdmFyaWV0eSBvZiB0aWxlXG4gICAgICogc2VydmVyIHRlY2hub2xvZ2llcywgYW5kIHZhcmlvdXMgc3BlY2lmaWNhdGlvbnMgZm9yIGJ1aWxkaW5nIGltYWdlXG4gICAgICogcHlyYW1pZHMsIHRoaXMgbWV0aG9kIGlzIGhlcmUgdG8gYWxsb3cgZWFzeSBpbnRlZ3JhdGlvbi5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICovXG4gICAgZ2V0VGlsZVVybDogZnVuY3Rpb24gKCBsZXZlbCwgeCwgeSApIHtcbiAgICAgICAgdmFyIHVybCA9IG51bGw7XG4gICAgICAgIGlmICggdGhpcy5sZXZlbHMubGVuZ3RoID4gMCAmJiBsZXZlbCA+PSB0aGlzLm1pbkxldmVsICYmIGxldmVsIDw9IHRoaXMubWF4TGV2ZWwgKSB7XG4gICAgICAgICAgICB1cmwgPSB0aGlzLmxldmVsc1sgbGV2ZWwgXS51cmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG59ICk7XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmVtb3ZlcyBhbnkgZmlsZXMgZnJvbSB0aGUgQXJyYXkgd2hpY2ggZG9udCBjb25mb3JtIHRvIG91clxuICogYmFzaWMgcmVxdWlyZW1lbnRzIGZvciBhICdsZXZlbCcgaW4gdGhlIExlZ2FjeVRpbGVTb3VyY2UuXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZmlsdGVyRmlsZXMoIGZpbGVzICl7XG4gICAgdmFyIGZpbHRlcmVkID0gW10sXG4gICAgICAgIGZpbGUsXG4gICAgICAgIGk7XG4gICAgZm9yKCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrICl7XG4gICAgICAgIGZpbGUgPSBmaWxlc1sgaSBdO1xuICAgICAgICBpZiggZmlsZS5oZWlnaHQgJiZcbiAgICAgICAgICAgIGZpbGUud2lkdGggJiZcbiAgICAgICAgICAgIGZpbGUudXJsICl7XG4gICAgICAgICAgICAvL1RoaXMgaXMgc3VmZmljaWVudCB0byBzZXJ2ZSBhcyBhIGxldmVsXG4gICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKHtcbiAgICAgICAgICAgICAgICB1cmw6IGZpbGUudXJsLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBOdW1iZXIoIGZpbGUud2lkdGggKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IE51bWJlciggZmlsZS5oZWlnaHQgKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkLmNvbnNvbGUuZXJyb3IoICdVbnN1cHBvcnRlZCBpbWFnZSBmb3JtYXQ6ICVzJywgZmlsZS51cmwgPyBmaWxlLnVybCA6ICc8bm8gVVJMPicgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEuaGVpZ2h0IC0gYi5oZWlnaHQ7XG4gICAgfSk7XG5cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlRnJvbVhNTCggdGlsZVNvdXJjZSwgeG1sRG9jICl7XG5cbiAgICBpZiAoICF4bWxEb2MgfHwgIXhtbERvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvciggJC5nZXRTdHJpbmcoIFwiRXJyb3JzLlhtbFwiICkgKTtcbiAgICB9XG5cbiAgICB2YXIgcm9vdCAgICAgICAgID0geG1sRG9jLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgcm9vdE5hbWUgICAgID0gcm9vdC50YWdOYW1lLFxuICAgICAgICBjb25mICAgICAgICAgPSBudWxsLFxuICAgICAgICBsZXZlbHMgICAgICAgPSBbXSxcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIGk7XG5cbiAgICBpZiAoIHJvb3ROYW1lID09IFwiaW1hZ2VcIiApIHtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uZiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAgcm9vdC5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICksXG4gICAgICAgICAgICAgICAgbGV2ZWxzOiAgICAgIFtdXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXZlbHMgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcImxldmVsXCIgKTtcbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgIGxldmVsID0gbGV2ZWxzWyBpIF07XG5cbiAgICAgICAgICAgICAgICBjb25mLmxldmVscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAgICBsZXZlbC5nZXRBdHRyaWJ1dGUoIFwidXJsXCIgKSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICBwYXJzZUludCggbGV2ZWwuZ2V0QXR0cmlidXRlKCBcIndpZHRoXCIgKSwgMTAgKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludCggbGV2ZWwuZ2V0QXR0cmlidXRlKCBcImhlaWdodFwiICksIDEwIClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZUZyb21PYmplY3QoIHRpbGVTb3VyY2UsIGNvbmYgKTtcblxuICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgIHRocm93IChlIGluc3RhbmNlb2YgRXJyb3IpID9cbiAgICAgICAgICAgICAgICBlIDpcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoICdVbmtub3duIGVycm9yIHBhcnNpbmcgTGVnYWN5IEltYWdlIFB5cmFtaWQgWE1MLicgKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIHJvb3ROYW1lID09IFwiY29sbGVjdGlvblwiICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoICdMZWdhY3kgSW1hZ2UgUHlyYW1pZCBDb2xsZWN0aW9ucyBub3QgeWV0IHN1cHBvcnRlZC4nICk7XG4gICAgfSBlbHNlIGlmICggcm9vdE5hbWUgPT0gXCJlcnJvclwiICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoICdFcnJvcjogJyArIHhtbERvYyApO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvciggJ1Vua25vd24gZWxlbWVudCAnICsgcm9vdE5hbWUgKTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlRnJvbU9iamVjdCggdGlsZVNvdXJjZSwgY29uZmlndXJhdGlvbiApe1xuXG4gICAgcmV0dXJuIGNvbmZpZ3VyYXRpb24ubGV2ZWxzO1xuXG59XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gSW1hZ2VUaWxlU291cmNlXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiAoJCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIEltYWdlVGlsZVNvdXJjZVxuICAgICAqIEBjbGFzc2Rlc2MgVGhlIEltYWdlVGlsZVNvdXJjZSBhbGxvd3MgYSBzaW1wbGUgaW1hZ2UgdG8gYmUgbG9hZGVkXG4gICAgICogaW50byBhbiBPcGVuU2VhZHJhZ29uIFZpZXdlci5cbiAgICAgKiBUaGVyZSBhcmUgMiB3YXlzIHRvIG9wZW4gYW4gSW1hZ2VUaWxlU291cmNlOlxuICAgICAqIDEuIHZpZXdlci5vcGVuKHt0eXBlOiAnaW1hZ2UnLCB1cmw6IGZvb1VybH0pO1xuICAgICAqIDIuIHZpZXdlci5vcGVuKG5ldyBPcGVuU2VhZHJhZ29uLkltYWdlVGlsZVNvdXJjZSh7dXJsOiBmb29Vcmx9KSk7XG4gICAgICpcbiAgICAgKiBXaXRoIHRoZSBmaXJzdCBzeW50YXgsIHRoZSBjcm9zc09yaWdpblBvbGljeSwgYWpheFdpdGhDcmVkZW50aWFscyBhbmRcbiAgICAgKiB1c2VDYW52YXMgb3B0aW9ucyBhcmUgaW5oZXJpdGVkIGZyb20gdGhlIHZpZXdlciBpZiB0aGV5IGFyZSBub3RcbiAgICAgKiBzcGVjaWZpZWQgZGlyZWN0bHkgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlRpbGVTb3VyY2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy51cmwgVVJMIG9mIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYnVpbGRQeXJhbWlkPXRydWVdIElmIHNldCB0byB0cnVlIChkZWZhdWx0KSwgYVxuICAgICAqIHB5cmFtaWQgd2lsbCBiZSBidWlsdCBpbnRlcm5hbGx5IHRvIHByb3ZpZGUgYSBiZXR0ZXIgZG93bnNhbXBsaW5nLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5PWZhbHNlXSBWYWxpZCB2YWx1ZXMgYXJlXG4gICAgICogJ0Fub255bW91cycsICd1c2UtY3JlZGVudGlhbHMnLCBhbmQgZmFsc2UuIElmIGZhbHNlLCBpbWFnZSByZXF1ZXN0cyB3aWxsXG4gICAgICogbm90IHVzZSBDT1JTIHByZXZlbnRpbmcgaW50ZXJuYWwgcHlyYW1pZCBidWlsZGluZyBmb3IgaW1hZ2VzIGZyb20gb3RoZXJcbiAgICAgKiBkb21haW5zLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtvcHRpb25zLmFqYXhXaXRoQ3JlZGVudGlhbHM9ZmFsc2VdIFdoZXRoZXIgdG8gc2V0XG4gICAgICogdGhlIHdpdGhDcmVkZW50aWFscyBYSFIgZmxhZyBmb3IgQUpBWCByZXF1ZXN0cyAod2hlbiBsb2FkaW5nIHRpbGUgc291cmNlcykuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy51c2VDYW52YXM9dHJ1ZV0gU2V0IHRvIGZhbHNlIHRvIHByZXZlbnQgYW55IHVzZVxuICAgICAqIG9mIHRoZSBjYW52YXMgQVBJLlxuICAgICAqL1xuICAgICQuSW1hZ2VUaWxlU291cmNlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcblxuICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe1xuICAgICAgICAgICAgYnVpbGRQeXJhbWlkOiB0cnVlLFxuICAgICAgICAgICAgY3Jvc3NPcmlnaW5Qb2xpY3k6IGZhbHNlLFxuICAgICAgICAgICAgYWpheFdpdGhDcmVkZW50aWFsczogZmFsc2UsXG4gICAgICAgICAgICB1c2VDYW52YXM6IHRydWVcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICQuVGlsZVNvdXJjZS5hcHBseSh0aGlzLCBbb3B0aW9uc10pO1xuXG4gICAgfTtcblxuICAgICQuZXh0ZW5kKCQuSW1hZ2VUaWxlU291cmNlLnByb3RvdHlwZSwgJC5UaWxlU291cmNlLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkltYWdlVGlsZVNvdXJjZS5wcm90b3R5cGUgKi97XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIGRhdGEgYW5kL29yIHVybCBpbXBseSB0aGUgaW1hZ2Ugc2VydmljZSBpcyBzdXBwb3J0ZWQgYnlcbiAgICAgICAgICogdGhpcyB0aWxlIHNvdXJjZS5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBkYXRhXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25hbCAtIHVybFxuICAgICAgICAgKi9cbiAgICAgICAgc3VwcG9ydHM6IGZ1bmN0aW9uIChkYXRhLCB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnR5cGUgJiYgZGF0YS50eXBlID09PSBcImltYWdlXCI7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSB0aGUgb3B0aW9uc1xuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVVybCAtIHRoZSB1cmwgdGhlIGltYWdlIHdhcyByZXRyZWl2ZWQgZnJvbSwgaWYgYW55LlxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9wdGlvbnMgLSBBIGRpY3Rpb25hcnkgb2Yga2V5d29yZCBhcmd1bWVudHMgc3VmZmljaWVudFxuICAgICAgICAgKiAgICAgIHRvIGNvbmZpZ3VyZSB0aGlzIHRpbGUgc291cmNlcyBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICovXG4gICAgICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24gKG9wdGlvbnMsIGRhdGFVcmwpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzcG9uc2libGUgZm9yIHJldHJpZXZpbmcsIGFuZCBjYWNoaW5nIHRoZVxuICAgICAgICAgKiBpbWFnZSBtZXRhZGF0YSBwZXJ0aW5lbnQgdG8gdGhpcyBUaWxlU291cmNlcyBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAgICAgICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRJbWFnZUluZm86IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpblBvbGljeSkge1xuICAgICAgICAgICAgICAgIGltYWdlLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpblBvbGljeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmFqYXhXaXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBpbWFnZS51c2VDcmVkZW50aWFscyA9IHRoaXMuYWpheFdpdGhDcmVkZW50aWFscztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJC5hZGRFdmVudChpbWFnZSwgJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLyogSUU4IGZpeCBzaW5jZSBpdCBoYXMgbm8gbmF0dXJhbFdpZHRoIGFuZCBuYXR1cmFsSGVpZ2h0ICovXG4gICAgICAgICAgICAgICAgX3RoaXMud2lkdGggPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW1hZ2UsICduYXR1cmFsV2lkdGgnKSA/IGltYWdlLm5hdHVyYWxXaWR0aCA6IGltYWdlLndpZHRoO1xuICAgICAgICAgICAgICAgIF90aGlzLmhlaWdodCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbWFnZSwgJ25hdHVyYWxIZWlnaHQnKSA/IGltYWdlLm5hdHVyYWxIZWlnaHQgOiBpbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgX3RoaXMuYXNwZWN0UmF0aW8gPSBfdGhpcy53aWR0aCAvIF90aGlzLmhlaWdodDtcbiAgICAgICAgICAgICAgICBfdGhpcy5kaW1lbnNpb25zID0gbmV3ICQuUG9pbnQoX3RoaXMud2lkdGgsIF90aGlzLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RpbGVXaWR0aCA9IF90aGlzLndpZHRoO1xuICAgICAgICAgICAgICAgIF90aGlzLl90aWxlSGVpZ2h0ID0gX3RoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIF90aGlzLnRpbGVPdmVybGFwID0gMDtcbiAgICAgICAgICAgICAgICBfdGhpcy5taW5MZXZlbCA9IDA7XG4gICAgICAgICAgICAgICAgX3RoaXMubGV2ZWxzID0gX3RoaXMuX2J1aWxkTGV2ZWxzKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMubWF4TGV2ZWwgPSBfdGhpcy5sZXZlbHMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIF90aGlzLnJlYWR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgZXZlbnQgaXMgZG9jdW1lbnRlZCBlbHNld2hlcmUsIGluIFRpbGVTb3VyY2VcbiAgICAgICAgICAgICAgICBfdGhpcy5yYWlzZUV2ZW50KCdyZWFkeScsIHt0aWxlU291cmNlOiBfdGhpc30pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQuYWRkRXZlbnQoaW1hZ2UsICdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGV2ZW50IGlzIGRvY3VtZW50ZWQgZWxzZXdoZXJlLCBpbiBUaWxlU291cmNlXG4gICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCgnb3Blbi1mYWlsZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRXJyb3IgbG9hZGluZyBpbWFnZSBhdCBcIiArIHVybCxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB1cmxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSB1cmw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMZXZlbFNjYWxlOiBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgICAgIHZhciBsZXZlbFNjYWxlID0gTmFOO1xuICAgICAgICAgICAgaWYgKGxldmVsID49IHRoaXMubWluTGV2ZWwgJiYgbGV2ZWwgPD0gdGhpcy5tYXhMZXZlbCkge1xuICAgICAgICAgICAgICAgIGxldmVsU2NhbGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sZXZlbHNbbGV2ZWxdLndpZHRoIC9cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxzW3RoaXMubWF4TGV2ZWxdLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxldmVsU2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gICAgICAgICAqL1xuICAgICAgICBnZXROdW1UaWxlczogZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLmdldExldmVsU2NhbGUobGV2ZWwpO1xuICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KDEsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgYSB0aWxlIHVybFxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIExldmVsIG9mIHRoZSB0aWxlXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHggY29vcmRpbmF0ZSBvZiB0aGUgdGlsZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geSB5IGNvb3JkaW5hdGUgb2YgdGhlIHRpbGVcbiAgICAgICAgICovXG4gICAgICAgIGdldFRpbGVVcmw6IGZ1bmN0aW9uIChsZXZlbCwgeCwgeSkge1xuICAgICAgICAgICAgdmFyIHVybCA9IG51bGw7XG4gICAgICAgICAgICBpZiAobGV2ZWwgPj0gdGhpcy5taW5MZXZlbCAmJiBsZXZlbCA8PSB0aGlzLm1heExldmVsKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gdGhpcy5sZXZlbHNbbGV2ZWxdLnVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1cmw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgYSB0aWxlIGNvbnRleHQgMkRcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCBMZXZlbCBvZiB0aGUgdGlsZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geCB4IGNvb3JkaW5hdGUgb2YgdGhlIHRpbGVcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgeSBjb29yZGluYXRlIG9mIHRoZSB0aWxlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDb250ZXh0MkQ6IGZ1bmN0aW9uIChsZXZlbCwgeCwgeSkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGxldmVsID49IHRoaXMubWluTGV2ZWwgJiYgbGV2ZWwgPD0gdGhpcy5tYXhMZXZlbCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmxldmVsc1tsZXZlbF0uY29udGV4dDJEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gcHJpdmF0ZVxuICAgICAgICAvL1xuICAgICAgICAvLyBCdWlsZHMgdGhlIGRpZmZlcmVudHMgbGV2ZWxzIG9mIHRoZSBweXJhbWlkIGlmIHBvc3NpYmxlXG4gICAgICAgIC8vIChpLmUuIGlmIGNhbnZhcyBBUEkgZW5hYmxlZCBhbmQgbm8gY2FudmFzIHRhaW50aW5nIGlzc3VlKS5cbiAgICAgICAgX2J1aWxkTGV2ZWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWxzID0gW3tcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB0aGlzLl9pbWFnZS5zcmMsXG4gICAgICAgICAgICAgICAgICAgIC8qIElFOCBmaXggc2luY2UgaXQgaGFzIG5vIG5hdHVyYWxXaWR0aCBhbmQgbmF0dXJhbEhlaWdodCAqL1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2ltYWdlLCAnbmF0dXJhbFdpZHRoJykgPyB0aGlzLl9pbWFnZS5uYXR1cmFsV2lkdGggOiB0aGlzLl9pbWFnZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2ltYWdlLCAnbmF0dXJhbEhlaWdodCcpID8gdGhpcy5faW1hZ2UubmF0dXJhbEhlaWdodCA6IHRoaXMuX2ltYWdlLmhlaWdodFxuICAgICAgICAgICAgICAgIH1dO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuYnVpbGRQeXJhbWlkIHx8ICEkLnN1cHBvcnRzQ2FudmFzIHx8ICF0aGlzLnVzZUNhbnZhcykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdGhlIGltYWdlIGFueW1vcmUuIEFsbG93cyBpdCB0byBiZSBHQy5cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5faW1hZ2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogSUU4IGZpeCBzaW5jZSBpdCBoYXMgbm8gbmF0dXJhbFdpZHRoIGFuZCBuYXR1cmFsSGVpZ2h0ICovXG4gICAgICAgICAgICB2YXIgY3VycmVudFdpZHRoID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2ltYWdlLCAnbmF0dXJhbFdpZHRoJykgPyB0aGlzLl9pbWFnZS5uYXR1cmFsV2lkdGggOiB0aGlzLl9pbWFnZS53aWR0aDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50SGVpZ2h0ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2ltYWdlLCAnbmF0dXJhbEhlaWdodCcpID8gdGhpcy5faW1hZ2UubmF0dXJhbEhlaWdodCA6IHRoaXMuX2ltYWdlLmhlaWdodDtcblxuXG4gICAgICAgICAgICB2YXIgYmlnQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICAgIHZhciBiaWdDb250ZXh0ID0gYmlnQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICAgICAgYmlnQ2FudmFzLndpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICAgICAgYmlnQ2FudmFzLmhlaWdodCA9IGN1cnJlbnRIZWlnaHQ7XG4gICAgICAgICAgICBiaWdDb250ZXh0LmRyYXdJbWFnZSh0aGlzLl9pbWFnZSwgMCwgMCwgY3VycmVudFdpZHRoLCBjdXJyZW50SGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFdlIGNhY2hlIHRoZSBjb250ZXh0IG9mIHRoZSBoaWdoZXN0IGxldmVsIGJlY2F1c2UgdGhlIGJyb3dzZXJcbiAgICAgICAgICAgIC8vIGlzIGEgbG90IGZhc3RlciBhdCBkb3duc2FtcGxpbmcgc29tZXRoaW5nIGl0IGFscmVhZHkgaGFzXG4gICAgICAgICAgICAvLyBkb3duc2FtcGxlZCBiZWZvcmUuXG4gICAgICAgICAgICBsZXZlbHNbMF0uY29udGV4dDJEID0gYmlnQ29udGV4dDtcbiAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdGhlIGltYWdlIGFueW1vcmUuIEFsbG93cyBpdCB0byBiZSBHQy5cbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9pbWFnZTtcblxuICAgICAgICAgICAgaWYgKCQuaXNDYW52YXNUYWludGVkKGJpZ0NhbnZhcykpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2FudmFzIGlzIHRhaW50ZWQsIHdlIGNhbid0IGNvbXB1dGUgdGhlIHB5cmFtaWQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV2UgYnVpbGQgc21hbGxlciBsZXZlbHMgdW50aWwgZWl0aGVyIHdpZHRoIG9yIGhlaWdodCBiZWNvbWVzXG4gICAgICAgICAgICAvLyAxIHBpeGVsIHdpZGUuXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudFdpZHRoID49IDIgJiYgY3VycmVudEhlaWdodCA+PSAyKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFdpZHRoID0gTWF0aC5mbG9vcihjdXJyZW50V2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SGVpZ2h0ID0gTWF0aC5mbG9vcihjdXJyZW50SGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgdmFyIHNtYWxsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgc21hbGxDb250ZXh0ID0gc21hbGxDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgICAgIHNtYWxsQ2FudmFzLndpZHRoID0gY3VycmVudFdpZHRoO1xuICAgICAgICAgICAgICAgIHNtYWxsQ2FudmFzLmhlaWdodCA9IGN1cnJlbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgc21hbGxDb250ZXh0LmRyYXdJbWFnZShiaWdDYW52YXMsIDAsIDAsIGN1cnJlbnRXaWR0aCwgY3VycmVudEhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICBsZXZlbHMuc3BsaWNlKDAsIDAsIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDJEOiBzbWFsbENvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjdXJyZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogY3VycmVudEhlaWdodFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYmlnQ2FudmFzID0gc21hbGxDYW52YXM7XG4gICAgICAgICAgICAgICAgYmlnQ29udGV4dCA9IHNtYWxsQ29udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsZXZlbHM7XG4gICAgICAgIH1cbiAgICB9KTtcblxufShPcGVuU2VhZHJhZ29uKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gVGlsZVNvdXJjZUNvbGxlY3Rpb25cbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDkgQ29kZVBsZXggRm91bmRhdGlvblxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMTMgT3BlblNlYWRyYWdvbiBjb250cmlidXRvcnNcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgQ29kZVBsZXggRm91bmRhdGlvbiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRFxuICogVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcblxuLy8gZGVwcmVjYXRlZFxuJC5UaWxlU291cmNlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKHRpbGVTaXplLCB0aWxlU291cmNlcywgcm93cywgbGF5b3V0KSB7XG4gICAgJC5jb25zb2xlLmVycm9yKCdUaWxlU291cmNlQ29sbGVjdGlvbiBpcyBkZXByZWNhdGVkOyB1c2UgV29ybGQgaW5zdGVhZCcpO1xufTtcblxufShPcGVuU2VhZHJhZ29uKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gQnV0dG9uXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vKipcbiAqIEFuIGVudW1lcmF0aW9uIG9mIGJ1dHRvbiBzdGF0ZXNcbiAqIEBtZW1iZXIgQnV0dG9uU3RhdGVcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAc3RhdGljXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQHByb3BlcnR5IHtOdW1iZXJ9IFJFU1RcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBHUk9VUFxuICogQHByb3BlcnR5IHtOdW1iZXJ9IEhPVkVSXG4gKiBAcHJvcGVydHkge051bWJlcn0gRE9XTlxuICovXG4kLkJ1dHRvblN0YXRlID0ge1xuICAgIFJFU1Q6ICAgMCxcbiAgICBHUk9VUDogIDEsXG4gICAgSE9WRVI6ICAyLFxuICAgIERPV046ICAgM1xufTtcblxuLyoqXG4gKiBAY2xhc3MgQnV0dG9uXG4gKiBAY2xhc3NkZXNjIE1hbmFnZXMgZXZlbnRzLCBob3ZlciBzdGF0ZXMgZm9yIGluZGl2aWR1YWwgYnV0dG9ucywgdG9vbC10aXBzLCBhcyB3ZWxsXG4gKiBhcyBmYWRpbmcgdGhlIGJ1dHRvbnMgb3V0IHdoZW4gdGhlIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlbVxuICogZm9yIGEgc3BlY2lmaWVkIHBlcmlvZC5cbiAqXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQGV4dGVuZHMgT3BlblNlYWRyYWdvbi5FdmVudFNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7RWxlbWVudH0gW29wdGlvbnMuZWxlbWVudD1udWxsXSBFbGVtZW50IHRvIHVzZSBhcyB0aGUgYnV0dG9uLiBJZiBub3Qgc3BlY2lmaWVkLCBhbiBIVE1MICZsdDtkaXYmZ3Q7IGVsZW1lbnQgaXMgY3JlYXRlZC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy50b29sdGlwPW51bGxdIFByb3ZpZGVzIGNvbnRleHQgaGVscCBmb3IgdGhlIGJ1dHRvbiB3aGVuIHRoZVxuICogIHVzZXIgaG92ZXJzIG92ZXIgaXQuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc3JjUmVzdD1udWxsXSBVUkwgb2YgaW1hZ2UgdG8gdXNlIGluICdyZXN0JyBzdGF0ZS5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zcmNHcm91cD1udWxsXSBVUkwgb2YgaW1hZ2UgdG8gdXNlIGluICd1cCcgc3RhdGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuc3JjSG92ZXI9bnVsbF0gVVJMIG9mIGltYWdlIHRvIHVzZSBpbiAnaG92ZXInIHN0YXRlLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNyY0Rvd249bnVsbF0gVVJMIG9mIGltYWdlIHRvIHVzZSBpbiAnZG93bicgc3RhdGUuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZmFkZURlbGF5PTBdIEhvdyBsb25nIHRvIHdhaXQgYmVmb3JlIGZhZGluZy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5mYWRlTGVuZ3RoPTIwMDBdIEhvdyBsb25nIHNob3VsZCBpdCB0YWtlIHRvIGZhZGUgdGhlIGJ1dHRvbi5cbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLm9uUHJlc3M9bnVsbF0gRXZlbnQgaGFuZGxlciBjYWxsYmFjayBmb3Ige0BsaW5rIE9wZW5TZWFkcmFnb24uQnV0dG9uLmV2ZW50OnByZXNzfS5cbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5FdmVudEhhbmRsZXJ9IFtvcHRpb25zLm9uUmVsZWFzZT1udWxsXSBFdmVudCBoYW5kbGVyIGNhbGxiYWNrIGZvciB7QGxpbmsgT3BlblNlYWRyYWdvbi5CdXR0b24uZXZlbnQ6cmVsZWFzZX0uXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBbb3B0aW9ucy5vbkNsaWNrPW51bGxdIEV2ZW50IGhhbmRsZXIgY2FsbGJhY2sgZm9yIHtAbGluayBPcGVuU2VhZHJhZ29uLkJ1dHRvbi5ldmVudDpjbGlja30uXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBbb3B0aW9ucy5vbkVudGVyPW51bGxdIEV2ZW50IGhhbmRsZXIgY2FsbGJhY2sgZm9yIHtAbGluayBPcGVuU2VhZHJhZ29uLkJ1dHRvbi5ldmVudDplbnRlcn0uXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRXZlbnRIYW5kbGVyfSBbb3B0aW9ucy5vbkV4aXQ9bnVsbF0gRXZlbnQgaGFuZGxlciBjYWxsYmFjayBmb3Ige0BsaW5rIE9wZW5TZWFkcmFnb24uQnV0dG9uLmV2ZW50OmV4aXR9LlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMub25Gb2N1cz1udWxsXSBFdmVudCBoYW5kbGVyIGNhbGxiYWNrIGZvciB7QGxpbmsgT3BlblNlYWRyYWdvbi5CdXR0b24uZXZlbnQ6Zm9jdXN9LlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLkV2ZW50SGFuZGxlcn0gW29wdGlvbnMub25CbHVyPW51bGxdIEV2ZW50IGhhbmRsZXIgY2FsbGJhY2sgZm9yIHtAbGluayBPcGVuU2VhZHJhZ29uLkJ1dHRvbi5ldmVudDpibHVyfS5cbiAqL1xuJC5CdXR0b24gPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAkLkV2ZW50U291cmNlLmNhbGwoIHRoaXMgKTtcblxuICAgICQuZXh0ZW5kKCB0cnVlLCB0aGlzLCB7XG5cbiAgICAgICAgdG9vbHRpcDogICAgICAgICAgICBudWxsLFxuICAgICAgICBzcmNSZXN0OiAgICAgICAgICAgIG51bGwsXG4gICAgICAgIHNyY0dyb3VwOiAgICAgICAgICAgbnVsbCxcbiAgICAgICAgc3JjSG92ZXI6ICAgICAgICAgICBudWxsLFxuICAgICAgICBzcmNEb3duOiAgICAgICAgICAgIG51bGwsXG4gICAgICAgIGNsaWNrVGltZVRocmVzaG9sZDogJC5ERUZBVUxUX1NFVFRJTkdTLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgY2xpY2tEaXN0VGhyZXNob2xkOiAkLkRFRkFVTFRfU0VUVElOR1MuY2xpY2tEaXN0VGhyZXNob2xkLFxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IGxvbmcgdG8gd2FpdCBiZWZvcmUgZmFkaW5nLlxuICAgICAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IGZhZGVEZWxheVxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b24jXG4gICAgICAgICAqL1xuICAgICAgICBmYWRlRGVsYXk6ICAgICAgICAgIDAsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgbG9uZyBzaG91bGQgaXQgdGFrZSB0byBmYWRlIHRoZSBidXR0b24uXG4gICAgICAgICAqIEBtZW1iZXIge051bWJlcn0gZmFkZUxlbmd0aFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b24jXG4gICAgICAgICAqL1xuICAgICAgICBmYWRlTGVuZ3RoOiAgICAgICAgIDIwMDAsXG4gICAgICAgIG9uUHJlc3M6ICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgb25SZWxlYXNlOiAgICAgICAgICBudWxsLFxuICAgICAgICBvbkNsaWNrOiAgICAgICAgICAgIG51bGwsXG4gICAgICAgIG9uRW50ZXI6ICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgb25FeGl0OiAgICAgICAgICAgICBudWxsLFxuICAgICAgICBvbkZvY3VzOiAgICAgICAgICAgIG51bGwsXG4gICAgICAgIG9uQmx1cjogICAgICAgICAgICAgbnVsbFxuXG4gICAgfSwgb3B0aW9ucyApO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJ1dHRvbiBlbGVtZW50LlxuICAgICAqIEBtZW1iZXIge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b24jXG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50IHx8ICQubWFrZU5ldXRyYWxFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgLy9pZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkIHRoZSBlbGVtZW50IHRvIGJpbmQgdGhlIGNvbnRyb2wgdG8gZXhwbGljaXRseVxuICAgIC8vdGhlbiBkbyBub3QgYWRkIHRoZSBkZWZhdWx0IGNvbnRyb2wgaW1hZ2VzXG4gICAgaWYgKCAhb3B0aW9ucy5lbGVtZW50ICkge1xuICAgICAgICB0aGlzLmltZ1Jlc3QgICAgICA9ICQubWFrZVRyYW5zcGFyZW50SW1hZ2UoIHRoaXMuc3JjUmVzdCApO1xuICAgICAgICB0aGlzLmltZ0dyb3VwICAgICA9ICQubWFrZVRyYW5zcGFyZW50SW1hZ2UoIHRoaXMuc3JjR3JvdXAgKTtcbiAgICAgICAgdGhpcy5pbWdIb3ZlciAgICAgPSAkLm1ha2VUcmFuc3BhcmVudEltYWdlKCB0aGlzLnNyY0hvdmVyICk7XG4gICAgICAgIHRoaXMuaW1nRG93biAgICAgID0gJC5tYWtlVHJhbnNwYXJlbnRJbWFnZSggdGhpcy5zcmNEb3duICk7XG5cbiAgICAgICAgdGhpcy5pbWdSZXN0LmFsdCAgPVxuICAgICAgICB0aGlzLmltZ0dyb3VwLmFsdCA9XG4gICAgICAgIHRoaXMuaW1nSG92ZXIuYWx0ID1cbiAgICAgICAgdGhpcy5pbWdEb3duLmFsdCAgPVxuICAgICAgICAgICAgdGhpcy50b29sdGlwO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgJC5zZXRFbGVtZW50VG91Y2hBY3Rpb25Ob25lKCB0aGlzLmVsZW1lbnQgKTtcblxuICAgICAgICB0aGlzLmltZ0dyb3VwLnN0eWxlLnBvc2l0aW9uID1cbiAgICAgICAgdGhpcy5pbWdIb3Zlci5zdHlsZS5wb3NpdGlvbiA9XG4gICAgICAgIHRoaXMuaW1nRG93bi5zdHlsZS5wb3NpdGlvbiAgPVxuICAgICAgICAgICAgXCJhYnNvbHV0ZVwiO1xuXG4gICAgICAgIHRoaXMuaW1nR3JvdXAuc3R5bGUudG9wID1cbiAgICAgICAgdGhpcy5pbWdIb3Zlci5zdHlsZS50b3AgPVxuICAgICAgICB0aGlzLmltZ0Rvd24uc3R5bGUudG9wICA9XG4gICAgICAgICAgICBcIjBweFwiO1xuXG4gICAgICAgIHRoaXMuaW1nR3JvdXAuc3R5bGUubGVmdCA9XG4gICAgICAgIHRoaXMuaW1nSG92ZXIuc3R5bGUubGVmdCA9XG4gICAgICAgIHRoaXMuaW1nRG93bi5zdHlsZS5sZWZ0ICA9XG4gICAgICAgICAgICBcIjBweFwiO1xuXG4gICAgICAgIHRoaXMuaW1nSG92ZXIuc3R5bGUudmlzaWJpbGl0eSA9XG4gICAgICAgIHRoaXMuaW1nRG93bi5zdHlsZS52aXNpYmlsaXR5ICA9XG4gICAgICAgICAgICBcImhpZGRlblwiO1xuXG4gICAgICAgIGlmICgkLkJyb3dzZXIudmVuZG9yID09ICQuQlJPV1NFUlMuRklSRUZPWCAmJiAkLkJyb3dzZXIudmVyc2lvbiA8IDMpIHtcbiAgICAgICAgICAgIHRoaXMuaW1nR3JvdXAuc3R5bGUudG9wID1cbiAgICAgICAgICAgIHRoaXMuaW1nSG92ZXIuc3R5bGUudG9wID1cbiAgICAgICAgICAgIHRoaXMuaW1nRG93bi5zdHlsZS50b3AgID1cbiAgICAgICAgICAgICAgICBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKCB0aGlzLmltZ1Jlc3QgKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKCB0aGlzLmltZ0dyb3VwICk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCggdGhpcy5pbWdIb3ZlciApO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoIHRoaXMuaW1nRG93biApO1xuICAgIH1cblxuXG4gICAgdGhpcy5hZGRIYW5kbGVyKFwicHJlc3NcIiwgdGhpcy5vblByZXNzKTtcbiAgICB0aGlzLmFkZEhhbmRsZXIoXCJyZWxlYXNlXCIsIHRoaXMub25SZWxlYXNlKTtcbiAgICB0aGlzLmFkZEhhbmRsZXIoXCJjbGlja1wiLCB0aGlzLm9uQ2xpY2spO1xuICAgIHRoaXMuYWRkSGFuZGxlcihcImVudGVyXCIsIHRoaXMub25FbnRlcik7XG4gICAgdGhpcy5hZGRIYW5kbGVyKFwiZXhpdFwiLCB0aGlzLm9uRXhpdCk7XG4gICAgdGhpcy5hZGRIYW5kbGVyKFwiZm9jdXNcIiwgdGhpcy5vbkZvY3VzKTtcbiAgICB0aGlzLmFkZEhhbmRsZXIoXCJibHVyXCIsIHRoaXMub25CbHVyKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBidXR0b24ncyBjdXJyZW50IHN0YXRlLlxuICAgICAqIEBtZW1iZXIge09wZW5TZWFkcmFnb24uQnV0dG9uU3RhdGV9IGN1cnJlbnRTdGF0ZVxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLkJ1dHRvbiNcbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9ICQuQnV0dG9uU3RhdGUuR1JPVVA7XG5cbiAgICAvLyBXaGVuIHRoZSBidXR0b24gbGFzdCBiZWdhbiB0byBmYWRlLlxuICAgIHRoaXMuZmFkZUJlZ2luVGltZSAgPSBudWxsO1xuICAgIC8vIFdoZXRoZXIgdGhpcyBidXR0b24gc2hvdWxkIGZhZGUgYWZ0ZXIgdXNlciBzdG9wcyBpbnRlcmFjdGluZyB3aXRoIHRoZSB2aWV3cG9ydC5cbiAgICB0aGlzLnNob3VsZEZhZGUgICAgID0gZmFsc2U7XG5cbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSAgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICB0aGlzLmVsZW1lbnQudGl0bGUgICAgICAgICAgPSB0aGlzLnRvb2x0aXA7XG5cbiAgICAvKipcbiAgICAgKiBUcmFja3MgbW91c2UvdG91Y2gva2V5IGV2ZW50cyBvbiB0aGUgYnV0dG9uLlxuICAgICAqIEBtZW1iZXIge09wZW5TZWFkcmFnb24uTW91c2VUcmFja2VyfSB0cmFja2VyXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQnV0dG9uI1xuICAgICAqL1xuICAgIHRoaXMudHJhY2tlciA9IG5ldyAkLk1vdXNlVHJhY2tlcih7XG5cbiAgICAgICAgZWxlbWVudDogICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgIGNsaWNrVGltZVRocmVzaG9sZDogdGhpcy5jbGlja1RpbWVUaHJlc2hvbGQsXG4gICAgICAgIGNsaWNrRGlzdFRocmVzaG9sZDogdGhpcy5jbGlja0Rpc3RUaHJlc2hvbGQsXG5cbiAgICAgICAgZW50ZXJIYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBpZiAoIGV2ZW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkICkge1xuICAgICAgICAgICAgICAgIGluVG8oIF90aGlzLCAkLkJ1dHRvblN0YXRlLkRPV04gKTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgY3Vyc29yIGVudGVycyB0aGUgQnV0dG9uIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZXZlbnQgZW50ZXJcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b25cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5CdXR0b259IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIEJ1dHRvbiB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggXCJlbnRlclwiLCB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfSApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICggIWV2ZW50LmJ1dHRvbkRvd25BbnkgKSB7XG4gICAgICAgICAgICAgICAgaW5UbyggX3RoaXMsICQuQnV0dG9uU3RhdGUuSE9WRVIgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBmb2N1c0hhbmRsZXI6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG4gICAgICAgICAgICB0aGlzLmVudGVySGFuZGxlciggZXZlbnQgKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIEJ1dHRvbiBlbGVtZW50IHJlY2VpdmVzIGZvY3VzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBmb2N1c1xuICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQnV0dG9uXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLkJ1dHRvbn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgQnV0dG9uIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLnJhaXNlRXZlbnQoIFwiZm9jdXNcIiwgeyBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50IH0gKTtcbiAgICAgICAgfSxcblxuICAgICAgICBleGl0SGFuZGxlcjogZnVuY3Rpb24oIGV2ZW50ICkge1xuICAgICAgICAgICAgb3V0VG8oIF90aGlzLCAkLkJ1dHRvblN0YXRlLkdST1VQICk7XG4gICAgICAgICAgICBpZiAoIGV2ZW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkICkge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSBjdXJzb3IgbGVhdmVzIHRoZSBCdXR0b24gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBldmVudCBleGl0XG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQnV0dG9uXG4gICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uQnV0dG9ufSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBCdXR0b24gd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIF90aGlzLnJhaXNlRXZlbnQoIFwiZXhpdFwiLCB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJsdXJIYW5kbGVyOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuICAgICAgICAgICAgdGhpcy5leGl0SGFuZGxlciggZXZlbnQgKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIEJ1dHRvbiBlbGVtZW50IGxvc2VzIGZvY3VzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBibHVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b25cbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uQnV0dG9ufSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBCdXR0b24gd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggXCJibHVyXCIsIHsgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCB9ICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJlc3NIYW5kbGVyOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuICAgICAgICAgICAgaW5UbyggX3RoaXMsICQuQnV0dG9uU3RhdGUuRE9XTiApO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiBhIG1vdXNlIGJ1dHRvbiBpcyBwcmVzc2VkIG9yIHRvdWNoIG9jY3VycyBpbiB0aGUgQnV0dG9uIGVsZW1lbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IHByZXNzXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b25cbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uQnV0dG9ufSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBCdXR0b24gd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggXCJwcmVzc1wiLCB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfSApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbGVhc2VIYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICBpZiAoIGV2ZW50Lmluc2lkZUVsZW1lbnRQcmVzc2VkICYmIGV2ZW50Lmluc2lkZUVsZW1lbnRSZWxlYXNlZCApIHtcbiAgICAgICAgICAgICAgICBvdXRUbyggX3RoaXMsICQuQnV0dG9uU3RhdGUuSE9WRVIgKTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgbW91c2UgYnV0dG9uIGlzIHJlbGVhc2VkIG9yIHRvdWNoIGVuZHMgaW4gdGhlIEJ1dHRvbiBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IHJlbGVhc2VcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b25cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5CdXR0b259IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIEJ1dHRvbiB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudCggXCJyZWxlYXNlXCIsIHsgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCB9ICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5pbnNpZGVFbGVtZW50UHJlc3NlZCApIHtcbiAgICAgICAgICAgICAgICBvdXRUbyggX3RoaXMsICQuQnV0dG9uU3RhdGUuR1JPVVAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5UbyggX3RoaXMsICQuQnV0dG9uU3RhdGUuSE9WRVIgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjbGlja0hhbmRsZXI6IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgICAgICAgICAgIGlmICggZXZlbnQucXVpY2sgKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gYSBtb3VzZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb3IgdG91Y2ggaXMgaW5pdGlhdGVkIGFuZCBlbmRlZCBpbiB0aGUgQnV0dG9uIGVsZW1lbnQgd2l0aGluIHRoZSB0aW1lIGFuZCBkaXN0YW5jZSB0aHJlc2hvbGQuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZXZlbnQgY2xpY2tcbiAgICAgICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b25cbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5CdXR0b259IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIEJ1dHRvbiB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IC0gVGhlIG9yaWdpbmFsIERPTSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgX3RoaXMucmFpc2VFdmVudChcImNsaWNrXCIsIHsgb3JpZ2luYWxFdmVudDogZXZlbnQub3JpZ2luYWxFdmVudCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBrZXlIYW5kbGVyOiBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coIFwiJXMgOiBoYW5kbGluZyBrZXkgJXMhXCIsIF90aGlzLnRvb2x0aXAsIGV2ZW50LmtleUNvZGUpO1xuICAgICAgICAgICAgaWYoIDEzID09PSBldmVudC5rZXlDb2RlICl7XG4gICAgICAgICAgICAgICAgLyoqKlxuICAgICAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIGEgbW91c2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9yIHRvdWNoIGlzIGluaXRpYXRlZCBhbmQgZW5kZWQgaW4gdGhlIEJ1dHRvbiBlbGVtZW50IHdpdGhpbiB0aGUgdGltZSBhbmQgZGlzdGFuY2UgdGhyZXNob2xkLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGV2ZW50IGNsaWNrXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQnV0dG9uXG4gICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uQnV0dG9ufSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBCdXR0b24gd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIF90aGlzLnJhaXNlRXZlbnQoIFwiY2xpY2tcIiwgeyBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50IH0gKTtcbiAgICAgICAgICAgICAgICAvKioqXG4gICAgICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIG1vdXNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvciB0b3VjaCBlbmRzIGluIHRoZSBCdXR0b24gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBldmVudCByZWxlYXNlXG4gICAgICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQnV0dG9uXG4gICAgICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uQnV0dG9ufSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBCdXR0b24gd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gb3JpZ2luYWxFdmVudCAtIFRoZSBvcmlnaW5hbCBET00gZXZlbnQuXG4gICAgICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIF90aGlzLnJhaXNlRXZlbnQoIFwicmVsZWFzZVwiLCB7IG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQgfSApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIG91dFRvKCB0aGlzLCAkLkJ1dHRvblN0YXRlLlJFU1QgKTtcbn07XG5cbiQuZXh0ZW5kKCAkLkJ1dHRvbi5wcm90b3R5cGUsICQuRXZlbnRTb3VyY2UucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uQnV0dG9uLnByb3RvdHlwZSAqL3tcblxuICAgIC8qKlxuICAgICAqIFRPRE86IERldGVybWluZSB3aGF0IHRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gZG8gYW5kIGlmIGl0J3MgYWN0dWFsbHlcbiAgICAgKiB1c2VmdWwgYXMgYW4gQVBJIHBvaW50LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIG5vdGlmeUdyb3VwRW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpblRvKCB0aGlzLCAkLkJ1dHRvblN0YXRlLkdST1VQICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRPRE86IERldGVybWluZSB3aGF0IHRoaXMgZnVuY3Rpb24gaXMgaW50ZW5kZWQgdG8gZG8gYW5kIGlmIGl0J3MgYWN0dWFsbHlcbiAgICAgKiB1c2VmdWwgYXMgYW4gQVBJIHBvaW50LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIG5vdGlmeUdyb3VwRXhpdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIG91dFRvKCB0aGlzLCAkLkJ1dHRvblN0YXRlLlJFU1QgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgZGlzYWJsZTogZnVuY3Rpb24oKXtcbiAgICAgICAgdGhpcy5ub3RpZnlHcm91cEV4aXQoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgJC5zZXRFbGVtZW50T3BhY2l0eSggdGhpcy5lbGVtZW50LCAwLjIsIHRydWUgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgZW5hYmxlOiBmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgJC5zZXRFbGVtZW50T3BhY2l0eSggdGhpcy5lbGVtZW50LCAxLjAsIHRydWUgKTtcbiAgICAgICAgdGhpcy5ub3RpZnlHcm91cEVudGVyKCk7XG4gICAgfVxuXG59KTtcblxuXG5mdW5jdGlvbiBzY2hlZHVsZUZhZGUoIGJ1dHRvbiApIHtcbiAgICAkLnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe1xuICAgICAgICB1cGRhdGVGYWRlKCBidXR0b24gKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRmFkZSggYnV0dG9uICkge1xuICAgIHZhciBjdXJyZW50VGltZSxcbiAgICAgICAgZGVsdGFUaW1lLFxuICAgICAgICBvcGFjaXR5O1xuXG4gICAgaWYgKCBidXR0b24uc2hvdWxkRmFkZSApIHtcbiAgICAgICAgY3VycmVudFRpbWUgPSAkLm5vdygpO1xuICAgICAgICBkZWx0YVRpbWUgICA9IGN1cnJlbnRUaW1lIC0gYnV0dG9uLmZhZGVCZWdpblRpbWU7XG4gICAgICAgIG9wYWNpdHkgICAgID0gMS4wIC0gZGVsdGFUaW1lIC8gYnV0dG9uLmZhZGVMZW5ndGg7XG4gICAgICAgIG9wYWNpdHkgICAgID0gTWF0aC5taW4oIDEuMCwgb3BhY2l0eSApO1xuICAgICAgICBvcGFjaXR5ICAgICA9IE1hdGgubWF4KCAwLjAsIG9wYWNpdHkgKTtcblxuICAgICAgICBpZiggYnV0dG9uLmltZ0dyb3VwICl7XG4gICAgICAgICAgICAkLnNldEVsZW1lbnRPcGFjaXR5KCBidXR0b24uaW1nR3JvdXAsIG9wYWNpdHksIHRydWUgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIG9wYWNpdHkgPiAwICkge1xuICAgICAgICAgICAgLy8gZmFkZSBhZ2FpblxuICAgICAgICAgICAgc2NoZWR1bGVGYWRlKCBidXR0b24gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gYmVnaW5GYWRpbmcoIGJ1dHRvbiApIHtcbiAgICBidXR0b24uc2hvdWxkRmFkZSA9IHRydWU7XG4gICAgYnV0dG9uLmZhZGVCZWdpblRpbWUgPSAkLm5vdygpICsgYnV0dG9uLmZhZGVEZWxheTtcbiAgICB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKXtcbiAgICAgICAgc2NoZWR1bGVGYWRlKCBidXR0b24gKTtcbiAgICB9LCBidXR0b24uZmFkZURlbGF5ICk7XG59XG5cbmZ1bmN0aW9uIHN0b3BGYWRpbmcoIGJ1dHRvbiApIHtcbiAgICBidXR0b24uc2hvdWxkRmFkZSA9IGZhbHNlO1xuICAgIGlmKCBidXR0b24uaW1nR3JvdXAgKXtcbiAgICAgICAgJC5zZXRFbGVtZW50T3BhY2l0eSggYnV0dG9uLmltZ0dyb3VwLCAxLjAsIHRydWUgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGluVG8oIGJ1dHRvbiwgbmV3U3RhdGUgKSB7XG5cbiAgICBpZiggYnV0dG9uLmVsZW1lbnQuZGlzYWJsZWQgKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICggbmV3U3RhdGUgPj0gJC5CdXR0b25TdGF0ZS5HUk9VUCAmJlxuICAgICAgICAgYnV0dG9uLmN1cnJlbnRTdGF0ZSA9PSAkLkJ1dHRvblN0YXRlLlJFU1QgKSB7XG4gICAgICAgIHN0b3BGYWRpbmcoIGJ1dHRvbiApO1xuICAgICAgICBidXR0b24uY3VycmVudFN0YXRlID0gJC5CdXR0b25TdGF0ZS5HUk9VUDtcbiAgICB9XG5cbiAgICBpZiAoIG5ld1N0YXRlID49ICQuQnV0dG9uU3RhdGUuSE9WRVIgJiZcbiAgICAgICAgIGJ1dHRvbi5jdXJyZW50U3RhdGUgPT0gJC5CdXR0b25TdGF0ZS5HUk9VUCApIHtcbiAgICAgICAgaWYoIGJ1dHRvbi5pbWdIb3ZlciApe1xuICAgICAgICAgICAgYnV0dG9uLmltZ0hvdmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvbi5jdXJyZW50U3RhdGUgPSAkLkJ1dHRvblN0YXRlLkhPVkVSO1xuICAgIH1cblxuICAgIGlmICggbmV3U3RhdGUgPj0gJC5CdXR0b25TdGF0ZS5ET1dOICYmXG4gICAgICAgICBidXR0b24uY3VycmVudFN0YXRlID09ICQuQnV0dG9uU3RhdGUuSE9WRVIgKSB7XG4gICAgICAgIGlmKCBidXR0b24uaW1nRG93biApe1xuICAgICAgICAgICAgYnV0dG9uLmltZ0Rvd24uc3R5bGUudmlzaWJpbGl0eSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmN1cnJlbnRTdGF0ZSA9ICQuQnV0dG9uU3RhdGUuRE9XTjtcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gb3V0VG8oIGJ1dHRvbiwgbmV3U3RhdGUgKSB7XG5cbiAgICBpZiggYnV0dG9uLmVsZW1lbnQuZGlzYWJsZWQgKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICggbmV3U3RhdGUgPD0gJC5CdXR0b25TdGF0ZS5IT1ZFUiAmJlxuICAgICAgICAgYnV0dG9uLmN1cnJlbnRTdGF0ZSA9PSAkLkJ1dHRvblN0YXRlLkRPV04gKSB7XG4gICAgICAgIGlmKCBidXR0b24uaW1nRG93biApe1xuICAgICAgICAgICAgYnV0dG9uLmltZ0Rvd24uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uLmN1cnJlbnRTdGF0ZSA9ICQuQnV0dG9uU3RhdGUuSE9WRVI7XG4gICAgfVxuXG4gICAgaWYgKCBuZXdTdGF0ZSA8PSAkLkJ1dHRvblN0YXRlLkdST1VQICYmXG4gICAgICAgICBidXR0b24uY3VycmVudFN0YXRlID09ICQuQnV0dG9uU3RhdGUuSE9WRVIgKSB7XG4gICAgICAgIGlmKCBidXR0b24uaW1nSG92ZXIgKXtcbiAgICAgICAgICAgIGJ1dHRvbi5pbWdIb3Zlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBidXR0b24uY3VycmVudFN0YXRlID0gJC5CdXR0b25TdGF0ZS5HUk9VUDtcbiAgICB9XG5cbiAgICBpZiAoIG5ld1N0YXRlIDw9ICQuQnV0dG9uU3RhdGUuUkVTVCAmJlxuICAgICAgICAgYnV0dG9uLmN1cnJlbnRTdGF0ZSA9PSAkLkJ1dHRvblN0YXRlLkdST1VQICkge1xuICAgICAgICBiZWdpbkZhZGluZyggYnV0dG9uICk7XG4gICAgICAgIGJ1dHRvbi5jdXJyZW50U3RhdGUgPSAkLkJ1dHRvblN0YXRlLlJFU1Q7XG4gICAgfVxufVxuXG5cblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBCdXR0b25Hcm91cFxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcbi8qKlxuICogQGNsYXNzIEJ1dHRvbkdyb3VwXG4gKiBAY2xhc3NkZXNjIE1hbmFnZXMgZXZlbnRzIG9uIGdyb3VwcyBvZiBidXR0b25zLlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEEgZGljdGlvbmFyeSBvZiBzZXR0aW5ncyBhcHBsaWVkIGFnYWluc3QgdGhlIGVudGlyZSBncm91cCBvZiBidXR0b25zLlxuICogQHBhcmFtIHtBcnJheX0gb3B0aW9ucy5idXR0b25zIEFycmF5IG9mIGJ1dHRvbnNcbiAqIEBwYXJhbSB7RWxlbWVudH0gW29wdGlvbnMuZWxlbWVudF0gRWxlbWVudCB0byB1c2UgYXMgdGhlIGNvbnRhaW5lclxuICoqL1xuJC5CdXR0b25Hcm91cCA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG4gICAgJC5leHRlbmQoIHRydWUsIHRoaXMsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGJ1dHRvbnMgdGhlbXNlbHZlcy5cbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9IGJ1dHRvbnNcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uQnV0dG9uR3JvdXAjXG4gICAgICAgICAqL1xuICAgICAgICBidXR0b25zOiAgICAgICAgICAgIFtdLFxuICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6ICQuREVGQVVMVF9TRVRUSU5HUy5jbGlja1RpbWVUaHJlc2hvbGQsXG4gICAgICAgIGNsaWNrRGlzdFRocmVzaG9sZDogJC5ERUZBVUxUX1NFVFRJTkdTLmNsaWNrRGlzdFRocmVzaG9sZCxcbiAgICAgICAgbGFiZWxUZXh0OiAgICAgICAgICBcIlwiXG4gICAgfSwgb3B0aW9ucyApO1xuXG4gICAgLy8gY29weSB0aGUgYnV0dG9uIGVsZW1lbnRzICBUT0RPOiBXaHk/XG4gICAgdmFyIGJ1dHRvbnMgPSB0aGlzLmJ1dHRvbnMuY29uY2F0KFtdKSxcbiAgICAgICAgX3RoaXMgPSB0aGlzLFxuICAgICAgICBpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXJlZCBjb250YWluZXIgZm9yIHRoZSBidXR0b25zLlxuICAgICAqIEBtZW1iZXIge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5CdXR0b25Hcm91cCNcbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnQgPSBvcHRpb25zLmVsZW1lbnQgfHwgJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwiZGl2XCIgKTtcblxuICAgIC8vIFRPRE8gV2hhdCBpZiB0aGVyZSBJUyBhbiBvcHRpb25zLmdyb3VwIHNwZWNpZmllZD9cbiAgICBpZiggIW9wdGlvbnMuZ3JvdXAgKXtcbiAgICAgICAgdGhpcy5sYWJlbCAgID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwibGFiZWxcIiApO1xuICAgICAgICAvL1RPRE86IHN1cHBvcnQgbGFiZWxzIGZvciBCdXR0b25Hcm91cHNcbiAgICAgICAgLy90aGlzLmxhYmVsLmlubmVySFRNTCA9IHRoaXMubGFiZWxUZXh0O1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCggdGhpcy5sYWJlbCApO1xuICAgICAgICBmb3IgKCBpID0gMDsgaSA8IGJ1dHRvbnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoIGJ1dHRvbnNbIGkgXS5lbGVtZW50ICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkLnNldEVsZW1lbnRUb3VjaEFjdGlvbk5vbmUoIHRoaXMuZWxlbWVudCApO1xuXG4gICAgLyoqXG4gICAgICogVHJhY2tzIG1vdXNlL3RvdWNoL2tleSBldmVudHMgYWNjcm9zcyB0aGUgZ3JvdXAgb2YgYnV0dG9ucy5cbiAgICAgKiBAbWVtYmVyIHtPcGVuU2VhZHJhZ29uLk1vdXNlVHJhY2tlcn0gdHJhY2tlclxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLkJ1dHRvbkdyb3VwI1xuICAgICAqL1xuICAgIHRoaXMudHJhY2tlciA9IG5ldyAkLk1vdXNlVHJhY2tlcih7XG4gICAgICAgIGVsZW1lbnQ6ICAgICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6IHRoaXMuY2xpY2tUaW1lVGhyZXNob2xkLFxuICAgICAgICBjbGlja0Rpc3RUaHJlc2hvbGQ6IHRoaXMuY2xpY2tEaXN0VGhyZXNob2xkLFxuICAgICAgICBlbnRlckhhbmRsZXI6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoIGkgPSAwOyBpIDwgX3RoaXMuYnV0dG9ucy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25zWyBpIF0ubm90aWZ5R3JvdXBFbnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBleGl0SGFuZGxlcjogZnVuY3Rpb24gKCBldmVudCApIHtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgaWYgKCAhZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQgKSB7XG4gICAgICAgICAgICAgICAgZm9yICggaSA9IDA7IGkgPCBfdGhpcy5idXR0b25zLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25zWyBpIF0ubm90aWZ5R3JvdXBFeGl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkJ1dHRvbkdyb3VwLnByb3RvdHlwZSAqL1xuJC5CdXR0b25Hcm91cC5wcm90b3R5cGUgPSB7XG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBGaWd1cmUgb3V0IHdoeSB0aGlzIGlzIHVzZWQgb24gdGhlIHB1YmxpYyBBUEkgYW5kIGlmIGEgbW9yZSB1c2VmdWxcbiAgICAgKiBhcGkgY2FuIGJlIGNyZWF0ZWQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBlbXVsYXRlRW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnRyYWNrZXIuZW50ZXJIYW5kbGVyKCB7IGV2ZW50U291cmNlOiB0aGlzLnRyYWNrZXIgfSApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUT0RPOiBGaWd1cmUgb3V0IHdoeSB0aGlzIGlzIHVzZWQgb24gdGhlIHB1YmxpYyBBUEkgYW5kIGlmIGEgbW9yZSB1c2VmdWxcbiAgICAgKiBhcGkgY2FuIGJlIGNyZWF0ZWQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBlbXVsYXRlRXhpdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudHJhY2tlci5leGl0SGFuZGxlciggeyBldmVudFNvdXJjZTogdGhpcy50cmFja2VyIH0gKTtcbiAgICB9XG59O1xuXG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gUmVjdFxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oJCkge1xuXG4vKipcbiAqIEBjbGFzcyBSZWN0XG4gKiBAY2xhc3NkZXNjIEEgUmVjdGFuZ2xlIGlzIGRlc2NyaWJlZCBieSBpdCB0b3AgbGVmdCBjb29yZGluYXRlcyAoeCwgeSksIHdpZHRoLFxuICogaGVpZ2h0IGFuZCBkZWdyZWVzIG9mIHJvdGF0aW9uIGFyb3VuZCAoeCwgeSkuXG4gKiBOb3RlIHRoYXQgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIHVzZWQgaXMgdGhlIG9uZSBjb21tb25seSB1c2VkIHdpdGggaW1hZ2VzOlxuICogeCBpbmNyZWFzZXMgd2hlbiBnb2luZyB0byB0aGUgcmlnaHRcbiAqIHkgaW5jcmVhc2VzIHdoZW4gZ29pbmcgdG8gdGhlIGJvdHRvbVxuICogZGVncmVlcyBpbmNyZWFzZXMgY2xvY2t3aXNlIHdpdGggMCBiZWluZyB0aGUgaG9yaXpvbnRhbFxuICpcbiAqIFRoZSBjb25zdHJ1Y3RvciBub3JtYWxpemVzIHRoZSByZWN0YW5nbGUgdG8gYWx3YXlzIGhhdmUgMCA8PSBkZWdyZWVzIDwgOTBcbiAqXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQHBhcmFtIHtOdW1iZXJ9IFt4PTBdIFRoZSB2ZWN0b3IgY29tcG9uZW50ICd4Jy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbeT0wXSBUaGUgdmVjdG9yIGNvbXBvbmVudCAneScuXG4gKiBAcGFyYW0ge051bWJlcn0gW3dpZHRoPTBdIFRoZSB2ZWN0b3IgY29tcG9uZW50ICd3aWR0aCcuXG4gKiBAcGFyYW0ge051bWJlcn0gW2hlaWdodD0wXSBUaGUgdmVjdG9yIGNvbXBvbmVudCAnaGVpZ2h0Jy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbZGVncmVlcz0wXSBSb3RhdGlvbiBvZiB0aGUgcmVjdGFuZ2xlIGFyb3VuZCAoeCx5KSBpbiBkZWdyZWVzLlxuICovXG4kLlJlY3QgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBkZWdyZWVzKSB7XG4gICAgLyoqXG4gICAgICogVGhlIHZlY3RvciBjb21wb25lbnQgJ3gnLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0geFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlJlY3QjXG4gICAgICovXG4gICAgdGhpcy54ID0gdHlwZW9mKHgpID09PSBcIm51bWJlclwiID8geCA6IDA7XG4gICAgLyoqXG4gICAgICogVGhlIHZlY3RvciBjb21wb25lbnQgJ3knLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0geVxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlJlY3QjXG4gICAgICovXG4gICAgdGhpcy55ID0gdHlwZW9mKHkpID09PSBcIm51bWJlclwiID8geSA6IDA7XG4gICAgLyoqXG4gICAgICogVGhlIHZlY3RvciBjb21wb25lbnQgJ3dpZHRoJy5cbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IHdpZHRoXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uUmVjdCNcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoICA9IHR5cGVvZih3aWR0aCkgPT09IFwibnVtYmVyXCIgPyB3aWR0aCA6IDA7XG4gICAgLyoqXG4gICAgICogVGhlIHZlY3RvciBjb21wb25lbnQgJ2hlaWdodCcuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5SZWN0I1xuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gdHlwZW9mKGhlaWdodCkgPT09IFwibnVtYmVyXCIgPyBoZWlnaHQgOiAwO1xuXG4gICAgdGhpcy5kZWdyZWVzID0gdHlwZW9mKGRlZ3JlZXMpID09PSBcIm51bWJlclwiID8gZGVncmVlcyA6IDA7XG5cbiAgICAvLyBOb3JtYWxpemVzIHRoZSByZWN0YW5nbGUuXG4gICAgdGhpcy5kZWdyZWVzID0gJC5wb3NpdGl2ZU1vZHVsbyh0aGlzLmRlZ3JlZXMsIDM2MCk7XG4gICAgdmFyIG5ld1RvcExlZnQsIG5ld1dpZHRoO1xuICAgIGlmICh0aGlzLmRlZ3JlZXMgPj0gMjcwKSB7XG4gICAgICAgIG5ld1RvcExlZnQgPSB0aGlzLmdldFRvcFJpZ2h0KCk7XG4gICAgICAgIHRoaXMueCA9IG5ld1RvcExlZnQueDtcbiAgICAgICAgdGhpcy55ID0gbmV3VG9wTGVmdC55O1xuICAgICAgICBuZXdXaWR0aCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMud2lkdGggPSBuZXdXaWR0aDtcbiAgICAgICAgdGhpcy5kZWdyZWVzIC09IDI3MDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGVncmVlcyA+PSAxODApIHtcbiAgICAgICAgbmV3VG9wTGVmdCA9IHRoaXMuZ2V0Qm90dG9tUmlnaHQoKTtcbiAgICAgICAgdGhpcy54ID0gbmV3VG9wTGVmdC54O1xuICAgICAgICB0aGlzLnkgPSBuZXdUb3BMZWZ0Lnk7XG4gICAgICAgIHRoaXMuZGVncmVlcyAtPSAxODA7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRlZ3JlZXMgPj0gOTApIHtcbiAgICAgICAgbmV3VG9wTGVmdCA9IHRoaXMuZ2V0Qm90dG9tTGVmdCgpO1xuICAgICAgICB0aGlzLnggPSBuZXdUb3BMZWZ0Lng7XG4gICAgICAgIHRoaXMueSA9IG5ld1RvcExlZnQueTtcbiAgICAgICAgbmV3V2lkdGggPSB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLndpZHRoO1xuICAgICAgICB0aGlzLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgIHRoaXMuZGVncmVlcyAtPSA5MDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJlY3RhbmdsZSBoYXZpbmcgdGhlIDMgc3BlY2lmaWVkIHBvaW50cyBhcyBzdW1taXRzLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uUmVjdFxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSB0b3BMZWZ0XG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHRvcFJpZ2h0XG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGJvdHRvbUxlZnRcbiAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9XG4gKi9cbiQuUmVjdC5mcm9tU3VtbWl0cyA9IGZ1bmN0aW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0KSB7XG4gICAgdmFyIHdpZHRoID0gdG9wTGVmdC5kaXN0YW5jZVRvKHRvcFJpZ2h0KTtcbiAgICB2YXIgaGVpZ2h0ID0gdG9wTGVmdC5kaXN0YW5jZVRvKGJvdHRvbUxlZnQpO1xuICAgIHZhciBkaWZmID0gdG9wUmlnaHQubWludXModG9wTGVmdCk7XG4gICAgdmFyIHJhZGlhbnMgPSBNYXRoLmF0YW4oZGlmZi55IC8gZGlmZi54KTtcbiAgICBpZiAoZGlmZi54IDwgMCkge1xuICAgICAgICByYWRpYW5zICs9IE1hdGguUEk7XG4gICAgfSBlbHNlIGlmIChkaWZmLnkgPCAwKSB7XG4gICAgICAgIHJhZGlhbnMgKz0gMiAqIE1hdGguUEk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgJC5SZWN0KFxuICAgICAgICB0b3BMZWZ0LngsXG4gICAgICAgIHRvcExlZnQueSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgcmFkaWFucyAvIE1hdGguUEkgKiAxODApO1xufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLlJlY3QucHJvdG90eXBlICovXG4kLlJlY3QucHJvdG90eXBlID0ge1xuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IGEgZHVwbGljYXRlIG9mIHRoaXMgUmVjdFxuICAgICAqL1xuICAgIGNsb25lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlJlY3QoXG4gICAgICAgICAgICB0aGlzLngsXG4gICAgICAgICAgICB0aGlzLnksXG4gICAgICAgICAgICB0aGlzLndpZHRoLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICB0aGlzLmRlZ3JlZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXNwZWN0IHJhdGlvIGlzIHNpbXBseSB0aGUgcmF0aW8gb2Ygd2lkdGggdG8gaGVpZ2h0LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSByYXRpbyBvZiB3aWR0aCB0byBoZWlnaHQuXG4gICAgICovXG4gICAgZ2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGUgYXMgYVxuICAgICAqIHBvaW50LlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2ZcbiAgICAgKiAgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICBnZXRUb3BMZWZ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgdGhpcy54LFxuICAgICAgICAgICAgdGhpcy55XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlIGFzIGFcbiAgICAgKiBwb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gVGhlIGNvb3JkaW5hdGUgb2YgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXIgb2ZcbiAgICAgKiAgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICBnZXRCb3R0b21SaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCh0aGlzLnggKyB0aGlzLndpZHRoLCB0aGlzLnkgKyB0aGlzLmhlaWdodClcbiAgICAgICAgICAgIC5yb3RhdGUodGhpcy5kZWdyZWVzLCB0aGlzLmdldFRvcExlZnQoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgdG9wLXJpZ2h0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlIGFzIGFcbiAgICAgKiBwb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gVGhlIGNvb3JkaW5hdGUgb2YgdGhlIHRvcC1yaWdodCBjb3JuZXIgb2ZcbiAgICAgKiAgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICBnZXRUb3BSaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCh0aGlzLnggKyB0aGlzLndpZHRoLCB0aGlzLnkpXG4gICAgICAgICAgICAucm90YXRlKHRoaXMuZGVncmVlcywgdGhpcy5nZXRUb3BMZWZ0KCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyB0aGUgY29vcmRpbmF0ZXMgb2YgdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBvZiB0aGUgcmVjdGFuZ2xlIGFzIGFcbiAgICAgKiBwb2ludC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gVGhlIGNvb3JkaW5hdGUgb2YgdGhlIGJvdHRvbS1sZWZ0IGNvcm5lciBvZlxuICAgICAqICB0aGUgcmVjdGFuZ2xlLlxuICAgICAqL1xuICAgIGdldEJvdHRvbUxlZnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQodGhpcy54LCB0aGlzLnkgKyB0aGlzLmhlaWdodClcbiAgICAgICAgICAgIC5yb3RhdGUodGhpcy5kZWdyZWVzLCB0aGlzLmdldFRvcExlZnQoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBjZW50ZXIgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gVGhlIGNlbnRlciBvZiB0aGUgcmVjdGFuZ2xlIGFzIHJlcHJlc2VudGVkXG4gICAgICogIGFzIHJlcHJlc2VudGVkIGJ5IGEgMi1kaW1lbnNpb25hbCB2ZWN0b3IgKHgseSlcbiAgICAgKi9cbiAgICBnZXRDZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICB0aGlzLnggKyB0aGlzLndpZHRoIC8gMi4wLFxuICAgICAgICAgICAgdGhpcy55ICsgdGhpcy5oZWlnaHQgLyAyLjBcbiAgICAgICAgKS5yb3RhdGUodGhpcy5kZWdyZWVzLCB0aGlzLmdldFRvcExlZnQoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgY29tcG9uZW50IGFzIGEgdmVjdG9yIE9wZW5TZWFkcmFnb24uUG9pbnRcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gVGhlIDIgZGltZW5zaW9uYWwgdmVjdG9yIHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiAgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICBnZXRTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiB0d28gUmVjdGFuZ2xlcyBoYXZlIGVxdWl2YWxlbnQgY29tcG9uZW50cy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gcmVjdGFuZ2xlIFRoZSBSZWN0YW5nbGUgdG8gY29tcGFyZSB0by5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAndHJ1ZScgaWYgYWxsIGNvbXBvbmVudHMgYXJlIGVxdWFsLCBvdGhlcndpc2UgJ2ZhbHNlJy5cbiAgICAgKi9cbiAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICAgIHJldHVybiAob3RoZXIgaW5zdGFuY2VvZiAkLlJlY3QpICYmXG4gICAgICAgICAgICB0aGlzLnggPT09IG90aGVyLnggJiZcbiAgICAgICAgICAgIHRoaXMueSA9PT0gb3RoZXIueSAmJlxuICAgICAgICAgICAgdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiZcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID09PSBvdGhlci5oZWlnaHQgJiZcbiAgICAgICAgICAgIHRoaXMuZGVncmVlcyA9PT0gb3RoZXIuZGVncmVlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgKiBNdWx0aXBseSBhbGwgZGltZW5zaW9ucyAoZXhjZXB0IGRlZ3JlZXMpIGluIHRoaXMgUmVjdCBieSBhIGZhY3RvciBhbmRcbiAgICAqIHJldHVybiBhIG5ldyBSZWN0LlxuICAgICogQGZ1bmN0aW9uXG4gICAgKiBAcGFyYW0ge051bWJlcn0gZmFjdG9yIFRoZSBmYWN0b3IgdG8gbXVsdGlwbHkgdmVjdG9yIGNvbXBvbmVudHMuXG4gICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBBIG5ldyByZWN0IHJlcHJlc2VudGluZyB0aGUgbXVsdGlwbGljYXRpb25cbiAgICAqICBvZiB0aGUgdmVjdG9yIGNvbXBvbmVudHMgYnkgdGhlIGZhY3RvclxuICAgICovXG4gICAgdGltZXM6IGZ1bmN0aW9uKGZhY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIHRoaXMueCAqIGZhY3RvcixcbiAgICAgICAgICAgIHRoaXMueSAqIGZhY3RvcixcbiAgICAgICAgICAgIHRoaXMud2lkdGggKiBmYWN0b3IsXG4gICAgICAgICAgICB0aGlzLmhlaWdodCAqIGZhY3RvcixcbiAgICAgICAgICAgIHRoaXMuZGVncmVlcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICogVHJhbnNsYXRlL21vdmUgdGhpcyBSZWN0IGJ5IGEgdmVjdG9yIGFuZCByZXR1cm4gbmV3IFJlY3QuXG4gICAgKiBAZnVuY3Rpb25cbiAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZGVsdGEgVGhlIHRyYW5zbGF0aW9uIHZlY3Rvci5cbiAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IEEgbmV3IHJlY3Qgd2l0aCBhbHRlcmVkIHBvc2l0aW9uXG4gICAgKi9cbiAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uKGRlbHRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgdGhpcy54ICsgZGVsdGEueCxcbiAgICAgICAgICAgIHRoaXMueSArIGRlbHRhLnksXG4gICAgICAgICAgICB0aGlzLndpZHRoLFxuICAgICAgICAgICAgdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICB0aGlzLmRlZ3JlZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzbWFsbGVzdCByZWN0YW5nbGUgdGhhdCB3aWxsIGNvbnRhaW4gdGhpcyBhbmQgdGhlIGdpdmVuXG4gICAgICogcmVjdGFuZ2xlIGJvdW5kaW5nIGJveGVzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5SZWN0fSByZWN0XG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGUgbmV3IHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICB1bmlvbjogZnVuY3Rpb24ocmVjdCkge1xuICAgICAgICB2YXIgdGhpc0JvdW5kaW5nQm94ID0gdGhpcy5nZXRCb3VuZGluZ0JveCgpO1xuICAgICAgICB2YXIgb3RoZXJCb3VuZGluZ0JveCA9IHJlY3QuZ2V0Qm91bmRpbmdCb3goKTtcblxuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWluKHRoaXNCb3VuZGluZ0JveC54LCBvdGhlckJvdW5kaW5nQm94LngpO1xuICAgICAgICB2YXIgdG9wID0gTWF0aC5taW4odGhpc0JvdW5kaW5nQm94LnksIG90aGVyQm91bmRpbmdCb3gueSk7XG4gICAgICAgIHZhciByaWdodCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgdGhpc0JvdW5kaW5nQm94LnggKyB0aGlzQm91bmRpbmdCb3gud2lkdGgsXG4gICAgICAgICAgICBvdGhlckJvdW5kaW5nQm94LnggKyBvdGhlckJvdW5kaW5nQm94LndpZHRoKTtcbiAgICAgICAgdmFyIGJvdHRvbSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgdGhpc0JvdW5kaW5nQm94LnkgKyB0aGlzQm91bmRpbmdCb3guaGVpZ2h0LFxuICAgICAgICAgICAgb3RoZXJCb3VuZGluZ0JveC55ICsgb3RoZXJCb3VuZGluZ0JveC5oZWlnaHQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIHJpZ2h0IC0gbGVmdCxcbiAgICAgICAgICAgIGJvdHRvbSAtIHRvcCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoaXMgcmVjdGFuZ2xlIHdpdGggdGhlXG4gICAgICogZ2l2ZW4gcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5SZWN0fSByZWN0XG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5SZWN0fSB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSBpbnRlcnNlY3Rpb25cbiAgICAgKiBvciBudWxsIGlmIHRoZSByZWN0YW5nbGVzIGRvbid0IGludGVyc2VjdC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Rpb246IGZ1bmN0aW9uKHJlY3QpIHtcbiAgICAgICAgLy8gU2ltcGxpZmllZCB2ZXJzaW9uIG9mIFdlaWxlciBBdGhlcnRvbiBjbGlwcGluZyBhbGdvcml0aG1cbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvV2VpbGVyJUUyJTgwJTkzQXRoZXJ0b25fY2xpcHBpbmdfYWxnb3JpdGhtXG4gICAgICAgIC8vIEJlY2F1c2Ugd2UganVzdCB3YW50IHRoZSBib3VuZGluZyBib3ggb2YgdGhlIGludGVyc2VjdGlvbixcbiAgICAgICAgLy8gd2UgY2FuIGp1c3QgY29tcHV0ZSB0aGUgYm91bmRpbmcgYm94IG9mOlxuICAgICAgICAvLyAxLiBhbGwgdGhlIHN1bW1pdHMgb2YgdGhpcyB3aGljaCBhcmUgaW5zaWRlIHJlY3RcbiAgICAgICAgLy8gMi4gYWxsIHRoZSBzdW1taXRzIG9mIHJlY3Qgd2hpY2ggYXJlIGluc2lkZSB0aGlzXG4gICAgICAgIC8vIDMuIGFsbCB0aGUgaW50ZXJzZWN0aW9ucyBvZiByZWN0IGFuZCB0aGlzXG4gICAgICAgIHZhciBFUFNJTE9OID0gMC4wMDAwMDAwMDAxO1xuXG4gICAgICAgIHZhciBpbnRlcnNlY3Rpb25Qb2ludHMgPSBbXTtcblxuICAgICAgICB2YXIgdGhpc1RvcExlZnQgPSB0aGlzLmdldFRvcExlZnQoKTtcbiAgICAgICAgaWYgKHJlY3QuY29udGFpbnNQb2ludCh0aGlzVG9wTGVmdCwgRVBTSUxPTikpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblBvaW50cy5wdXNoKHRoaXNUb3BMZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc1RvcFJpZ2h0ID0gdGhpcy5nZXRUb3BSaWdodCgpO1xuICAgICAgICBpZiAocmVjdC5jb250YWluc1BvaW50KHRoaXNUb3BSaWdodCwgRVBTSUxPTikpIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblBvaW50cy5wdXNoKHRoaXNUb3BSaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCb3R0b21MZWZ0ID0gdGhpcy5nZXRCb3R0b21MZWZ0KCk7XG4gICAgICAgIGlmIChyZWN0LmNvbnRhaW5zUG9pbnQodGhpc0JvdHRvbUxlZnQsIEVQU0lMT04pKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludHMucHVzaCh0aGlzQm90dG9tTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCb3R0b21SaWdodCA9IHRoaXMuZ2V0Qm90dG9tUmlnaHQoKTtcbiAgICAgICAgaWYgKHJlY3QuY29udGFpbnNQb2ludCh0aGlzQm90dG9tUmlnaHQsIEVQU0lMT04pKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludHMucHVzaCh0aGlzQm90dG9tUmlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY3RUb3BMZWZ0ID0gcmVjdC5nZXRUb3BMZWZ0KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5zUG9pbnQocmVjdFRvcExlZnQsIEVQU0lMT04pKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludHMucHVzaChyZWN0VG9wTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY3RUb3BSaWdodCA9IHJlY3QuZ2V0VG9wUmlnaHQoKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbnNQb2ludChyZWN0VG9wUmlnaHQsIEVQU0lMT04pKSB7XG4gICAgICAgICAgICBpbnRlcnNlY3Rpb25Qb2ludHMucHVzaChyZWN0VG9wUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWN0Qm90dG9tTGVmdCA9IHJlY3QuZ2V0Qm90dG9tTGVmdCgpO1xuICAgICAgICBpZiAodGhpcy5jb250YWluc1BvaW50KHJlY3RCb3R0b21MZWZ0LCBFUFNJTE9OKSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnRzLnB1c2gocmVjdEJvdHRvbUxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWN0Qm90dG9tUmlnaHQgPSByZWN0LmdldEJvdHRvbVJpZ2h0KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5zUG9pbnQocmVjdEJvdHRvbVJpZ2h0LCBFUFNJTE9OKSkge1xuICAgICAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnRzLnB1c2gocmVjdEJvdHRvbVJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0aGlzU2VnbWVudHMgPSB0aGlzLl9nZXRTZWdtZW50cygpO1xuICAgICAgICB2YXIgcmVjdFNlZ21lbnRzID0gcmVjdC5fZ2V0U2VnbWVudHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzU2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0aGlzU2VnbWVudCA9IHRoaXNTZWdtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcmVjdFNlZ21lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlY3RTZWdtZW50ID0gcmVjdFNlZ21lbnRzW2pdO1xuICAgICAgICAgICAgICAgIHZhciBpbnRlcnNlY3QgPSBnZXRJbnRlcnNlY3Rpb24odGhpc1NlZ21lbnRbMF0sIHRoaXNTZWdtZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICByZWN0U2VnbWVudFswXSwgcmVjdFNlZ21lbnRbMV0pO1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJzZWN0aW9uUG9pbnRzLnB1c2goaW50ZXJzZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgaW50ZXJzZWN0aW9uIHBvaW50IG9mIHNlZ21lbnRzIFthLGJdIGFuZCBbYyxkXVxuICAgICAgICBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oYSwgYiwgYywgZCkge1xuICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTk2ODM0NS8xNDQwNDAzXG4gICAgICAgICAgICB2YXIgYWJWZWN0b3IgPSBiLm1pbnVzKGEpO1xuICAgICAgICAgICAgdmFyIGNkVmVjdG9yID0gZC5taW51cyhjKTtcblxuICAgICAgICAgICAgdmFyIGRlbm9tID0gLWNkVmVjdG9yLnggKiBhYlZlY3Rvci55ICsgYWJWZWN0b3IueCAqIGNkVmVjdG9yLnk7XG4gICAgICAgICAgICBpZiAoZGVub20gPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHMgPSAoYWJWZWN0b3IueCAqIChhLnkgLSBjLnkpIC0gYWJWZWN0b3IueSAqIChhLnggLSBjLngpKSAvIGRlbm9tO1xuICAgICAgICAgICAgdmFyIHQgPSAoY2RWZWN0b3IueCAqIChhLnkgLSBjLnkpIC0gY2RWZWN0b3IueSAqIChhLnggLSBjLngpKSAvIGRlbm9tO1xuXG4gICAgICAgICAgICBpZiAoLUVQU0lMT04gPD0gcyAmJiBzIDw9IDEgLSBFUFNJTE9OICYmXG4gICAgICAgICAgICAgICAgLUVQU0lMT04gPD0gdCAmJiB0IDw9IDEgLSBFUFNJTE9OKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KGEueCArIHQgKiBhYlZlY3Rvci54LCBhLnkgKyB0ICogYWJWZWN0b3IueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25Qb2ludHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtaW5YID0gaW50ZXJzZWN0aW9uUG9pbnRzWzBdLng7XG4gICAgICAgIHZhciBtYXhYID0gaW50ZXJzZWN0aW9uUG9pbnRzWzBdLng7XG4gICAgICAgIHZhciBtaW5ZID0gaW50ZXJzZWN0aW9uUG9pbnRzWzBdLnk7XG4gICAgICAgIHZhciBtYXhZID0gaW50ZXJzZWN0aW9uUG9pbnRzWzBdLnk7XG4gICAgICAgIGZvciAodmFyIGsgPSAxOyBrIDwgaW50ZXJzZWN0aW9uUG9pbnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcnNlY3Rpb25Qb2ludHNba107XG4gICAgICAgICAgICBpZiAocG9pbnQueCA8IG1pblgpIHtcbiAgICAgICAgICAgICAgICBtaW5YID0gcG9pbnQueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwb2ludC54ID4gbWF4WCkge1xuICAgICAgICAgICAgICAgIG1heFggPSBwb2ludC54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvaW50LnkgPCBtaW5ZKSB7XG4gICAgICAgICAgICAgICAgbWluWSA9IHBvaW50Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9pbnQueSA+IG1heFkpIHtcbiAgICAgICAgICAgICAgICBtYXhZID0gcG9pbnQueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdChtaW5YLCBtaW5ZLCBtYXhYIC0gbWluWCwgbWF4WSAtIG1pblkpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX2dldFNlZ21lbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRvcExlZnQgPSB0aGlzLmdldFRvcExlZnQoKTtcbiAgICAgICAgdmFyIHRvcFJpZ2h0ID0gdGhpcy5nZXRUb3BSaWdodCgpO1xuICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHRoaXMuZ2V0Qm90dG9tTGVmdCgpO1xuICAgICAgICB2YXIgYm90dG9tUmlnaHQgPSB0aGlzLmdldEJvdHRvbVJpZ2h0KCk7XG4gICAgICAgIHJldHVybiBbW3RvcExlZnQsIHRvcFJpZ2h0XSxcbiAgICAgICAgICAgIFt0b3BSaWdodCwgYm90dG9tUmlnaHRdLFxuICAgICAgICAgICAgW2JvdHRvbVJpZ2h0LCBib3R0b21MZWZ0XSxcbiAgICAgICAgICAgIFtib3R0b21MZWZ0LCB0b3BMZWZ0XV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYSByZWN0YW5nbGUgYXJvdW5kIGEgcG9pbnQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgVGhlIGFuZ2xlIGluIGRlZ3JlZXMgdG8gcm90YXRlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gW3Bpdm90XSBUaGUgcG9pbnQgYWJvdXQgd2hpY2ggdG8gcm90YXRlLlxuICAgICAqIERlZmF1bHRzIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlJlY3R9XG4gICAgICovXG4gICAgcm90YXRlOiBmdW5jdGlvbihkZWdyZWVzLCBwaXZvdCkge1xuICAgICAgICBkZWdyZWVzID0gJC5wb3NpdGl2ZU1vZHVsbyhkZWdyZWVzLCAzNjApO1xuICAgICAgICBpZiAoZGVncmVlcyA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBpdm90ID0gcGl2b3QgfHwgdGhpcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIG5ld1RvcExlZnQgPSB0aGlzLmdldFRvcExlZnQoKS5yb3RhdGUoZGVncmVlcywgcGl2b3QpO1xuICAgICAgICB2YXIgbmV3VG9wUmlnaHQgPSB0aGlzLmdldFRvcFJpZ2h0KCkucm90YXRlKGRlZ3JlZXMsIHBpdm90KTtcblxuICAgICAgICB2YXIgZGlmZiA9IG5ld1RvcFJpZ2h0Lm1pbnVzKG5ld1RvcExlZnQpO1xuICAgICAgICAvLyBIYW5kbGUgZmxvYXRpbmcgcG9pbnQgZXJyb3JcbiAgICAgICAgZGlmZiA9IGRpZmYuYXBwbHkoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgdmFyIEVQU0lMT04gPSAxZS0xNTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KSA8IEVQU0lMT04gPyAwIDogeDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByYWRpYW5zID0gTWF0aC5hdGFuKGRpZmYueSAvIGRpZmYueCk7XG4gICAgICAgIGlmIChkaWZmLnggPCAwKSB7XG4gICAgICAgICAgICByYWRpYW5zICs9IE1hdGguUEk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlmZi55IDwgMCkge1xuICAgICAgICAgICAgcmFkaWFucyArPSAyICogTWF0aC5QSTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIG5ld1RvcExlZnQueCxcbiAgICAgICAgICAgIG5ld1RvcExlZnQueSxcbiAgICAgICAgICAgIHRoaXMud2lkdGgsXG4gICAgICAgICAgICB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIHJhZGlhbnMgLyBNYXRoLlBJICogMTgwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzbWFsbGVzdCBob3Jpem9udGFsIChkZWdyZWVzPTApIHJlY3RhbmdsZSB3aGljaCBjb250YWluc1xuICAgICAqIHRoaXMgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9XG4gICAgICovXG4gICAgZ2V0Qm91bmRpbmdCb3g6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5kZWdyZWVzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0b3BMZWZ0ID0gdGhpcy5nZXRUb3BMZWZ0KCk7XG4gICAgICAgIHZhciB0b3BSaWdodCA9IHRoaXMuZ2V0VG9wUmlnaHQoKTtcbiAgICAgICAgdmFyIGJvdHRvbUxlZnQgPSB0aGlzLmdldEJvdHRvbUxlZnQoKTtcbiAgICAgICAgdmFyIGJvdHRvbVJpZ2h0ID0gdGhpcy5nZXRCb3R0b21SaWdodCgpO1xuICAgICAgICB2YXIgbWluWCA9IE1hdGgubWluKHRvcExlZnQueCwgdG9wUmlnaHQueCwgYm90dG9tTGVmdC54LCBib3R0b21SaWdodC54KTtcbiAgICAgICAgdmFyIG1heFggPSBNYXRoLm1heCh0b3BMZWZ0LngsIHRvcFJpZ2h0LngsIGJvdHRvbUxlZnQueCwgYm90dG9tUmlnaHQueCk7XG4gICAgICAgIHZhciBtaW5ZID0gTWF0aC5taW4odG9wTGVmdC55LCB0b3BSaWdodC55LCBib3R0b21MZWZ0LnksIGJvdHRvbVJpZ2h0LnkpO1xuICAgICAgICB2YXIgbWF4WSA9IE1hdGgubWF4KHRvcExlZnQueSwgdG9wUmlnaHQueSwgYm90dG9tTGVmdC55LCBib3R0b21SaWdodC55KTtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlJlY3QoXG4gICAgICAgICAgICBtaW5YLFxuICAgICAgICAgICAgbWluWSxcbiAgICAgICAgICAgIG1heFggLSBtaW5YLFxuICAgICAgICAgICAgbWF4WSAtIG1pblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIHNtYWxsZXN0IGhvcml6b250YWwgKGRlZ3JlZXM9MCkgcmVjdGFuZ2xlIHdoaWNoIGNvbnRhaW5zXG4gICAgICogdGhpcyByZWN0YW5nbGUgYW5kIGhhcyBpbnRlZ2VycyB4LCB5LCB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUmVjdH1cbiAgICAgKi9cbiAgICBnZXRJbnRlZ2VyQm91bmRpbmdCb3g6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYm91bmRpbmdCb3ggPSB0aGlzLmdldEJvdW5kaW5nQm94KCk7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihib3VuZGluZ0JveC54KTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKGJvdW5kaW5nQm94LnkpO1xuICAgICAgICB2YXIgd2lkdGggPSBNYXRoLmNlaWwoYm91bmRpbmdCb3gud2lkdGggKyBib3VuZGluZ0JveC54IC0geCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwoYm91bmRpbmdCb3guaGVpZ2h0ICsgYm91bmRpbmdCb3gueSAtIHkpO1xuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgcmVjdGFuZ2xlIChlZGdlIGluY2x1ZGVkKS5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtlcHNpbG9uPTBdIHRoZSBtYXJnaW4gb2YgZXJyb3IgYWxsb3dlZFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBwb2ludCBpcyBpbnNpZGUgdGhpcyByZWN0YW5nbGUsIGZhbHNlXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBlcHNpbG9uKSB7XG4gICAgICAgIGVwc2lsb24gPSBlcHNpbG9uIHx8IDA7XG5cbiAgICAgICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI3NTI3NTQvMTQ0MDQwMyBmb3IgZXhwbGFuYXRpb25cbiAgICAgICAgdmFyIHRvcExlZnQgPSB0aGlzLmdldFRvcExlZnQoKTtcbiAgICAgICAgdmFyIHRvcFJpZ2h0ID0gdGhpcy5nZXRUb3BSaWdodCgpO1xuICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHRoaXMuZ2V0Qm90dG9tTGVmdCgpO1xuICAgICAgICB2YXIgdG9wRGlmZiA9IHRvcFJpZ2h0Lm1pbnVzKHRvcExlZnQpO1xuICAgICAgICB2YXIgbGVmdERpZmYgPSBib3R0b21MZWZ0Lm1pbnVzKHRvcExlZnQpO1xuXG4gICAgICAgIHJldHVybiAoKHBvaW50LnggLSB0b3BMZWZ0LngpICogdG9wRGlmZi54ICtcbiAgICAgICAgICAgIChwb2ludC55IC0gdG9wTGVmdC55KSAqIHRvcERpZmYueSA+PSAtZXBzaWxvbikgJiZcblxuICAgICAgICAgICAgKChwb2ludC54IC0gdG9wUmlnaHQueCkgKiB0b3BEaWZmLnggK1xuICAgICAgICAgICAgKHBvaW50LnkgLSB0b3BSaWdodC55KSAqIHRvcERpZmYueSA8PSBlcHNpbG9uKSAmJlxuXG4gICAgICAgICAgICAoKHBvaW50LnggLSB0b3BMZWZ0LngpICogbGVmdERpZmYueCArXG4gICAgICAgICAgICAocG9pbnQueSAtIHRvcExlZnQueSkgKiBsZWZ0RGlmZi55ID49IC1lcHNpbG9uKSAmJlxuXG4gICAgICAgICAgICAoKHBvaW50LnggLSBib3R0b21MZWZ0LngpICogbGVmdERpZmYueCArXG4gICAgICAgICAgICAocG9pbnQueSAtIGJvdHRvbUxlZnQueSkgKiBsZWZ0RGlmZi55IDw9IGVwc2lsb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmVjdGFuZ2xlIHdoaWNoIGlzIHVzZWZ1bCBmb3JcbiAgICAgKiBkZWJ1Z2dpbmcuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge1N0cmluZ30gQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBcIltcIiArXG4gICAgICAgICAgICAoTWF0aC5yb3VuZCh0aGlzLnggKiAxMDApIC8gMTAwKSArIFwiLCBcIiArXG4gICAgICAgICAgICAoTWF0aC5yb3VuZCh0aGlzLnkgKiAxMDApIC8gMTAwKSArIFwiLCBcIiArXG4gICAgICAgICAgICAoTWF0aC5yb3VuZCh0aGlzLndpZHRoICogMTAwKSAvIDEwMCkgKyBcInhcIiArXG4gICAgICAgICAgICAoTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIDEwMCkgLyAxMDApICsgXCIsIFwiICtcbiAgICAgICAgICAgIChNYXRoLnJvdW5kKHRoaXMuZGVncmVlcyAqIDEwMCkgLyAxMDApICsgXCJkZWdcIiArXG4gICAgICAgICAgICBcIl1cIjtcbiAgICB9XG59O1xuXG5cbn0oT3BlblNlYWRyYWdvbikpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIFJlZmVyZW5jZVN0cmlwXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiAoICQgKSB7XG5cbi8vIGRpY3Rpb25hcnkgZnJvbSBpZCB0byBwcml2YXRlIHByb3BlcnRpZXNcbnZhciBUSElTID0ge307XG5cbi8qKlxuICogIFRoZSBDb2xsZWN0aW9uRHJhd2VyIGlzIGEgcmVpbXBsZW1lbnRhdGlvbiBpZiB0aGUgRHJhd2VyIEFQSSB0aGF0XG4gKiAgZm9jdXNlcyBvbiBhbGxvd2luZyBhIHZpZXdwb3J0IHRvIGJlIHJlZGVmaW5lZCBhcyBhIGNvbGxlY3Rpb25cbiAqICBvZiBzbWFsbGVyIHZpZXdwb3J0cywgZGVmaW5lZCBieSBhIGNsZWFyIG51bWJlciBvZiByb3dzIGFuZCAvIG9yXG4gKiAgY29sdW1ucyBvZiB3aGljaCBlYWNoIGl0ZW0gaW4gdGhlIG1hdHJpeCBvZiB2aWV3cG9ydHMgaGFzIGl0cyBvd25cbiAqICBzb3VyY2UuXG4gKlxuICogIFRoaXMgaWRlYSBpcyBhIHJlZXhwcmVzc2lvbiBvZiB0aGUgaWRlYSBvZiBkemkgY29sbGVjdGlvbnNcbiAqICB3aGljaCBhbGxvd3MgYSBjbGVhcmVyIGFsZ29yaXRobSB0byByZXVzZSB0aGUgdGlsZSBzb3VyY2VzIGFscmVhZHlcbiAqICBzdXBwb3J0ZWQgYnkgT3BlblNlYWRyYWdvbiwgaW4gaGV0ZXJvZ2VuaW91cyBvciBob21vZ2VuaW91c1xuICogIHNlcXVlbmNlcyBqdXN0IGxpa2UgbWl4ZWQgZ3JvdXBzIGFscmVhZHkgc3VwcG9ydGVkIGJ5IHRoZSB2aWV3ZXJcbiAqICBmb3IgdGhlIHB1cnBvc2Ugb2YgaW1hZ2Ugc2VxdW5jZXMuXG4gKlxuICogIFRPRE86ICAgVGhlIGRpZmZpY3VsdCBwYXJ0IG9mIHRoaXMgZmVhdHVyZSBpcyBmaWd1cmluZyBvdXQgaG93IHRvIGV4cHJlc3NcbiAqICAgICAgICAgIHRoaXMgZnVuY3Rpb25hbGl0eSBhcyBhIGNvbWJpbmF0aW9uIG9mIHRoZSBmdW5jdGlvbmFsaXR5IGFscmVhZHlcbiAqICAgICAgICAgIHByb3ZpZGVkIGJ5IERyYXdlciwgVmlld3BvcnQsIFRpbGVTb3VyY2UsIGFuZCBOYXZpZ2F0b3IuICBJdCBtYXlcbiAqICAgICAgICAgIHJlcXVpcmUgYmV0dGVyIGFic3RyYWN0aW9uIGF0IHRob3NlIHBvaW50cyBpbiBvcmRlciB0byBlZmZlY2llbnRseVxuICogICAgICAgICAgcmV1c2UgdGhvc2UgcGFyYWRpZ21zLlxuICovXG4vKipcbiAqIEBjbGFzcyBSZWZlcmVuY2VTdHJpcFxuICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKi9cbiQuUmVmZXJlbmNlU3RyaXAgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cbiAgICB2YXIgX3RoaXMgICAgICAgPSB0aGlzLFxuICAgICAgICB2aWV3ZXIgICAgICA9IG9wdGlvbnMudmlld2VyLFxuICAgICAgICB2aWV3ZXJTaXplICA9ICQuZ2V0RWxlbWVudFNpemUoIHZpZXdlci5lbGVtZW50ICksXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBpO1xuXG4gICAgLy9XZSBtYXkgbmVlZCB0byBjcmVhdGUgYSBuZXcgZWxlbWVudCBhbmQgaWQgaWYgdGhleSBkaWQgbm90XG4gICAgLy9wcm92aWRlIHRoZSBpZCBmb3IgdGhlIGV4aXN0aW5nIGVsZW1lbnRcbiAgICBpZiAoICFvcHRpb25zLmlkICkge1xuICAgICAgICBvcHRpb25zLmlkICAgICAgICAgICAgICA9ICdyZWZlcmVuY2VzdHJpcC0nICsgJC5ub3coKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ICAgICAgICAgICAgPSAkLm1ha2VOZXV0cmFsRWxlbWVudCggXCJkaXZcIiApO1xuICAgICAgICB0aGlzLmVsZW1lbnQuaWQgICAgICAgICA9IG9wdGlvbnMuaWQ7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgID0gJ3JlZmVyZW5jZXN0cmlwJztcbiAgICB9XG5cbiAgICBvcHRpb25zID0gJC5leHRlbmQoIHRydWUsIHtcbiAgICAgICAgc2l6ZVJhdGlvOiAgJC5ERUZBVUxUX1NFVFRJTkdTLnJlZmVyZW5jZVN0cmlwU2l6ZVJhdGlvLFxuICAgICAgICBwb3NpdGlvbjogICAkLkRFRkFVTFRfU0VUVElOR1MucmVmZXJlbmNlU3RyaXBQb3NpdGlvbixcbiAgICAgICAgc2Nyb2xsOiAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLnJlZmVyZW5jZVN0cmlwU2Nyb2xsLFxuICAgICAgICBjbGlja1RpbWVUaHJlc2hvbGQ6ICAkLkRFRkFVTFRfU0VUVElOR1MuY2xpY2tUaW1lVGhyZXNob2xkXG4gICAgfSwgb3B0aW9ucywge1xuICAgICAgICAvL3JlcXVpcmVkIG92ZXJyaWRlc1xuICAgICAgICBlbGVtZW50OiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgIC8vVGhlc2UgbmVlZCB0byBiZSBvdmVycmlkZGVuIHRvIHByZXZlbnQgcmVjdXJzaW9uIHNpbmNlXG4gICAgICAgIC8vdGhlIG5hdmlnYXRvciBpcyBhIHZpZXdlciBhbmQgYSB2aWV3ZXIgaGFzIGEgbmF2aWdhdG9yXG4gICAgICAgIHNob3dOYXZpZ2F0b3I6ICAgICAgICAgIGZhbHNlLFxuICAgICAgICBtb3VzZU5hdkVuYWJsZWQ6ICAgICAgICBmYWxzZSxcbiAgICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiAgZmFsc2UsXG4gICAgICAgIHNob3dTZXF1ZW5jZUNvbnRyb2w6ICAgIGZhbHNlXG4gICAgfSApO1xuXG4gICAgJC5leHRlbmQoIHRoaXMsIG9wdGlvbnMgKTtcbiAgICAvL1ByaXZhdGUgc3RhdGUgcHJvcGVydGllc1xuICAgIFRISVNbdGhpcy5pZF0gPSB7XG4gICAgICAgIFwiYW5pbWF0aW5nXCI6ICAgICAgICAgICBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLm1pblBpeGVsUmF0aW8gPSB0aGlzLnZpZXdlci5taW5QaXhlbFJhdGlvO1xuXG4gICAgc3R5bGUgPSB0aGlzLmVsZW1lbnQuc3R5bGU7XG4gICAgc3R5bGUubWFyZ2luVG9wICAgICA9ICcwcHgnO1xuICAgIHN0eWxlLm1hcmdpblJpZ2h0ICAgPSAnMHB4JztcbiAgICBzdHlsZS5tYXJnaW5Cb3R0b20gID0gJzBweCc7XG4gICAgc3R5bGUubWFyZ2luTGVmdCAgICA9ICcwcHgnO1xuICAgIHN0eWxlLmxlZnQgICAgICAgICAgPSAnMHB4JztcbiAgICBzdHlsZS5ib3R0b20gICAgICAgID0gJzBweCc7XG4gICAgc3R5bGUuYm9yZGVyICAgICAgICA9ICcwcHgnO1xuICAgIHN0eWxlLmJhY2tncm91bmQgICAgPSAnIzAwMCc7XG4gICAgc3R5bGUucG9zaXRpb24gICAgICA9ICdyZWxhdGl2ZSc7XG5cbiAgICAkLnNldEVsZW1lbnRUb3VjaEFjdGlvbk5vbmUoIHRoaXMuZWxlbWVudCApO1xuXG4gICAgJC5zZXRFbGVtZW50T3BhY2l0eSggdGhpcy5lbGVtZW50LCAwLjggKTtcblxuICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgIHRoaXMuaW5uZXJUcmFja2VyID0gbmV3ICQuTW91c2VUcmFja2VyKCB7XG4gICAgICAgIGVsZW1lbnQ6ICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgIGRyYWdIYW5kbGVyOiAgICAkLmRlbGVnYXRlKCB0aGlzLCBvblN0cmlwRHJhZyApLFxuICAgICAgICBzY3JvbGxIYW5kbGVyOiAgJC5kZWxlZ2F0ZSggdGhpcywgb25TdHJpcFNjcm9sbCApLFxuICAgICAgICBlbnRlckhhbmRsZXI6ICAgJC5kZWxlZ2F0ZSggdGhpcywgb25TdHJpcEVudGVyICksXG4gICAgICAgIGV4aXRIYW5kbGVyOiAgICAkLmRlbGVnYXRlKCB0aGlzLCBvblN0cmlwRXhpdCApLFxuICAgICAgICBrZXlEb3duSGFuZGxlcjogJC5kZWxlZ2F0ZSggdGhpcywgb25LZXlEb3duICksXG4gICAgICAgIGtleUhhbmRsZXI6ICAgICAkLmRlbGVnYXRlKCB0aGlzLCBvbktleVByZXNzIClcbiAgICB9ICk7XG5cbiAgICAvL0NvbnRyb2xzIHRoZSBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24gb2YgdGhlIHJlZmVyZW5jZSBzdHJpcCBhbmQgc2V0cyB0aGVcbiAgICAvL2FwcHJvcHJpYXRlIHdpZHRoIGFuZCBoZWlnaHRcbiAgICBpZiAoIG9wdGlvbnMud2lkdGggJiYgb3B0aW9ucy5oZWlnaHQgKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCAgPSBvcHRpb25zLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgdmlld2VyLmFkZENvbnRyb2woXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICB7IGFuY2hvcjogJC5Db250cm9sQW5jaG9yLkJPVFRPTV9MRUZUIH1cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIFwiaG9yaXpvbnRhbFwiID09IG9wdGlvbnMuc2Nyb2xsICkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gKFxuICAgICAgICAgICAgICAgIHZpZXdlclNpemUueCAqXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zaXplUmF0aW8gKlxuICAgICAgICAgICAgICAgIHZpZXdlci50aWxlU291cmNlcy5sZW5ndGhcbiAgICAgICAgICAgICkgKyAoIDEyICogdmlld2VyLnRpbGVTb3VyY2VzLmxlbmd0aCApICsgJ3B4JztcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IChcbiAgICAgICAgICAgICAgICB2aWV3ZXJTaXplLnkgKlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2l6ZVJhdGlvXG4gICAgICAgICAgICApICsgJ3B4JztcblxuICAgICAgICAgICAgdmlld2VyLmFkZENvbnRyb2woXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgIHsgYW5jaG9yOiAkLkNvbnRyb2xBbmNob3IuQk9UVE9NX0xFRlQgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAoXG4gICAgICAgICAgICAgICAgdmlld2VyU2l6ZS55ICpcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNpemVSYXRpbyAqXG4gICAgICAgICAgICAgICAgdmlld2VyLnRpbGVTb3VyY2VzLmxlbmd0aFxuICAgICAgICAgICAgKSArICggMTIgKiB2aWV3ZXIudGlsZVNvdXJjZXMubGVuZ3RoICkgKyAncHgnO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAoXG4gICAgICAgICAgICAgICAgdmlld2VyU2l6ZS54ICpcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNpemVSYXRpb1xuICAgICAgICAgICAgKSArICdweCc7XG5cbiAgICAgICAgICAgIHZpZXdlci5hZGRDb250cm9sKFxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgICAgICB7IGFuY2hvcjogJC5Db250cm9sQW5jaG9yLlRPUF9MRUZUIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFuZWxXaWR0aCA9ICggdmlld2VyU2l6ZS54ICogdGhpcy5zaXplUmF0aW8gKSArIDg7XG4gICAgdGhpcy5wYW5lbEhlaWdodCA9ICggdmlld2VyU2l6ZS55ICogdGhpcy5zaXplUmF0aW8gKSArIDg7XG4gICAgdGhpcy5wYW5lbHMgPSBbXTtcbiAgICB0aGlzLm1pbmlWaWV3ZXJzID0ge307XG5cbiAgICAvKmpzaGludCBsb29wZnVuYzp0cnVlKi9cbiAgICBmb3IgKCBpID0gMDsgaSA8IHZpZXdlci50aWxlU291cmNlcy5sZW5ndGg7IGkrKyApIHtcblxuICAgICAgICBlbGVtZW50ID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoICdkaXYnICk7XG4gICAgICAgIGVsZW1lbnQuaWQgPSB0aGlzLmVsZW1lbnQuaWQgKyBcIi1cIiArIGk7XG5cbiAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCAgICAgICAgID0gX3RoaXMucGFuZWxXaWR0aCArICdweCc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ICAgICAgICA9IF90aGlzLnBhbmVsSGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ICAgICAgID0gJ2lubGluZSc7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuZmxvYXQgICAgICAgICA9ICdsZWZ0JzsgLy9XZWJraXRcbiAgICAgICAgZWxlbWVudC5zdHlsZS5jc3NGbG9hdCAgICAgID0gJ2xlZnQnOyAvL0ZpcmVmb3hcbiAgICAgICAgZWxlbWVudC5zdHlsZS5zdHlsZUZsb2F0ICAgID0gJ2xlZnQnOyAvL0lFXG4gICAgICAgIGVsZW1lbnQuc3R5bGUucGFkZGluZyAgICAgICA9ICcycHgnO1xuICAgICAgICAkLnNldEVsZW1lbnRUb3VjaEFjdGlvbk5vbmUoIGVsZW1lbnQgKTtcblxuICAgICAgICBlbGVtZW50LmlubmVyVHJhY2tlciA9IG5ldyAkLk1vdXNlVHJhY2tlcigge1xuICAgICAgICAgICAgZWxlbWVudDogICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgY2xpY2tUaW1lVGhyZXNob2xkOiB0aGlzLmNsaWNrVGltZVRocmVzaG9sZCxcbiAgICAgICAgICAgIGNsaWNrRGlzdFRocmVzaG9sZDogdGhpcy5jbGlja0Rpc3RUaHJlc2hvbGQsXG4gICAgICAgICAgICBwcmVzc0hhbmRsZXI6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuZXZlbnRTb3VyY2UuZHJhZ2dpbmcgPSAkLm5vdygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbGVhc2VIYW5kbGVyOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuICAgICAgICAgICAgICAgIHZhciB0cmFja2VyID0gZXZlbnQuZXZlbnRTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIGlkICAgICAgPSB0cmFja2VyLmVsZW1lbnQuaWQsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2UgICAgPSBOdW1iZXIoIGlkLnNwbGl0KCAnLScgKVsyXSApLFxuICAgICAgICAgICAgICAgICAgICBub3cgICAgID0gJC5ub3coKTtcblxuICAgICAgICAgICAgICAgIGlmICggZXZlbnQuaW5zaWRlRWxlbWVudFByZXNzZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgIGV2ZW50Lmluc2lkZUVsZW1lbnRSZWxlYXNlZCAmJlxuICAgICAgICAgICAgICAgICAgICAgdHJhY2tlci5kcmFnZ2luZyAmJlxuICAgICAgICAgICAgICAgICAgICAgKCBub3cgLSB0cmFja2VyLmRyYWdnaW5nICkgPCB0cmFja2VyLmNsaWNrVGltZVRocmVzaG9sZCApIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tlci5kcmFnZ2luZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdlci5nb1RvUGFnZSggcGFnZSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCggZWxlbWVudCApO1xuXG4gICAgICAgIGVsZW1lbnQuYWN0aXZlUGFuZWwgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnBhbmVscy5wdXNoKCBlbGVtZW50ICk7XG5cbiAgICB9XG4gICAgbG9hZFBhbmVscyggdGhpcywgdGhpcy5zY3JvbGwgPT0gJ3ZlcnRpY2FsJyA/IHZpZXdlclNpemUueSA6IHZpZXdlclNpemUueCwgMCApO1xuICAgIHRoaXMuc2V0Rm9jdXMoIDAgKTtcblxufTtcblxuJC5leHRlbmQoICQuUmVmZXJlbmNlU3RyaXAucHJvdG90eXBlLCAkLkV2ZW50U291cmNlLnByb3RvdHlwZSwgJC5WaWV3ZXIucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uUmVmZXJlbmNlU3RyaXAucHJvdG90eXBlICove1xuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgc2V0Rm9jdXM6IGZ1bmN0aW9uICggcGFnZSApIHtcbiAgICAgICAgdmFyIGVsZW1lbnQgICAgICA9ICQuZ2V0RWxlbWVudCggdGhpcy5lbGVtZW50LmlkICsgJy0nICsgcGFnZSApLFxuICAgICAgICAgICAgdmlld2VyU2l6ZSAgID0gJC5nZXRFbGVtZW50U2l6ZSggdGhpcy52aWV3ZXIuY2FudmFzICksXG4gICAgICAgICAgICBzY3JvbGxXaWR0aCAgPSBOdW1iZXIoIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aC5yZXBsYWNlKCAncHgnLCAnJyApICksXG4gICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBOdW1iZXIoIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQucmVwbGFjZSggJ3B4JywgJycgKSApLFxuICAgICAgICAgICAgb2Zmc2V0TGVmdCAgID0gLU51bWJlciggdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQucmVwbGFjZSggJ3B4JywgJycgKSApLFxuICAgICAgICAgICAgb2Zmc2V0VG9wICAgID0gLU51bWJlciggdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpblRvcC5yZXBsYWNlKCAncHgnLCAnJyApICksXG4gICAgICAgICAgICBvZmZzZXQ7XG5cbiAgICAgICAgaWYgKCB0aGlzLmN1cnJlbnRTZWxlY3RlZCAhPT0gZWxlbWVudCApIHtcbiAgICAgICAgICAgIGlmICggdGhpcy5jdXJyZW50U2VsZWN0ZWQgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0ZWQuc3R5bGUuYmFja2dyb3VuZCA9ICcjMDAwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkID0gZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGVkLnN0eWxlLmJhY2tncm91bmQgPSAnIzk5OSc7XG5cbiAgICAgICAgICAgIGlmICggJ2hvcml6b250YWwnID09IHRoaXMuc2Nyb2xsICkge1xuICAgICAgICAgICAgICAgIC8vcmlnaHQgbGVmdFxuICAgICAgICAgICAgICAgIG9mZnNldCA9ICggTnVtYmVyKCBwYWdlICkgKSAqICggdGhpcy5wYW5lbFdpZHRoICsgMyApO1xuICAgICAgICAgICAgICAgIGlmICggb2Zmc2V0ID4gb2Zmc2V0TGVmdCArIHZpZXdlclNpemUueCAtIHRoaXMucGFuZWxXaWR0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5taW4oIG9mZnNldCwgKCBzY3JvbGxXaWR0aCAtIHZpZXdlclNpemUueCApICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gLW9mZnNldCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueCwgLW9mZnNldCApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG9mZnNldCA8IG9mZnNldExlZnQgKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IE1hdGgubWF4KCAwLCBvZmZzZXQgLSB2aWV3ZXJTaXplLnggLyAyICk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gLW9mZnNldCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueCwgLW9mZnNldCApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gKCBOdW1iZXIoIHBhZ2UgKSApICogKCB0aGlzLnBhbmVsSGVpZ2h0ICsgMyApO1xuICAgICAgICAgICAgICAgIGlmICggb2Zmc2V0ID4gb2Zmc2V0VG9wICsgdmlld2VyU2l6ZS55IC0gdGhpcy5wYW5lbEhlaWdodCApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5taW4oIG9mZnNldCwgKCBzY3JvbGxIZWlnaHQgLSB2aWV3ZXJTaXplLnkgKSApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gLW9mZnNldCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueSwgLW9mZnNldCApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIG9mZnNldCA8IG9mZnNldFRvcCApIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoIDAsIG9mZnNldCAtIHZpZXdlclNpemUueSAvIDIgKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9IC1vZmZzZXQgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBsb2FkUGFuZWxzKCB0aGlzLCB2aWV3ZXJTaXplLnksIC1vZmZzZXQgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgICAgICAgb25TdHJpcEVudGVyLmNhbGwoIHRoaXMsIHsgZXZlbnRTb3VyY2U6IHRoaXMuaW5uZXJUcmFja2VyIH0gKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCBUSElTW3RoaXMuaWRdLmFuaW1hdGluZyApIHtcbiAgICAgICAgICAgICQuY29uc29sZS5sb2coICdpbWFnZSByZWZlcmVuY2Ugc3RyaXAgdXBkYXRlJyApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvLyBPdmVycmlkZXMgVmlld2VyLmRlc3Ryb3lcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMubWluaVZpZXdlcnMpIHtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5taW5pVmlld2Vycykge1xuICAgICAgICAgICAgdGhpcy5taW5pVmlld2Vyc1trZXldLmRlc3Ryb3koKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG59ICk7XG5cblxuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9uU3RyaXBEcmFnKCBldmVudCApIHtcblxuICAgIHZhciBvZmZzZXRMZWZ0ICAgPSBOdW1iZXIoIHRoaXMuZWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0LnJlcGxhY2UoICdweCcsICcnICkgKSxcbiAgICAgICAgb2Zmc2V0VG9wICAgID0gTnVtYmVyKCB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wLnJlcGxhY2UoICdweCcsICcnICkgKSxcbiAgICAgICAgc2Nyb2xsV2lkdGggID0gTnVtYmVyKCB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGgucmVwbGFjZSggJ3B4JywgJycgKSApLFxuICAgICAgICBzY3JvbGxIZWlnaHQgPSBOdW1iZXIoIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQucmVwbGFjZSggJ3B4JywgJycgKSApLFxuICAgICAgICB2aWV3ZXJTaXplICAgPSAkLmdldEVsZW1lbnRTaXplKCB0aGlzLnZpZXdlci5jYW52YXMgKTtcbiAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcbiAgICBpZiAoIHRoaXMuZWxlbWVudCApIHtcbiAgICAgICAgaWYgKCAnaG9yaXpvbnRhbCcgPT0gdGhpcy5zY3JvbGwgKSB7XG4gICAgICAgICAgICBpZiAoIC1ldmVudC5kZWx0YS54ID4gMCApIHtcbiAgICAgICAgICAgICAgICAvL2ZvcndhcmRcbiAgICAgICAgICAgICAgICBpZiAoIG9mZnNldExlZnQgPiAtKCBzY3JvbGxXaWR0aCAtIHZpZXdlclNpemUueCApICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luTGVmdCA9ICggb2Zmc2V0TGVmdCArICggZXZlbnQuZGVsdGEueCAqIDIgKSApICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgbG9hZFBhbmVscyggdGhpcywgdmlld2VyU2l6ZS54LCBvZmZzZXRMZWZ0ICsgKCBldmVudC5kZWx0YS54ICogMiApICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICggLWV2ZW50LmRlbHRhLnggPCAwICkge1xuICAgICAgICAgICAgICAgIC8vcmV2ZXJzZVxuICAgICAgICAgICAgICAgIGlmICggb2Zmc2V0TGVmdCA8IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gKCBvZmZzZXRMZWZ0ICsgKCBldmVudC5kZWx0YS54ICogMiApICkgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBsb2FkUGFuZWxzKCB0aGlzLCB2aWV3ZXJTaXplLngsIG9mZnNldExlZnQgKyAoIGV2ZW50LmRlbHRhLnggKiAyICkgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIC1ldmVudC5kZWx0YS55ID4gMCApIHtcbiAgICAgICAgICAgICAgICAvL2ZvcndhcmRcbiAgICAgICAgICAgICAgICBpZiAoIG9mZnNldFRvcCA+IC0oIHNjcm9sbEhlaWdodCAtIHZpZXdlclNpemUueSApICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gKCBvZmZzZXRUb3AgKyAoIGV2ZW50LmRlbHRhLnkgKiAyICkgKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueSwgb2Zmc2V0VG9wICsgKCBldmVudC5kZWx0YS55ICogMiApICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICggLWV2ZW50LmRlbHRhLnkgPCAwICkge1xuICAgICAgICAgICAgICAgIC8vcmV2ZXJzZVxuICAgICAgICAgICAgICAgIGlmICggb2Zmc2V0VG9wIDwgMCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpblRvcCA9ICggb2Zmc2V0VG9wICsgKCBldmVudC5kZWx0YS55ICogMiApICkgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICBsb2FkUGFuZWxzKCB0aGlzLCB2aWV3ZXJTaXplLnksIG9mZnNldFRvcCArICggZXZlbnQuZGVsdGEueSAqIDIgKSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG5cbn1cblxuXG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogQGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIG9uU3RyaXBTY3JvbGwoIGV2ZW50ICkge1xuICAgIHZhciBvZmZzZXRMZWZ0ICAgPSBOdW1iZXIoIHRoaXMuZWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0LnJlcGxhY2UoICdweCcsICcnICkgKSxcbiAgICAgICAgb2Zmc2V0VG9wICAgID0gTnVtYmVyKCB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wLnJlcGxhY2UoICdweCcsICcnICkgKSxcbiAgICAgICAgc2Nyb2xsV2lkdGggID0gTnVtYmVyKCB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGgucmVwbGFjZSggJ3B4JywgJycgKSApLFxuICAgICAgICBzY3JvbGxIZWlnaHQgPSBOdW1iZXIoIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQucmVwbGFjZSggJ3B4JywgJycgKSApLFxuICAgICAgICB2aWV3ZXJTaXplICAgPSAkLmdldEVsZW1lbnRTaXplKCB0aGlzLnZpZXdlci5jYW52YXMgKTtcbiAgICBpZiAoIHRoaXMuZWxlbWVudCApIHtcbiAgICAgICAgaWYgKCAnaG9yaXpvbnRhbCcgPT0gdGhpcy5zY3JvbGwgKSB7XG4gICAgICAgICAgICBpZiAoIGV2ZW50LnNjcm9sbCA+IDAgKSB7XG4gICAgICAgICAgICAgICAgLy9mb3J3YXJkXG4gICAgICAgICAgICAgICAgaWYgKCBvZmZzZXRMZWZ0ID4gLSggc2Nyb2xsV2lkdGggLSB2aWV3ZXJTaXplLnggKSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQgPSAoIG9mZnNldExlZnQgLSAoIGV2ZW50LnNjcm9sbCAqIDYwICkgKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueCwgb2Zmc2V0TGVmdCAtICggZXZlbnQuc2Nyb2xsICogNjAgKSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50LnNjcm9sbCA8IDAgKSB7XG4gICAgICAgICAgICAgICAgLy9yZXZlcnNlXG4gICAgICAgICAgICAgICAgaWYgKCBvZmZzZXRMZWZ0IDwgMCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQgPSAoIG9mZnNldExlZnQgLSAoIGV2ZW50LnNjcm9sbCAqIDYwICkgKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueCwgb2Zmc2V0TGVmdCAtICggZXZlbnQuc2Nyb2xsICogNjAgKSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICggZXZlbnQuc2Nyb2xsIDwgMCApIHtcbiAgICAgICAgICAgICAgICAvL3Njcm9sbCB1cFxuICAgICAgICAgICAgICAgIGlmICggb2Zmc2V0VG9wID4gdmlld2VyU2l6ZS55IC0gc2Nyb2xsSGVpZ2h0ICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gKCBvZmZzZXRUb3AgKyAoIGV2ZW50LnNjcm9sbCAqIDYwICkgKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueSwgb2Zmc2V0VG9wICsgKCBldmVudC5zY3JvbGwgKiA2MCApICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICggZXZlbnQuc2Nyb2xsID4gMCApIHtcbiAgICAgICAgICAgICAgICAvL3Njcm9sbCBkb3dtXG4gICAgICAgICAgICAgICAgaWYgKCBvZmZzZXRUb3AgPCAwICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gKCBvZmZzZXRUb3AgKyAoIGV2ZW50LnNjcm9sbCAqIDYwICkgKSArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRQYW5lbHMoIHRoaXMsIHZpZXdlclNpemUueSwgb2Zmc2V0VG9wICsgKCBldmVudC5zY3JvbGwgKiA2MCApICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vY2FuY2VscyBldmVudFxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuXG5mdW5jdGlvbiBsb2FkUGFuZWxzKCBzdHJpcCwgdmlld2VyU2l6ZSwgc2Nyb2xsICkge1xuICAgIHZhciBwYW5lbFNpemUsXG4gICAgICAgIGFjdGl2ZVBhbmVsc1N0YXJ0LFxuICAgICAgICBhY3RpdmVQYW5lbHNFbmQsXG4gICAgICAgIG1pbmlWaWV3ZXIsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBpLFxuICAgICAgICBlbGVtZW50O1xuICAgIGlmICggJ2hvcml6b250YWwnID09IHN0cmlwLnNjcm9sbCApIHtcbiAgICAgICAgcGFuZWxTaXplID0gc3RyaXAucGFuZWxXaWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwYW5lbFNpemUgPSBzdHJpcC5wYW5lbEhlaWdodDtcbiAgICB9XG4gICAgYWN0aXZlUGFuZWxzU3RhcnQgPSBNYXRoLmNlaWwoIHZpZXdlclNpemUgLyBwYW5lbFNpemUgKSArIDU7XG4gICAgYWN0aXZlUGFuZWxzRW5kID0gTWF0aC5jZWlsKCAoIE1hdGguYWJzKCBzY3JvbGwgKSArIHZpZXdlclNpemUgKSAvIHBhbmVsU2l6ZSApICsgMTtcbiAgICBhY3RpdmVQYW5lbHNTdGFydCA9IGFjdGl2ZVBhbmVsc0VuZCAtIGFjdGl2ZVBhbmVsc1N0YXJ0O1xuICAgIGFjdGl2ZVBhbmVsc1N0YXJ0ID0gYWN0aXZlUGFuZWxzU3RhcnQgPCAwID8gMCA6IGFjdGl2ZVBhbmVsc1N0YXJ0O1xuXG4gICAgZm9yICggaSA9IGFjdGl2ZVBhbmVsc1N0YXJ0OyBpIDwgYWN0aXZlUGFuZWxzRW5kICYmIGkgPCBzdHJpcC5wYW5lbHMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgIGVsZW1lbnQgPSBzdHJpcC5wYW5lbHNbaV07XG4gICAgICAgIGlmICggIWVsZW1lbnQuYWN0aXZlUGFuZWwgKSB7XG4gICAgICAgICAgICB2YXIgbWluaVRpbGVTb3VyY2U7XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxUaWxlU291cmNlID0gc3RyaXAudmlld2VyLnRpbGVTb3VyY2VzW2ldO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsVGlsZVNvdXJjZS5yZWZlcmVuY2VTdHJpcFRodW1ibmFpbFVybCkge1xuICAgICAgICAgICAgICAgIG1pbmlUaWxlU291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IG9yaWdpbmFsVGlsZVNvdXJjZS5yZWZlcmVuY2VTdHJpcFRodW1ibmFpbFVybFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pbmlUaWxlU291cmNlID0gb3JpZ2luYWxUaWxlU291cmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWluaVZpZXdlciA9IG5ldyAkLlZpZXdlcigge1xuICAgICAgICAgICAgICAgIGlkOiAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaWQsXG4gICAgICAgICAgICAgICAgdGlsZVNvdXJjZXM6ICAgICAgICAgICAgW21pbmlUaWxlU291cmNlXSxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvclNpemVSYXRpbzogICAgIHN0cmlwLnNpemVSYXRpbyxcbiAgICAgICAgICAgICAgICBzaG93TmF2aWdhdG9yOiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb3VzZU5hdkVuYWJsZWQ6ICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93TmF2aWdhdGlvbkNvbnRyb2w6ICBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93U2VxdWVuY2VDb250cm9sOiAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbW1lZGlhdGVSZW5kZXI6ICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgIGJsZW5kVGltZTogICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uVGltZTogICAgICAgICAgMFxuICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICBtaW5pVmlld2VyLmRpc3BsYXlSZWdpb24gICAgICAgICAgID0gJC5tYWtlTmV1dHJhbEVsZW1lbnQoIFwiZGl2XCIgKTtcbiAgICAgICAgICAgIG1pbmlWaWV3ZXIuZGlzcGxheVJlZ2lvbi5pZCAgICAgICAgPSBlbGVtZW50LmlkICsgJy1kaXNwbGF5cmVnaW9uJztcbiAgICAgICAgICAgIG1pbmlWaWV3ZXIuZGlzcGxheVJlZ2lvbi5jbGFzc05hbWUgPSAnZGlzcGxheXJlZ2lvbic7XG5cbiAgICAgICAgICAgIHN0eWxlICAgICAgICAgICAgICAgPSBtaW5pVmlld2VyLmRpc3BsYXlSZWdpb24uc3R5bGU7XG4gICAgICAgICAgICBzdHlsZS5wb3NpdGlvbiAgICAgID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgIHN0eWxlLnRvcCAgICAgICAgICAgPSAnMHB4JztcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgICAgICAgICAgPSAnMHB4JztcbiAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplICAgICAgPSAnMHB4JztcbiAgICAgICAgICAgIHN0eWxlLm92ZXJmbG93ICAgICAgPSAnaGlkZGVuJztcbiAgICAgICAgICAgIHN0eWxlLmZsb2F0ICAgICAgICAgPSAnbGVmdCc7IC8vV2Via2l0XG4gICAgICAgICAgICBzdHlsZS5jc3NGbG9hdCAgICAgID0gJ2xlZnQnOyAvL0ZpcmVmb3hcbiAgICAgICAgICAgIHN0eWxlLnN0eWxlRmxvYXQgICAgPSAnbGVmdCc7IC8vSUVcbiAgICAgICAgICAgIHN0eWxlLnpJbmRleCAgICAgICAgPSA5OTk5OTk5OTk7XG4gICAgICAgICAgICBzdHlsZS5jdXJzb3IgICAgICAgID0gJ2RlZmF1bHQnO1xuICAgICAgICAgICAgc3R5bGUud2lkdGggICAgICAgICA9ICggc3RyaXAucGFuZWxXaWR0aCAtIDQgKSArICdweCc7XG4gICAgICAgICAgICBzdHlsZS5oZWlnaHQgICAgICAgID0gKCBzdHJpcC5wYW5lbEhlaWdodCAtIDQgKSArICdweCc7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdoYXQgaXMgdGhpcyBmb3I/IEZ1dHVyZSBrZXlib2FyZCBuYXZpZ2F0aW9uIHN1cHBvcnQ/XG4gICAgICAgICAgICBtaW5pVmlld2VyLmRpc3BsYXlSZWdpb24uaW5uZXJUcmFja2VyID0gbmV3ICQuTW91c2VUcmFja2VyKCB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogbWluaVZpZXdlci5kaXNwbGF5UmVnaW9uLFxuICAgICAgICAgICAgICAgIHN0YXJ0RGlzYWJsZWQ6IHRydWVcbiAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ2RpdicgKVswXS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICBtaW5pVmlld2VyLmRpc3BsYXlSZWdpb25cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHN0cmlwLm1pbmlWaWV3ZXJzW2VsZW1lbnQuaWRdID0gbWluaVZpZXdlcjtcblxuICAgICAgICAgICAgZWxlbWVudC5hY3RpdmVQYW5lbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBAZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gb25TdHJpcEVudGVyKCBldmVudCApIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LmV2ZW50U291cmNlLmVsZW1lbnQ7XG5cbiAgICAvLyQuc2V0RWxlbWVudE9wYWNpdHkoZWxlbWVudCwgMC44KTtcblxuICAgIC8vZWxlbWVudC5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICM1NTUnO1xuICAgIC8vZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gJyMwMDAnO1xuXG4gICAgaWYgKCAnaG9yaXpvbnRhbCcgPT0gdGhpcy5zY3JvbGwgKSB7XG5cbiAgICAgICAgLy9lbGVtZW50LnN0eWxlLnBhZGRpbmdUb3AgPSBcIjBweFwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiMHB4XCI7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIjBweFwiO1xuICAgICAgICBlbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQgPSBcIjBweFwiO1xuXG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBvblN0cmlwRXhpdCggZXZlbnQgKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBldmVudC5ldmVudFNvdXJjZS5lbGVtZW50O1xuXG4gICAgaWYgKCAnaG9yaXpvbnRhbCcgPT0gdGhpcy5zY3JvbGwgKSB7XG5cbiAgICAgICAgLy9lbGVtZW50LnN0eWxlLnBhZGRpbmdUb3AgPSBcIjEwcHhcIjtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIi1cIiArICggJC5nZXRFbGVtZW50U2l6ZSggZWxlbWVudCApLnkgLyAyICkgKyBcInB4XCI7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIjEwcHhcIjtcbiAgICAgICAgZWxlbWVudC5zdHlsZS5tYXJnaW5MZWZ0ID0gXCItXCIgKyAoICQuZ2V0RWxlbWVudFNpemUoIGVsZW1lbnQgKS54IC8gMiApICsgXCJweFwiO1xuXG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBvbktleURvd24oIGV2ZW50ICkge1xuICAgIC8vY29uc29sZS5sb2coIGV2ZW50LmtleUNvZGUgKTtcblxuICAgIGlmICggIWV2ZW50LnByZXZlbnREZWZhdWx0QWN0aW9uICYmICFldmVudC5jdHJsICYmICFldmVudC5hbHQgJiYgIWV2ZW50Lm1ldGEgKSB7XG4gICAgICAgIHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG4gICAgICAgICAgICBjYXNlIDM4OiAvL3VwIGFycm93XG4gICAgICAgICAgICAgICAgb25TdHJpcFNjcm9sbC5jYWxsKCB0aGlzLCB7IGV2ZW50U291cmNlOiB0aGlzLnRyYWNrZXIsIHBvc2l0aW9uOiBudWxsLCBzY3JvbGw6IDEsIHNoaWZ0OiBudWxsIH0gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDQwOiAvL2Rvd24gYXJyb3dcbiAgICAgICAgICAgICAgICBvblN0cmlwU2Nyb2xsLmNhbGwoIHRoaXMsIHsgZXZlbnRTb3VyY2U6IHRoaXMudHJhY2tlciwgcG9zaXRpb246IG51bGwsIHNjcm9sbDogLTEsIHNoaWZ0OiBudWxsIH0gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDM3OiAvL2xlZnQgYXJyb3dcbiAgICAgICAgICAgICAgICBvblN0cmlwU2Nyb2xsLmNhbGwoIHRoaXMsIHsgZXZlbnRTb3VyY2U6IHRoaXMudHJhY2tlciwgcG9zaXRpb246IG51bGwsIHNjcm9sbDogLTEsIHNoaWZ0OiBudWxsIH0gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDM5OiAvL3JpZ2h0IGFycm93XG4gICAgICAgICAgICAgICAgb25TdHJpcFNjcm9sbC5jYWxsKCB0aGlzLCB7IGV2ZW50U291cmNlOiB0aGlzLnRyYWNrZXIsIHBvc2l0aW9uOiBudWxsLCBzY3JvbGw6IDEsIHNoaWZ0OiBudWxsIH0gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coICduYXZpZ2F0b3Iga2V5Y29kZSAlcycsIGV2ZW50LmtleUNvZGUgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIEBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBvbktleVByZXNzKCBldmVudCApIHtcbiAgICAvL2NvbnNvbGUubG9nKCBldmVudC5rZXlDb2RlICk7XG5cbiAgICBpZiAoICFldmVudC5wcmV2ZW50RGVmYXVsdEFjdGlvbiAmJiAhZXZlbnQuY3RybCAmJiAhZXZlbnQuYWx0ICYmICFldmVudC5tZXRhICkge1xuICAgICAgICBzd2l0Y2ggKCBldmVudC5rZXlDb2RlICkge1xuICAgICAgICAgICAgY2FzZSA2MTogLy89fCtcbiAgICAgICAgICAgICAgICBvblN0cmlwU2Nyb2xsLmNhbGwoIHRoaXMsIHsgZXZlbnRTb3VyY2U6IHRoaXMudHJhY2tlciwgcG9zaXRpb246IG51bGwsIHNjcm9sbDogMSwgc2hpZnQ6IG51bGwgfSApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgNDU6IC8vLXxfXG4gICAgICAgICAgICAgICAgb25TdHJpcFNjcm9sbC5jYWxsKCB0aGlzLCB7IGV2ZW50U291cmNlOiB0aGlzLnRyYWNrZXIsIHBvc2l0aW9uOiBudWxsLCBzY3JvbGw6IC0xLCBzaGlmdDogbnVsbCB9ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSA0ODogLy8wfClcbiAgICAgICAgICAgIGNhc2UgMTE5OiAvL3dcbiAgICAgICAgICAgIGNhc2UgODc6IC8vV1xuICAgICAgICAgICAgICAgIG9uU3RyaXBTY3JvbGwuY2FsbCggdGhpcywgeyBldmVudFNvdXJjZTogdGhpcy50cmFja2VyLCBwb3NpdGlvbjogbnVsbCwgc2Nyb2xsOiAxLCBzaGlmdDogbnVsbCB9ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAxMTU6IC8vc1xuICAgICAgICAgICAgY2FzZSA4MzogLy9TXG4gICAgICAgICAgICAgICAgb25TdHJpcFNjcm9sbC5jYWxsKCB0aGlzLCB7IGV2ZW50U291cmNlOiB0aGlzLnRyYWNrZXIsIHBvc2l0aW9uOiBudWxsLCBzY3JvbGw6IC0xLCBzaGlmdDogbnVsbCB9ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSA5NzogLy9hXG4gICAgICAgICAgICAgICAgb25TdHJpcFNjcm9sbC5jYWxsKCB0aGlzLCB7IGV2ZW50U291cmNlOiB0aGlzLnRyYWNrZXIsIHBvc2l0aW9uOiBudWxsLCBzY3JvbGw6IC0xLCBzaGlmdDogbnVsbCB9ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAxMDA6IC8vZFxuICAgICAgICAgICAgICAgIG9uU3RyaXBTY3JvbGwuY2FsbCggdGhpcywgeyBldmVudFNvdXJjZTogdGhpcy50cmFja2VyLCBwb3NpdGlvbjogbnVsbCwgc2Nyb2xsOiAxLCBzaGlmdDogbnVsbCB9ICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCAnbmF2aWdhdG9yIGtleWNvZGUgJXMnLCBldmVudC5rZXlDb2RlICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbn0oT3BlblNlYWRyYWdvbikpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIERpc3BsYXlSZWN0XG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vKipcbiAqIEBjbGFzcyBEaXNwbGF5UmVjdFxuICogQGNsYXNzZGVzYyBBIGRpc3BsYXkgcmVjdGFuZ2xlIGlzIHZlcnkgc2ltaWxhciB0byB7QGxpbmsgT3BlblNlYWRyYWdvbi5SZWN0fSBidXQgYWRkcyB0d29cbiAqIGZpZWxkcywgJ21pbkxldmVsJyBhbmQgJ21heExldmVsJyB3aGljaCBkZW5vdGUgdGhlIHN1cHBvcnRlZCB6b29tIGxldmVsc1xuICogZm9yIHRoaXMgcmVjdGFuZ2xlLlxuICpcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLlJlY3RcbiAqIEBwYXJhbSB7TnVtYmVyfSB4IFRoZSB2ZWN0b3IgY29tcG9uZW50ICd4Jy5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB2ZWN0b3IgY29tcG9uZW50ICd5Jy5cbiAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgdmVjdG9yIGNvbXBvbmVudCAnaGVpZ2h0Jy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIHZlY3RvciBjb21wb25lbnQgJ3dpZHRoJy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtaW5MZXZlbCBUaGUgbG93ZXN0IHpvb20gbGV2ZWwgc3VwcG9ydGVkLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1heExldmVsIFRoZSBoaWdoZXN0IHpvb20gbGV2ZWwgc3VwcG9ydGVkLlxuICovXG4kLkRpc3BsYXlSZWN0ID0gZnVuY3Rpb24oIHgsIHksIHdpZHRoLCBoZWlnaHQsIG1pbkxldmVsLCBtYXhMZXZlbCApIHtcbiAgICAkLlJlY3QuYXBwbHkoIHRoaXMsIFsgeCwgeSwgd2lkdGgsIGhlaWdodCBdICk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbG93ZXN0IHpvb20gbGV2ZWwgc3VwcG9ydGVkLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0gbWluTGV2ZWxcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5EaXNwbGF5UmVjdCNcbiAgICAgKi9cbiAgICB0aGlzLm1pbkxldmVsID0gbWluTGV2ZWw7XG4gICAgLyoqXG4gICAgICogVGhlIGhpZ2hlc3Qgem9vbSBsZXZlbCBzdXBwb3J0ZWQuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBtYXhMZXZlbFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLkRpc3BsYXlSZWN0I1xuICAgICAqL1xuICAgIHRoaXMubWF4TGV2ZWwgPSBtYXhMZXZlbDtcbn07XG5cbiQuZXh0ZW5kKCAkLkRpc3BsYXlSZWN0LnByb3RvdHlwZSwgJC5SZWN0LnByb3RvdHlwZSApO1xuXG59KCBPcGVuU2VhZHJhZ29uICkpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIFNwcmluZ1xuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLyoqXG4gKiBAY2xhc3MgU3ByaW5nXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBTcHJpbmcgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnNwcmluZ1N0aWZmbmVzcyAtIFNwcmluZyBzdGlmZm5lc3MuIE11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gKiBUaGUgY2xvc2VyIHRvIHplcm8sIHRoZSBjbG9zZXIgdG8gbGluZWFyIGFuaW1hdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLmFuaW1hdGlvblRpbWUgLSBBbmltYXRpb24gZHVyYXRpb24gcGVyIHNwcmluZywgaW4gc2Vjb25kcy5cbiAqIE11c3QgYmUgemVybyBvciBncmVhdGVyLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmluaXRpYWw9MF0gLSBJbml0aWFsIHZhbHVlIG9mIHNwcmluZy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZXhwb25lbnRpYWw9ZmFsc2VdIC0gV2hldGhlciB0aGlzIHNwcmluZyByZXByZXNlbnRzXG4gKiBhbiBleHBvbmVudGlhbCBzY2FsZSAoc3VjaCBhcyB6b29tKSBhbmQgc2hvdWxkIGJlIGFuaW1hdGVkIGFjY29yZGluZ2x5LiBOb3RlIHRoYXRcbiAqIGV4cG9uZW50aWFsIHNwcmluZ3MgbXVzdCBoYXZlIG5vbi16ZXJvIHZhbHVlcy5cbiAqL1xuJC5TcHJpbmcgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuICAgIGlmKCB0eXBlb2YoIG9wdGlvbnMgKSAhPSAnb2JqZWN0JyApe1xuICAgICAgICAvL2FsbG93cyBiYWNrd2FyZCBjb21wYXRpYmxlIHVzZSBvZiAoIGluaXRpYWxWYWx1ZSwgY29uZmlnICkgYXNcbiAgICAgICAgLy9jb25zdHJ1Y3RvciBwYXJhbWV0ZXJzXG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpbml0aWFsOiBhcmdzLmxlbmd0aCAmJiB0eXBlb2YgKCBhcmdzWyAwIF0gKSA9PSBcIm51bWJlclwiID9cbiAgICAgICAgICAgICAgICBhcmdzWyAwIF0gOlxuICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3ByaW5nIHN0aWZmbmVzcy5cbiAgICAgICAgICAgICAqIEBtZW1iZXIge051bWJlcn0gc3ByaW5nU3RpZmZuZXNzXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5TcHJpbmcjXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHNwcmluZ1N0aWZmbmVzczogYXJncy5sZW5ndGggPiAxID9cbiAgICAgICAgICAgICAgICBhcmdzWyAxIF0uc3ByaW5nU3RpZmZuZXNzIDpcbiAgICAgICAgICAgICAgICA1LjAsXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuaW1hdGlvbiBkdXJhdGlvbiBwZXIgc3ByaW5nLlxuICAgICAgICAgICAgICogQG1lbWJlciB7TnVtYmVyfSBhbmltYXRpb25UaW1lXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5TcHJpbmcjXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFuaW1hdGlvblRpbWU6IGFyZ3MubGVuZ3RoID4gMSA/XG4gICAgICAgICAgICAgICAgYXJnc1sgMSBdLmFuaW1hdGlvblRpbWUgOlxuICAgICAgICAgICAgICAgIDEuNVxuICAgICAgICB9O1xuICAgIH1cblxuICAgICQuY29uc29sZS5hc3NlcnQodHlwZW9mIG9wdGlvbnMuc3ByaW5nU3RpZmZuZXNzID09PSBcIm51bWJlclwiICYmIG9wdGlvbnMuc3ByaW5nU3RpZmZuZXNzICE9PSAwLFxuICAgICAgICBcIltPcGVuU2VhZHJhZ29uLlNwcmluZ10gb3B0aW9ucy5zcHJpbmdTdGlmZm5lc3MgbXVzdCBiZSBhIG5vbi16ZXJvIG51bWJlclwiKTtcblxuICAgICQuY29uc29sZS5hc3NlcnQodHlwZW9mIG9wdGlvbnMuYW5pbWF0aW9uVGltZSA9PT0gXCJudW1iZXJcIiAmJiBvcHRpb25zLmFuaW1hdGlvblRpbWUgPj0gMCxcbiAgICAgICAgXCJbT3BlblNlYWRyYWdvbi5TcHJpbmddIG9wdGlvbnMuYW5pbWF0aW9uVGltZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwXCIpO1xuXG4gICAgaWYgKG9wdGlvbnMuZXhwb25lbnRpYWwpIHtcbiAgICAgICAgdGhpcy5fZXhwb25lbnRpYWwgPSB0cnVlO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5leHBvbmVudGlhbDtcbiAgICB9XG5cbiAgICAkLmV4dGVuZCggdHJ1ZSwgdGhpcywgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9IGN1cnJlbnRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5TcHJpbmcjXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHZhbHVlXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHRpbWVcbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnQgPSB7XG4gICAgICAgIHZhbHVlOiB0eXBlb2YgKCB0aGlzLmluaXRpYWwgKSA9PSBcIm51bWJlclwiID9cbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbCA6XG4gICAgICAgICAgICAodGhpcy5fZXhwb25lbnRpYWwgPyAwIDogMSksXG4gICAgICAgIHRpbWU6ICAkLm5vdygpIC8vIGFsd2F5cyB3b3JrIGluIG1pbGxpc2Vjb25kc1xuICAgIH07XG5cbiAgICAkLmNvbnNvbGUuYXNzZXJ0KCF0aGlzLl9leHBvbmVudGlhbCB8fCB0aGlzLmN1cnJlbnQudmFsdWUgIT09IDAsXG4gICAgICAgIFwiW09wZW5TZWFkcmFnb24uU3ByaW5nXSB2YWx1ZSBtdXN0IGJlIG5vbi16ZXJvIGZvciBleHBvbmVudGlhbCBzcHJpbmdzXCIpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBzdGFydFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlNwcmluZyNcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdmFsdWVcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdGltZVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnQgPSB7XG4gICAgICAgIHZhbHVlOiB0aGlzLmN1cnJlbnQudmFsdWUsXG4gICAgICAgIHRpbWU6ICB0aGlzLmN1cnJlbnQudGltZVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtPYmplY3R9IHRhcmdldFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlNwcmluZyNcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdmFsdWVcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gdGltZVxuICAgICAqL1xuICAgIHRoaXMudGFyZ2V0ID0ge1xuICAgICAgICB2YWx1ZTogdGhpcy5jdXJyZW50LnZhbHVlLFxuICAgICAgICB0aW1lOiAgdGhpcy5jdXJyZW50LnRpbWVcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2V4cG9uZW50aWFsKSB7XG4gICAgICAgIHRoaXMuc3RhcnQuX2xvZ1ZhbHVlID0gTWF0aC5sb2codGhpcy5zdGFydC52YWx1ZSk7XG4gICAgICAgIHRoaXMudGFyZ2V0Ll9sb2dWYWx1ZSA9IE1hdGgubG9nKHRoaXMudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Ll9sb2dWYWx1ZSA9IE1hdGgubG9nKHRoaXMuY3VycmVudC52YWx1ZSk7XG4gICAgfVxufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLlNwcmluZy5wcm90b3R5cGUgKi9cbiQuU3ByaW5nLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0YXJnZXRcbiAgICAgKi9cbiAgICByZXNldFRvOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KCF0aGlzLl9leHBvbmVudGlhbCB8fCB0YXJnZXQgIT09IDAsXG4gICAgICAgICAgICBcIltPcGVuU2VhZHJhZ29uLlNwcmluZy5yZXNldFRvXSB0YXJnZXQgbXVzdCBiZSBub24temVybyBmb3IgZXhwb25lbnRpYWwgc3ByaW5nc1wiKTtcblxuICAgICAgICB0aGlzLnN0YXJ0LnZhbHVlID0gdGhpcy50YXJnZXQudmFsdWUgPSB0aGlzLmN1cnJlbnQudmFsdWUgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuc3RhcnQudGltZSA9IHRoaXMudGFyZ2V0LnRpbWUgPSB0aGlzLmN1cnJlbnQudGltZSA9ICQubm93KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2V4cG9uZW50aWFsKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0Ll9sb2dWYWx1ZSA9IE1hdGgubG9nKHRoaXMuc3RhcnQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuX2xvZ1ZhbHVlID0gTWF0aC5sb2codGhpcy50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Ll9sb2dWYWx1ZSA9IE1hdGgubG9nKHRoaXMuY3VycmVudC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRhcmdldFxuICAgICAqL1xuICAgIHNwcmluZ1RvOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KCF0aGlzLl9leHBvbmVudGlhbCB8fCB0YXJnZXQgIT09IDAsXG4gICAgICAgICAgICBcIltPcGVuU2VhZHJhZ29uLlNwcmluZy5zcHJpbmdUb10gdGFyZ2V0IG11c3QgYmUgbm9uLXplcm8gZm9yIGV4cG9uZW50aWFsIHNwcmluZ3NcIik7XG5cbiAgICAgICAgdGhpcy5zdGFydC52YWx1ZSAgPSB0aGlzLmN1cnJlbnQudmFsdWU7XG4gICAgICAgIHRoaXMuc3RhcnQudGltZSAgID0gdGhpcy5jdXJyZW50LnRpbWU7XG4gICAgICAgIHRoaXMudGFyZ2V0LnZhbHVlID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnRhcmdldC50aW1lICA9IHRoaXMuc3RhcnQudGltZSArIDEwMDAgKiB0aGlzLmFuaW1hdGlvblRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2V4cG9uZW50aWFsKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0Ll9sb2dWYWx1ZSA9IE1hdGgubG9nKHRoaXMuc3RhcnQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuX2xvZ1ZhbHVlID0gTWF0aC5sb2codGhpcy50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVxuICAgICAqL1xuICAgIHNoaWZ0Qnk6IGZ1bmN0aW9uKCBkZWx0YSApIHtcbiAgICAgICAgdGhpcy5zdGFydC52YWx1ZSAgKz0gZGVsdGE7XG4gICAgICAgIHRoaXMudGFyZ2V0LnZhbHVlICs9IGRlbHRhO1xuXG4gICAgICAgIGlmICh0aGlzLl9leHBvbmVudGlhbCkge1xuICAgICAgICAgICAgJC5jb25zb2xlLmFzc2VydCh0aGlzLnRhcmdldC52YWx1ZSAhPT0gMCAmJiB0aGlzLnN0YXJ0LnZhbHVlICE9PSAwLFxuICAgICAgICAgICAgICAgIFwiW09wZW5TZWFkcmFnb24uU3ByaW5nLnNoaWZ0QnldIHNwcmluZyB2YWx1ZSBtdXN0IGJlIG5vbi16ZXJvIGZvciBleHBvbmVudGlhbCBzcHJpbmdzXCIpO1xuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Ll9sb2dWYWx1ZSA9IE1hdGgubG9nKHRoaXMuc3RhcnQudmFsdWUpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQuX2xvZ1ZhbHVlID0gTWF0aC5sb2codGhpcy50YXJnZXQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNldEV4cG9uZW50aWFsOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9leHBvbmVudGlhbCA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLl9leHBvbmVudGlhbCkge1xuICAgICAgICAgICAgJC5jb25zb2xlLmFzc2VydCh0aGlzLmN1cnJlbnQudmFsdWUgIT09IDAgJiYgdGhpcy50YXJnZXQudmFsdWUgIT09IDAgJiYgdGhpcy5zdGFydC52YWx1ZSAhPT0gMCxcbiAgICAgICAgICAgICAgICBcIltPcGVuU2VhZHJhZ29uLlNwcmluZy5zZXRFeHBvbmVudGlhbF0gc3ByaW5nIHZhbHVlIG11c3QgYmUgbm9uLXplcm8gZm9yIGV4cG9uZW50aWFsIHNwcmluZ3NcIik7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhcnQuX2xvZ1ZhbHVlID0gTWF0aC5sb2codGhpcy5zdGFydC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5fbG9nVmFsdWUgPSBNYXRoLmxvZyh0aGlzLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQuX2xvZ1ZhbHVlID0gTWF0aC5sb2codGhpcy5jdXJyZW50LnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSBnb3QgdXBkYXRlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50LnRpbWUgID0gJC5ub3coKTtcblxuICAgICAgICB2YXIgc3RhcnRWYWx1ZSwgdGFyZ2V0VmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9leHBvbmVudGlhbCkge1xuICAgICAgICAgICAgc3RhcnRWYWx1ZSA9IHRoaXMuc3RhcnQuX2xvZ1ZhbHVlO1xuICAgICAgICAgICAgdGFyZ2V0VmFsdWUgPSB0aGlzLnRhcmdldC5fbG9nVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGFydFZhbHVlID0gdGhpcy5zdGFydC52YWx1ZTtcbiAgICAgICAgICAgIHRhcmdldFZhbHVlID0gdGhpcy50YXJnZXQudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gKHRoaXMuY3VycmVudC50aW1lID49IHRoaXMudGFyZ2V0LnRpbWUpID9cbiAgICAgICAgICAgIHRhcmdldFZhbHVlIDpcbiAgICAgICAgICAgIHN0YXJ0VmFsdWUgK1xuICAgICAgICAgICAgICAgICggdGFyZ2V0VmFsdWUgLSBzdGFydFZhbHVlICkgKlxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpbmdTdGlmZm5lc3MsXG4gICAgICAgICAgICAgICAgICAgICggdGhpcy5jdXJyZW50LnRpbWUgLSB0aGlzLnN0YXJ0LnRpbWUgKSAvXG4gICAgICAgICAgICAgICAgICAgICggdGhpcy50YXJnZXQudGltZSAtIHRoaXMuc3RhcnQudGltZSApXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLmN1cnJlbnQudmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9leHBvbmVudGlhbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50LnZhbHVlID0gTWF0aC5leHAoY3VycmVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC52YWx1ZSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvbGRWYWx1ZSAhPSB0aGlzLmN1cnJlbnQudmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgc3ByaW5nIGlzIGF0IHRoZSB0YXJnZXQgdmFsdWVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZiBhdCB0YXJnZXQgdmFsdWUsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzQXRUYXJnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQudmFsdWUgPT09IHRoaXMudGFyZ2V0LnZhbHVlO1xuICAgIH1cbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtKCBzdGlmZm5lc3MsIHggKSB7XG4gICAgcmV0dXJuICggMS4wIC0gTWF0aC5leHAoIHN0aWZmbmVzcyAqIC14ICkgKSAvXG4gICAgICAgICggMS4wIC0gTWF0aC5leHAoIC1zdGlmZm5lc3MgKSApO1xufVxuXG59KCBPcGVuU2VhZHJhZ29uICkpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIEltYWdlTG9hZGVyXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG5cbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oJCl7XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBjbGFzcyBJbWFnZUpvYlxuICogQGNsYXNzZGVzYyBIYW5kbGVzIGRvd25sb2FkaW5nIG9mIGEgc2luZ2xlIGltYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGlzIEltYWdlSm9iLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLnNyY10gLSBVUkwgb2YgaW1hZ2UgdG8gZG93bmxvYWQuXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMubG9hZFdpdGhBamF4XSAtIFdoZXRoZXIgdG8gbG9hZCB0aGlzIGltYWdlIHdpdGggQUpBWC5cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hamF4SGVhZGVyc10gLSBIZWFkZXJzIHRvIGFkZCB0byB0aGUgaW1hZ2UgcmVxdWVzdCBpZiB1c2luZyBBSkFYLlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5XSAtIENPUlMgcG9saWN5IHRvIHVzZSBmb3IgZG93bmxvYWRzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5jYWxsYmFja10gLSBDYWxsZWQgb25jZSBpbWFnZSBoYXMgYmVlbiBkb3dubG9hZGVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuYWJvcnRdIC0gQ2FsbGVkIHdoZW4gdGhpcyBpbWFnZSBqb2IgaXMgYWJvcnRlZC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0XSAtIFRoZSBtYXggbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHRoaXMgaW1hZ2Ugam9iIG1heSB0YWtlIHRvIGNvbXBsZXRlLlxuICovXG5mdW5jdGlvbiBJbWFnZUpvYiAob3B0aW9ucykge1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgdGhpcywge1xuICAgICAgICB0aW1lb3V0OiAkLkRFRkFVTFRfU0VUVElOR1MudGltZW91dCxcbiAgICAgICAgam9iSWQ6IG51bGxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIEltYWdlIG9iamVjdCB3aGljaCB3aWxsIGNvbnRhaW4gZG93bmxvYWRlZCBpbWFnZS5cbiAgICAgKiBAbWVtYmVyIHtJbWFnZX0gaW1hZ2VcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5JbWFnZUpvYiNcbiAgICAgKi9cbiAgICB0aGlzLmltYWdlID0gbnVsbDtcbn1cblxuSW1hZ2VKb2IucHJvdG90eXBlID0ge1xuICAgIGVycm9yTXNnOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBpbWFnZSBqb2IuXG4gICAgICogQG1ldGhvZFxuICAgICAqL1xuICAgIHN0YXJ0OiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBzZWxmQWJvcnQgPSB0aGlzLmFib3J0O1xuXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzZWxmLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbWFnZS5vbmFib3J0ID0gdGhpcy5pbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmVycm9yTXNnID0gXCJJbWFnZSBsb2FkIGFib3J0ZWRcIjtcbiAgICAgICAgICAgIHNlbGYuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmpvYklkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNlbGYuZXJyb3JNc2cgPSBcIkltYWdlIGxvYWQgZXhjZWVkZWQgdGltZW91dFwiO1xuICAgICAgICAgICAgc2VsZi5maW5pc2goZmFsc2UpO1xuICAgICAgICB9LCB0aGlzLnRpbWVvdXQpO1xuXG4gICAgICAgIC8vIExvYWQgdGhlIHRpbGUgd2l0aCBhbiBBSkFYIHJlcXVlc3QgaWYgdGhlIGxvYWRXaXRoQWpheCBvcHRpb24gaXNcbiAgICAgICAgLy8gc2V0LiBPdGhlcndpc2UgbG9hZCB0aGUgaW1hZ2UgYnkgc2V0dGluZyB0aGUgc291cmNlIHByb3ByZXR5IG9mIHRoZSBpbWFnZSBvYmplY3QuXG4gICAgICAgIGlmICh0aGlzLmxvYWRXaXRoQWpheCkge1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0ID0gJC5tYWtlQWpheFJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVybDogdGhpcy5zcmMsXG4gICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0aGlzLmFqYXhXaXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogdGhpcy5hamF4SGVhZGVycyxcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwiYXJyYXlidWZmZXJcIixcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibGI7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2UgdGhlIHJhdyBkYXRhIGludG8gYSBibG9iLlxuICAgICAgICAgICAgICAgICAgICAvLyBCbG9iQnVpbGRlciBmYWxsYmFjayBhZGFwdGVkIGZyb21cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNTI5MzY5NC9ibG9iLWNvbnN0cnVjdG9yLWJyb3dzZXItY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxiID0gbmV3IHdpbmRvdy5CbG9iKFtyZXF1ZXN0LnJlc3BvbnNlXSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBCbG9iQnVpbGRlciA9IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuQmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuTW96QmxvYkJ1aWxkZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuTVNCbG9iQnVpbGRlclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIEJsb2JCdWlsZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJiID0gbmV3IEJsb2JCdWlsZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmIuYXBwZW5kKHJlcXVlc3QucmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsYiA9IGJiLmdldEJsb2IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYmxvYiBpcyBlbXB0eSBmb3Igc29tZSByZWFzb24gY29uc2lkZXIgdGhlIGltYWdlIGxvYWQgYSBmYWlsdXJlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoYmxiLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZXJyb3JNc2cgPSBcIkVtcHR5IGltYWdlIHJlc3BvbnNlLlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5maW5pc2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIFVSTCBmb3IgdGhlIGJsb2IgZGF0YSBhbmQgbWFrZSBpdCB0aGUgc291cmNlIG9mIHRoZSBpbWFnZSBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBzdGlsbCB0cmlnZ2VyIEltYWdlLm9ubG9hZCB0byBpbmRpY2F0ZSBhIHN1Y2Nlc3NmdWwgdGlsZSBsb2FkLlxuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gKHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCkuY3JlYXRlT2JqZWN0VVJMKGJsYik7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW1hZ2Uuc3JjID0gdXJsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lcnJvck1zZyA9IFwiSW1hZ2UgbG9hZCBhYm9ydGVkIC0gWEhSIGVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gUHJvdmlkZSBhIGZ1bmN0aW9uIHRvIHByb3Blcmx5IGFib3J0IHRoZSByZXF1ZXN0LlxuICAgICAgICAgICAgdGhpcy5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNlbGYucmVxdWVzdC5hYm9ydCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgZXhpc3RpbmcgYWJvcnQgZnVuY3Rpb24gaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxmQWJvcnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBzZWxmQWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW5Qb2xpY3kgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW5Qb2xpY3k7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gdGhpcy5zcmM7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihzdWNjZXNzZnVsKSB7XG4gICAgICAgIHRoaXMuaW1hZ2Uub25sb2FkID0gdGhpcy5pbWFnZS5vbmVycm9yID0gdGhpcy5pbWFnZS5vbmFib3J0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFzdWNjZXNzZnVsKSB7XG4gICAgICAgICAgICB0aGlzLmltYWdlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmpvYklkKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuam9iSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzKTtcbiAgICB9XG5cbn07XG5cbi8qKlxuICogQGNsYXNzIEltYWdlTG9hZGVyXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQGNsYXNzZGVzYyBIYW5kbGVzIGRvd25sb2FkaW5nIG9mIGEgc2V0IG9mIGltYWdlcyB1c2luZyBhc3luY2hyb25vdXMgcXVldWUgcGF0dGVybi5cbiAqIFlvdSBnZW5lcmFsbHkgd29uJ3QgaGF2ZSB0byBpbnRlcmFjdCB3aXRoIHRoZSBJbWFnZUxvYWRlciBkaXJlY3RseS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhpcyBJbWFnZUxvYWRlci5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5qb2JMaW1pdF0gLSBUaGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgaW1hZ2UgcmVxdWVzdHMuIFNlZSBpbWFnZUxvYWRlckxpbWl0IGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9IGZvciBkZXRhaWxzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRpbWVvdXRdIC0gVGhlIG1heCBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgYW4gaW1hZ2Ugam9iIG1heSB0YWtlIHRvIGNvbXBsZXRlLlxuICovXG4kLkltYWdlTG9hZGVyID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gICAgJC5leHRlbmQodHJ1ZSwgdGhpcywge1xuICAgICAgICBqb2JMaW1pdDogICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLmltYWdlTG9hZGVyTGltaXQsXG4gICAgICAgIHRpbWVvdXQ6ICAgICAgICAkLkRFRkFVTFRfU0VUVElOR1MudGltZW91dCxcbiAgICAgICAgam9iUXVldWU6ICAgICAgIFtdLFxuICAgICAgICBqb2JzSW5Qcm9ncmVzczogMFxuICAgIH0sIG9wdGlvbnMpO1xuXG59O1xuXG4vKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uSW1hZ2VMb2FkZXIucHJvdG90eXBlICovXG4kLkltYWdlTG9hZGVyLnByb3RvdHlwZSA9IHtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhbiB1bmxvYWRlZCBpbWFnZSB0byB0aGUgbG9hZGVyIHF1ZXVlLlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnMgZm9yIHRoaXMgam9iLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zcmNdIC0gVVJMIG9mIGltYWdlIHRvIGRvd25sb2FkLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5sb2FkV2l0aEFqYXhdIC0gV2hldGhlciB0byBsb2FkIHRoaXMgaW1hZ2Ugd2l0aCBBSkFYLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hamF4SGVhZGVyc10gLSBIZWFkZXJzIHRvIGFkZCB0byB0aGUgaW1hZ2UgcmVxdWVzdCBpZiB1c2luZyBBSkFYLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5XSAtIENPUlMgcG9saWN5IHRvIHVzZSBmb3IgZG93bmxvYWRzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5hamF4V2l0aENyZWRlbnRpYWxzXSAtIFdoZXRoZXIgdG8gc2V0IHdpdGhDcmVkZW50aWFscyBvbiBBSkFYXG4gICAgICogcmVxdWVzdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuY2FsbGJhY2tdIC0gQ2FsbGVkIG9uY2UgaW1hZ2UgaGFzIGJlZW4gZG93bmxvYWRlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5hYm9ydF0gLSBDYWxsZWQgd2hlbiB0aGlzIGltYWdlIGpvYiBpcyBhYm9ydGVkLlxuICAgICAqL1xuICAgIGFkZEpvYjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzLFxuICAgICAgICAgICAgY29tcGxldGUgPSBmdW5jdGlvbihqb2IpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZUpvYihfdGhpcywgam9iLCBvcHRpb25zLmNhbGxiYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqb2JPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHNyYzogb3B0aW9ucy5zcmMsXG4gICAgICAgICAgICAgICAgbG9hZFdpdGhBamF4OiBvcHRpb25zLmxvYWRXaXRoQWpheCxcbiAgICAgICAgICAgICAgICBhamF4SGVhZGVyczogb3B0aW9ucy5sb2FkV2l0aEFqYXggPyBvcHRpb25zLmFqYXhIZWFkZXJzIDogbnVsbCxcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpblBvbGljeTogb3B0aW9ucy5jcm9zc09yaWdpblBvbGljeSxcbiAgICAgICAgICAgICAgICBhamF4V2l0aENyZWRlbnRpYWxzOiBvcHRpb25zLmFqYXhXaXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNvbXBsZXRlLFxuICAgICAgICAgICAgICAgIGFib3J0OiBvcHRpb25zLmFib3J0LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHRoaXMudGltZW91dFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5ld0pvYiA9IG5ldyBJbWFnZUpvYihqb2JPcHRpb25zKTtcblxuICAgICAgICBpZiAoICF0aGlzLmpvYkxpbWl0IHx8IHRoaXMuam9ic0luUHJvZ3Jlc3MgPCB0aGlzLmpvYkxpbWl0ICkge1xuICAgICAgICAgICAgbmV3Sm9iLnN0YXJ0KCk7XG4gICAgICAgICAgICB0aGlzLmpvYnNJblByb2dyZXNzKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmpvYlF1ZXVlLnB1c2goIG5ld0pvYiApO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIGFueSB1bnN0YXJ0ZWQgaW1hZ2UgbG9hZGluZyBqb2JzIGZyb20gdGhlIHF1ZXVlLlxuICAgICAqIEBtZXRob2RcbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciggdmFyIGkgPSAwOyBpIDwgdGhpcy5qb2JRdWV1ZS5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIHZhciBqb2IgPSB0aGlzLmpvYlF1ZXVlW2ldO1xuICAgICAgICAgICAgaWYgKCB0eXBlb2Ygam9iLmFib3J0ID09PSBcImZ1bmN0aW9uXCIgKSB7XG4gICAgICAgICAgICAgICAgam9iLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmpvYlF1ZXVlID0gW107XG4gICAgfVxufTtcblxuLyoqXG4gKiBDbGVhbnMgdXAgSW1hZ2VKb2Igb25jZSBjb21wbGV0ZWQuXG4gKiBAbWV0aG9kXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGxvYWRlciAtIEltYWdlTG9hZGVyIHVzZWQgdG8gc3RhcnQgam9iLlxuICogQHBhcmFtIGpvYiAtIFRoZSBJbWFnZUpvYiB0aGF0IGhhcyBjb21wbGV0ZWQuXG4gKiBAcGFyYW0gY2FsbGJhY2sgLSBDYWxsZWQgb25jZSBjbGVhbnVwIGlzIGZpbmlzaGVkLlxuICovXG5mdW5jdGlvbiBjb21wbGV0ZUpvYihsb2FkZXIsIGpvYiwgY2FsbGJhY2spIHtcbiAgICB2YXIgbmV4dEpvYjtcblxuICAgIGxvYWRlci5qb2JzSW5Qcm9ncmVzcy0tO1xuXG4gICAgaWYgKCghbG9hZGVyLmpvYkxpbWl0IHx8IGxvYWRlci5qb2JzSW5Qcm9ncmVzcyA8IGxvYWRlci5qb2JMaW1pdCkgJiYgbG9hZGVyLmpvYlF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbmV4dEpvYiA9IGxvYWRlci5qb2JRdWV1ZS5zaGlmdCgpO1xuICAgICAgICBuZXh0Sm9iLnN0YXJ0KCk7XG4gICAgICAgIGxvYWRlci5qb2JzSW5Qcm9ncmVzcysrO1xuICAgIH1cblxuICAgIGNhbGxiYWNrKGpvYi5pbWFnZSwgam9iLmVycm9yTXNnLCBqb2IucmVxdWVzdCk7XG59XG5cbn0oT3BlblNlYWRyYWdvbikpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIFRpbGVcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDkgQ29kZVBsZXggRm91bmRhdGlvblxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMTMgT3BlblNlYWRyYWdvbiBjb250cmlidXRvcnNcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgQ29kZVBsZXggRm91bmRhdGlvbiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRFxuICogVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICl7XG5cbi8qKlxuICogQGNsYXNzIFRpbGVcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgVGhlIHpvb20gbGV2ZWwgdGhpcyB0aWxlIGJlbG9uZ3MgdG8uXG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdmVjdG9yIGNvbXBvbmVudCAneCcuXG4gKiBAcGFyYW0ge051bWJlcn0geSBUaGUgdmVjdG9yIGNvbXBvbmVudCAneScuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGJvdW5kcyBXaGVyZSB0aGlzIHRpbGUgZml0cywgaW4gbm9ybWFsaXplZFxuICogICAgICBjb29yZGluYXRlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZXhpc3RzIElzIHRoaXMgdGlsZSBhIHBhcnQgb2YgYSBzcGFyc2UgaW1hZ2U/ICggQWxzbyBoYXNcbiAqICAgICAgdGhpcyB0aWxlIGZhaWxlZCB0byBsb2FkPyApXG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgb2YgdGhpcyB0aWxlJ3MgaW1hZ2UuXG4gKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dDJEIFRoZSBjb250ZXh0MkQgb2YgdGhpcyB0aWxlIGlmIGl0XG4gKiBpcyBwcm92aWRlZCBkaXJlY3RseSBieSB0aGUgdGlsZSBzb3VyY2UuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGxvYWRXaXRoQWpheCBXaGV0aGVyIHRoaXMgdGlsZSBpbWFnZSBzaG91bGQgYmUgbG9hZGVkIHdpdGggYW4gQUpBWCByZXF1ZXN0IC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBhamF4SGVhZGVycyBUaGUgaGVhZGVycyB0byBzZW5kIHdpdGggdGhpcyB0aWxlJ3MgQUpBWCByZXF1ZXN0IChpZiBhcHBsaWNhYmxlKS5cbiAqL1xuJC5UaWxlID0gZnVuY3Rpb24obGV2ZWwsIHgsIHksIGJvdW5kcywgZXhpc3RzLCB1cmwsIGNvbnRleHQyRCwgbG9hZFdpdGhBamF4LCBhamF4SGVhZGVycykge1xuICAgIC8qKlxuICAgICAqIFRoZSB6b29tIGxldmVsIHRoaXMgdGlsZSBiZWxvbmdzIHRvLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0gbGV2ZWxcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMubGV2ZWwgICA9IGxldmVsO1xuICAgIC8qKlxuICAgICAqIFRoZSB2ZWN0b3IgY29tcG9uZW50ICd4Jy5cbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IHhcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMueCAgICAgICA9IHg7XG4gICAgLyoqXG4gICAgICogVGhlIHZlY3RvciBjb21wb25lbnQgJ3knLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0geVxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy55ICAgICAgID0geTtcbiAgICAvKipcbiAgICAgKiBXaGVyZSB0aGlzIHRpbGUgZml0cywgaW4gbm9ybWFsaXplZCBjb29yZGluYXRlc1xuICAgICAqIEBtZW1iZXIge09wZW5TZWFkcmFnb24uUmVjdH0gYm91bmRzXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZSNcbiAgICAgKi9cbiAgICB0aGlzLmJvdW5kcyAgPSBib3VuZHM7XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyB0aWxlIGEgcGFydCBvZiBhIHNwYXJzZSBpbWFnZT8gQWxzbyBoYXMgdGhpcyB0aWxlIGZhaWxlZCB0byBsb2FkP1xuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGV4aXN0c1xuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy5leGlzdHMgID0gZXhpc3RzO1xuICAgIC8qKlxuICAgICAqIFRoZSBVUkwgb2YgdGhpcyB0aWxlJ3MgaW1hZ2UuXG4gICAgICogQG1lbWJlciB7U3RyaW5nfSB1cmxcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMudXJsICAgICA9IHVybDtcbiAgICAvKipcbiAgICAgKiBUaGUgY29udGV4dDJEIG9mIHRoaXMgdGlsZSBpZiBpdCBpcyBwcm92aWRlZCBkaXJlY3RseSBieSB0aGUgdGlsZSBzb3VyY2UuXG4gICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0MkRcbiAgICAgKiBAbWVtYmVyT2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMuY29udGV4dDJEID0gY29udGV4dDJEO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gbG9hZCB0aGlzIHRpbGUncyBpbWFnZSB3aXRoIGFuIEFKQVggcmVxdWVzdC5cbiAgICAgKiBAbWVtYmVyIHtCb29sZWFufSBsb2FkV2l0aEFqYXhcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMubG9hZFdpdGhBamF4ID0gbG9hZFdpdGhBamF4O1xuICAgIC8qKlxuICAgICAqIFRoZSBoZWFkZXJzIHRvIGJlIHVzZWQgaW4gcmVxdWVzdGluZyB0aGlzIHRpbGUncyBpbWFnZS5cbiAgICAgKiBPbmx5IHVzZWQgaWYgbG9hZFdpdGhBamF4IGlzIHNldCB0byB0cnVlLlxuICAgICAqIEBtZW1iZXIge09iamVjdH0gYWpheEhlYWRlcnNcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMuYWpheEhlYWRlcnMgPSBhamF4SGVhZGVycztcbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGNhY2hlIGtleSBmb3IgdGhpcyB0aWxlLlxuICAgICAqIEBtZW1iZXIge1N0cmluZ30gY2FjaGVLZXlcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIGlmICh0aGlzLmFqYXhIZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuY2FjaGVLZXkgPSB0aGlzLnVybCArIFwiK1wiICsgSlNPTi5zdHJpbmdpZnkodGhpcy5hamF4SGVhZGVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jYWNoZUtleSA9IHRoaXMudXJsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHRpbGUgbG9hZGVkP1xuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGxvYWRlZFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy5sb2FkZWQgID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyB0aWxlIGxvYWRpbmc/XG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn0gbG9hZGluZ1xuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgSFRNTCBkaXYgZWxlbWVudCBmb3IgdGhpcyB0aWxlXG4gICAgICogQG1lbWJlciB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy5lbGVtZW50ICAgID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgSFRNTCBpbWcgZWxlbWVudCBmb3IgdGhpcyB0aWxlLlxuICAgICAqIEBtZW1iZXIge0VsZW1lbnR9IGltZ0VsZW1lbnRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMuaW1nRWxlbWVudCA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhlIEltYWdlIG9iamVjdCBmb3IgdGhpcyB0aWxlLlxuICAgICAqIEBtZW1iZXIge09iamVjdH0gaW1hZ2VcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMuaW1hZ2UgICAgICA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxpYXMgb2YgdGhpcy5lbGVtZW50LnN0eWxlLlxuICAgICAqIEBtZW1iZXIge1N0cmluZ30gc3R5bGVcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMuc3R5bGUgICAgICA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhpcyB0aWxlJ3MgcG9zaXRpb24gb24gc2NyZWVuLCBpbiBwaXhlbHMuXG4gICAgICogQG1lbWJlciB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb25cbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMucG9zaXRpb24gICA9IG51bGw7XG4gICAgLyoqXG4gICAgICogVGhpcyB0aWxlJ3Mgc2l6ZSBvbiBzY3JlZW4sIGluIHBpeGVscy5cbiAgICAgKiBAbWVtYmVyIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBzaXplXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZSNcbiAgICAgKi9cbiAgICB0aGlzLnNpemUgICAgICAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoaXMgdGlsZSdzIGJsZW5kaW5nLlxuICAgICAqIEBtZW1iZXIge051bWJlcn0gYmxlbmRTdGFydFxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy5ibGVuZFN0YXJ0ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBvcGFjaXR5IHRoaXMgdGlsZSBzaG91bGQgYmUuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBvcGFjaXR5XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZSNcbiAgICAgKi9cbiAgICB0aGlzLm9wYWNpdHkgICAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSBzcXVhcmVkIGRpc3RhbmNlIG9mIHRoaXMgdGlsZSB0byB0aGUgdmlld3BvcnQgY2VudGVyLlxuICAgICAqIFVzZSBmb3IgY29tcGFyaW5nIHRpbGVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBzcXVhcmVkRGlzdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMuc3F1YXJlZERpc3RhbmNlICAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIFRoZSB2aXNpYmlsaXR5IHNjb3JlIG9mIHRoaXMgdGlsZS5cbiAgICAgKiBAbWVtYmVyIHtOdW1iZXJ9IHZpc2liaWxpdHlcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5UaWxlI1xuICAgICAqL1xuICAgIHRoaXMudmlzaWJpbGl0eSA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgdGlsZSBpcyBjdXJyZW50bHkgYmVpbmcgZHJhd24uXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn0gYmVpbmdEcmF3blxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlRpbGUjXG4gICAgICovXG4gICAgdGhpcy5iZWluZ0RyYXduICAgICA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGltZXN0YW1wIHRoZSB0aWxlIHdhcyBsYXN0IHRvdWNoZWQuXG4gICAgICogQG1lbWJlciB7TnVtYmVyfSBsYXN0VG91Y2hUaW1lXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZSNcbiAgICAgKi9cbiAgICB0aGlzLmxhc3RUb3VjaFRpbWUgID0gMDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyB0aWxlIGlzIGluIHRoZSByaWdodC1tb3N0IGNvbHVtbiBmb3IgaXRzIGxldmVsLlxuICAgICAqIEBtZW1iZXIge0Jvb2xlYW59IGlzUmlnaHRNb3N0XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZSNcbiAgICAgKi9cbiAgICB0aGlzLmlzUmlnaHRNb3N0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgdGlsZSBpcyBpbiB0aGUgYm90dG9tLW1vc3Qgcm93IGZvciBpdHMgbGV2ZWwuXG4gICAgICogQG1lbWJlciB7Qm9vbGVhbn0gaXNCb3R0b21Nb3N0XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZSNcbiAgICAgKi9cbiAgICB0aGlzLmlzQm90dG9tTW9zdCA9IGZhbHNlO1xufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLlRpbGUucHJvdG90eXBlICovXG4kLlRpbGUucHJvdG90eXBlID0ge1xuXG4gICAgLyoqXG4gICAgICogUHJvdmlkZXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyB0aWxlcyBsZXZlbCBhbmQgKHgseSlcbiAgICAgKiBjb21wb25lbnRzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbCArIFwiL1wiICsgdGhpcy54ICsgXCJfXCIgKyB0aGlzLnk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfaGFzVHJhbnNwYXJlbmN5Q2hhbm5lbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuY29udGV4dDJEIHx8IHRoaXMudXJsLm1hdGNoKCcucG5nJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHRpbGUgaW4gYW4gaHRtbCBjb250YWluZXIuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBjb250YWluZXJcbiAgICAgKi9cbiAgICBkcmF3SFRNTDogZnVuY3Rpb24oIGNvbnRhaW5lciApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlSW1hZ2VSZWNvcmQpIHtcbiAgICAgICAgICAgICQuY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICdbVGlsZS5kcmF3SFRNTF0gYXR0ZW1wdGluZyB0byBkcmF3IHRpbGUgJXMgd2hlbiBpdFxcJ3Mgbm90IGNhY2hlZCcsXG4gICAgICAgICAgICAgICAgdGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggIXRoaXMubG9hZGVkICkge1xuICAgICAgICAgICAgJC5jb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgXCJBdHRlbXB0aW5nIHRvIGRyYXcgdGlsZSAlcyB3aGVuIGl0J3Mgbm90IHlldCBsb2FkZWQuXCIsXG4gICAgICAgICAgICAgICAgdGhpcy50b1N0cmluZygpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9FWFBFUklNRU5UQUwgLSB0cnlpbmcgdG8gZmlndXJlIG91dCBob3cgdG8gc2NhbGUgdGhlIGNvbnRhaW5lclxuICAgICAgICAvLyAgICAgICAgICAgICAgIGNvbnRlbnQgZHVyaW5nIGFuaW1hdGlvbiBvZiB0aGUgY29udGFpbmVyIHNpemUuXG5cbiAgICAgICAgaWYgKCAhdGhpcy5lbGVtZW50ICkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAkLm1ha2VOZXV0cmFsRWxlbWVudCggXCJkaXZcIiApO1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgPSB0aGlzLmNhY2hlSW1hZ2VSZWNvcmQuZ2V0SW1hZ2UoKS5jbG9uZU5vZGUoKTtcbiAgICAgICAgICAgIHRoaXMuaW1nRWxlbWVudC5zdHlsZS5tc0ludGVycG9sYXRpb25Nb2RlID0gXCJuZWFyZXN0LW5laWdoYm9yXCI7XG4gICAgICAgICAgICB0aGlzLmltZ0VsZW1lbnQuc3R5bGUud2lkdGggICAgICAgICAgICAgICA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50LnN0eWxlLmhlaWdodCAgICAgICAgICAgICAgPSBcIjEwMCVcIjtcblxuICAgICAgICAgICAgdGhpcy5zdHlsZSAgICAgICAgICAgICAgICAgICAgID0gdGhpcy5lbGVtZW50LnN0eWxlO1xuICAgICAgICAgICAgdGhpcy5zdHlsZS5wb3NpdGlvbiAgICAgICAgICAgID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICggdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgIT0gY29udGFpbmVyICkge1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLmVsZW1lbnQgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIHRoaXMuaW1nRWxlbWVudC5wYXJlbnROb2RlICE9IHRoaXMuZWxlbWVudCApIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCggdGhpcy5pbWdFbGVtZW50ICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0eWxlLnRvcCAgICAgPSB0aGlzLnBvc2l0aW9uLnkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuc3R5bGUubGVmdCAgICA9IHRoaXMucG9zaXRpb24ueCArIFwicHhcIjtcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgID0gdGhpcy5zaXplLnkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggICA9IHRoaXMuc2l6ZS54ICsgXCJweFwiO1xuXG4gICAgICAgICQuc2V0RWxlbWVudE9wYWNpdHkoIHRoaXMuZWxlbWVudCwgdGhpcy5vcGFjaXR5ICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHRpbGUgaW4gYSBjYW52YXMtYmFzZWQgY29udGV4dC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0NhbnZhc30gY29udGV4dFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRyYXdpbmdIYW5kbGVyIC0gTWV0aG9kIGZvciBmaXJpbmcgdGhlIGRyYXdpbmcgZXZlbnQuXG4gICAgICogZHJhd2luZ0hhbmRsZXIoe2NvbnRleHQsIHRpbGUsIHJlbmRlcmVkfSlcbiAgICAgKiB3aGVyZSA8Y29kZT5yZW5kZXJlZDwvY29kZT4gaXMgdGhlIGNvbnRleHQgd2l0aCB0aGUgcHJlLWRyYXduIGltYWdlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2NhbGU9MV0gLSBBcHBseSBhIHNjYWxlIHRvIHBvc2l0aW9uIGFuZCBzaXplXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBbdHJhbnNsYXRlXSAtIEEgdHJhbnNsYXRpb24gdmVjdG9yXG4gICAgICovXG4gICAgZHJhd0NhbnZhczogZnVuY3Rpb24oIGNvbnRleHQsIGRyYXdpbmdIYW5kbGVyLCBzY2FsZSwgdHJhbnNsYXRlICkge1xuXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb24udGltZXMoJC5waXhlbERlbnNpdHlSYXRpbyksXG4gICAgICAgICAgICBzaXplICAgICA9IHRoaXMuc2l6ZS50aW1lcygkLnBpeGVsRGVuc2l0eVJhdGlvKSxcbiAgICAgICAgICAgIHJlbmRlcmVkO1xuXG4gICAgICAgIGlmICghdGhpcy5jb250ZXh0MkQgJiYgIXRoaXMuY2FjaGVJbWFnZVJlY29yZCkge1xuICAgICAgICAgICAgJC5jb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgJ1tUaWxlLmRyYXdDYW52YXNdIGF0dGVtcHRpbmcgdG8gZHJhdyB0aWxlICVzIHdoZW4gaXRcXCdzIG5vdCBjYWNoZWQnLFxuICAgICAgICAgICAgICAgIHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlZCA9IHRoaXMuY29udGV4dDJEIHx8IHRoaXMuY2FjaGVJbWFnZVJlY29yZC5nZXRSZW5kZXJlZENvbnRleHQoKTtcblxuICAgICAgICBpZiAoICF0aGlzLmxvYWRlZCB8fCAhcmVuZGVyZWQgKXtcbiAgICAgICAgICAgICQuY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiQXR0ZW1wdGluZyB0byBkcmF3IHRpbGUgJXMgd2hlbiBpdCdzIG5vdCB5ZXQgbG9hZGVkLlwiLFxuICAgICAgICAgICAgICAgIHRoaXMudG9TdHJpbmcoKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgY29udGV4dC5nbG9iYWxBbHBoYSA9IHRoaXMub3BhY2l0eTtcblxuICAgICAgICBpZiAodHlwZW9mIHNjYWxlID09PSAnbnVtYmVyJyAmJiBzY2FsZSAhPT0gMSkge1xuICAgICAgICAgICAgLy8gZHJhdyB0aWxlIGF0IGEgZGlmZmVyZW50IHNjYWxlXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLnRpbWVzKHNjYWxlKTtcbiAgICAgICAgICAgIHNpemUgPSBzaXplLnRpbWVzKHNjYWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2xhdGUgaW5zdGFuY2VvZiAkLlBvaW50KSB7XG4gICAgICAgICAgICAvLyBzaGlmdCB0aWxlIHBvc2l0aW9uIHNsaWdodGx5XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLnBsdXModHJhbnNsYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgd2UgYXJlIHN1cHBvc2VkIHRvIGJlIHJlbmRlcmluZyBmdWxseSBvcGFxdWUgcmVjdGFuZ2xlLFxuICAgICAgICAvL2llIGl0cyBkb25lIGZhZGluZyBvciBmYWRpbmcgaXMgdHVybmVkIG9mZiwgYW5kIGlmIHdlIGFyZSBkcmF3aW5nXG4gICAgICAgIC8vYW4gaW1hZ2Ugd2l0aCBhbiBhbHBoYSBjaGFubmVsLCB0aGVuIHRoZSBvbmx5IHdheVxuICAgICAgICAvL3RvIGF2b2lkIHNlZWluZyB0aGUgdGlsZSB1bmRlcm5lYXRoIGlzIHRvIGNsZWFyIHRoZSByZWN0YW5nbGVcbiAgICAgICAgaWYgKGNvbnRleHQuZ2xvYmFsQWxwaGEgPT09IDEgJiYgdGhpcy5faGFzVHJhbnNwYXJlbmN5Q2hhbm5lbCgpKSB7XG4gICAgICAgICAgICAvL2NsZWFyaW5nIG9ubHkgdGhlIGluc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIG9jY3VwaWVkXG4gICAgICAgICAgICAvL2J5IHRoZSBwbmcgcHJldmVudHMgZWRnZSBmbGlrZXJpbmdcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnggKyAxLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgKyAxLFxuICAgICAgICAgICAgICAgIHNpemUueCAtIDIsXG4gICAgICAgICAgICAgICAgc2l6ZS55IC0gMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgZ2l2ZXMgdGhlIGFwcGxpY2F0aW9uIGEgY2hhbmNlIHRvIG1ha2UgaW1hZ2UgbWFuaXB1bGF0aW9uXG4gICAgICAgIC8vIGNoYW5nZXMgYXMgd2UgYXJlIHJlbmRlcmluZyB0aGUgaW1hZ2VcbiAgICAgICAgZHJhd2luZ0hhbmRsZXIoe2NvbnRleHQ6IGNvbnRleHQsIHRpbGU6IHRoaXMsIHJlbmRlcmVkOiByZW5kZXJlZH0pO1xuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxuICAgICAgICAgICAgcmVuZGVyZWQuY2FudmFzLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICByZW5kZXJlZC5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICByZW5kZXJlZC5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgcG9zaXRpb24ueCxcbiAgICAgICAgICAgIHBvc2l0aW9uLnksXG4gICAgICAgICAgICBzaXplLngsXG4gICAgICAgICAgICBzaXplLnlcbiAgICAgICAgKTtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByYXRpbyBiZXR3ZWVuIGN1cnJlbnQgYW5kIG9yaWdpbmFsIHNpemUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7RmxvYXR9XG4gICAgICovXG4gICAgZ2V0U2NhbGVGb3JFZGdlU21vb3RoaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvbnRleHQ7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlSW1hZ2VSZWNvcmQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmNhY2hlSW1hZ2VSZWNvcmQuZ2V0UmVuZGVyZWRDb250ZXh0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250ZXh0MkQpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzLmNvbnRleHQyRDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICdbVGlsZS5kcmF3Q2FudmFzXSBhdHRlbXB0aW5nIHRvIGdldCB0aWxlIHNjYWxlICVzIHdoZW4gdGlsZVxcJ3Mgbm90IGNhY2hlZCcsXG4gICAgICAgICAgICAgICAgdGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNhbnZhcy53aWR0aCAvICh0aGlzLnNpemUueCAqICQucGl4ZWxEZW5zaXR5UmF0aW8pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYSB0cmFuc2xhdGlvbiB2ZWN0b3IgdGhhdCB3aGVuIGFwcGxpZWQgdG8gdGhlIHRpbGUgcG9zaXRpb24gcHJvZHVjZXMgaW50ZWdlciBjb29yZGluYXRlcy5cbiAgICAgKiBOZWVkZWQgdG8gYXZvaWQgc3dpbW1pbmcgYW5kIHR3aXRjaGluZy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlPTFdIC0gU2NhbGUgdG8gYmUgYXBwbGllZCB0byBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAqL1xuICAgIGdldFRyYW5zbGF0aW9uRm9yRWRnZVNtb290aGluZzogZnVuY3Rpb24oc2NhbGUsIGNhbnZhc1NpemUsIHNrZXRjaENhbnZhc1NpemUpIHtcbiAgICAgICAgLy8gVGhlIHRyYW5zbGF0aW9uIHZlY3RvciBtdXN0IGhhdmUgcG9zaXRpdmUgdmFsdWVzLCBvdGhlcndpc2UgdGhlIGltYWdlIGdvZXMgYSBiaXQgb2ZmXG4gICAgICAgIC8vIHRoZSBza2V0Y2ggY2FudmFzIHRvIHRoZSB0b3AgYW5kIGxlZnQgYW5kIHdlIG11c3QgdXNlIG5lZ2F0aXZlIGNvb3JkaW5hdGVzIHRvIHJlcGFpbnQgaXRcbiAgICAgICAgLy8gdG8gdGhlIG1haW4gY2FudmFzLiBJbiB0aGF0IGNhc2UsIHNvbWUgYnJvd3NlcnMgdGhyb3c6XG4gICAgICAgIC8vIElOREVYX1NJWkVfRVJSOiBET00gRXhjZXB0aW9uIDE6IEluZGV4IG9yIHNpemUgd2FzIG5lZ2F0aXZlLCBvciBncmVhdGVyIHRoYW4gdGhlIGFsbG93ZWQgdmFsdWUuXG4gICAgICAgIHZhciB4ID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKChza2V0Y2hDYW52YXNTaXplLnggLSBjYW52YXNTaXplLngpIC8gMikpO1xuICAgICAgICB2YXIgeSA9IE1hdGgubWF4KDEsIE1hdGguY2VpbCgoc2tldGNoQ2FudmFzU2l6ZS55IC0gY2FudmFzU2l6ZS55KSAvIDIpKTtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KHgsIHkpLm1pbnVzKFxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvblxuICAgICAgICAgICAgICAgIC50aW1lcygkLnBpeGVsRGVuc2l0eVJhdGlvKVxuICAgICAgICAgICAgICAgIC50aW1lcyhzY2FsZSB8fCAxKVxuICAgICAgICAgICAgICAgIC5hcHBseShmdW5jdGlvbih4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4ICUgMTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRpbGUgZnJvbSBpdHMgY29udGFpbmVyLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIHVubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggdGhpcy5pbWdFbGVtZW50ICYmIHRoaXMuaW1nRWxlbWVudC5wYXJlbnROb2RlICkge1xuICAgICAgICAgICAgdGhpcy5pbWdFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRoaXMuaW1nRWxlbWVudCApO1xuICAgICAgICB9XG4gICAgICAgIGlmICggdGhpcy5lbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlICkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRoaXMuZWxlbWVudCApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbGVtZW50ICAgID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbWdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2FkZWQgICAgID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGluZyAgICA9IGZhbHNlO1xuICAgIH1cbn07XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gT3ZlcmxheVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oJCkge1xuXG4gICAgLyoqXG4gICAgICogQW4gZW51bWVyYXRpb24gb2YgcG9zaXRpb25zIHRoYXQgYW4gb3ZlcmxheSBtYXkgYmUgYXNzaWduZWQgcmVsYXRpdmUgdG9cbiAgICAgKiB0aGUgdmlld3BvcnQuXG4gICAgICogSXQgaXMgaWRlbnRpY2FsIHRvIE9wZW5TZWFkcmFnb24uUGxhY2VtZW50IGJ1dCBpcyBrZXB0IGZvciBiYWNrd2FyZFxuICAgICAqIGNvbXBhdGliaWxpdHkuXG4gICAgICogQG1lbWJlciBPdmVybGF5UGxhY2VtZW50XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAgICAgKiBAc2VlIE9wZW5TZWFkcmFnb24uUGxhY2VtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEByZWFkb25seVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IENFTlRFUlxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBUT1BfTEVGVFxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBUT1BcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gVE9QX1JJR0hUXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IFJJR0hUXG4gICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IEJPVFRPTV9SSUdIVFxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBCT1RUT01cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gQk9UVE9NX0xFRlRcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gTEVGVFxuICAgICAqL1xuICAgICQuT3ZlcmxheVBsYWNlbWVudCA9ICQuUGxhY2VtZW50O1xuXG4gICAgLyoqXG4gICAgICogQW4gZW51bWVyYXRpb24gb2YgcG9zc2libGUgd2F5cyB0byBoYW5kbGUgb3ZlcmxheXMgcm90YXRpb25cbiAgICAgKiBAbWVtYmVyIE92ZXJsYXlSb3RhdGlvbk1vZGVcbiAgICAgKiBAbWVtYmVyT2YgT3BlblNlYWRyYWdvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gTk9fUk9UQVRJT04gVGhlIG92ZXJsYXkgaWdub3JlIHRoZSB2aWV3cG9ydCByb3RhdGlvbi5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gRVhBQ1QgVGhlIG92ZXJsYXkgdXNlIENTUyAzIHRyYW5zZm9ybXMgdG8gcm90YXRlIHdpdGhcbiAgICAgKiB0aGUgdmlld3BvcnQuIElmIHRoZSBvdmVybGF5IGNvbnRhaW5zIHRleHQsIGl0IHdpbGwgZ2V0IHJvdGF0ZWQgYXMgd2VsbC5cbiAgICAgKiBAcHJvcGVydHkge051bWJlcn0gQk9VTkRJTkdfQk9YIFRoZSBvdmVybGF5IGFkanVzdHMgZm9yIHJvdGF0aW9uIGJ5XG4gICAgICogdGFraW5nIHRoZSBzaXplIG9mIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIHJvdGF0ZWQgYm91bmRzLlxuICAgICAqIE9ubHkgdmFsaWQgZm9yIG92ZXJsYXlzIHdpdGggUmVjdCBsb2NhdGlvbiBhbmQgc2NhbGFibGUgaW4gYm90aCBkaXJlY3Rpb25zLlxuICAgICAqL1xuICAgICQuT3ZlcmxheVJvdGF0aW9uTW9kZSA9ICQuZnJlZXplT2JqZWN0KHtcbiAgICAgICAgTk9fUk9UQVRJT046IDEsXG4gICAgICAgIEVYQUNUOiAyLFxuICAgICAgICBCT1VORElOR19CT1g6IDNcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBPdmVybGF5XG4gICAgICogQGNsYXNzZGVzYyBQcm92aWRlcyBhIHdheSB0byBmbG9hdCBhbiBIVE1MIGVsZW1lbnQgb24gdG9wIG9mIHRoZSB2aWV3ZXIgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG9wdGlvbnMuZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludHxPcGVuU2VhZHJhZ29uLlJlY3R9IG9wdGlvbnMubG9jYXRpb24gLSBUaGVcbiAgICAgKiBsb2NhdGlvbiBvZiB0aGUgb3ZlcmxheSBvbiB0aGUgaW1hZ2UuIElmIGEge0BsaW5rIE9wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICogaXMgc3BlY2lmaWVkLCB0aGUgb3ZlcmxheSB3aWxsIGJlIGxvY2F0ZWQgYXQgdGhpcyBsb2NhdGlvbiB3aXRoIHJlc3BlY3RcbiAgICAgKiB0byB0aGUgcGxhY2VtZW50IG9wdGlvbi4gSWYgYSB7QGxpbmsgT3BlblNlYWRyYWdvbi5SZWN0fSBpcyBzcGVjaWZpZWQsXG4gICAgICogdGhlIG92ZXJsYXkgd2lsbCBiZSBwbGFjZWQgYXQgdGhpcyBsb2NhdGlvbiB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHdpZHRoXG4gICAgICogYW5kIGhlaWdodCBhbmQgcGxhY2VtZW50IFRPUF9MRUZULlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5QbGFjZW1lbnR9IFtvcHRpb25zLnBsYWNlbWVudD1PcGVuU2VhZHJhZ29uLlBsYWNlbWVudC5UT1BfTEVGVF1cbiAgICAgKiBEZWZpbmVzIHdoYXQgcGFydCBvZiB0aGUgb3ZlcmxheSBzaG91bGQgYmUgYXQgdGhlIHNwZWNpZmllZCBvcHRpb25zLmxvY2F0aW9uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLk92ZXJsYXkuT25EcmF3Q2FsbGJhY2t9IFtvcHRpb25zLm9uRHJhd11cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmNoZWNrUmVzaXplPXRydWVdIFNldCB0byBmYWxzZSB0byBhdm9pZCB0b1xuICAgICAqIGNoZWNrIHRoZSBzaXplIG9mIHRoZSBvdmVybGF5IGV2ZXJ5dGltZSBpdCBpcyBkcmF3biBpbiB0aGUgZGlyZWN0aW9uc1xuICAgICAqIHdoaWNoIGFyZSBub3Qgc2NhbGVkLiBJdCB3aWxsIGltcHJvdmUgcGVyZm9ybWFuY2VzIGJ1dCB3aWxsIGNhdXNlIGFcbiAgICAgKiBtaXNhbGlnbm1lbnQgaWYgdGhlIG92ZXJsYXkgc2l6ZSBjaGFuZ2VzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gVGhlIHdpZHRoIG9mIHRoZSBvdmVybGF5IGluIHZpZXdwb3J0XG4gICAgICogY29vcmRpbmF0ZXMuIElmIHNwZWNpZmllZCwgdGhlIHdpZHRoIG9mIHRoZSBvdmVybGF5IHdpbGwgYmUgYWRqdXN0ZWQgd2hlblxuICAgICAqIHRoZSB6b29tIGNoYW5nZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmxheSBpbiB2aWV3cG9ydFxuICAgICAqIGNvb3JkaW5hdGVzLiBJZiBzcGVjaWZpZWQsIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJsYXkgd2lsbCBiZSBhZGp1c3RlZCB3aGVuXG4gICAgICogdGhlIHpvb20gY2hhbmdlcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnJvdGF0aW9uTW9kZT1PcGVuU2VhZHJhZ29uLk92ZXJsYXlSb3RhdGlvbk1vZGUuRVhBQ1RdXG4gICAgICogSG93IHRvIGhhbmRsZSB0aGUgcm90YXRpb24gb2YgdGhlIHZpZXdwb3J0LlxuICAgICAqL1xuICAgICQuT3ZlcmxheSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGxvY2F0aW9uLCBwbGFjZW1lbnQpIHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogb25EcmF3IGNhbGxiYWNrIHNpZ25hdHVyZSB1c2VkIGJ5IHtAbGluayBPcGVuU2VhZHJhZ29uLk92ZXJsYXl9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAY2FsbGJhY2sgT25EcmF3Q2FsbGJhY2tcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uT3ZlcmxheVxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvc2l0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gc2l6ZVxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIG9wdGlvbnM7XG4gICAgICAgIGlmICgkLmlzUGxhaW5PYmplY3QoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG9wdGlvbnMuZWxlbWVudC5zdHlsZTtcbiAgICAgICAgdGhpcy5faW5pdChvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLk92ZXJsYXkucHJvdG90eXBlICovXG4gICAgJC5PdmVybGF5LnByb3RvdHlwZSA9IHtcblxuICAgICAgICAvLyBwcml2YXRlXG4gICAgICAgIF9pbml0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gb3B0aW9ucy5sb2NhdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxhY2VtZW50ID0gb3B0aW9ucy5wbGFjZW1lbnQgPT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgJC5QbGFjZW1lbnQuVE9QX0xFRlQgOiBvcHRpb25zLnBsYWNlbWVudDtcbiAgICAgICAgICAgIHRoaXMub25EcmF3ID0gb3B0aW9ucy5vbkRyYXc7XG4gICAgICAgICAgICB0aGlzLmNoZWNrUmVzaXplID0gb3B0aW9ucy5jaGVja1Jlc2l6ZSA9PT0gdW5kZWZpbmVkID9cbiAgICAgICAgICAgICAgICB0cnVlIDogb3B0aW9ucy5jaGVja1Jlc2l6ZTtcblxuICAgICAgICAgICAgLy8gV2hlbiB0aGlzLndpZHRoIGlzIG5vdCBudWxsLCB0aGUgb3ZlcmxheSBnZXQgc2NhbGVkIGhvcml6b250YWxseVxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggPT09IHVuZGVmaW5lZCA/IG51bGwgOiBvcHRpb25zLndpZHRoO1xuXG4gICAgICAgICAgICAvLyBXaGVuIHRoaXMuaGVpZ2h0IGlzIG5vdCBudWxsLCB0aGUgb3ZlcmxheSBnZXQgc2NhbGVkIHZlcnRpY2FsbHlcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBvcHRpb25zLmhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5yb3RhdGlvbk1vZGUgPSBvcHRpb25zLnJvdGF0aW9uTW9kZSB8fCAkLk92ZXJsYXlSb3RhdGlvbk1vZGUuRVhBQ1Q7XG5cbiAgICAgICAgICAgIC8vIEhhdmluZyBhIHJlY3QgYXMgbG9jYXRpb24gaXMgYSBzeW50YWN0aWMgc3VnYXJcbiAgICAgICAgICAgIGlmICh0aGlzLmxvY2F0aW9uIGluc3RhbmNlb2YgJC5SZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMubG9jYXRpb24ud2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmxvY2F0aW9uLmhlaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbi5nZXRUb3BMZWZ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSAkLlBsYWNlbWVudC5UT1BfTEVGVDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRGVwcmVjYXRlZCBwcm9wZXJ0aWVzIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgICB0aGlzLnNjYWxlcyA9IHRoaXMud2lkdGggIT09IG51bGwgJiYgdGhpcy5oZWlnaHQgIT09IG51bGw7XG4gICAgICAgICAgICB0aGlzLmJvdW5kcyA9IG5ldyAkLlJlY3QoXG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbi54LCB0aGlzLmxvY2F0aW9uLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLmxvY2F0aW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBmdW5jdGlvbiB0byBhZGp1c3QgdGhlIHBvc2l0aW9uIG9mIGFuIG92ZXJsYXlcbiAgICAgICAgICogZGVwZW5kaW5nIG9uIGl0IHNpemUgYW5kIHBsYWNlbWVudC5cbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9zaXRpb25cbiAgICAgICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBzaXplXG4gICAgICAgICAqL1xuICAgICAgICBhZGp1c3Q6IGZ1bmN0aW9uKHBvc2l0aW9uLCBzaXplKSB7XG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9ICQuUGxhY2VtZW50LnByb3BlcnRpZXNbdGhpcy5wbGFjZW1lbnRdO1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuaXNIb3Jpem9udGFsbHlDZW50ZXJlZCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnggLT0gc2l6ZS54IC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydGllcy5pc1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCAtPSBzaXplLng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcGVydGllcy5pc1ZlcnRpY2FsbHlDZW50ZXJlZCkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgLT0gc2l6ZS55IC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydGllcy5pc0JvdHRvbSkge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uLnkgLT0gc2l6ZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vdGhpcyBzaG91bGQgYWxsb3cgdXMgdG8gcHJlc2VydmUgb3ZlcmxheXMgd2hlbiByZXF1aXJlZCBiZXR3ZWVuXG4gICAgICAgICAgICAgICAgLy9wYWdlc1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnByZXZFbGVtZW50UGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIC8vZWxlbWVudC5wcmV2RWxlbWVudFBhcmVudC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIGVsZW1lbnQucHJldk5leHRTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBvbkRyYXcgY2FsbGJhY2tcbiAgICAgICAgICAgIHRoaXMub25EcmF3ID0gbnVsbDtcblxuICAgICAgICAgICAgc3R5bGUudG9wID0gXCJcIjtcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBcIlwiO1xuICAgICAgICAgICAgc3R5bGUucG9zaXRpb24gPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLndpZHRoID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtT3JpZ2luUHJvcCA9ICQuZ2V0Q3NzUHJvcGVydHlXaXRoVmVuZG9yUHJlZml4KFxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm1PcmlnaW4nKTtcbiAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1Qcm9wID0gJC5nZXRDc3NQcm9wZXJ0eVdpdGhWZW5kb3JQcmVmaXgoXG4gICAgICAgICAgICAgICAgJ3RyYW5zZm9ybScpO1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU9yaWdpblByb3AgJiYgdHJhbnNmb3JtUHJvcCkge1xuICAgICAgICAgICAgICAgIHN0eWxlW3RyYW5zZm9ybU9yaWdpblByb3BdID0gXCJcIjtcbiAgICAgICAgICAgICAgICBzdHlsZVt0cmFuc2Zvcm1Qcm9wXSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRhaW5lclxuICAgICAgICAgKi9cbiAgICAgICAgZHJhd0hUTUw6IGZ1bmN0aW9uKGNvbnRhaW5lciwgdmlld3BvcnQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgLy9zYXZlIHRoZSBzb3VyY2UgcGFyZW50IGZvciBsYXRlciBpZiB3ZSBuZWVkIGl0XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wcmV2RWxlbWVudFBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnByZXZOZXh0U2libGluZyA9IGVsZW1lbnQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSB0byBzZXQgcG9zaXRpb24gYmVmb3JlIGNhbGN1bGF0aW5nIHNpemUsIGZpeCAjMTExNlxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zaXplIGlzIHVzZWQgYnkgb3ZlcmxheXMgd2hpY2ggZG9uJ3QgZ2V0IHNjYWxlZCBpbiBhdFxuICAgICAgICAgICAgICAgIC8vIGxlYXN0IG9uZSBkaXJlY3Rpb24gd2hlbiB0aGlzLmNoZWNrUmVzaXplIGlzIHNldCB0byBmYWxzZS5cbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSAkLmdldEVsZW1lbnRTaXplKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb25BbmRTaXplID0gdGhpcy5fZ2V0T3ZlcmxheVBvc2l0aW9uQW5kU2l6ZSh2aWV3cG9ydCk7XG5cbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHBvc2l0aW9uQW5kU2l6ZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplID0gcG9zaXRpb25BbmRTaXplLnNpemU7XG4gICAgICAgICAgICB2YXIgcm90YXRlID0gcG9zaXRpb25BbmRTaXplLnJvdGF0ZTtcblxuICAgICAgICAgICAgLy8gY2FsbCB0aGUgb25EcmF3IGNhbGxiYWNrIGlmIGl0IGV4aXN0cyB0byBhbGxvdyBvbmUgdG8gb3ZlcndyaXRlXG4gICAgICAgICAgICAvLyB0aGUgZHJhd2luZy9wb3NpdGlvbmluZy9zaXppbmcgb2YgdGhlIG92ZXJsYXlcbiAgICAgICAgICAgIGlmICh0aGlzLm9uRHJhdykge1xuICAgICAgICAgICAgICAgIHRoaXMub25EcmF3KHBvc2l0aW9uLCBzaXplLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgICAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBwb3NpdGlvbi54ICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHN0eWxlLnRvcCA9IHBvc2l0aW9uLnkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUud2lkdGggPSBzaXplLnggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhlaWdodCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBzaXplLnkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1PcmlnaW5Qcm9wID0gJC5nZXRDc3NQcm9wZXJ0eVdpdGhWZW5kb3JQcmVmaXgoXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm1PcmlnaW4nKTtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNmb3JtUHJvcCA9ICQuZ2V0Q3NzUHJvcGVydHlXaXRoVmVuZG9yUHJlZml4KFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU9yaWdpblByb3AgJiYgdHJhbnNmb3JtUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVt0cmFuc2Zvcm1PcmlnaW5Qcm9wXSA9IHRoaXMuX2dldFRyYW5zZm9ybU9yaWdpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBcInJvdGF0ZShcIiArIHJvdGF0ZSArIFwiZGVnKVwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbdHJhbnNmb3JtT3JpZ2luUHJvcF0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLmRpc3BsYXkgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gcHJpdmF0ZVxuICAgICAgICBfZ2V0T3ZlcmxheVBvc2l0aW9uQW5kU2l6ZTogZnVuY3Rpb24odmlld3BvcnQpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHZpZXdwb3J0LnBpeGVsRnJvbVBvaW50KHRoaXMubG9jYXRpb24sIHRydWUpO1xuICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLl9nZXRTaXplSW5QaXhlbHModmlld3BvcnQpO1xuICAgICAgICAgICAgdGhpcy5hZGp1c3QocG9zaXRpb24sIHNpemUpO1xuXG4gICAgICAgICAgICB2YXIgcm90YXRlID0gMDtcbiAgICAgICAgICAgIGlmICh2aWV3cG9ydC5kZWdyZWVzICYmXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGlvbk1vZGUgIT09ICQuT3ZlcmxheVJvdGF0aW9uTW9kZS5OT19ST1RBVElPTikge1xuICAgICAgICAgICAgICAgIC8vIEJPVU5ESU5HX0JPWCBpcyBvbmx5IHZhbGlkIGlmIGJvdGggZGlyZWN0aW9ucyBnZXQgc2NhbGVkLlxuICAgICAgICAgICAgICAgIC8vIEdldCByZXBsYWNlZCBieSBFWEFDVCBvdGhlcndpc2UuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucm90YXRpb25Nb2RlID09PSAkLk92ZXJsYXlSb3RhdGlvbk1vZGUuQk9VTkRJTkdfQk9YICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2lkdGggIT09IG51bGwgJiYgdGhpcy5oZWlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgJC5SZWN0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHNpemUueCwgc2l6ZS55KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvdW5kaW5nQm94ID0gdGhpcy5fZ2V0Qm91bmRpbmdCb3gocmVjdCwgdmlld3BvcnQuZGVncmVlcyk7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gYm91bmRpbmdCb3guZ2V0VG9wTGVmdCgpO1xuICAgICAgICAgICAgICAgICAgICBzaXplID0gYm91bmRpbmdCb3guZ2V0U2l6ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZSA9IHZpZXdwb3J0LmRlZ3JlZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICBzaXplOiBzaXplLFxuICAgICAgICAgICAgICAgIHJvdGF0ZTogcm90YXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIHByaXZhdGVcbiAgICAgICAgX2dldFNpemVJblBpeGVsczogZnVuY3Rpb24odmlld3BvcnQpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuc2l6ZS54O1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuc2l6ZS55O1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggIT09IG51bGwgfHwgdGhpcy5oZWlnaHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGVkU2l6ZSA9IHZpZXdwb3J0LmRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlKFxuICAgICAgICAgICAgICAgICAgICBuZXcgJC5Qb2ludCh0aGlzLndpZHRoIHx8IDAsIHRoaXMuaGVpZ2h0IHx8IDApLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHNjYWxlZFNpemUueDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHNjYWxlZFNpemUueTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja1Jlc2l6ZSAmJlxuICAgICAgICAgICAgICAgICh0aGlzLndpZHRoID09PSBudWxsIHx8IHRoaXMuaGVpZ2h0ID09PSBudWxsKSkge1xuICAgICAgICAgICAgICAgIHZhciBlbHRTaXplID0gdGhpcy5zaXplID0gJC5nZXRFbGVtZW50U2l6ZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gZWx0U2l6ZS54O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gZWx0U2l6ZS55O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBwcml2YXRlXG4gICAgICAgIF9nZXRCb3VuZGluZ0JveDogZnVuY3Rpb24ocmVjdCwgZGVncmVlcykge1xuICAgICAgICAgICAgdmFyIHJlZlBvaW50ID0gdGhpcy5fZ2V0UGxhY2VtZW50UG9pbnQocmVjdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVjdC5yb3RhdGUoZGVncmVlcywgcmVmUG9pbnQpLmdldEJvdW5kaW5nQm94KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gcHJpdmF0ZVxuICAgICAgICBfZ2V0UGxhY2VtZW50UG9pbnQ6IGZ1bmN0aW9uKHJlY3QpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgJC5Qb2ludChyZWN0LngsIHJlY3QueSk7XG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9ICQuUGxhY2VtZW50LnByb3BlcnRpZXNbdGhpcy5wbGFjZW1lbnRdO1xuICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydGllcy5pc0hvcml6b250YWxseUNlbnRlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC54ICs9IHJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydGllcy5pc1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC54ICs9IHJlY3Qud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmlzVmVydGljYWxseUNlbnRlcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC55ICs9IHJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnRpZXMuaXNCb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnkgKz0gcmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBwcml2YXRlXG4gICAgICAgIF9nZXRUcmFuc2Zvcm1PcmlnaW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgcHJvcGVydGllcyA9ICQuUGxhY2VtZW50LnByb3BlcnRpZXNbdGhpcy5wbGFjZW1lbnRdO1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wZXJ0aWVzLmlzTGVmdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFwibGVmdFwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzLmlzUmlnaHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBcInJpZ2h0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcGVydGllcy5pc1RvcCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiB0b3BcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydGllcy5pc0JvdHRvbSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIiBib3R0b21cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZXMgdGhlIG92ZXJsYXkgc2V0dGluZ3MuXG4gICAgICAgICAqIEBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR8T3BlblNlYWRyYWdvbi5SZWN0fE9iamVjdH0gbG9jYXRpb25cbiAgICAgICAgICogSWYgYW4gb2JqZWN0IGlzIHNwZWNpZmllZCwgdGhlIG9wdGlvbnMgYXJlIHRoZSBzYW1lIHRoYW4gdGhlIGNvbnN0cnVjdG9yXG4gICAgICAgICAqIGV4Y2VwdCBmb3IgdGhlIGVsZW1lbnQgd2hpY2ggY2FuIG5vdCBiZSBjaGFuZ2VkLlxuICAgICAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBwbGFjZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24obG9jYXRpb24sIHBsYWNlbWVudCkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmlzUGxhaW5PYmplY3QobG9jYXRpb24pID8gbG9jYXRpb24gOiB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5faW5pdCh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IG9wdGlvbnMubG9jYXRpb24gfHwgdGhpcy5sb2NhdGlvbixcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IG9wdGlvbnMucGxhY2VtZW50ICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBsYWNlbWVudCA6IHRoaXMucGxhY2VtZW50LFxuICAgICAgICAgICAgICAgIG9uRHJhdzogb3B0aW9ucy5vbkRyYXcgfHwgdGhpcy5vbkRyYXcsXG4gICAgICAgICAgICAgICAgY2hlY2tSZXNpemU6IG9wdGlvbnMuY2hlY2tSZXNpemUgfHwgdGhpcy5jaGVja1Jlc2l6ZSxcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy53aWR0aCA6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5oZWlnaHQgOiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgICAgICByb3RhdGlvbk1vZGU6IG9wdGlvbnMucm90YXRpb25Nb2RlIHx8IHRoaXMucm90YXRpb25Nb2RlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudCBib3VuZHMgb2YgdGhlIG92ZXJsYXkgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXNcbiAgICAgICAgICogQGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5WaWV3cG9ydH0gdmlld3BvcnQgdGhlIHZpZXdwb3J0XG4gICAgICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IG92ZXJsYXkgYm91bmRzXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCb3VuZHM6IGZ1bmN0aW9uKHZpZXdwb3J0KSB7XG4gICAgICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KHZpZXdwb3J0LFxuICAgICAgICAgICAgICAgICdBIHZpZXdwb3J0IG11c3Qgbm93IGJlIHBhc3NlZCB0byBPdmVybGF5LmdldEJvdW5kcy4nKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgICAgICBpZiAod2lkdGggPT09IG51bGwgfHwgaGVpZ2h0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpemUgPSB2aWV3cG9ydC5kZWx0YVBvaW50c0Zyb21QaXhlbHNOb1JvdGF0ZSh0aGlzLnNpemUsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHNpemUueDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhlaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzaXplLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgdGhpcy5hZGp1c3QobG9jYXRpb24sIG5ldyAkLlBvaW50KHdpZHRoLCBoZWlnaHQpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGp1c3RCb3VuZHNGb3JSb3RhdGlvbihcbiAgICAgICAgICAgICAgICB2aWV3cG9ydCwgbmV3ICQuUmVjdChsb2NhdGlvbi54LCBsb2NhdGlvbi55LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gcHJpdmF0ZVxuICAgICAgICBfYWRqdXN0Qm91bmRzRm9yUm90YXRpb246IGZ1bmN0aW9uKHZpZXdwb3J0LCBib3VuZHMpIHtcbiAgICAgICAgICAgIGlmICghdmlld3BvcnQgfHxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydC5kZWdyZWVzID09PSAwIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGlvbk1vZGUgPT09ICQuT3ZlcmxheVJvdGF0aW9uTW9kZS5FWEFDVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5yb3RhdGlvbk1vZGUgPT09ICQuT3ZlcmxheVJvdGF0aW9uTW9kZS5CT1VORElOR19CT1gpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBvdmVybGF5IG5vdCBmdWxseSBzY2FsYWJsZSwgQk9VTkRJTkdfQk9YIGZhbGxzIGJhY2sgdG8gRVhBQ1RcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gbnVsbCB8fCB0aGlzLmhlaWdodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBlYXNpZXIgdG8ganVzdCBjb21wdXRlIHRoZSBwb3NpdGlvbiBhbmQgc2l6ZSBhbmRcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRvIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbkFuZFNpemUgPSB0aGlzLl9nZXRPdmVybGF5UG9zaXRpb25BbmRTaXplKHZpZXdwb3J0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlld3BvcnQudmlld2VyRWxlbWVudFRvVmlld3BvcnRSZWN0YW5nbGUobmV3ICQuUmVjdChcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25BbmRTaXplLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQW5kU2l6ZS5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkFuZFNpemUuc2l6ZS54LFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkFuZFNpemUuc2l6ZS55KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5PX1JPVEFUSU9OIGNhc2VcbiAgICAgICAgICAgIHJldHVybiBib3VuZHMucm90YXRlKC12aWV3cG9ydC5kZWdyZWVzLFxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFBsYWNlbWVudFBvaW50KGJvdW5kcykpO1xuICAgICAgICB9XG4gICAgfTtcblxufShPcGVuU2VhZHJhZ29uKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gRHJhd2VyXG4gKlxuICogQ29weXJpZ2h0IChDKSAyMDA5IENvZGVQbGV4IEZvdW5kYXRpb25cbiAqIENvcHlyaWdodCAoQykgMjAxMC0yMDEzIE9wZW5TZWFkcmFnb24gY29udHJpYnV0b3JzXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXG4gKiBtZXQ6XG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKlxuICogLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuICogICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlXG4gKiAgIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogLSBOZWl0aGVyIHRoZSBuYW1lIG9mIENvZGVQbGV4IEZvdW5kYXRpb24gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAqICAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuICogT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4gKiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURURcbiAqIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0ZcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HXG4gKiBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcbiAqIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbihmdW5jdGlvbiggJCApe1xuXG4vKipcbiAqIEBjbGFzcyBEcmF3ZXJcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAY2xhc3NkZXNjIEhhbmRsZXMgcmVuZGVyaW5nIG9mIHRpbGVzIGZvciBhbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXJ9LlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGlzIERyYXdlci5cbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IG9wdGlvbnMudmlld2VyIC0gVGhlIFZpZXdlciB0aGF0IG93bnMgdGhpcyBEcmF3ZXIuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IG9wdGlvbnMudmlld3BvcnQgLSBSZWZlcmVuY2UgdG8gVmlld2VyIHZpZXdwb3J0LlxuICogQHBhcmFtIHtFbGVtZW50fSBvcHRpb25zLmVsZW1lbnQgLSBQYXJlbnQgZWxlbWVudC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kZWJ1Z0dyaWRDb2xvcl0gLSBTZWUgZGVidWdHcmlkQ29sb3IgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30gZm9yIGRldGFpbHMuXG4gKi9cbiQuRHJhd2VyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cbiAgICAkLmNvbnNvbGUuYXNzZXJ0KCBvcHRpb25zLnZpZXdlciwgXCJbRHJhd2VyXSBvcHRpb25zLnZpZXdlciBpcyByZXF1aXJlZFwiICk7XG5cbiAgICAvL2JhY2t3YXJkIGNvbXBhdGliaWxpdHkgZm9yIHBvc2l0aW9uYWwgYXJncyB3aGlsZSBwcmVmZXJpbmcgbW9yZVxuICAgIC8vaWRpb21hdGljIGphdmFzY3JpcHQgb3B0aW9ucyBvYmplY3QgYXMgdGhlIG9ubHkgYXJndW1lbnRcbiAgICB2YXIgYXJncyAgPSBhcmd1bWVudHM7XG5cbiAgICBpZiggISQuaXNQbGFpbk9iamVjdCggb3B0aW9ucyApICl7XG4gICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBzb3VyY2U6ICAgICBhcmdzWyAwIF0sIC8vIFJlZmVyZW5jZSB0byBWaWV3ZXIgdGlsZSBzb3VyY2UuXG4gICAgICAgICAgICB2aWV3cG9ydDogICBhcmdzWyAxIF0sIC8vIFJlZmVyZW5jZSB0byBWaWV3ZXIgdmlld3BvcnQuXG4gICAgICAgICAgICBlbGVtZW50OiAgICBhcmdzWyAyIF0gIC8vIFBhcmVudCBlbGVtZW50LlxuICAgICAgICB9O1xuICAgIH1cblxuICAgICQuY29uc29sZS5hc3NlcnQoIG9wdGlvbnMudmlld3BvcnQsIFwiW0RyYXdlcl0gb3B0aW9ucy52aWV3cG9ydCBpcyByZXF1aXJlZFwiICk7XG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy5lbGVtZW50LCBcIltEcmF3ZXJdIG9wdGlvbnMuZWxlbWVudCBpcyByZXF1aXJlZFwiICk7XG5cbiAgICBpZiAoIG9wdGlvbnMuc291cmNlICkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoIFwiW0RyYXdlcl0gb3B0aW9ucy5zb3VyY2UgaXMgbm8gbG9uZ2VyIGFjY2VwdGVkOyB1c2UgVGlsZWRJbWFnZSBpbnN0ZWFkXCIgKTtcbiAgICB9XG5cbiAgICB0aGlzLnZpZXdlciA9IG9wdGlvbnMudmlld2VyO1xuICAgIHRoaXMudmlld3BvcnQgPSBvcHRpb25zLnZpZXdwb3J0O1xuICAgIHRoaXMuZGVidWdHcmlkQ29sb3IgPSB0eXBlb2Ygb3B0aW9ucy5kZWJ1Z0dyaWRDb2xvciA9PT0gJ3N0cmluZycgPyBbb3B0aW9ucy5kZWJ1Z0dyaWRDb2xvcl0gOiBvcHRpb25zLmRlYnVnR3JpZENvbG9yIHx8ICQuREVGQVVMVF9TRVRUSU5HUy5kZWJ1Z0dyaWRDb2xvcjtcbiAgICBpZiAob3B0aW9ucy5vcGFjaXR5KSB7XG4gICAgICAgICQuY29uc29sZS5lcnJvciggXCJbRHJhd2VyXSBvcHRpb25zLm9wYWNpdHkgaXMgbm8gbG9uZ2VyIGFjY2VwdGVkOyBzZXQgdGhlIG9wYWNpdHkgb24gdGhlIFRpbGVkSW1hZ2UgaW5zdGVhZFwiICk7XG4gICAgfVxuXG4gICAgdGhpcy51c2VDYW52YXMgID0gJC5zdXBwb3J0c0NhbnZhcyAmJiAoIHRoaXMudmlld2VyID8gdGhpcy52aWV3ZXIudXNlQ2FudmFzIDogdHJ1ZSApO1xuICAgIC8qKlxuICAgICAqIFRoZSBwYXJlbnQgZWxlbWVudCBvZiB0aGlzIERyYXdlciBpbnN0YW5jZSwgcGFzc2VkIGluIHdoZW4gdGhlIERyYXdlciB3YXMgY3JlYXRlZC5cbiAgICAgKiBUaGUgcGFyZW50IG9mIHtAbGluayBPcGVuU2VhZHJhZ29uLkRyYXdlciNjYW52YXN9LlxuICAgICAqIEBtZW1iZXIge0VsZW1lbnR9IGNvbnRhaW5lclxuICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLkRyYXdlciNcbiAgICAgKi9cbiAgICB0aGlzLmNvbnRhaW5lciAgPSAkLmdldEVsZW1lbnQoIG9wdGlvbnMuZWxlbWVudCApO1xuICAgIC8qKlxuICAgICAqIEEgJmx0O2NhbnZhcyZndDsgZWxlbWVudCBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGVtLCBvdGhlcndpc2UgYSAmbHQ7ZGl2Jmd0OyBlbGVtZW50LlxuICAgICAqIENoaWxkIGVsZW1lbnQgb2Yge0BsaW5rIE9wZW5TZWFkcmFnb24uRHJhd2VyI2NvbnRhaW5lcn0uXG4gICAgICogQG1lbWJlciB7RWxlbWVudH0gY2FudmFzXG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uRHJhd2VyI1xuICAgICAqL1xuICAgIHRoaXMuY2FudmFzICAgICA9ICQubWFrZU5ldXRyYWxFbGVtZW50KCB0aGlzLnVzZUNhbnZhcyA/IFwiY2FudmFzXCIgOiBcImRpdlwiICk7XG4gICAgLyoqXG4gICAgICogMmQgZHJhd2luZyBjb250ZXh0IGZvciB7QGxpbmsgT3BlblNlYWRyYWdvbi5EcmF3ZXIjY2FudmFzfSBpZiBpdCdzIGEgJmx0O2NhbnZhcyZndDsgZWxlbWVudCwgb3RoZXJ3aXNlIG51bGwuXG4gICAgICogQG1lbWJlciB7T2JqZWN0fSBjb250ZXh0XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uRHJhd2VyI1xuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCAgICA9IHRoaXMudXNlQ2FudmFzID8gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiICkgOiBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2tldGNoIGNhbnZhcyB1c2VkIHRvIHRlbXBvcmFyaWx5IGRyYXcgdGlsZXMgd2hpY2ggY2Fubm90IGJlIGRyYXduIGRpcmVjdGx5XG4gICAgICogdG8gdGhlIG1haW4gY2FudmFzIGR1ZSB0byBvcGFjaXR5LiBMYXppbHkgaW5pdGlhbGl6ZWQuXG4gICAgICovXG4gICAgdGhpcy5za2V0Y2hDYW52YXMgPSBudWxsO1xuICAgIHRoaXMuc2tldGNoQ29udGV4dCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uRHJhd2VyI1xuICAgICAqIEBkZXByZWNhdGVkIEFsaWFzIGZvciB7QGxpbmsgT3BlblNlYWRyYWdvbi5EcmF3ZXIjY29udGFpbmVyfS5cbiAgICAgKi9cbiAgICB0aGlzLmVsZW1lbnQgICAgPSB0aGlzLmNvbnRhaW5lcjtcblxuICAgIC8vIFdlIGZvcmNlIG91ciBjb250YWluZXIgdG8gbHRyIGJlY2F1c2Ugb3VyIGRyYXdpbmcgbWF0aCBkb2Vzbid0IHdvcmsgaW4gcnRsLlxuICAgIC8vIFRoaXMgaXNzdWUgb25seSBhZmZlY3RzIG91ciBjYW52YXMgcmVuZGVyZXIsIGJ1dCB3ZSBkbyBpdCBhbHdheXMgZm9yIGNvbnNpc3RlbmN5LlxuICAgIC8vIE5vdGUgdGhhdCB0aGlzIG1lYW5zIG92ZXJsYXlzIHlvdSB3YW50IHRvIGJlIHJ0bCBuZWVkIHRvIGJlIGV4cGxpY2l0bHkgc2V0IHRvIHJ0bC5cbiAgICB0aGlzLmNvbnRhaW5lci5kaXIgPSAnbHRyJztcblxuICAgIC8vIGNoZWNrIGNhbnZhcyBhdmFpbGFibGUgd2lkdGggYW5kIGhlaWdodCwgc2V0IGNhbnZhcyB3aWR0aCBhbmQgaGVpZ2h0IHN1Y2ggdGhhdCB0aGUgY2FudmFzIGJhY2tpbmcgc3RvcmUgaXMgc2V0IHRvIHRoZSBwcm9wZXIgcGl4ZWwgZGVuc2l0eVxuICAgIGlmICh0aGlzLnVzZUNhbnZhcykge1xuICAgICAgICB2YXIgdmlld3BvcnRTaXplID0gdGhpcy5fY2FsY3VsYXRlQ2FudmFzU2l6ZSgpO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZpZXdwb3J0U2l6ZS54O1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydFNpemUueTtcbiAgICB9XG5cbiAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCAgICAgPSBcIjEwMCVcIjtcbiAgICB0aGlzLmNhbnZhcy5zdHlsZS5oZWlnaHQgICAgPSBcIjEwMCVcIjtcbiAgICB0aGlzLmNhbnZhcy5zdHlsZS5wb3NpdGlvbiAgPSBcImFic29sdXRlXCI7XG4gICAgJC5zZXRFbGVtZW50T3BhY2l0eSggdGhpcy5jYW52YXMsIHRoaXMub3BhY2l0eSwgdHJ1ZSApO1xuXG4gICAgLy8gZXhwbGljaXQgbGVmdC1hbGlnblxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKCB0aGlzLmNhbnZhcyApO1xufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLkRyYXdlci5wcm90b3R5cGUgKi9cbiQuRHJhd2VyLnByb3RvdHlwZSA9IHtcbiAgICAvLyBkZXByZWNhdGVkXG4gICAgYWRkT3ZlcmxheTogZnVuY3Rpb24oIGVsZW1lbnQsIGxvY2F0aW9uLCBwbGFjZW1lbnQsIG9uRHJhdyApIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKFwiZHJhd2VyLmFkZE92ZXJsYXkgaXMgZGVwcmVjYXRlZC4gVXNlIHZpZXdlci5hZGRPdmVybGF5IGluc3RlYWQuXCIpO1xuICAgICAgICB0aGlzLnZpZXdlci5hZGRPdmVybGF5KCBlbGVtZW50LCBsb2NhdGlvbiwgcGxhY2VtZW50LCBvbkRyYXcgKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICB1cGRhdGVPdmVybGF5OiBmdW5jdGlvbiggZWxlbWVudCwgbG9jYXRpb24sIHBsYWNlbWVudCApIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKFwiZHJhd2VyLnVwZGF0ZU92ZXJsYXkgaXMgZGVwcmVjYXRlZC4gVXNlIHZpZXdlci51cGRhdGVPdmVybGF5IGluc3RlYWQuXCIpO1xuICAgICAgICB0aGlzLnZpZXdlci51cGRhdGVPdmVybGF5KCBlbGVtZW50LCBsb2NhdGlvbiwgcGxhY2VtZW50ICk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgcmVtb3ZlT3ZlcmxheTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG4gICAgICAgICQuY29uc29sZS5lcnJvcihcImRyYXdlci5yZW1vdmVPdmVybGF5IGlzIGRlcHJlY2F0ZWQuIFVzZSB2aWV3ZXIucmVtb3ZlT3ZlcmxheSBpbnN0ZWFkLlwiKTtcbiAgICAgICAgdGhpcy52aWV3ZXIucmVtb3ZlT3ZlcmxheSggZWxlbWVudCApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIGNsZWFyT3ZlcmxheXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoXCJkcmF3ZXIuY2xlYXJPdmVybGF5cyBpcyBkZXByZWNhdGVkLiBVc2Ugdmlld2VyLmNsZWFyT3ZlcmxheXMgaW5zdGVhZC5cIik7XG4gICAgICAgIHRoaXMudmlld2VyLmNsZWFyT3ZlcmxheXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgb3BhY2l0eSBvZiB0aGUgZHJhd2VyLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcGFjaXR5XG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5EcmF3ZXJ9IENoYWluYWJsZS5cbiAgICAgKi9cbiAgICBzZXRPcGFjaXR5OiBmdW5jdGlvbiggb3BhY2l0eSApIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKFwiZHJhd2VyLnNldE9wYWNpdHkgaXMgZGVwcmVjYXRlZC4gVXNlIHRpbGVkSW1hZ2Uuc2V0T3BhY2l0eSBpbnN0ZWFkLlwiKTtcbiAgICAgICAgdmFyIHdvcmxkID0gdGhpcy52aWV3ZXIud29ybGQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29ybGQuZ2V0SXRlbUNvdW50KCk7IGkrKykge1xuICAgICAgICAgICAgd29ybGQuZ2V0SXRlbUF0KCBpICkuc2V0T3BhY2l0eSggb3BhY2l0eSApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIG9wYWNpdHkgb2YgdGhlIGRyYXdlci5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldE9wYWNpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoXCJkcmF3ZXIuZ2V0T3BhY2l0eSBpcyBkZXByZWNhdGVkLiBVc2UgdGlsZWRJbWFnZS5nZXRPcGFjaXR5IGluc3RlYWQuXCIpO1xuICAgICAgICB2YXIgd29ybGQgPSB0aGlzLnZpZXdlci53b3JsZDtcbiAgICAgICAgdmFyIG1heE9wYWNpdHkgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmxkLmdldEl0ZW1Db3VudCgpOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gd29ybGQuZ2V0SXRlbUF0KCBpICkuZ2V0T3BhY2l0eSgpO1xuICAgICAgICAgICAgaWYgKCBvcGFjaXR5ID4gbWF4T3BhY2l0eSApIHtcbiAgICAgICAgICAgICAgICBtYXhPcGFjaXR5ID0gb3BhY2l0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4T3BhY2l0eTtcbiAgICB9LFxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIG5lZWRzVXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIltEcmF3ZXIubmVlZHNVcGRhdGVdIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFdvcmxkLm5lZWRzRHJhdyBpbnN0ZWFkLlwiICk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlci53b3JsZC5uZWVkc0RyYXcoKTtcbiAgICB9LFxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIG51bVRpbGVzTG9hZGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIltEcmF3ZXIubnVtVGlsZXNMb2FkZWRdIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFRpbGVDYWNoZS5udW1UaWxlc0xvYWRlZCBpbnN0ZWFkLlwiICk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlci50aWxlQ2FjaGUubnVtVGlsZXNMb2FkZWQoKTtcbiAgICB9LFxuXG4gICAgLy8gZGVwcmVjYXRlZFxuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIltEcmF3ZXIucmVzZXRdIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gVXNlIFdvcmxkLnJlc2V0SXRlbXMgaW5zdGVhZC5cIiApO1xuICAgICAgICB0aGlzLnZpZXdlci53b3JsZC5yZXNldEl0ZW1zKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcIltEcmF3ZXIudXBkYXRlXSB0aGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBEcmF3ZXIuY2xlYXIgYW5kIFdvcmxkLmRyYXcgaW5zdGVhZC5cIiApO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMudmlld2VyLndvcmxkLmRyYXcoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgcm90YXRpb24gaXMgc3VwcG9ydGVkLlxuICAgICAqL1xuICAgIGNhblJvdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVzZUNhbnZhcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgZHJhd2VyICh1bmxvYWQgY3VycmVudCBsb2FkZWQgdGlsZXMpXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vZm9yY2UgdW5sb2FkaW5nIG9mIGN1cnJlbnQgY2FudmFzICgxeDEgd2lsbCBiZSBnYyBsYXRlciwgdHJpY2sgbm90IG5lY2Vzc2FyaWx5IG5lZWRlZClcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggID0gMTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gMTtcbiAgICAgICAgdGhpcy5za2V0Y2hDYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLnNrZXRjaENvbnRleHQgPSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIERyYXdlciBzbyBpdCdzIHJlYWR5IHRvIGRyYXcgYW5vdGhlciBmcmFtZS5cbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGlmICggdGhpcy51c2VDYW52YXMgKSB7XG4gICAgICAgICAgICB2YXIgdmlld3BvcnRTaXplID0gdGhpcy5fY2FsY3VsYXRlQ2FudmFzU2l6ZSgpO1xuICAgICAgICAgICAgaWYoIHRoaXMuY2FudmFzLndpZHRoICE9IHZpZXdwb3J0U2l6ZS54IHx8XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ICE9IHZpZXdwb3J0U2l6ZS55ICkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdmlld3BvcnRTaXplLng7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmlld3BvcnRTaXplLnk7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGlzLnNrZXRjaENhbnZhcyAhPT0gbnVsbCApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNrZXRjaENhbnZhc1NpemUgPSB0aGlzLl9jYWxjdWxhdGVTa2V0Y2hDYW52YXNTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoQ2FudmFzLndpZHRoID0gc2tldGNoQ2FudmFzU2l6ZS54O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNrZXRjaENhbnZhcy5oZWlnaHQgPSBza2V0Y2hDYW52YXNTaXplLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfY2xlYXI6IGZ1bmN0aW9uICh1c2VTa2V0Y2gsIGJvdW5kcykge1xuICAgICAgICBpZiAoIXRoaXMudXNlQ2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9nZXRDb250ZXh0KHVzZVNrZXRjaCk7XG4gICAgICAgIGlmIChib3VuZHMpIHtcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KGJvdW5kcy54LCBib3VuZHMueSwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGUgZnJvbSBPcGVuU2VhZHJhZ29uIHZpZXdlciByZWN0YW5nbGUgdG8gZHJhd2VyIHJlY3RhbmdsZVxuICAgICAqIChpZ25vcmluZyByb3RhdGlvbilcbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlJlY3R9IFJlY3RhbmdsZSBpbiBkcmF3ZXIgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICovXG4gICAgdmlld3BvcnRUb0RyYXdlclJlY3RhbmdsZTogZnVuY3Rpb24ocmVjdGFuZ2xlKSB7XG4gICAgICAgIHZhciB0b3BMZWZ0ID0gdGhpcy52aWV3cG9ydC5waXhlbEZyb21Qb2ludE5vUm90YXRlKHJlY3RhbmdsZS5nZXRUb3BMZWZ0KCksIHRydWUpO1xuICAgICAgICB2YXIgc2l6ZSA9IHRoaXMudmlld3BvcnQuZGVsdGFQaXhlbHNGcm9tUG9pbnRzTm9Sb3RhdGUocmVjdGFuZ2xlLmdldFNpemUoKSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyAkLlJlY3QoXG4gICAgICAgICAgICB0b3BMZWZ0LnggKiAkLnBpeGVsRGVuc2l0eVJhdGlvLFxuICAgICAgICAgICAgdG9wTGVmdC55ICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgIHNpemUueCAqICQucGl4ZWxEZW5zaXR5UmF0aW8sXG4gICAgICAgICAgICBzaXplLnkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBnaXZlbiB0aWxlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlfSB0aWxlIC0gVGhlIHRpbGUgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkcmF3aW5nSGFuZGxlciAtIE1ldGhvZCBmb3IgZmlyaW5nIHRoZSBkcmF3aW5nIGV2ZW50IGlmIHVzaW5nIGNhbnZhcy5cbiAgICAgKiBkcmF3aW5nSGFuZGxlcih7Y29udGV4dCwgdGlsZSwgcmVuZGVyZWR9KVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlU2tldGNoIC0gV2hldGhlciB0byB1c2UgdGhlIHNrZXRjaCBjYW52YXMgb3Igbm90LlxuICAgICAqIHdoZXJlIDxjb2RlPnJlbmRlcmVkPC9jb2RlPiBpcyB0aGUgY29udGV4dCB3aXRoIHRoZSBwcmUtZHJhd24gaW1hZ2UuXG4gICAgICogQHBhcmFtIHtGbG9hdH0gW3NjYWxlPTFdIC0gQXBwbHkgYSBzY2FsZSB0byB0aWxlIHBvc2l0aW9uIGFuZCBzaXplLiBEZWZhdWx0cyB0byAxLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gW3RyYW5zbGF0ZV0gQSB0cmFuc2xhdGlvbiB2ZWN0b3IgdG8gb2Zmc2V0IHRpbGUgcG9zaXRpb25cbiAgICAgKi9cbiAgICBkcmF3VGlsZTogZnVuY3Rpb24odGlsZSwgZHJhd2luZ0hhbmRsZXIsIHVzZVNrZXRjaCwgc2NhbGUsIHRyYW5zbGF0ZSkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KHRpbGUsICdbRHJhd2VyLmRyYXdUaWxlXSB0aWxlIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoZHJhd2luZ0hhbmRsZXIsICdbRHJhd2VyLmRyYXdUaWxlXSBkcmF3aW5nSGFuZGxlciBpcyByZXF1aXJlZCcpO1xuXG4gICAgICAgIGlmICh0aGlzLnVzZUNhbnZhcykge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9nZXRDb250ZXh0KHVzZVNrZXRjaCk7XG4gICAgICAgICAgICBzY2FsZSA9IHNjYWxlIHx8IDE7XG4gICAgICAgICAgICB0aWxlLmRyYXdDYW52YXMoY29udGV4dCwgZHJhd2luZ0hhbmRsZXIsIHNjYWxlLCB0cmFuc2xhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlsZS5kcmF3SFRNTCggdGhpcy5jYW52YXMgKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZ2V0Q29udGV4dDogZnVuY3Rpb24oIHVzZVNrZXRjaCApIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGlmICggdXNlU2tldGNoICkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2tldGNoQ2FudmFzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImNhbnZhc1wiICk7XG4gICAgICAgICAgICAgICAgdmFyIHNrZXRjaENhbnZhc1NpemUgPSB0aGlzLl9jYWxjdWxhdGVTa2V0Y2hDYW52YXNTaXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hDYW52YXMud2lkdGggPSBza2V0Y2hDYW52YXNTaXplLng7XG4gICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hDYW52YXMuaGVpZ2h0ID0gc2tldGNoQ2FudmFzU2l6ZS55O1xuICAgICAgICAgICAgICAgIHRoaXMuc2tldGNoQ29udGV4dCA9IHRoaXMuc2tldGNoQ2FudmFzLmdldENvbnRleHQoIFwiMmRcIiApO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZpZXdwb3J0IGlzIG5vdCBjdXJyZW50bHkgcm90YXRlZCwgdGhlIHNrZXRjaENhbnZhc1xuICAgICAgICAgICAgICAgIC8vIHdpbGwgaGF2ZSB0aGUgc2FtZSBzaXplIGFzIHRoZSBtYWluIGNhbnZhcy4gSG93ZXZlciwgaWZcbiAgICAgICAgICAgICAgICAvLyB0aGUgdmlld3BvcnQgZ2V0IHJvdGF0ZWQgbGF0ZXIgb24sIHdlIHdpbGwgbmVlZCB0byByZXNpemUgaXQuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld3BvcnQuZ2V0Um90YXRpb24oKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLmFkZEhhbmRsZXIoJ3JvdGF0ZScsIGZ1bmN0aW9uIHJlc2l6ZVNrZXRjaENhbnZhcygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnZpZXdwb3J0LmdldFJvdGF0aW9uKCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnZpZXdlci5yZW1vdmVIYW5kbGVyKCdyb3RhdGUnLCByZXNpemVTa2V0Y2hDYW52YXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNrZXRjaENhbnZhc1NpemUgPSBzZWxmLl9jYWxjdWxhdGVTa2V0Y2hDYW52YXNTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNrZXRjaENhbnZhcy53aWR0aCA9IHNrZXRjaENhbnZhc1NpemUueDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2tldGNoQ2FudmFzLmhlaWdodCA9IHNrZXRjaENhbnZhc1NpemUueTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGV4dCA9IHRoaXMuc2tldGNoQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIHNhdmVDb250ZXh0OiBmdW5jdGlvbiggdXNlU2tldGNoICkge1xuICAgICAgICBpZiAoIXRoaXMudXNlQ2FudmFzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9nZXRDb250ZXh0KCB1c2VTa2V0Y2ggKS5zYXZlKCk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICByZXN0b3JlQ29udGV4dDogZnVuY3Rpb24oIHVzZVNrZXRjaCApIHtcbiAgICAgICAgaWYgKCF0aGlzLnVzZUNhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ2V0Q29udGV4dCggdXNlU2tldGNoICkucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgc2V0Q2xpcDogZnVuY3Rpb24ocmVjdCwgdXNlU2tldGNoKSB7XG4gICAgICAgIGlmICghdGhpcy51c2VDYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fZ2V0Q29udGV4dCggdXNlU2tldGNoICk7XG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQucmVjdChyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LmNsaXAoKTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIGRyYXdSZWN0YW5nbGU6IGZ1bmN0aW9uKHJlY3QsIGZpbGxTdHlsZSwgdXNlU2tldGNoKSB7XG4gICAgICAgIGlmICghdGhpcy51c2VDYW52YXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fZ2V0Q29udGV4dCggdXNlU2tldGNoICk7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdChyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmxlbmRzIHRoZSBza2V0Y2ggY2FudmFzIGluIHRoZSBtYWluIGNhbnZhcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBUaGUgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7RmxvYXR9IG9wdGlvbnMub3BhY2l0eSBUaGUgb3BhY2l0eSBvZiB0aGUgYmxlbmRpbmcuXG4gICAgICogQHBhcmFtIHtGbG9hdH0gW29wdGlvbnMuc2NhbGU9MV0gVGhlIHNjYWxlIGF0IHdoaWNoIHRpbGVzIHdlcmUgZHJhd24gb25cbiAgICAgKiB0aGUgc2tldGNoLiBEZWZhdWx0IGlzIDEuXG4gICAgICogVXNlIHNjYWxlIHRvIGRyYXcgYXQgYSBsb3dlciBzY2FsZSBhbmQgdGhlbiBlbmxhcmdlIG9udG8gdGhlIG1haW4gY2FudmFzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gW29wdGlvbnMudHJhbnNsYXRlXSBBIHRyYW5zbGF0aW9uIHZlY3RvclxuICAgICAqIHRoYXQgd2FzIHVzZWQgdG8gZHJhdyB0aGUgdGlsZXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29tcG9zaXRlT3BlcmF0aW9uXSAtIEhvdyB0aGUgaW1hZ2UgaXNcbiAgICAgKiBjb21wb3NpdGVkIG9udG8gb3RoZXIgaW1hZ2VzOyBzZWUgY29tcG9zaXRlT3BlcmF0aW9uIGluXG4gICAgICoge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gW29wdGlvbnMuYm91bmRzXSBUaGUgcGFydCBvZiB0aGUgc2tldGNoXG4gICAgICogY2FudmFzIHRvIGJsZW5kIGluIHRoZSBtYWluIGNhbnZhcy4gSWYgc3BlY2lmaWVkLCBvcHRpb25zLnNjYWxlIGFuZFxuICAgICAqIG9wdGlvbnMudHJhbnNsYXRlIGdldCBpZ25vcmVkLlxuICAgICAqL1xuICAgIGJsZW5kU2tldGNoOiBmdW5jdGlvbihvcGFjaXR5LCBzY2FsZSwgdHJhbnNsYXRlLCBjb21wb3NpdGVPcGVyYXRpb24pIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBvcGFjaXR5O1xuICAgICAgICBpZiAoISQuaXNQbGFpbk9iamVjdChvcHRpb25zKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBvcGFjaXR5LFxuICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHRyYW5zbGF0ZSxcbiAgICAgICAgICAgICAgICBjb21wb3NpdGVPcGVyYXRpb246IGNvbXBvc2l0ZU9wZXJhdGlvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudXNlQ2FudmFzIHx8ICF0aGlzLnNrZXRjaENhbnZhcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wYWNpdHkgPSBvcHRpb25zLm9wYWNpdHk7XG4gICAgICAgIGNvbXBvc2l0ZU9wZXJhdGlvbiA9IG9wdGlvbnMuY29tcG9zaXRlT3BlcmF0aW9uO1xuICAgICAgICB2YXIgYm91bmRzID0gb3B0aW9ucy5ib3VuZHM7XG5cbiAgICAgICAgdGhpcy5jb250ZXh0LnNhdmUoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgaWYgKGNvbXBvc2l0ZU9wZXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYm91bmRzKSB7XG4gICAgICAgICAgICAvLyBJbnRlcm5ldCBFeHBsb3JlciwgTWljcm9zb2Z0IEVkZ2UsIGFuZCBTYWZhcmkgaGF2ZSBwcm9ibGVtc1xuICAgICAgICAgICAgLy8gd2hlbiB5b3UgY2FsbCBjb250ZXh0LmRyYXdJbWFnZSB3aXRoIG5lZ2F0aXZlIHggb3IgeVxuICAgICAgICAgICAgLy8gb3IgeCArIHdpZHRoIG9yIHkgKyBoZWlnaHQgZ3JlYXRlciB0aGFuIHRoZSBjYW52YXMgd2lkdGggb3IgaGVpZ2h0IHJlc3BlY3RpdmVseS5cbiAgICAgICAgICAgIGlmIChib3VuZHMueCA8IDApIHtcbiAgICAgICAgICAgICAgICBib3VuZHMud2lkdGggKz0gYm91bmRzLng7XG4gICAgICAgICAgICAgICAgYm91bmRzLnggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kcy54ICsgYm91bmRzLndpZHRoID4gdGhpcy5jYW52YXMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBib3VuZHMud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aCAtIGJvdW5kcy54O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kcy55IDwgMCkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5oZWlnaHQgKz0gYm91bmRzLnk7XG4gICAgICAgICAgICAgICAgYm91bmRzLnkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCA+IHRoaXMuY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLSBib3VuZHMueTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICB0aGlzLnNrZXRjaENhbnZhcyxcbiAgICAgICAgICAgICAgICBib3VuZHMueCxcbiAgICAgICAgICAgICAgICBib3VuZHMueSxcbiAgICAgICAgICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgICAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgICAgICAgICBib3VuZHMueCxcbiAgICAgICAgICAgICAgICBib3VuZHMueSxcbiAgICAgICAgICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgICAgICAgICAgYm91bmRzLmhlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjYWxlID0gb3B0aW9ucy5zY2FsZSB8fCAxO1xuICAgICAgICAgICAgdHJhbnNsYXRlID0gb3B0aW9ucy50cmFuc2xhdGU7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB0cmFuc2xhdGUgaW5zdGFuY2VvZiAkLlBvaW50ID9cbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUgOiBuZXcgJC5Qb2ludCgwLCAwKTtcblxuICAgICAgICAgICAgdmFyIHdpZHRoRXh0ID0gMDtcbiAgICAgICAgICAgIHZhciBoZWlnaHRFeHQgPSAwO1xuICAgICAgICAgICAgaWYgKHRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aERpZmYgPSB0aGlzLnNrZXRjaENhbnZhcy53aWR0aCAtIHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHREaWZmID0gdGhpcy5za2V0Y2hDYW52YXMuaGVpZ2h0IC0gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHdpZHRoRXh0ID0gTWF0aC5yb3VuZCh3aWR0aERpZmYgLyAyKTtcbiAgICAgICAgICAgICAgICBoZWlnaHRFeHQgPSBNYXRoLnJvdW5kKGhlaWdodERpZmYgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgdGhpcy5za2V0Y2hDYW52YXMsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueCAtIHdpZHRoRXh0ICogc2NhbGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb24ueSAtIGhlaWdodEV4dCAqIHNjYWxlLFxuICAgICAgICAgICAgICAgICh0aGlzLmNhbnZhcy53aWR0aCArIDIgKiB3aWR0aEV4dCkgKiBzY2FsZSxcbiAgICAgICAgICAgICAgICAodGhpcy5jYW52YXMuaGVpZ2h0ICsgMiAqIGhlaWdodEV4dCkgKiBzY2FsZSxcbiAgICAgICAgICAgICAgICAtd2lkdGhFeHQsXG4gICAgICAgICAgICAgICAgLWhlaWdodEV4dCxcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCArIDIgKiB3aWR0aEV4dCxcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgKyAyICogaGVpZ2h0RXh0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBkcmF3RGVidWdJbmZvOiBmdW5jdGlvbih0aWxlLCBjb3VudCwgaSwgdGlsZWRJbWFnZSkge1xuICAgICAgICBpZiAoICF0aGlzLnVzZUNhbnZhcyApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb2xvckluZGV4ID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SW5kZXhPZkl0ZW0odGlsZWRJbWFnZSkgJSB0aGlzLmRlYnVnR3JpZENvbG9yLmxlbmd0aDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDIgKiAkLnBpeGVsRGVuc2l0eVJhdGlvO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSAnc21hbGwtY2FwcyBib2xkICcgKyAoMTMgKiAkLnBpeGVsRGVuc2l0eVJhdGlvKSArICdweCBhcmlhbCc7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSB0aGlzLmRlYnVnR3JpZENvbG9yW2NvbG9ySW5kZXhdO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuZGVidWdHcmlkQ29sb3JbY29sb3JJbmRleF07XG5cbiAgICAgICAgaWYgKCB0aGlzLnZpZXdwb3J0LmRlZ3JlZXMgIT09IDAgKSB7XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXRGb3JSb3RhdGlvbih7ZGVncmVlczogdGhpcy52aWV3cG9ydC5kZWdyZWVzfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVkSW1hZ2UuZ2V0Um90YXRpb24odHJ1ZSkgJSAzNjAgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX29mZnNldEZvclJvdGF0aW9uKHtcbiAgICAgICAgICAgICAgICBkZWdyZWVzOiB0aWxlZEltYWdlLmdldFJvdGF0aW9uKHRydWUpLFxuICAgICAgICAgICAgICAgIHBvaW50OiB0aWxlZEltYWdlLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50Tm9Sb3RhdGUoXG4gICAgICAgICAgICAgICAgICAgIHRpbGVkSW1hZ2UuX2dldFJvdGF0aW9uUG9pbnQodHJ1ZSksIHRydWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdChcbiAgICAgICAgICAgIHRpbGUucG9zaXRpb24ueCAqICQucGl4ZWxEZW5zaXR5UmF0aW8sXG4gICAgICAgICAgICB0aWxlLnBvc2l0aW9uLnkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvLFxuICAgICAgICAgICAgdGlsZS5zaXplLnggKiAkLnBpeGVsRGVuc2l0eVJhdGlvLFxuICAgICAgICAgICAgdGlsZS5zaXplLnkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIHRpbGVDZW50ZXJYID0gKHRpbGUucG9zaXRpb24ueCArICh0aWxlLnNpemUueCAvIDIpKSAqICQucGl4ZWxEZW5zaXR5UmF0aW87XG4gICAgICAgIHZhciB0aWxlQ2VudGVyWSA9ICh0aWxlLnBvc2l0aW9uLnkgKyAodGlsZS5zaXplLnkgLyAyKSkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvO1xuXG4gICAgICAgIC8vIFJvdGF0ZSB0aGUgdGV4dCB0aGUgcmlnaHQgd2F5IGFyb3VuZC5cbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoIHRpbGVDZW50ZXJYLCB0aWxlQ2VudGVyWSApO1xuICAgICAgICBjb250ZXh0LnJvdGF0ZSggTWF0aC5QSSAvIDE4MCAqIC10aGlzLnZpZXdwb3J0LmRlZ3JlZXMgKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoIC10aWxlQ2VudGVyWCwgLXRpbGVDZW50ZXJZICk7XG5cbiAgICAgICAgaWYoIHRpbGUueCA9PT0gMCAmJiB0aWxlLnkgPT09IDAgKXtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgICAgICAgXCJab29tOiBcIiArIHRoaXMudmlld3BvcnQuZ2V0Wm9vbSgpLFxuICAgICAgICAgICAgICAgIHRpbGUucG9zaXRpb24ueCAqICQucGl4ZWxEZW5zaXR5UmF0aW8sXG4gICAgICAgICAgICAgICAgKHRpbGUucG9zaXRpb24ueSAtIDMwKSAqICQucGl4ZWxEZW5zaXR5UmF0aW9cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KFxuICAgICAgICAgICAgICAgIFwiUGFuOiBcIiArIHRoaXMudmlld3BvcnQuZ2V0Qm91bmRzKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB0aWxlLnBvc2l0aW9uLnggKiAkLnBpeGVsRGVuc2l0eVJhdGlvLFxuICAgICAgICAgICAgICAgICh0aWxlLnBvc2l0aW9uLnkgLSAyMCkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgICBcIkxldmVsOiBcIiArIHRpbGUubGV2ZWwsXG4gICAgICAgICAgICAodGlsZS5wb3NpdGlvbi54ICsgMTApICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgICh0aWxlLnBvc2l0aW9uLnkgKyAyMCkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgICBcIkNvbHVtbjogXCIgKyB0aWxlLngsXG4gICAgICAgICAgICAodGlsZS5wb3NpdGlvbi54ICsgMTApICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgICh0aWxlLnBvc2l0aW9uLnkgKyAzMCkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgICBcIlJvdzogXCIgKyB0aWxlLnksXG4gICAgICAgICAgICAodGlsZS5wb3NpdGlvbi54ICsgMTApICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgICh0aWxlLnBvc2l0aW9uLnkgKyA0MCkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoXG4gICAgICAgICAgICBcIk9yZGVyOiBcIiArIGkgKyBcIiBvZiBcIiArIGNvdW50LFxuICAgICAgICAgICAgKHRpbGUucG9zaXRpb24ueCArIDEwKSAqICQucGl4ZWxEZW5zaXR5UmF0aW8sXG4gICAgICAgICAgICAodGlsZS5wb3NpdGlvbi55ICsgNTApICogJC5waXhlbERlbnNpdHlSYXRpb1xuICAgICAgICApO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KFxuICAgICAgICAgICAgXCJTaXplOiBcIiArIHRpbGUuc2l6ZS50b1N0cmluZygpLFxuICAgICAgICAgICAgKHRpbGUucG9zaXRpb24ueCArIDEwKSAqICQucGl4ZWxEZW5zaXR5UmF0aW8sXG4gICAgICAgICAgICAodGlsZS5wb3NpdGlvbi55ICsgNjApICogJC5waXhlbERlbnNpdHlSYXRpb1xuICAgICAgICApO1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KFxuICAgICAgICAgICAgXCJQb3NpdGlvbjogXCIgKyB0aWxlLnBvc2l0aW9uLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAodGlsZS5wb3NpdGlvbi54ICsgMTApICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgICh0aWxlLnBvc2l0aW9uLnkgKyA3MCkgKiAkLnBpeGVsRGVuc2l0eVJhdGlvXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCB0aGlzLnZpZXdwb3J0LmRlZ3JlZXMgIT09IDAgKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXN0b3JlUm90YXRpb25DaGFuZ2VzKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbGVkSW1hZ2UuZ2V0Um90YXRpb24odHJ1ZSkgJSAzNjAgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3RvcmVSb3RhdGlvbkNoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIGRlYnVnUmVjdDogZnVuY3Rpb24ocmVjdCkge1xuICAgICAgICBpZiAoIHRoaXMudXNlQ2FudmFzICkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMiAqICQucGl4ZWxEZW5zaXR5UmF0aW87XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5kZWJ1Z0dyaWRDb2xvclswXTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5kZWJ1Z0dyaWRDb2xvclswXTtcblxuICAgICAgICAgICAgY29udGV4dC5zdHJva2VSZWN0KFxuICAgICAgICAgICAgICAgIHJlY3QueCAqICQucGl4ZWxEZW5zaXR5UmF0aW8sXG4gICAgICAgICAgICAgICAgcmVjdC55ICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgICAgICByZWN0LndpZHRoICogJC5waXhlbERlbnNpdHlSYXRpbyxcbiAgICAgICAgICAgICAgICByZWN0LmhlaWdodCAqICQucGl4ZWxEZW5zaXR5UmF0aW9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2FudmFzIHNpemVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHNrZXRjaCBJZiBzZXQgdG8gdHJ1ZSByZXR1cm4gdGhlIHNpemUgb2YgdGhlIHNrZXRjaCBjYW52YXNcbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH0gVGhlIHNpemUgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIGdldENhbnZhc1NpemU6IGZ1bmN0aW9uKHNrZXRjaCkge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5fZ2V0Q29udGV4dChza2V0Y2gpLmNhbnZhcztcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgfSxcblxuICAgIGdldENhbnZhc0NlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCh0aGlzLmNhbnZhcy53aWR0aCAvIDIsIHRoaXMuY2FudmFzLmhlaWdodCAvIDIpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX29mZnNldEZvclJvdGF0aW9uOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBwb2ludCA9IG9wdGlvbnMucG9pbnQgP1xuICAgICAgICAgICAgb3B0aW9ucy5wb2ludC50aW1lcygkLnBpeGVsRGVuc2l0eVJhdGlvKSA6XG4gICAgICAgICAgICB0aGlzLmdldENhbnZhc0NlbnRlcigpO1xuXG4gICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fZ2V0Q29udGV4dChvcHRpb25zLnVzZVNrZXRjaCk7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKHBvaW50LngsIHBvaW50LnkpO1xuICAgICAgICBjb250ZXh0LnJvdGF0ZShNYXRoLlBJIC8gMTgwICogb3B0aW9ucy5kZWdyZWVzKTtcbiAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLXBvaW50LngsIC1wb2ludC55KTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF9yZXN0b3JlUm90YXRpb25DaGFuZ2VzOiBmdW5jdGlvbih1c2VTa2V0Y2gpIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLl9nZXRDb250ZXh0KHVzZVNrZXRjaCk7XG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX2NhbGN1bGF0ZUNhbnZhc1NpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGl4ZWxEZW5zaXR5UmF0aW8gPSAkLnBpeGVsRGVuc2l0eVJhdGlvO1xuICAgICAgICB2YXIgdmlld3BvcnRTaXplID0gdGhpcy52aWV3cG9ydC5nZXRDb250YWluZXJTaXplKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB2aWV3cG9ydFNpemUueCAqIHBpeGVsRGVuc2l0eVJhdGlvLFxuICAgICAgICAgICAgeTogdmlld3BvcnRTaXplLnkgKiBwaXhlbERlbnNpdHlSYXRpb1xuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX2NhbGN1bGF0ZVNrZXRjaENhbnZhc1NpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FudmFzU2l6ZSA9IHRoaXMuX2NhbGN1bGF0ZUNhbnZhc1NpemUoKTtcbiAgICAgICAgaWYgKHRoaXMudmlld3BvcnQuZ2V0Um90YXRpb24oKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbnZhc1NpemU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIHZpZXdwb3J0IGlzIHJvdGF0ZWQsIHdlIG5lZWQgYSBsYXJnZXIgc2tldGNoIGNhbnZhcyBpbiBvcmRlclxuICAgICAgICAvLyB0byBzdXBwb3J0IGVkZ2Ugc21vb3RoaW5nLlxuICAgICAgICB2YXIgc2tldGNoQ2FudmFzU2l6ZSA9IE1hdGguY2VpbChNYXRoLnNxcnQoXG4gICAgICAgICAgICBjYW52YXNTaXplLnggKiBjYW52YXNTaXplLnggK1xuICAgICAgICAgICAgY2FudmFzU2l6ZS55ICogY2FudmFzU2l6ZS55KSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBza2V0Y2hDYW52YXNTaXplLFxuICAgICAgICAgICAgeTogc2tldGNoQ2FudmFzU2l6ZVxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gVmlld3BvcnRcbiAqXG4gKiBDb3B5cmlnaHQgKEMpIDIwMDkgQ29kZVBsZXggRm91bmRhdGlvblxuICogQ29weXJpZ2h0IChDKSAyMDEwLTIwMTMgT3BlblNlYWRyYWdvbiBjb250cmlidXRvcnNcbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbiAqIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbiAqIG1ldDpcbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbiAqICAgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiAtIE5laXRoZXIgdGhlIG5hbWUgb2YgQ29kZVBsZXggRm91bmRhdGlvbiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuICogICB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcbiAqIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUlxuICogQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRFxuICogVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRlxuICogTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJU1xuICogU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuKGZ1bmN0aW9uKCAkICl7XG5cblxuLyoqXG4gKiBAY2xhc3MgVmlld3BvcnRcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAY2xhc3NkZXNjIEhhbmRsZXMgY29vcmRpbmF0ZS1yZWxhdGVkIGZ1bmN0aW9uYWxpdHkgKHpvb20sIHBhbiwgcm90YXRpb24sIGV0Yy4pXG4gKiBmb3IgYW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyfS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhpcyBWaWV3cG9ydC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5tYXJnaW5zXSAtIFNlZSB2aWV3cG9ydE1hcmdpbnMgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc3ByaW5nU3RpZmZuZXNzXSAtIFNlZSBzcHJpbmdTdGlmZm5lc3MgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuYW5pbWF0aW9uVGltZV0gLSBTZWUgYW5pbWF0aW9uVGltZSBpbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5ab29tSW1hZ2VSYXRpb10gLSBTZWUgbWluWm9vbUltYWdlUmF0aW8gaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Wm9vbVBpeGVsUmF0aW9dIC0gU2VlIG1heFpvb21QaXhlbFJhdGlvIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpc2liaWxpdHlSYXRpb10gLSBTZWUgdmlzaWJpbGl0eVJhdGlvIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53cmFwSG9yaXpvbnRhbF0gLSBTZWUgd3JhcEhvcml6b250YWwgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLndyYXBWZXJ0aWNhbF0gLSBTZWUgd3JhcFZlcnRpY2FsIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmRlZmF1bHRab29tTGV2ZWxdIC0gU2VlIGRlZmF1bHRab29tTGV2ZWwgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWluWm9vbUxldmVsXSAtIFNlZSBtaW5ab29tTGV2ZWwgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4Wm9vbUxldmVsXSAtIFNlZSBtYXhab29tTGV2ZWwgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGVncmVlc10gLSBTZWUgZGVncmVlcyBpbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaG9tZUZpbGxzVmlld2VyXSAtIFNlZSBob21lRmlsbHNWaWV3ZXIgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKi9cbiQuVmlld3BvcnQgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuICAgIC8vYmFja3dhcmQgY29tcGF0aWJpbGl0eSBmb3IgcG9zaXRpb25hbCBhcmdzIHdoaWxlIHByZWZlcmluZyBtb3JlXG4gICAgLy9pZGlvbWF0aWMgamF2YXNjcmlwdCBvcHRpb25zIG9iamVjdCBhcyB0aGUgb25seSBhcmd1bWVudFxuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIGlmIChhcmdzLmxlbmd0aCAmJiBhcmdzWzBdIGluc3RhbmNlb2YgJC5Qb2ludCkge1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgY29udGFpbmVyU2l6ZTogIGFyZ3NbMF0sXG4gICAgICAgICAgICBjb250ZW50U2l6ZTogICAgYXJnc1sxXSxcbiAgICAgICAgICAgIGNvbmZpZzogICAgICAgICBhcmdzWzJdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy9vcHRpb25zLmNvbmZpZyBhbmQgdGhlIGdlbmVyYWwgY29uZmlnIGFyZ3VtZW50IGFyZSBkZXByZWNhdGVkXG4gICAgLy9pbiBmYXZvciBvZiB0aGUgbW9yZSBkaXJlY3Qgc3BlY2lmaWNhdGlvbiBvZiBvcHRpb25hbCBzZXR0aW5nc1xuICAgIC8vYmVpbmcgcGFzc2VkIGRpcmVjdGx5IG9uIHRoZSBvcHRpb25zIG9iamVjdFxuICAgIGlmICggb3B0aW9ucy5jb25maWcgKXtcbiAgICAgICAgJC5leHRlbmQoIHRydWUsIG9wdGlvbnMsIG9wdGlvbnMuY29uZmlnICk7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmNvbmZpZztcbiAgICB9XG5cbiAgICB0aGlzLl9tYXJnaW5zID0gJC5leHRlbmQoe1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDBcbiAgICB9LCBvcHRpb25zLm1hcmdpbnMgfHwge30pO1xuXG4gICAgZGVsZXRlIG9wdGlvbnMubWFyZ2lucztcblxuICAgICQuZXh0ZW5kKCB0cnVlLCB0aGlzLCB7XG5cbiAgICAgICAgLy9yZXF1aXJlZCBzZXR0aW5nc1xuICAgICAgICBjb250YWluZXJTaXplOiAgICAgIG51bGwsXG4gICAgICAgIGNvbnRlbnRTaXplOiAgICAgICAgbnVsbCxcblxuICAgICAgICAvL2ludGVybmFsIHN0YXRlIHByb3BlcnRpZXNcbiAgICAgICAgem9vbVBvaW50OiAgICAgICAgICBudWxsLFxuICAgICAgICB2aWV3ZXI6ICAgICAgICAgICBudWxsLFxuXG4gICAgICAgIC8vY29uZmlndXJhYmxlIG9wdGlvbnNcbiAgICAgICAgc3ByaW5nU3RpZmZuZXNzOiAgICAkLkRFRkFVTFRfU0VUVElOR1Muc3ByaW5nU3RpZmZuZXNzLFxuICAgICAgICBhbmltYXRpb25UaW1lOiAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5hbmltYXRpb25UaW1lLFxuICAgICAgICBtaW5ab29tSW1hZ2VSYXRpbzogICQuREVGQVVMVF9TRVRUSU5HUy5taW5ab29tSW1hZ2VSYXRpbyxcbiAgICAgICAgbWF4Wm9vbVBpeGVsUmF0aW86ICAkLkRFRkFVTFRfU0VUVElOR1MubWF4Wm9vbVBpeGVsUmF0aW8sXG4gICAgICAgIHZpc2liaWxpdHlSYXRpbzogICAgJC5ERUZBVUxUX1NFVFRJTkdTLnZpc2liaWxpdHlSYXRpbyxcbiAgICAgICAgd3JhcEhvcml6b250YWw6ICAgICAkLkRFRkFVTFRfU0VUVElOR1Mud3JhcEhvcml6b250YWwsXG4gICAgICAgIHdyYXBWZXJ0aWNhbDogICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLndyYXBWZXJ0aWNhbCxcbiAgICAgICAgZGVmYXVsdFpvb21MZXZlbDogICAkLkRFRkFVTFRfU0VUVElOR1MuZGVmYXVsdFpvb21MZXZlbCxcbiAgICAgICAgbWluWm9vbUxldmVsOiAgICAgICAkLkRFRkFVTFRfU0VUVElOR1MubWluWm9vbUxldmVsLFxuICAgICAgICBtYXhab29tTGV2ZWw6ICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5tYXhab29tTGV2ZWwsXG4gICAgICAgIGRlZ3JlZXM6ICAgICAgICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLmRlZ3JlZXMsXG4gICAgICAgIGhvbWVGaWxsc1ZpZXdlcjogICAgJC5ERUZBVUxUX1NFVFRJTkdTLmhvbWVGaWxsc1ZpZXdlclxuXG4gICAgfSwgb3B0aW9ucyApO1xuXG4gICAgdGhpcy5fdXBkYXRlQ29udGFpbmVySW5uZXJTaXplKCk7XG5cbiAgICB0aGlzLmNlbnRlclNwcmluZ1ggPSBuZXcgJC5TcHJpbmcoe1xuICAgICAgICBpbml0aWFsOiAwLFxuICAgICAgICBzcHJpbmdTdGlmZm5lc3M6IHRoaXMuc3ByaW5nU3RpZmZuZXNzLFxuICAgICAgICBhbmltYXRpb25UaW1lOiAgIHRoaXMuYW5pbWF0aW9uVGltZVxuICAgIH0pO1xuICAgIHRoaXMuY2VudGVyU3ByaW5nWSA9IG5ldyAkLlNwcmluZyh7XG4gICAgICAgIGluaXRpYWw6IDAsXG4gICAgICAgIHNwcmluZ1N0aWZmbmVzczogdGhpcy5zcHJpbmdTdGlmZm5lc3MsXG4gICAgICAgIGFuaW1hdGlvblRpbWU6ICAgdGhpcy5hbmltYXRpb25UaW1lXG4gICAgfSk7XG4gICAgdGhpcy56b29tU3ByaW5nICAgID0gbmV3ICQuU3ByaW5nKHtcbiAgICAgICAgZXhwb25lbnRpYWw6IHRydWUsXG4gICAgICAgIGluaXRpYWw6IDEsXG4gICAgICAgIHNwcmluZ1N0aWZmbmVzczogdGhpcy5zcHJpbmdTdGlmZm5lc3MsXG4gICAgICAgIGFuaW1hdGlvblRpbWU6ICAgdGhpcy5hbmltYXRpb25UaW1lXG4gICAgfSk7XG5cbiAgICB0aGlzLl9vbGRDZW50ZXJYID0gdGhpcy5jZW50ZXJTcHJpbmdYLmN1cnJlbnQudmFsdWU7XG4gICAgdGhpcy5fb2xkQ2VudGVyWSA9IHRoaXMuY2VudGVyU3ByaW5nWS5jdXJyZW50LnZhbHVlO1xuICAgIHRoaXMuX29sZFpvb20gICAgPSB0aGlzLnpvb21TcHJpbmcuY3VycmVudC52YWx1ZTtcblxuICAgIHRoaXMuX3NldENvbnRlbnRCb3VuZHMobmV3ICQuUmVjdCgwLCAwLCAxLCAxKSwgMSk7XG5cbiAgICB0aGlzLmdvSG9tZSh0cnVlKTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xufTtcblxuLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLlZpZXdwb3J0LnByb3RvdHlwZSAqL1xuJC5WaWV3cG9ydC5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmlld3BvcnQncyBob21lIGJvdW5kcyBhbmQgY29uc3RyYWludHMgZm9yIHRoZSBnaXZlbiBjb250ZW50IHNpemUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBjb250ZW50U2l6ZSAtIHNpemUgb2YgdGhlIGNvbnRlbnQgaW4gY29udGVudCB1bml0c1xuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6cmVzZXQtc2l6ZVxuICAgICAqL1xuICAgIHJlc2V0Q29udGVudFNpemU6IGZ1bmN0aW9uKGNvbnRlbnRTaXplKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoY29udGVudFNpemUsIFwiW1ZpZXdwb3J0LnJlc2V0Q29udGVudFNpemVdIGNvbnRlbnRTaXplIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KGNvbnRlbnRTaXplIGluc3RhbmNlb2YgJC5Qb2ludCwgXCJbVmlld3BvcnQucmVzZXRDb250ZW50U2l6ZV0gY29udGVudFNpemUgbXVzdCBiZSBhbiBPcGVuU2VhZHJhZ29uLlBvaW50XCIpO1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KGNvbnRlbnRTaXplLnggPiAwLCBcIltWaWV3cG9ydC5yZXNldENvbnRlbnRTaXplXSBjb250ZW50U2l6ZS54IG11c3QgYmUgZ3JlYXRlciB0aGFuIDBcIik7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoY29udGVudFNpemUueSA+IDAsIFwiW1ZpZXdwb3J0LnJlc2V0Q29udGVudFNpemVdIGNvbnRlbnRTaXplLnkgbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKTtcblxuICAgICAgICB0aGlzLl9zZXRDb250ZW50Qm91bmRzKG5ldyAkLlJlY3QoMCwgMCwgMSwgY29udGVudFNpemUueSAvIGNvbnRlbnRTaXplLngpLCBjb250ZW50U2l6ZS54KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBzZXRIb21lQm91bmRzOiBmdW5jdGlvbihib3VuZHMsIGNvbnRlbnRGYWN0b3IpIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKFwiW1ZpZXdwb3J0LnNldEhvbWVCb3VuZHNdIHRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZDsgVGhlIGNvbnRlbnQgYm91bmRzIHNob3VsZCBub3QgYmUgc2V0IG1hbnVhbGx5LlwiKTtcbiAgICAgICAgdGhpcy5fc2V0Q29udGVudEJvdW5kcyhib3VuZHMsIGNvbnRlbnRGYWN0b3IpO1xuICAgIH0sXG5cbiAgICAvLyBTZXQgdGhlIHZpZXdwb3J0J3MgY29udGVudCBib3VuZHNcbiAgICAvLyBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gYm91bmRzIC0gdGhlIG5ldyBib3VuZHMgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXNcbiAgICAvLyB3aXRob3V0IHJvdGF0aW9uXG4gICAgLy8gQHBhcmFtIHtOdW1iZXJ9IGNvbnRlbnRGYWN0b3IgLSBob3cgbWFueSBjb250ZW50IHVuaXRzIHBlciB2aWV3cG9ydCB1bml0XG4gICAgLy8gQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50OnJlc2V0LXNpemVcbiAgICAvLyBAcHJpdmF0ZVxuICAgIF9zZXRDb250ZW50Qm91bmRzOiBmdW5jdGlvbihib3VuZHMsIGNvbnRlbnRGYWN0b3IpIHtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydChib3VuZHMsIFwiW1ZpZXdwb3J0Ll9zZXRDb250ZW50Qm91bmRzXSBib3VuZHMgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoYm91bmRzIGluc3RhbmNlb2YgJC5SZWN0LCBcIltWaWV3cG9ydC5fc2V0Q29udGVudEJvdW5kc10gYm91bmRzIG11c3QgYmUgYW4gT3BlblNlYWRyYWdvbi5SZWN0XCIpO1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KGJvdW5kcy53aWR0aCA+IDAsIFwiW1ZpZXdwb3J0Ll9zZXRDb250ZW50Qm91bmRzXSBib3VuZHMud2lkdGggbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKTtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydChib3VuZHMuaGVpZ2h0ID4gMCwgXCJbVmlld3BvcnQuX3NldENvbnRlbnRCb3VuZHNdIGJvdW5kcy5oZWlnaHQgbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKTtcblxuICAgICAgICB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUgPSBib3VuZHMuY2xvbmUoKTtcbiAgICAgICAgdGhpcy5fY29udGVudFNpemVOb1JvdGF0ZSA9IHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZS5nZXRTaXplKCkudGltZXMoXG4gICAgICAgICAgICBjb250ZW50RmFjdG9yKTtcblxuICAgICAgICB0aGlzLl9jb250ZW50Qm91bmRzID0gYm91bmRzLnJvdGF0ZSh0aGlzLmRlZ3JlZXMpLmdldEJvdW5kaW5nQm94KCk7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRTaXplID0gdGhpcy5fY29udGVudEJvdW5kcy5nZXRTaXplKCkudGltZXMoY29udGVudEZhY3Rvcik7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRBc3BlY3RSYXRpbyA9IHRoaXMuX2NvbnRlbnRTaXplLnggLyB0aGlzLl9jb250ZW50U2l6ZS55O1xuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgdmlld2VyJ3MgY29udGVudCBzaXplIG9yIGhvbWUgYm91bmRzIGFyZSByZXNldFxuICAgICAgICAgICAgICogKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3cG9ydCNyZXNldENvbnRlbnRTaXplfSkuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IHJlc2V0LXNpemVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gY29udGVudFNpemVcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5SZWN0fSBjb250ZW50Qm91bmRzIC0gQ29udGVudCBib3VuZHMuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUmVjdH0gaG9tZUJvdW5kcyAtIENvbnRlbnQgYm91bmRzLlxuICAgICAgICAgICAgICogRGVwcmVjYXRlZCB1c2UgY29udGVudEJvdW5kcyBpbnN0ZWFkLlxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IGNvbnRlbnRGYWN0b3JcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIucmFpc2VFdmVudCgncmVzZXQtc2l6ZScsIHtcbiAgICAgICAgICAgICAgICBjb250ZW50U2l6ZTogdGhpcy5fY29udGVudFNpemVOb1JvdGF0ZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRGYWN0b3I6IGNvbnRlbnRGYWN0b3IsXG4gICAgICAgICAgICAgICAgaG9tZUJvdW5kczogdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgY29udGVudEJvdW5kczogdGhpcy5fY29udGVudEJvdW5kcy5jbG9uZSgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBob21lIHpvb20gaW4gXCJ2aWV3cG9ydCB6b29tXCIgdmFsdWUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIGhvbWUgem9vbSBpbiBcInZpZXdwb3J0IHpvb21cIi5cbiAgICAgKi9cbiAgICBnZXRIb21lWm9vbTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmRlZmF1bHRab29tTGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRab29tTGV2ZWw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXNwZWN0RmFjdG9yID0gdGhpcy5fY29udGVudEFzcGVjdFJhdGlvIC8gdGhpcy5nZXRBc3BlY3RSYXRpbygpO1xuICAgICAgICB2YXIgb3V0cHV0O1xuICAgICAgICBpZiAodGhpcy5ob21lRmlsbHNWaWV3ZXIpIHsgLy8gZmlsbCB0aGUgdmlld2VyIGFuZCBjbGlwIHRoZSBpbWFnZVxuICAgICAgICAgICAgb3V0cHV0ID0gYXNwZWN0RmFjdG9yID49IDEgPyBhc3BlY3RGYWN0b3IgOiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0cHV0ID0gYXNwZWN0RmFjdG9yID49IDEgPyAxIDogYXNwZWN0RmFjdG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dHB1dCAvIHRoaXMuX2NvbnRlbnRCb3VuZHMud2lkdGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhvbWUgYm91bmRzIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IFRoZSBob21lIGJvdW5kcyBpbiB2ZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIGdldEhvbWVCb3VuZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRIb21lQm91bmRzTm9Sb3RhdGUoKS5yb3RhdGUoLXRoaXMuZ2V0Um90YXRpb24oKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhvbWUgYm91bmRzIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIFRoaXMgbWV0aG9kIGlnbm9yZXMgdGhlIHZpZXdwb3J0IHJvdGF0aW9uLiBVc2VcbiAgICAgKiB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3cG9ydCNnZXRIb21lQm91bmRzfSB0byB0YWtlIGl0IGludG8gYWNjb3VudC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGUgaG9tZSBib3VuZHMgaW4gdmV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRIb21lQm91bmRzTm9Sb3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5fY29udGVudEJvdW5kcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgdmFyIHdpZHRoICA9IDEuMCAvIHRoaXMuZ2V0SG9tZVpvb20oKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoIC8gdGhpcy5nZXRBc3BlY3RSYXRpbygpO1xuXG4gICAgICAgIHJldHVybiBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgY2VudGVyLnggLSAod2lkdGggLyAyLjApLFxuICAgICAgICAgICAgY2VudGVyLnkgLSAoaGVpZ2h0IC8gMi4wKSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW1tZWRpYXRlbHlcbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6aG9tZVxuICAgICAqL1xuICAgIGdvSG9tZTogZnVuY3Rpb24oaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSBcImhvbWVcIiBvcGVyYXRpb24gb2NjdXJzIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld3BvcnQjZ29Ib21lfSkuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IGhvbWVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIucmFpc2VFdmVudCgnaG9tZScsIHtcbiAgICAgICAgICAgICAgICBpbW1lZGlhdGVseTogaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpdEJvdW5kcyh0aGlzLmdldEhvbWVCb3VuZHMoKSwgaW1tZWRpYXRlbHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBnZXRNaW5ab29tOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhvbWVab29tID0gdGhpcy5nZXRIb21lWm9vbSgpLFxuICAgICAgICAgICAgem9vbSA9IHRoaXMubWluWm9vbUxldmVsID9cbiAgICAgICAgICAgIHRoaXMubWluWm9vbUxldmVsIDpcbiAgICAgICAgICAgICAgICB0aGlzLm1pblpvb21JbWFnZVJhdGlvICogaG9tZVpvb207XG5cbiAgICAgICAgcmV0dXJuIHpvb207XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIGdldE1heFpvb206IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgem9vbSA9IHRoaXMubWF4Wm9vbUxldmVsO1xuICAgICAgICBpZiAoIXpvb20pIHtcbiAgICAgICAgICAgIHpvb20gPSB0aGlzLl9jb250ZW50U2l6ZS54ICogdGhpcy5tYXhab29tUGl4ZWxSYXRpbyAvIHRoaXMuX2NvbnRhaW5lcklubmVyU2l6ZS54O1xuICAgICAgICAgICAgem9vbSAvPSB0aGlzLl9jb250ZW50Qm91bmRzLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KCB6b29tLCB0aGlzLmdldEhvbWVab29tKCkgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICovXG4gICAgZ2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVySW5uZXJTaXplLnggLyB0aGlzLl9jb250YWluZXJJbm5lclNpemUueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9IFRoZSBzaXplIG9mIHRoZSBjb250YWluZXIsIGluIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRDb250YWluZXJTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgdGhpcy5jb250YWluZXJTaXplLngsXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclNpemUueVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFyZ2lucyBwdXNoIHRoZSBcImhvbWVcIiByZWdpb24gaW4gZnJvbSB0aGUgc2lkZXMgYnkgdGhlIHNwZWNpZmllZCBhbW91bnRzLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFByb3BlcnRpZXMgKE51bWJlcnMsIGluIHNjcmVlbiBjb29yZGluYXRlcyk6IGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbS5cbiAgICAgKi9cbiAgICBnZXRNYXJnaW5zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCB0aGlzLl9tYXJnaW5zKTsgLy8gTWFrZSBhIGNvcHkgc28gd2UgYXJlIG5vdCByZXR1cm5pbmcgb3VyIG9yaWdpbmFsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXJnaW5zIHB1c2ggdGhlIFwiaG9tZVwiIHJlZ2lvbiBpbiBmcm9tIHRoZSBzaWRlcyBieSB0aGUgc3BlY2lmaWVkIGFtb3VudHMuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmdpbnMgLSBQcm9wZXJ0aWVzIChOdW1iZXJzLCBpbiBzY3JlZW4gY29vcmRpbmF0ZXMpOiBsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20uXG4gICAgICovXG4gICAgc2V0TWFyZ2luczogZnVuY3Rpb24obWFyZ2lucykge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KCQudHlwZShtYXJnaW5zKSA9PT0gJ29iamVjdCcsICdbVmlld3BvcnQuc2V0TWFyZ2luc10gbWFyZ2lucyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuXG4gICAgICAgIHRoaXMuX21hcmdpbnMgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICBib3R0b206IDBcbiAgICAgICAgfSwgbWFyZ2lucyk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ29udGFpbmVySW5uZXJTaXplKCk7XG4gICAgICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuZm9yY2VSZWRyYXcoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIHZpc2libGUgYXJlYSBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGN1cnJlbnQgLSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uOyBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGUgbG9jYXRpb24geW91IGFyZSB6b29tZWQvcGFubmVkIHRvLCBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHM6IGZ1bmN0aW9uKGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmRzTm9Sb3RhdGUoY3VycmVudCkucm90YXRlKC10aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBib3VuZHMgb2YgdGhlIHZpc2libGUgYXJlYSBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpZ25vcmVzIHRoZSB2aWV3cG9ydCByb3RhdGlvbi4gVXNlXG4gICAgICoge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld3BvcnQjZ2V0Qm91bmRzfSB0byB0YWtlIGl0IGludG8gYWNjb3VudC5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGN1cnJlbnQgLSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uOyBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGUgbG9jYXRpb24geW91IGFyZSB6b29tZWQvcGFubmVkIHRvLCBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHNOb1JvdGF0ZTogZnVuY3Rpb24oY3VycmVudCkge1xuICAgICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoY3VycmVudCk7XG4gICAgICAgIHZhciB3aWR0aCAgPSAxLjAgLyB0aGlzLmdldFpvb20oY3VycmVudCk7XG4gICAgICAgIHZhciBoZWlnaHQgPSB3aWR0aCAvIHRoaXMuZ2V0QXNwZWN0UmF0aW8oKTtcblxuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIGNlbnRlci54IC0gKHdpZHRoIC8gMi4wKSxcbiAgICAgICAgICAgIGNlbnRlci55IC0gKGhlaWdodCAvIDIuMCksXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodFxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGN1cnJlbnQgLSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uOyBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGUgbG9jYXRpb24geW91IGFyZSB6b29tZWQvcGFubmVkIHRvLFxuICAgICAqIGluY2x1ZGluZyB0aGUgc3BhY2UgdGFrZW4gYnkgbWFyZ2lucywgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZ2V0Qm91bmRzV2l0aE1hcmdpbnM6IGZ1bmN0aW9uKGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Qm91bmRzTm9Sb3RhdGVXaXRoTWFyZ2lucyhjdXJyZW50KS5yb3RhdGUoXG4gICAgICAgICAgICAtdGhpcy5nZXRSb3RhdGlvbigpLCB0aGlzLmdldENlbnRlcihjdXJyZW50KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY3VycmVudCAtIFBhc3MgdHJ1ZSBmb3IgdGhlIGN1cnJlbnQgbG9jYXRpb247IGRlZmF1bHRzIHRvIGZhbHNlICh0YXJnZXQgbG9jYXRpb24pLlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IFRoZSBsb2NhdGlvbiB5b3UgYXJlIHpvb21lZC9wYW5uZWQgdG8sXG4gICAgICogaW5jbHVkaW5nIHRoZSBzcGFjZSB0YWtlbiBieSBtYXJnaW5zLCBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHNOb1JvdGF0ZVdpdGhNYXJnaW5zOiBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kc05vUm90YXRlKGN1cnJlbnQpO1xuICAgICAgICB2YXIgZmFjdG9yID0gdGhpcy5fY29udGFpbmVySW5uZXJTaXplLnggKiB0aGlzLmdldFpvb20oY3VycmVudCk7XG4gICAgICAgIGJvdW5kcy54IC09IHRoaXMuX21hcmdpbnMubGVmdCAvIGZhY3RvcjtcbiAgICAgICAgYm91bmRzLnkgLT0gdGhpcy5fbWFyZ2lucy50b3AgLyBmYWN0b3I7XG4gICAgICAgIGJvdW5kcy53aWR0aCArPSAodGhpcy5fbWFyZ2lucy5sZWZ0ICsgdGhpcy5fbWFyZ2lucy5yaWdodCkgLyBmYWN0b3I7XG4gICAgICAgIGJvdW5kcy5oZWlnaHQgKz0gKHRoaXMuX21hcmdpbnMudG9wICsgdGhpcy5fbWFyZ2lucy5ib3R0b20pIC8gZmFjdG9yO1xuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGN1cnJlbnQgLSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uOyBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKi9cbiAgICBnZXRDZW50ZXI6IGZ1bmN0aW9uKCBjdXJyZW50ICkge1xuICAgICAgICB2YXIgY2VudGVyQ3VycmVudCA9IG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyU3ByaW5nWC5jdXJyZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyU3ByaW5nWS5jdXJyZW50LnZhbHVlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2VudGVyVGFyZ2V0ID0gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICAgICAgdGhpcy5jZW50ZXJTcHJpbmdYLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICB0aGlzLmNlbnRlclNwcmluZ1kudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgb2xkWm9vbVBpeGVsLFxuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgYm91bmRzLFxuICAgICAgICAgICAgbmV3Wm9vbVBpeGVsLFxuICAgICAgICAgICAgZGVsdGFab29tUGl4ZWxzLFxuICAgICAgICAgICAgZGVsdGFab29tUG9pbnRzO1xuXG4gICAgICAgIGlmICggY3VycmVudCApIHtcbiAgICAgICAgICAgIHJldHVybiBjZW50ZXJDdXJyZW50O1xuICAgICAgICB9IGVsc2UgaWYgKCAhdGhpcy56b29tUG9pbnQgKSB7XG4gICAgICAgICAgICByZXR1cm4gY2VudGVyVGFyZ2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgb2xkWm9vbVBpeGVsID0gdGhpcy5waXhlbEZyb21Qb2ludCh0aGlzLnpvb21Qb2ludCwgdHJ1ZSk7XG5cbiAgICAgICAgem9vbSAgICA9IHRoaXMuZ2V0Wm9vbSgpO1xuICAgICAgICB3aWR0aCAgID0gMS4wIC8gem9vbTtcbiAgICAgICAgaGVpZ2h0ICA9IHdpZHRoIC8gdGhpcy5nZXRBc3BlY3RSYXRpbygpO1xuICAgICAgICBib3VuZHMgID0gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIGNlbnRlckN1cnJlbnQueCAtIHdpZHRoIC8gMi4wLFxuICAgICAgICAgICAgY2VudGVyQ3VycmVudC55IC0gaGVpZ2h0IC8gMi4wLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHRcbiAgICAgICAgKTtcblxuICAgICAgICBuZXdab29tUGl4ZWwgPSB0aGlzLl9waXhlbEZyb21Qb2ludCh0aGlzLnpvb21Qb2ludCwgYm91bmRzKTtcbiAgICAgICAgZGVsdGFab29tUGl4ZWxzID0gbmV3Wm9vbVBpeGVsLm1pbnVzKCBvbGRab29tUGl4ZWwgKTtcbiAgICAgICAgZGVsdGFab29tUG9pbnRzID0gZGVsdGFab29tUGl4ZWxzLmRpdmlkZSggdGhpcy5fY29udGFpbmVySW5uZXJTaXplLnggKiB6b29tICk7XG5cbiAgICAgICAgcmV0dXJuIGNlbnRlclRhcmdldC5wbHVzKCBkZWx0YVpvb21Qb2ludHMgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBjdXJyZW50IC0gUGFzcyB0cnVlIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbjsgZGVmYXVsdHMgdG8gZmFsc2UgKHRhcmdldCBsb2NhdGlvbikuXG4gICAgICovXG4gICAgZ2V0Wm9vbTogZnVuY3Rpb24oIGN1cnJlbnQgKSB7XG4gICAgICAgIGlmICggY3VycmVudCApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnpvb21TcHJpbmcuY3VycmVudC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnpvb21TcHJpbmcudGFyZ2V0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfYXBwbHlab29tQ29uc3RyYWludHM6IGZ1bmN0aW9uKHpvb20pIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KFxuICAgICAgICAgICAgTWF0aC5taW4oem9vbSwgdGhpcy5nZXRNYXhab29tKCkpLFxuICAgICAgICAgICAgdGhpcy5nZXRNaW5ab29tKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5SZWN0fSBib3VuZHNcbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlJlY3R9IGNvbnN0cmFpbmVkIGJvdW5kcy5cbiAgICAgKi9cbiAgICBfYXBwbHlCb3VuZGFyeUNvbnN0cmFpbnRzOiBmdW5jdGlvbihib3VuZHMpIHtcbiAgICAgICAgdmFyIG5ld0JvdW5kcyA9IG5ldyAkLlJlY3QoXG4gICAgICAgICAgICAgICAgYm91bmRzLngsXG4gICAgICAgICAgICAgICAgYm91bmRzLnksXG4gICAgICAgICAgICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgICAgICAgICAgIGJvdW5kcy5oZWlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLndyYXBIb3Jpem9udGFsKSB7XG4gICAgICAgICAgICAvL2RvIG5vdGhpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBob3Jpem9udGFsVGhyZXNob2xkID0gdGhpcy52aXNpYmlsaXR5UmF0aW8gKiBuZXdCb3VuZHMud2lkdGg7XG4gICAgICAgICAgICB2YXIgYm91bmRzUmlnaHQgPSBuZXdCb3VuZHMueCArIG5ld0JvdW5kcy53aWR0aDtcbiAgICAgICAgICAgIHZhciBjb250ZW50UmlnaHQgPSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUueCArIHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZS53aWR0aDtcbiAgICAgICAgICAgIHZhciBsZWZ0RHggPSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUueCAtIGJvdW5kc1JpZ2h0ICsgaG9yaXpvbnRhbFRocmVzaG9sZDtcbiAgICAgICAgICAgIHZhciByaWdodER4ID0gY29udGVudFJpZ2h0IC0gbmV3Qm91bmRzLnggLSBob3Jpem9udGFsVGhyZXNob2xkO1xuXG4gICAgICAgICAgICBpZiAoaG9yaXpvbnRhbFRocmVzaG9sZCA+IHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZS53aWR0aCkge1xuICAgICAgICAgICAgICAgIG5ld0JvdW5kcy54ICs9IChsZWZ0RHggKyByaWdodER4KSAvIDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0RHggPCAwKSB7XG4gICAgICAgICAgICAgICAgbmV3Qm91bmRzLnggKz0gcmlnaHREeDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGVmdER4ID4gMCkge1xuICAgICAgICAgICAgICAgIG5ld0JvdW5kcy54ICs9IGxlZnREeDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLndyYXBWZXJ0aWNhbCkge1xuICAgICAgICAgICAgLy9kbyBub3RoaW5nXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmVydGljYWxUaHJlc2hvbGQgICA9IHRoaXMudmlzaWJpbGl0eVJhdGlvICogbmV3Qm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgIHZhciBib3VuZHNCb3R0b20gPSBuZXdCb3VuZHMueSArIG5ld0JvdW5kcy5oZWlnaHQ7XG4gICAgICAgICAgICB2YXIgY29udGVudEJvdHRvbSA9IHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZS55ICsgdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlLmhlaWdodDtcbiAgICAgICAgICAgIHZhciB0b3BEeSA9IHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZS55IC0gYm91bmRzQm90dG9tICsgdmVydGljYWxUaHJlc2hvbGQ7XG4gICAgICAgICAgICB2YXIgYm90dG9tRHkgPSBjb250ZW50Qm90dG9tIC0gbmV3Qm91bmRzLnkgLSB2ZXJ0aWNhbFRocmVzaG9sZDtcblxuICAgICAgICAgICAgaWYgKHZlcnRpY2FsVGhyZXNob2xkID4gdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlLmhlaWdodCkge1xuICAgICAgICAgICAgICAgIG5ld0JvdW5kcy55ICs9ICh0b3BEeSArIGJvdHRvbUR5KSAvIDI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdHRvbUR5IDwgMCkge1xuICAgICAgICAgICAgICAgIG5ld0JvdW5kcy55ICs9IGJvdHRvbUR5O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0b3BEeSA+IDApIHtcbiAgICAgICAgICAgICAgICBuZXdCb3VuZHMueSArPSB0b3BEeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdCb3VuZHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaW1tZWRpYXRlbHk9ZmFsc2VdIC0gd2hldGhlciB0aGUgZnVuY3Rpb24gdGhhdCB0cmlnZ2VyZWQgdGhpcyBldmVudCB3YXNcbiAgICAgKiBjYWxsZWQgd2l0aCB0aGUgXCJpbW1lZGlhdGVseVwiIGZsYWdcbiAgICAgKi9cbiAgICBfcmFpc2VDb25zdHJhaW50c0V2ZW50OiBmdW5jdGlvbihpbW1lZGlhdGVseSkge1xuICAgICAgICBpZiAodGhpcy52aWV3ZXIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIHZpZXdwb3J0IGNvbnN0cmFpbnRzIGFyZSBhcHBsaWVkIChzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld3BvcnQjYXBwbHlDb25zdHJhaW50c30pLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCBjb25zdHJhaW5cbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW1tZWRpYXRlbHkgLSB3aGV0aGVyIHRoZSBmdW5jdGlvbiB0aGF0IHRyaWdnZXJlZCB0aGlzIGV2ZW50IHdhc1xuICAgICAgICAgICAgICogY2FsbGVkIHdpdGggdGhlIFwiaW1tZWRpYXRlbHlcIiBmbGFnXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMudmlld2VyLnJhaXNlRXZlbnQoICdjb25zdHJhaW4nLCB7XG4gICAgICAgICAgICAgICAgaW1tZWRpYXRlbHk6IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbmZvcmNlcyB0aGUgbWluWm9vbSwgbWF4Wm9vbSBhbmQgdmlzaWJpbGl0eVJhdGlvIGNvbnN0cmFpbnRzIGJ5XG4gICAgICogem9vbWluZyBhbmQgcGFubmluZyB0byB0aGUgY2xvc2VzdCBhY2NlcHRhYmxlIHpvb20gYW5kIGxvY2F0aW9uLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXVxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6Y29uc3RyYWluXG4gICAgICovXG4gICAgYXBwbHlDb25zdHJhaW50czogZnVuY3Rpb24oaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgdmFyIGFjdHVhbFpvb20gPSB0aGlzLmdldFpvb20oKTtcbiAgICAgICAgdmFyIGNvbnN0cmFpbmVkWm9vbSA9IHRoaXMuX2FwcGx5Wm9vbUNvbnN0cmFpbnRzKGFjdHVhbFpvb20pO1xuXG4gICAgICAgIGlmIChhY3R1YWxab29tICE9PSBjb25zdHJhaW5lZFpvb20pIHtcbiAgICAgICAgICAgIHRoaXMuem9vbVRvKGNvbnN0cmFpbmVkWm9vbSwgdGhpcy56b29tUG9pbnQsIGltbWVkaWF0ZWx5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kc05vUm90YXRlKCk7XG4gICAgICAgIHZhciBjb25zdHJhaW5lZEJvdW5kcyA9IHRoaXMuX2FwcGx5Qm91bmRhcnlDb25zdHJhaW50cyhib3VuZHMpO1xuICAgICAgICB0aGlzLl9yYWlzZUNvbnN0cmFpbnRzRXZlbnQoaW1tZWRpYXRlbHkpO1xuXG4gICAgICAgIGlmIChib3VuZHMueCAhPT0gY29uc3RyYWluZWRCb3VuZHMueCB8fFxuICAgICAgICAgICAgYm91bmRzLnkgIT09IGNvbnN0cmFpbmVkQm91bmRzLnkgfHxcbiAgICAgICAgICAgIGltbWVkaWF0ZWx5KSB7XG4gICAgICAgICAgICB0aGlzLmZpdEJvdW5kcyhcbiAgICAgICAgICAgICAgICBjb25zdHJhaW5lZEJvdW5kcy5yb3RhdGUoLXRoaXMuZ2V0Um90YXRpb24oKSksXG4gICAgICAgICAgICAgICAgaW1tZWRpYXRlbHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdwb3J0I2FwcGx5Q29uc3RyYWludHN9XG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaW1tZWRpYXRlbHk9ZmFsc2VdXG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5WaWV3cG9ydH0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpjb25zdHJhaW5cbiAgICAgKi9cbiAgICBlbnN1cmVWaXNpYmxlOiBmdW5jdGlvbihpbW1lZGlhdGVseSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUNvbnN0cmFpbnRzKGltbWVkaWF0ZWx5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gYm91bmRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgKGltbWVkaWF0ZWx5PWZhbHNlLCBjb25zdHJhaW50cz1mYWxzZSlcbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdwb3J0fSBDaGFpbmFibGUuXG4gICAgICovXG4gICAgX2ZpdEJvdW5kczogZnVuY3Rpb24oYm91bmRzLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgaW1tZWRpYXRlbHkgPSBvcHRpb25zLmltbWVkaWF0ZWx5IHx8IGZhbHNlO1xuICAgICAgICB2YXIgY29uc3RyYWludHMgPSBvcHRpb25zLmNvbnN0cmFpbnRzIHx8IGZhbHNlO1xuXG4gICAgICAgIHZhciBhc3BlY3QgPSB0aGlzLmdldEFzcGVjdFJhdGlvKCk7XG4gICAgICAgIHZhciBjZW50ZXIgPSBib3VuZHMuZ2V0Q2VudGVyKCk7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGJvdW5kaW5nIGJveC5cbiAgICAgICAgdmFyIG5ld0JvdW5kcyA9IG5ldyAkLlJlY3QoXG4gICAgICAgICAgICBib3VuZHMueCxcbiAgICAgICAgICAgIGJvdW5kcy55LFxuICAgICAgICAgICAgYm91bmRzLndpZHRoLFxuICAgICAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgICAgIGJvdW5kcy5kZWdyZWVzICsgdGhpcy5nZXRSb3RhdGlvbigpKVxuICAgICAgICAgICAgLmdldEJvdW5kaW5nQm94KCk7XG5cbiAgICAgICAgaWYgKG5ld0JvdW5kcy5nZXRBc3BlY3RSYXRpbygpID49IGFzcGVjdCkge1xuICAgICAgICAgICAgbmV3Qm91bmRzLmhlaWdodCA9IG5ld0JvdW5kcy53aWR0aCAvIGFzcGVjdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0JvdW5kcy53aWR0aCA9IG5ld0JvdW5kcy5oZWlnaHQgKiBhc3BlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wdXRlIHggYW5kIHkgZnJvbSB3aWR0aCwgaGVpZ2h0IGFuZCBjZW50ZXIgcG9zaXRpb25cbiAgICAgICAgbmV3Qm91bmRzLnggPSBjZW50ZXIueCAtIG5ld0JvdW5kcy53aWR0aCAvIDI7XG4gICAgICAgIG5ld0JvdW5kcy55ID0gY2VudGVyLnkgLSBuZXdCb3VuZHMuaGVpZ2h0IC8gMjtcbiAgICAgICAgdmFyIG5ld1pvb20gPSAxLjAgLyBuZXdCb3VuZHMud2lkdGg7XG5cbiAgICAgICAgaWYgKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgICAgICB2YXIgbmV3Qm91bmRzQXNwZWN0UmF0aW8gPSBuZXdCb3VuZHMuZ2V0QXNwZWN0UmF0aW8oKTtcbiAgICAgICAgICAgIHZhciBuZXdDb25zdHJhaW5lZFpvb20gPSB0aGlzLl9hcHBseVpvb21Db25zdHJhaW50cyhuZXdab29tKTtcblxuICAgICAgICAgICAgaWYgKG5ld1pvb20gIT09IG5ld0NvbnN0cmFpbmVkWm9vbSkge1xuICAgICAgICAgICAgICAgIG5ld1pvb20gPSBuZXdDb25zdHJhaW5lZFpvb207XG4gICAgICAgICAgICAgICAgbmV3Qm91bmRzLndpZHRoID0gMS4wIC8gbmV3Wm9vbTtcbiAgICAgICAgICAgICAgICBuZXdCb3VuZHMueCA9IGNlbnRlci54IC0gbmV3Qm91bmRzLndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBuZXdCb3VuZHMuaGVpZ2h0ID0gbmV3Qm91bmRzLndpZHRoIC8gbmV3Qm91bmRzQXNwZWN0UmF0aW87XG4gICAgICAgICAgICAgICAgbmV3Qm91bmRzLnkgPSBjZW50ZXIueSAtIG5ld0JvdW5kcy5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdCb3VuZHMgPSB0aGlzLl9hcHBseUJvdW5kYXJ5Q29uc3RyYWludHMobmV3Qm91bmRzKTtcbiAgICAgICAgICAgIGNlbnRlciA9IG5ld0JvdW5kcy5nZXRDZW50ZXIoKTtcbiAgICAgICAgICAgIHRoaXMuX3JhaXNlQ29uc3RyYWludHNFdmVudChpbW1lZGlhdGVseSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgICAgIHRoaXMucGFuVG8oY2VudGVyLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnpvb21UbyhuZXdab29tLCBudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFuVG8odGhpcy5nZXRDZW50ZXIodHJ1ZSksIHRydWUpO1xuICAgICAgICB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20odHJ1ZSksIG51bGwsIHRydWUpO1xuXG4gICAgICAgIHZhciBvbGRCb3VuZHMgPSB0aGlzLmdldEJvdW5kcygpO1xuICAgICAgICB2YXIgb2xkWm9vbSAgID0gdGhpcy5nZXRab29tKCk7XG5cbiAgICAgICAgaWYgKG9sZFpvb20gPT09IDAgfHwgTWF0aC5hYnMobmV3Wm9vbSAvIG9sZFpvb20gLSAxKSA8IDAuMDAwMDAwMDEpIHtcbiAgICAgICAgICAgIHRoaXMuem9vbVRvKG5ld1pvb20sIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFuVG8oY2VudGVyLCBpbW1lZGlhdGVseSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdCb3VuZHMgPSBuZXdCb3VuZHMucm90YXRlKC10aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgICAgICB2YXIgcmVmZXJlbmNlUG9pbnQgPSBuZXdCb3VuZHMuZ2V0VG9wTGVmdCgpLnRpbWVzKG5ld1pvb20pXG4gICAgICAgICAgICAubWludXMob2xkQm91bmRzLmdldFRvcExlZnQoKS50aW1lcyhvbGRab29tKSlcbiAgICAgICAgICAgIC5kaXZpZGUobmV3Wm9vbSAtIG9sZFpvb20pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnpvb21UbyhuZXdab29tLCByZWZlcmVuY2VQb2ludCwgaW1tZWRpYXRlbHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYWtlcyB0aGUgdmlld3BvcnQgem9vbSBhbmQgcGFuIHNvIHRoYXQgdGhlIHNwZWNpZmllZCBib3VuZHMgdGFrZVxuICAgICAqIGFzIG11Y2ggc3BhY2UgYXMgcG9zc2libGUgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqIE5vdGU6IHRoaXMgbWV0aG9kIGlnbm9yZXMgdGhlIGNvbnN0cmFpbnRzIChtaW5ab29tLCBtYXhab29tIGFuZFxuICAgICAqIHZpc2liaWxpdHlSYXRpbykuXG4gICAgICogVXNlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdwb3J0I2ZpdEJvdW5kc1dpdGhDb25zdHJhaW50c30gdG8gZW5mb3JjZVxuICAgICAqIHRoZW0uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlJlY3R9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXVxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKi9cbiAgICBmaXRCb3VuZHM6IGZ1bmN0aW9uKGJvdW5kcywgaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpdEJvdW5kcyhib3VuZHMsIHtcbiAgICAgICAgICAgIGltbWVkaWF0ZWx5OiBpbW1lZGlhdGVseSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgdGhlIHZpZXdwb3J0IHpvb20gYW5kIHBhbiBzbyB0aGF0IHRoZSBzcGVjaWZpZWQgYm91bmRzIHRha2VcbiAgICAgKiBhcyBtdWNoIHNwYWNlIGFzIHBvc3NpYmxlIGluIHRoZSB2aWV3cG9ydCB3aGlsZSBlbmZvcmNpbmcgdGhlIGNvbnN0cmFpbnRzXG4gICAgICogKG1pblpvb20sIG1heFpvb20gYW5kIHZpc2liaWxpdHlSYXRpbykuXG4gICAgICogTm90ZTogYmVjYXVzZSB0aGlzIG1ldGhvZCBlbmZvcmNlcyB0aGUgY29uc3RyYWludHMsIHBhcnQgb2YgdGhlXG4gICAgICogcHJvdmlkZWQgYm91bmRzIG1heSBlbmQgdXAgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQuXG4gICAgICogVXNlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdwb3J0I2ZpdEJvdW5kc30gdG8gaWdub3JlIHRoZW0uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlJlY3R9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXVxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKi9cbiAgICBmaXRCb3VuZHNXaXRoQ29uc3RyYWludHM6IGZ1bmN0aW9uKGJvdW5kcywgaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpdEJvdW5kcyhib3VuZHMsIHtcbiAgICAgICAgICAgIGltbWVkaWF0ZWx5OiBpbW1lZGlhdGVseSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBab29tcyBzbyB0aGUgaW1hZ2UganVzdCBmaWxscyB0aGUgdmlld2VyIHZlcnRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpbW1lZGlhdGVseVxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKi9cbiAgICBmaXRWZXJ0aWNhbGx5OiBmdW5jdGlvbihpbW1lZGlhdGVseSkge1xuICAgICAgICB2YXIgYm94ID0gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRCb3VuZHMueCArICh0aGlzLl9jb250ZW50Qm91bmRzLndpZHRoIC8gMiksXG4gICAgICAgICAgICB0aGlzLl9jb250ZW50Qm91bmRzLnksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdGhpcy5fY29udGVudEJvdW5kcy5oZWlnaHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5maXRCb3VuZHMoYm94LCBpbW1lZGlhdGVseSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFpvb21zIHNvIHRoZSBpbWFnZSBqdXN0IGZpbGxzIHRoZSB2aWV3ZXIgaG9yaXpvbnRhbGx5LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW1tZWRpYXRlbHlcbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdwb3J0fSBDaGFpbmFibGUuXG4gICAgICovXG4gICAgZml0SG9yaXpvbnRhbGx5OiBmdW5jdGlvbihpbW1lZGlhdGVseSkge1xuICAgICAgICB2YXIgYm94ID0gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRCb3VuZHMueCxcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRCb3VuZHMueSArICh0aGlzLl9jb250ZW50Qm91bmRzLmhlaWdodCAvIDIpLFxuICAgICAgICAgICAgdGhpcy5fY29udGVudEJvdW5kcy53aWR0aCxcbiAgICAgICAgICAgIDApO1xuICAgICAgICByZXR1cm4gdGhpcy5maXRCb3VuZHMoYm94LCBpbW1lZGlhdGVseSk7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBib3VuZHMgdGFraW5nIGNvbnN0cmFpbnRzIGludG8gYWNjb3VudFxuICAgICAqIEFkZGVkIHRvIGltcHJvdmUgY29uc3RyYWluZWQgcGFubmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY3VycmVudCAtIFBhc3MgdHJ1ZSBmb3IgdGhlIGN1cnJlbnQgbG9jYXRpb247IGRlZmF1bHRzIHRvIGZhbHNlICh0YXJnZXQgbG9jYXRpb24pLlxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKi9cbiAgICBnZXRDb25zdHJhaW5lZEJvdW5kczogZnVuY3Rpb24oY3VycmVudCkge1xuICAgICAgICB2YXIgYm91bmRzLFxuICAgICAgICAgICAgY29uc3RyYWluZWRCb3VuZHM7XG5cbiAgICAgICAgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoY3VycmVudCk7XG5cbiAgICAgICAgY29uc3RyYWluZWRCb3VuZHMgPSB0aGlzLl9hcHBseUJvdW5kYXJ5Q29uc3RyYWludHMoYm91bmRzKTtcblxuICAgICAgICByZXR1cm4gY29uc3RyYWluZWRCb3VuZHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZGVsdGFcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGltbWVkaWF0ZWx5XG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5WaWV3cG9ydH0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDpwYW5cbiAgICAgKi9cbiAgICBwYW5CeTogZnVuY3Rpb24oIGRlbHRhLCBpbW1lZGlhdGVseSApIHtcbiAgICAgICAgdmFyIGNlbnRlciA9IG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgdGhpcy5jZW50ZXJTcHJpbmdYLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgIHRoaXMuY2VudGVyU3ByaW5nWS50YXJnZXQudmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuVG8oIGNlbnRlci5wbHVzKCBkZWx0YSApLCBpbW1lZGlhdGVseSApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGNlbnRlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW1tZWRpYXRlbHlcbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdwb3J0fSBDaGFpbmFibGUuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50OnBhblxuICAgICAqL1xuICAgIHBhblRvOiBmdW5jdGlvbiggY2VudGVyLCBpbW1lZGlhdGVseSApIHtcbiAgICAgICAgaWYgKCBpbW1lZGlhdGVseSApIHtcbiAgICAgICAgICAgIHRoaXMuY2VudGVyU3ByaW5nWC5yZXNldFRvKCBjZW50ZXIueCApO1xuICAgICAgICAgICAgdGhpcy5jZW50ZXJTcHJpbmdZLnJlc2V0VG8oIGNlbnRlci55ICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNlbnRlclNwcmluZ1guc3ByaW5nVG8oIGNlbnRlci54ICk7XG4gICAgICAgICAgICB0aGlzLmNlbnRlclNwcmluZ1kuc3ByaW5nVG8oIGNlbnRlci55ICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiggdGhpcy52aWV3ZXIgKXtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIHZpZXdwb3J0IGlzIHBhbm5lZCAoc2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdwb3J0I3BhbkJ5fSBhbmQge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld3BvcnQjcGFuVG99KS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXZlbnQgcGFuXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVmlld2VyfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBWaWV3ZXIgd2hpY2ggcmFpc2VkIHRoaXMgZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uUG9pbnR9IGNlbnRlclxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5yYWlzZUV2ZW50KCAncGFuJywge1xuICAgICAgICAgICAgICAgIGNlbnRlcjogY2VudGVyLFxuICAgICAgICAgICAgICAgIGltbWVkaWF0ZWx5OiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5WaWV3cG9ydH0gQ2hhaW5hYmxlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlZpZXdlci5ldmVudDp6b29tXG4gICAgICovXG4gICAgem9vbUJ5OiBmdW5jdGlvbihmYWN0b3IsIHJlZlBvaW50LCBpbW1lZGlhdGVseSkge1xuICAgICAgICByZXR1cm4gdGhpcy56b29tVG8oXG4gICAgICAgICAgICB0aGlzLnpvb21TcHJpbmcudGFyZ2V0LnZhbHVlICogZmFjdG9yLCByZWZQb2ludCwgaW1tZWRpYXRlbHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBab29tcyB0byB0aGUgc3BlY2lmaWVkIHpvb20gbGV2ZWxcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gem9vbSBUaGUgem9vbSBsZXZlbCB0byB6b29tIHRvLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gW3JlZlBvaW50XSBUaGUgcG9pbnQgd2hpY2ggd2lsbCBzdGF5IGF0XG4gICAgICogdGhlIHNhbWUgc2NyZWVuIGxvY2F0aW9uLiBEZWZhdWx0cyB0byB0aGUgdmlld3BvcnQgY2VudGVyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXVxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5WaWV3ZXIuZXZlbnQ6em9vbVxuICAgICAqL1xuICAgIHpvb21UbzogZnVuY3Rpb24oem9vbSwgcmVmUG9pbnQsIGltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy56b29tUG9pbnQgPSByZWZQb2ludCBpbnN0YW5jZW9mICQuUG9pbnQgJiZcbiAgICAgICAgICAgICFpc05hTihyZWZQb2ludC54KSAmJlxuICAgICAgICAgICAgIWlzTmFOKHJlZlBvaW50LnkpID9cbiAgICAgICAgICAgIHJlZlBvaW50IDpcbiAgICAgICAgICAgIG51bGw7XG5cbiAgICAgICAgaWYgKGltbWVkaWF0ZWx5KSB7XG4gICAgICAgICAgICB0aGlzLl9hZGp1c3RDZW50ZXJTcHJpbmdzRm9yWm9vbVBvaW50KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnpvb21TcHJpbmcucmVzZXRUbyh6b29tKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy56b29tU3ByaW5nLnNwcmluZ1RvKHpvb20pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSB2aWV3cG9ydCB6b29tIGxldmVsIGNoYW5nZXMgKHNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3cG9ydCN6b29tQnl9IGFuZCB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3cG9ydCN6b29tVG99KS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXZlbnQgem9vbVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGlzIGV2ZW50LlxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHpvb21cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcmVmUG9pbnRcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7Qm9vbGVhbn0gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIucmFpc2VFdmVudCgnem9vbScsIHtcbiAgICAgICAgICAgICAgICB6b29tOiB6b29tLFxuICAgICAgICAgICAgICAgIHJlZlBvaW50OiByZWZQb2ludCxcbiAgICAgICAgICAgICAgICBpbW1lZGlhdGVseTogaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhpcyB2aWV3cG9ydCB0byB0aGUgYW5nbGUgc3BlY2lmaWVkLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uVmlld3BvcnR9IENoYWluYWJsZS5cbiAgICAgKi9cbiAgICBzZXRSb3RhdGlvbjogZnVuY3Rpb24oZGVncmVlcykge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyIHx8ICF0aGlzLnZpZXdlci5kcmF3ZXIuY2FuUm90YXRlKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWdyZWVzID0gJC5wb3NpdGl2ZU1vZHVsbyhkZWdyZWVzLCAzNjApO1xuICAgICAgICB0aGlzLl9zZXRDb250ZW50Qm91bmRzKFxuICAgICAgICAgICAgdGhpcy52aWV3ZXIud29ybGQuZ2V0SG9tZUJvdW5kcygpLFxuICAgICAgICAgICAgdGhpcy52aWV3ZXIud29ybGQuZ2V0Q29udGVudEZhY3RvcigpKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuZm9yY2VSZWRyYXcoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gcm90YXRpb24gaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IHJvdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBkZWdyZWVzIC0gVGhlIG51bWJlciBvZiBkZWdyZWVzIHRoZSByb3RhdGlvbiB3YXMgc2V0IHRvLlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpZXdlci5yYWlzZUV2ZW50KCdyb3RhdGUnLCB7XCJkZWdyZWVzXCI6IGRlZ3JlZXN9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgcm90YXRpb24gaW4gZGVncmVlcy5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjdXJyZW50IHJvdGF0aW9uIGluIGRlZ3JlZXMuXG4gICAgICovXG4gICAgZ2V0Um90YXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWdyZWVzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlZpZXdwb3J0fSBDaGFpbmFibGUuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVmlld2VyLmV2ZW50OnJlc2l6ZVxuICAgICAqL1xuICAgIHJlc2l6ZTogZnVuY3Rpb24oIG5ld0NvbnRhaW5lclNpemUsIG1haW50YWluICkge1xuICAgICAgICB2YXIgb2xkQm91bmRzID0gdGhpcy5nZXRCb3VuZHNOb1JvdGF0ZSgpLFxuICAgICAgICAgICAgbmV3Qm91bmRzID0gb2xkQm91bmRzLFxuICAgICAgICAgICAgd2lkdGhEZWx0YUZhY3RvcjtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lclNpemUueCA9IG5ld0NvbnRhaW5lclNpemUueDtcbiAgICAgICAgdGhpcy5jb250YWluZXJTaXplLnkgPSBuZXdDb250YWluZXJTaXplLnk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRlQ29udGFpbmVySW5uZXJTaXplKCk7XG5cbiAgICAgICAgaWYgKCBtYWludGFpbiApIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdpZHRoRGVsdGFGYWN0b3Igd2lsbCBhbHdheXMgYmUgMTsgcHJvYmFibHkgbm90IHdoYXQncyBpbnRlbmRlZFxuICAgICAgICAgICAgd2lkdGhEZWx0YUZhY3RvciA9IG5ld0NvbnRhaW5lclNpemUueCAvIHRoaXMuY29udGFpbmVyU2l6ZS54O1xuICAgICAgICAgICAgbmV3Qm91bmRzLndpZHRoICA9IG9sZEJvdW5kcy53aWR0aCAqIHdpZHRoRGVsdGFGYWN0b3I7XG4gICAgICAgICAgICBuZXdCb3VuZHMuaGVpZ2h0ID0gbmV3Qm91bmRzLndpZHRoIC8gdGhpcy5nZXRBc3BlY3RSYXRpbygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIHRoaXMudmlld2VyICl7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSB2aWV3ZXIgaXMgcmVzaXplZCAoc2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdwb3J0I3Jlc2l6ZX0pLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBldmVudCByZXNpemVcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uLlZpZXdlclxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFZpZXdlciB3aGljaCByYWlzZWQgdGhpcyBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gbmV3Q29udGFpbmVyU2l6ZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBtYWludGFpblxuICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5yYWlzZUV2ZW50KCAncmVzaXplJywge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRhaW5lclNpemU6IG5ld0NvbnRhaW5lclNpemUsXG4gICAgICAgICAgICAgICAgbWFpbnRhaW46IG1haW50YWluXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpdEJvdW5kcyggbmV3Qm91bmRzLCB0cnVlICk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfdXBkYXRlQ29udGFpbmVySW5uZXJTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVySW5uZXJTaXplID0gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICBNYXRoLm1heCgxLCB0aGlzLmNvbnRhaW5lclNpemUueCAtICh0aGlzLl9tYXJnaW5zLmxlZnQgKyB0aGlzLl9tYXJnaW5zLnJpZ2h0KSksXG4gICAgICAgICAgICBNYXRoLm1heCgxLCB0aGlzLmNvbnRhaW5lclNpemUueSAtICh0aGlzLl9tYXJnaW5zLnRvcCArIHRoaXMuX21hcmdpbnMuYm90dG9tKSlcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSB6b29tIGFuZCBjZW50ZXIgKFggYW5kIFkpIHNwcmluZ3MuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWYgYW55IGNoYW5nZSBoYXMgYmVlbiBtYWRlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fYWRqdXN0Q2VudGVyU3ByaW5nc0Zvclpvb21Qb2ludChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF90aGlzLnpvb21TcHJpbmcudXBkYXRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY2VudGVyU3ByaW5nWC51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5jZW50ZXJTcHJpbmdZLnVwZGF0ZSgpO1xuXG4gICAgICAgIHZhciBjaGFuZ2VkID0gdGhpcy5jZW50ZXJTcHJpbmdYLmN1cnJlbnQudmFsdWUgIT09IHRoaXMuX29sZENlbnRlclggfHxcbiAgICAgICAgICAgIHRoaXMuY2VudGVyU3ByaW5nWS5jdXJyZW50LnZhbHVlICE9PSB0aGlzLl9vbGRDZW50ZXJZIHx8XG4gICAgICAgICAgICB0aGlzLnpvb21TcHJpbmcuY3VycmVudC52YWx1ZSAhPT0gdGhpcy5fb2xkWm9vbTtcblxuICAgICAgICB0aGlzLl9vbGRDZW50ZXJYID0gdGhpcy5jZW50ZXJTcHJpbmdYLmN1cnJlbnQudmFsdWU7XG4gICAgICAgIHRoaXMuX29sZENlbnRlclkgPSB0aGlzLmNlbnRlclNwcmluZ1kuY3VycmVudC52YWx1ZTtcbiAgICAgICAgdGhpcy5fb2xkWm9vbSAgICA9IHRoaXMuem9vbVNwcmluZy5jdXJyZW50LnZhbHVlO1xuXG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH0sXG5cbiAgICBfYWRqdXN0Q2VudGVyU3ByaW5nc0Zvclpvb21Qb2ludDogZnVuY3Rpb24oem9vbVNwcmluZ0hhbmRsZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuem9vbVBvaW50KSB7XG4gICAgICAgICAgICB2YXIgb2xkWm9vbVBpeGVsID0gdGhpcy5waXhlbEZyb21Qb2ludCh0aGlzLnpvb21Qb2ludCwgdHJ1ZSk7XG4gICAgICAgICAgICB6b29tU3ByaW5nSGFuZGxlcigpO1xuICAgICAgICAgICAgdmFyIG5ld1pvb21QaXhlbCA9IHRoaXMucGl4ZWxGcm9tUG9pbnQodGhpcy56b29tUG9pbnQsIHRydWUpO1xuXG4gICAgICAgICAgICB2YXIgZGVsdGFab29tUGl4ZWxzID0gbmV3Wm9vbVBpeGVsLm1pbnVzKG9sZFpvb21QaXhlbCk7XG4gICAgICAgICAgICB2YXIgZGVsdGFab29tUG9pbnRzID0gdGhpcy5kZWx0YVBvaW50c0Zyb21QaXhlbHMoXG4gICAgICAgICAgICAgICAgZGVsdGFab29tUGl4ZWxzLCB0cnVlKTtcblxuICAgICAgICAgICAgdGhpcy5jZW50ZXJTcHJpbmdYLnNoaWZ0QnkoZGVsdGFab29tUG9pbnRzLngpO1xuICAgICAgICAgICAgdGhpcy5jZW50ZXJTcHJpbmdZLnNoaWZ0QnkoZGVsdGFab29tUG9pbnRzLnkpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy56b29tU3ByaW5nLmlzQXRUYXJnZXRWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy56b29tUG9pbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgem9vbVNwcmluZ0hhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgZGVsdGEgKHRyYW5zbGF0aW9uIHZlY3RvcikgZnJvbSB2aWV3cG9ydCBjb29yZGluYXRlcyB0byBwaXhlbHNcbiAgICAgKiBjb29yZGluYXRlcy4gVGhpcyBtZXRob2QgZG9lcyBub3QgdGFrZSByb3RhdGlvbiBpbnRvIGFjY291bnQuXG4gICAgICogQ29uc2lkZXIgdXNpbmcgZGVsdGFQaXhlbHNGcm9tUG9pbnRzIGlmIHlvdSBuZWVkIHRvIGFjY291bnQgZm9yIHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZGVsdGFQb2ludHMgLSBUaGUgdHJhbnNsYXRpb24gdmVjdG9yIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY3VycmVudD1mYWxzZV0gLSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uO1xuICAgICAqIGRlZmF1bHRzIHRvIGZhbHNlICh0YXJnZXQgbG9jYXRpb24pLlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAqL1xuICAgIGRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlOiBmdW5jdGlvbihkZWx0YVBvaW50cywgY3VycmVudCkge1xuICAgICAgICByZXR1cm4gZGVsdGFQb2ludHMudGltZXMoXG4gICAgICAgICAgICB0aGlzLl9jb250YWluZXJJbm5lclNpemUueCAqIHRoaXMuZ2V0Wm9vbShjdXJyZW50KVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgZGVsdGEgKHRyYW5zbGF0aW9uIHZlY3RvcikgZnJvbSB2aWV3cG9ydCBjb29yZGluYXRlcyB0byBwaXhlbHNcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGRlbHRhUG9pbnRzIC0gVGhlIHRyYW5zbGF0aW9uIHZlY3RvciB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2N1cnJlbnQ9ZmFsc2VdIC0gUGFzcyB0cnVlIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbjtcbiAgICAgKiBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICBkZWx0YVBpeGVsc0Zyb21Qb2ludHM6IGZ1bmN0aW9uKGRlbHRhUG9pbnRzLCBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlKFxuICAgICAgICAgICAgZGVsdGFQb2ludHMucm90YXRlKHRoaXMuZ2V0Um90YXRpb24oKSksXG4gICAgICAgICAgICBjdXJyZW50KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIGRlbHRhICh0cmFuc2xhdGlvbiB2ZWN0b3IpIGZyb20gcGl4ZWxzIGNvb3JkaW5hdGVzIHRvIHZpZXdwb3J0XG4gICAgICogY29vcmRpbmF0ZXMuIFRoaXMgbWV0aG9kIGRvZXMgbm90IHRha2Ugcm90YXRpb24gaW50byBhY2NvdW50LlxuICAgICAqIENvbnNpZGVyIHVzaW5nIGRlbHRhUG9pbnRzRnJvbVBpeGVscyBpZiB5b3UgbmVlZCB0byBhY2NvdW50IGZvciByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IGRlbHRhUGl4ZWxzIC0gVGhlIHRyYW5zbGF0aW9uIHZlY3RvciB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2N1cnJlbnQ9ZmFsc2VdIC0gUGFzcyB0cnVlIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbjtcbiAgICAgKiBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICBkZWx0YVBvaW50c0Zyb21QaXhlbHNOb1JvdGF0ZTogZnVuY3Rpb24oZGVsdGFQaXhlbHMsIGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIGRlbHRhUGl4ZWxzLmRpdmlkZShcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcklubmVyU2l6ZS54ICogdGhpcy5nZXRab29tKGN1cnJlbnQpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSBkZWx0YSAodHJhbnNsYXRpb24gdmVjdG9yKSBmcm9tIHBpeGVscyBjb29yZGluYXRlcyB0byB2aWV3cG9ydFxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gZGVsdGFQaXhlbHMgLSBUaGUgdHJhbnNsYXRpb24gdmVjdG9yIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY3VycmVudD1mYWxzZV0gLSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uO1xuICAgICAqIGRlZmF1bHRzIHRvIGZhbHNlICh0YXJnZXQgbG9jYXRpb24pLlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAqL1xuICAgIGRlbHRhUG9pbnRzRnJvbVBpeGVsczogZnVuY3Rpb24oZGVsdGFQaXhlbHMsIGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVsdGFQb2ludHNGcm9tUGl4ZWxzTm9Sb3RhdGUoZGVsdGFQaXhlbHMsIGN1cnJlbnQpXG4gICAgICAgICAgICAucm90YXRlKC10aGlzLmdldFJvdGF0aW9uKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHZpZXdwb3J0IGNvb3JkaW5hdGVzIHRvIHBpeGVscyBjb29yZGluYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB0YWtlIHJvdGF0aW9uIGludG8gYWNjb3VudC5cbiAgICAgKiBDb25zaWRlciB1c2luZyBwaXhlbEZyb21Qb2ludCBpZiB5b3UgbmVlZCB0byBhY2NvdW50IGZvciByb3RhdGlvbi5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50IHRoZSB2aWV3cG9ydCBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2N1cnJlbnQ9ZmFsc2VdIC0gUGFzcyB0cnVlIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbjtcbiAgICAgKiBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICBwaXhlbEZyb21Qb2ludE5vUm90YXRlOiBmdW5jdGlvbihwb2ludCwgY3VycmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl4ZWxGcm9tUG9pbnROb1JvdGF0ZShcbiAgICAgICAgICAgIHBvaW50LCB0aGlzLmdldEJvdW5kc05vUm90YXRlKGN1cnJlbnQpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB2aWV3cG9ydCBjb29yZGluYXRlcyB0byBwaXhlbCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50IHRoZSB2aWV3cG9ydCBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2N1cnJlbnQ9ZmFsc2VdIC0gUGFzcyB0cnVlIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbjtcbiAgICAgKiBkZWZhdWx0cyB0byBmYWxzZSAodGFyZ2V0IGxvY2F0aW9uKS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICBwaXhlbEZyb21Qb2ludDogZnVuY3Rpb24ocG9pbnQsIGN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpeGVsRnJvbVBvaW50KHBvaW50LCB0aGlzLmdldEJvdW5kc05vUm90YXRlKGN1cnJlbnQpKTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF9waXhlbEZyb21Qb2ludE5vUm90YXRlOiBmdW5jdGlvbihwb2ludCwgYm91bmRzKSB7XG4gICAgICAgIHJldHVybiBwb2ludC5taW51cyhcbiAgICAgICAgICAgIGJvdW5kcy5nZXRUb3BMZWZ0KClcbiAgICAgICAgKS50aW1lcyhcbiAgICAgICAgICAgIHRoaXMuX2NvbnRhaW5lcklubmVyU2l6ZS54IC8gYm91bmRzLndpZHRoXG4gICAgICAgICkucGx1cyhcbiAgICAgICAgICAgIG5ldyAkLlBvaW50KHRoaXMuX21hcmdpbnMubGVmdCwgdGhpcy5fbWFyZ2lucy50b3ApXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfcGl4ZWxGcm9tUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBib3VuZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpeGVsRnJvbVBvaW50Tm9Sb3RhdGUoXG4gICAgICAgICAgICBwb2ludC5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbigpLCB0aGlzLmdldENlbnRlcih0cnVlKSksXG4gICAgICAgICAgICBib3VuZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHBpeGVsIGNvb3JkaW5hdGVzIHRvIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHRha2Ugcm90YXRpb24gaW50byBhY2NvdW50LlxuICAgICAqIENvbnNpZGVyIHVzaW5nIHBvaW50RnJvbVBpeGVsIGlmIHlvdSBuZWVkIHRvIGFjY291bnQgZm9yIHJvdGF0aW9uLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcGl4ZWwgUGl4ZWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjdXJyZW50PWZhbHNlXSAtIFBhc3MgdHJ1ZSBmb3IgdGhlIGN1cnJlbnQgbG9jYXRpb247XG4gICAgICogZGVmYXVsdHMgdG8gZmFsc2UgKHRhcmdldCBsb2NhdGlvbikuXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgcG9pbnRGcm9tUGl4ZWxOb1JvdGF0ZTogZnVuY3Rpb24ocGl4ZWwsIGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzTm9Sb3RhdGUoY3VycmVudCk7XG4gICAgICAgIHJldHVybiBwaXhlbC5taW51cyhcbiAgICAgICAgICAgIG5ldyAkLlBvaW50KHRoaXMuX21hcmdpbnMubGVmdCwgdGhpcy5fbWFyZ2lucy50b3ApXG4gICAgICAgICkuZGl2aWRlKFxuICAgICAgICAgICAgdGhpcy5fY29udGFpbmVySW5uZXJTaXplLnggLyBib3VuZHMud2lkdGhcbiAgICAgICAgKS5wbHVzKFxuICAgICAgICAgICAgYm91bmRzLmdldFRvcExlZnQoKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHBpeGVsIGNvb3JkaW5hdGVzIHRvIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcGl4ZWwgUGl4ZWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjdXJyZW50PWZhbHNlXSAtIFBhc3MgdHJ1ZSBmb3IgdGhlIGN1cnJlbnQgbG9jYXRpb247XG4gICAgICogZGVmYXVsdHMgdG8gZmFsc2UgKHRhcmdldCBsb2NhdGlvbikuXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgcG9pbnRGcm9tUGl4ZWw6IGZ1bmN0aW9uKHBpeGVsLCBjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvaW50RnJvbVBpeGVsTm9Sb3RhdGUocGl4ZWwsIGN1cnJlbnQpLnJvdGF0ZShcbiAgICAgICAgICAgIC10aGlzLmdldFJvdGF0aW9uKCksXG4gICAgICAgICAgICB0aGlzLmdldENlbnRlcih0cnVlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX3ZpZXdwb3J0VG9JbWFnZURlbHRhOiBmdW5jdGlvbiggdmlld2VyWCwgdmlld2VyWSApIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlLndpZHRoO1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICB2aWV3ZXJYICogdGhpcy5fY29udGVudFNpemVOb1JvdGF0ZS54IC8gc2NhbGUsXG4gICAgICAgICAgICB2aWV3ZXJZICogdGhpcy5fY29udGVudFNpemVOb1JvdGF0ZS54IC8gc2NhbGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGZyb20gT3BlblNlYWRyYWdvbiB2aWV3ZXIgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gaW1hZ2UgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCBlaXRoZXIgYnkgcGFzc2luZyBYLFkgY29vcmRpbmF0ZXMgb3IgYW5cbiAgICAgKiBPcGVuU2VhZHJhZ29uLlBvaW50XG4gICAgICogTm90ZTogbm90IGFjY3VyYXRlIHdpdGggbXVsdGktaW1hZ2U7IHVzZSBUaWxlZEltYWdlLnZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzIGluc3RlYWQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsoT3BlblNlYWRyYWdvbi5Qb2ludHxOdW1iZXIpfSB2aWV3ZXJYIGVpdGhlciBhIHBvaW50IG9yIHRoZSBYXG4gICAgICogY29vcmRpbmF0ZSBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3ZpZXdlclldIFkgY29vcmRpbmF0ZSBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBhIHBvaW50IHJlcHJlc2VudGluZyB0aGUgY29vcmRpbmF0ZXMgaW4gdGhlIGltYWdlLlxuICAgICAqL1xuICAgIHZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzOiBmdW5jdGlvbih2aWV3ZXJYLCB2aWV3ZXJZKSB7XG4gICAgICAgIGlmICh2aWV3ZXJYIGluc3RhbmNlb2YgJC5Qb2ludCkge1xuICAgICAgICAgICAgLy90aGV5IHBhc3NlZCBhIHBvaW50IGluc3RlYWQgb2YgaW5kaXZpZHVhbCBjb21wb25lbnRzXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyh2aWV3ZXJYLngsIHZpZXdlclgueSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52aWV3ZXIpIHtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgICQuY29uc29sZS5lcnJvcignW1ZpZXdwb3J0LnZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzXSBpcyBub3QgYWNjdXJhdGUgJyArXG4gICAgICAgICAgICAgICAgICAgICd3aXRoIG11bHRpLWltYWdlOyB1c2UgVGlsZWRJbWFnZS52aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGJldHRlciB0byB1c2UgVGlsZWRJbWFnZS52aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlc1xuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2UgdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlIGNhbiBub3QgYmUgcmVsaWVkIG9uXG4gICAgICAgICAgICAgICAgLy8gd2l0aCBjbGlwcGluZy5cbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1BdCgwKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS52aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyh2aWV3ZXJYLCB2aWV3ZXJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3cG9ydFRvSW1hZ2VEZWx0YShcbiAgICAgICAgICAgIHZpZXdlclggLSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUueCxcbiAgICAgICAgICAgIHZpZXdlclkgLSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUueSk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfaW1hZ2VUb1ZpZXdwb3J0RGVsdGE6IGZ1bmN0aW9uKCBpbWFnZVgsIGltYWdlWSApIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlLndpZHRoO1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQoXG4gICAgICAgICAgICBpbWFnZVggLyB0aGlzLl9jb250ZW50U2l6ZU5vUm90YXRlLnggKiBzY2FsZSxcbiAgICAgICAgICAgIGltYWdlWSAvIHRoaXMuX2NvbnRlbnRTaXplTm9Sb3RhdGUueCAqIHNjYWxlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyBmcm9tIGltYWdlIGNvb3JkaW5hdGUgc3lzdGVtIHRvIE9wZW5TZWFkcmFnb24gdmlld2VyIGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCBlaXRoZXIgYnkgcGFzc2luZyBYLFkgY29vcmRpbmF0ZXMgb3IgYW5cbiAgICAgKiBPcGVuU2VhZHJhZ29uLlBvaW50XG4gICAgICogTm90ZTogbm90IGFjY3VyYXRlIHdpdGggbXVsdGktaW1hZ2U7IHVzZSBUaWxlZEltYWdlLmltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzIGluc3RlYWQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsoT3BlblNlYWRyYWdvbi5Qb2ludCB8IE51bWJlcil9IGltYWdlWCB0aGUgcG9pbnQgb3IgdGhlXG4gICAgICogWCBjb29yZGluYXRlIGluIGltYWdlIGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW1hZ2VZXSBZIGNvb3JkaW5hdGUgaW4gaW1hZ2UgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5Qb2ludH0gYSBwb2ludCByZXByZXNlbnRpbmcgdGhlIGNvb3JkaW5hdGVzIGluIHRoZSB2aWV3cG9ydC5cbiAgICAgKi9cbiAgICBpbWFnZVRvVmlld3BvcnRDb29yZGluYXRlczogZnVuY3Rpb24oaW1hZ2VYLCBpbWFnZVkpIHtcbiAgICAgICAgaWYgKGltYWdlWCBpbnN0YW5jZW9mICQuUG9pbnQpIHtcbiAgICAgICAgICAgIC8vdGhleSBwYXNzZWQgYSBwb2ludCBpbnN0ZWFkIG9mIGluZGl2aWR1YWwgY29tcG9uZW50c1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMoaW1hZ2VYLngsIGltYWdlWC55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SXRlbUNvdW50KCk7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgJC5jb25zb2xlLmVycm9yKCdbVmlld3BvcnQuaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXNdIGlzIG5vdCBhY2N1cmF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3dpdGggbXVsdGktaW1hZ2U7IHVzZSBUaWxlZEltYWdlLmltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzIGluc3RlYWQuJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYmV0dGVyIHRvIHVzZSBUaWxlZEltYWdlLnZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUgY2FuIG5vdCBiZSByZWxpZWQgb25cbiAgICAgICAgICAgICAgICAvLyB3aXRoIGNsaXBwaW5nLlxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SXRlbUF0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzKGltYWdlWCwgaW1hZ2VZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMuX2ltYWdlVG9WaWV3cG9ydERlbHRhKGltYWdlWCwgaW1hZ2VZKTtcbiAgICAgICAgcG9pbnQueCArPSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUueDtcbiAgICAgICAgcG9pbnQueSArPSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUueTtcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGZyb20gYSByZWN0YW5nbGUgd2hpY2ggZGVzY3JpYmVzIGEgcG9ydGlvbiBvZiB0aGUgaW1hZ2UgaW5cbiAgICAgKiBwaXhlbCBjb29yZGluYXRlcyB0byBPcGVuU2VhZHJhZ29uIHZpZXdwb3J0IHJlY3RhbmdsZSBjb29yZGluYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGVpdGhlciBieSBwYXNzaW5nIFgsWSx3aWR0aCxoZWlnaHQgb3IgYW5cbiAgICAgKiBPcGVuU2VhZHJhZ29uLlJlY3RcbiAgICAgKiBOb3RlOiBub3QgYWNjdXJhdGUgd2l0aCBtdWx0aS1pbWFnZTsgdXNlIFRpbGVkSW1hZ2UuaW1hZ2VUb1ZpZXdwb3J0UmVjdGFuZ2xlIGluc3RlYWQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsoT3BlblNlYWRyYWdvbi5SZWN0IHwgTnVtYmVyKX0gaW1hZ2VYIHRoZSByZWN0YW5nbGUgb3IgdGhlIFhcbiAgICAgKiBjb29yZGluYXRlIG9mIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZSBpbiBpbWFnZSBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2ltYWdlWV0gdGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBpbiBpbWFnZSBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BpeGVsV2lkdGhdIHRoZSB3aWR0aCBpbiBwaXhlbCBvZiB0aGUgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcGl4ZWxIZWlnaHRdIHRoZSBoZWlnaHQgaW4gcGl4ZWwgb2YgdGhlIHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGlzIGltYWdlJ3MgYm91bmRzIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzXG4gICAgICovXG4gICAgaW1hZ2VUb1ZpZXdwb3J0UmVjdGFuZ2xlOiBmdW5jdGlvbihpbWFnZVgsIGltYWdlWSwgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBpbWFnZVg7XG4gICAgICAgIGlmICghKHJlY3QgaW5zdGFuY2VvZiAkLlJlY3QpKSB7XG4gICAgICAgICAgICAvL3RoZXkgcGFzc2VkIGluZGl2aWR1YWwgY29tcG9uZW50cyBpbnN0ZWFkIG9mIGEgcmVjdGFuZ2xlXG4gICAgICAgICAgICByZWN0ID0gbmV3ICQuUmVjdChpbWFnZVgsIGltYWdlWSwgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICAgICAgICB2YXIgY291bnQgPSB0aGlzLnZpZXdlci53b3JsZC5nZXRJdGVtQ291bnQoKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICAkLmNvbnNvbGUuZXJyb3IoJ1tWaWV3cG9ydC5pbWFnZVRvVmlld3BvcnRSZWN0YW5nbGVdIGlzIG5vdCBhY2N1cmF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3dpdGggbXVsdGktaW1hZ2U7IHVzZSBUaWxlZEltYWdlLmltYWdlVG9WaWV3cG9ydFJlY3RhbmdsZSBpbnN0ZWFkLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGJldHRlciB0byB1c2UgVGlsZWRJbWFnZS5pbWFnZVRvVmlld3BvcnRSZWN0YW5nbGVcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZSBjYW4gbm90IGJlIHJlbGllZCBvblxuICAgICAgICAgICAgICAgIC8vIHdpdGggY2xpcHBpbmcuXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnZpZXdlci53b3JsZC5nZXRJdGVtQXQoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaW1hZ2VUb1ZpZXdwb3J0UmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVgsIGltYWdlWSwgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvb3JkQSA9IHRoaXMuaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMocmVjdC54LCByZWN0LnkpO1xuICAgICAgICB2YXIgY29vcmRCID0gdGhpcy5faW1hZ2VUb1ZpZXdwb3J0RGVsdGEocmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIGNvb3JkQS54LFxuICAgICAgICAgICAgY29vcmRBLnksXG4gICAgICAgICAgICBjb29yZEIueCxcbiAgICAgICAgICAgIGNvb3JkQi55LFxuICAgICAgICAgICAgcmVjdC5kZWdyZWVzXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgZnJvbSBhIHJlY3RhbmdsZSB3aGljaCBkZXNjcmliZXMgYSBwb3J0aW9uIG9mXG4gICAgICogdGhlIHZpZXdwb3J0IGluIHBvaW50IGNvb3JkaW5hdGVzIHRvIGltYWdlIHJlY3RhbmdsZSBjb29yZGluYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGVpdGhlciBieSBwYXNzaW5nIFgsWSx3aWR0aCxoZWlnaHQgb3IgYW5cbiAgICAgKiBPcGVuU2VhZHJhZ29uLlJlY3RcbiAgICAgKiBOb3RlOiBub3QgYWNjdXJhdGUgd2l0aCBtdWx0aS1pbWFnZTsgdXNlIFRpbGVkSW1hZ2Uudmlld3BvcnRUb0ltYWdlUmVjdGFuZ2xlIGluc3RlYWQuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsoT3BlblNlYWRyYWdvbi5SZWN0IHwgTnVtYmVyKX0gdmlld2VyWCBlaXRoZXIgYSByZWN0YW5nbGUgb3JcbiAgICAgKiB0aGUgWCBjb29yZGluYXRlIG9mIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZSBpbiB2aWV3cG9ydFxuICAgICAqIGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdmlld2VyWV0gdGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BvaW50V2lkdGhdIHRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIGluIHZpZXdwb3J0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9pbnRIZWlnaHRdIHRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKi9cbiAgICB2aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGU6IGZ1bmN0aW9uKHZpZXdlclgsIHZpZXdlclksIHBvaW50V2lkdGgsIHBvaW50SGVpZ2h0KSB7XG4gICAgICAgIHZhciByZWN0ID0gdmlld2VyWDtcbiAgICAgICAgaWYgKCEocmVjdCBpbnN0YW5jZW9mICQuUmVjdCkpIHtcbiAgICAgICAgICAgIC8vdGhleSBwYXNzZWQgaW5kaXZpZHVhbCBjb21wb25lbnRzIGluc3RlYWQgb2YgYSByZWN0YW5nbGVcbiAgICAgICAgICAgIHJlY3QgPSBuZXcgJC5SZWN0KHZpZXdlclgsIHZpZXdlclksIHBvaW50V2lkdGgsIHBvaW50SGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZpZXdlcikge1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SXRlbUNvdW50KCk7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICAgICAgICAgICAgJC5jb25zb2xlLmVycm9yKCdbVmlld3BvcnQudmlld3BvcnRUb0ltYWdlUmVjdGFuZ2xlXSBpcyBub3QgYWNjdXJhdGUgJyArXG4gICAgICAgICAgICAgICAgICAgICd3aXRoIG11bHRpLWltYWdlOyB1c2UgVGlsZWRJbWFnZS52aWV3cG9ydFRvSW1hZ2VSZWN0YW5nbGUgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBiZXR0ZXIgdG8gdXNlIFRpbGVkSW1hZ2Uudmlld3BvcnRUb0ltYWdlQ29vcmRpbmF0ZXNcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZSBjYW4gbm90IGJlIHJlbGllZCBvblxuICAgICAgICAgICAgICAgIC8vIHdpdGggY2xpcHBpbmcuXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnZpZXdlci53b3JsZC5nZXRJdGVtQXQoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udmlld3BvcnRUb0ltYWdlUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICB2aWV3ZXJYLCB2aWV3ZXJZLCBwb2ludFdpZHRoLCBwb2ludEhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29vcmRBID0gdGhpcy52aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyhyZWN0LngsIHJlY3QueSk7XG4gICAgICAgIHZhciBjb29yZEIgPSB0aGlzLl92aWV3cG9ydFRvSW1hZ2VEZWx0YShyZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG4gICAgICAgIHJldHVybiBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgY29vcmRBLngsXG4gICAgICAgICAgICBjb29yZEEueSxcbiAgICAgICAgICAgIGNvb3JkQi54LFxuICAgICAgICAgICAgY29vcmRCLnksXG4gICAgICAgICAgICByZWN0LmRlZ3JlZXNcbiAgICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgdmlld2VyIGVsZW1lbnQgdG8gaW1hZ2VcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBOb3RlOiBub3QgYWNjdXJhdGUgd2l0aCBtdWx0aS1pbWFnZS5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBpeGVsXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgdmlld2VyRWxlbWVudFRvSW1hZ2VDb29yZGluYXRlczogZnVuY3Rpb24oIHBpeGVsICkge1xuICAgICAgICB2YXIgcG9pbnQgPSB0aGlzLnBvaW50RnJvbVBpeGVsKCBwaXhlbCwgdHJ1ZSApO1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3cG9ydFRvSW1hZ2VDb29yZGluYXRlcyggcG9pbnQgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgaW1hZ2UgdG9cbiAgICAgKiB2aWV3ZXIgZWxlbWVudCBjb29yZGluYXRlcy5cbiAgICAgKiBOb3RlOiBub3QgYWNjdXJhdGUgd2l0aCBtdWx0aS1pbWFnZS5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBpeGVsXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlczogZnVuY3Rpb24oIHBpeGVsICkge1xuICAgICAgICB2YXIgcG9pbnQgPSB0aGlzLmltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzKCBwaXhlbCApO1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbEZyb21Qb2ludCggcG9pbnQsIHRydWUgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgd2luZG93IHRvIGltYWdlIGNvb3JkaW5hdGVzLlxuICAgICAqIE5vdGU6IG5vdCBhY2N1cmF0ZSB3aXRoIG11bHRpLWltYWdlLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcGl4ZWxcbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICB3aW5kb3dUb0ltYWdlQ29vcmRpbmF0ZXM6IGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQodGhpcy52aWV3ZXIsXG4gICAgICAgICAgICBcIltWaWV3cG9ydC53aW5kb3dUb0ltYWdlQ29vcmRpbmF0ZXNdIHRoZSB2aWV3cG9ydCBtdXN0IGhhdmUgYSB2aWV3ZXIuXCIpO1xuICAgICAgICB2YXIgdmlld2VyQ29vcmRpbmF0ZXMgPSBwaXhlbC5taW51cyhcbiAgICAgICAgICAgICAgICAkLmdldEVsZW1lbnRQb3NpdGlvbih0aGlzLnZpZXdlci5lbGVtZW50KSk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlckVsZW1lbnRUb0ltYWdlQ29vcmRpbmF0ZXModmlld2VyQ29vcmRpbmF0ZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGltYWdlIGNvb3JkaW5hdGVzIHRvIHBpeGVsIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXG4gICAgICogTm90ZTogbm90IGFjY3VyYXRlIHdpdGggbXVsdGktaW1hZ2UuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwaXhlbFxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAqL1xuICAgIGltYWdlVG9XaW5kb3dDb29yZGluYXRlczogZnVuY3Rpb24ocGl4ZWwpIHtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydCh0aGlzLnZpZXdlcixcbiAgICAgICAgICAgIFwiW1ZpZXdwb3J0LmltYWdlVG9XaW5kb3dDb29yZGluYXRlc10gdGhlIHZpZXdwb3J0IG11c3QgaGF2ZSBhIHZpZXdlci5cIik7XG4gICAgICAgIHZhciB2aWV3ZXJDb29yZGluYXRlcyA9IHRoaXMuaW1hZ2VUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlcyhwaXhlbCk7XG4gICAgICAgIHJldHVybiB2aWV3ZXJDb29yZGluYXRlcy5wbHVzKFxuICAgICAgICAgICAgICAgICQuZ2V0RWxlbWVudFBvc2l0aW9uKHRoaXMudmlld2VyLmVsZW1lbnQpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgdmlld2VyIGVsZW1lbnQgdG8gdmlld3BvcnRcbiAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBpeGVsXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgdmlld2VyRWxlbWVudFRvVmlld3BvcnRDb29yZGluYXRlczogZnVuY3Rpb24oIHBpeGVsICkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludEZyb21QaXhlbCggcGl4ZWwsIHRydWUgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB2aWV3cG9ydCBjb29yZGluYXRlcyB0byBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGVcbiAgICAgKiB2aWV3ZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBvaW50XG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgdmlld3BvcnRUb1ZpZXdlckVsZW1lbnRDb29yZGluYXRlczogZnVuY3Rpb24oIHBvaW50ICkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbEZyb21Qb2ludCggcG9pbnQsIHRydWUgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhIHJlY3RhbmdsZSBpbiBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgdmlld2VyIGVsZW1lbnRcbiAgICAgKiB0byB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gcmVjdGFuZ2xlIHRoZSByZWN0YW5nbGUgdG8gY29udmVydFxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IHRoZSBjb252ZXJ0ZWQgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgdmlld2VyRWxlbWVudFRvVmlld3BvcnRSZWN0YW5nbGU6IGZ1bmN0aW9uKHJlY3RhbmdsZSkge1xuICAgICAgICByZXR1cm4gJC5SZWN0LmZyb21TdW1taXRzKFxuICAgICAgICAgICAgdGhpcy5wb2ludEZyb21QaXhlbChyZWN0YW5nbGUuZ2V0VG9wTGVmdCgpLCB0cnVlKSxcbiAgICAgICAgICAgIHRoaXMucG9pbnRGcm9tUGl4ZWwocmVjdGFuZ2xlLmdldFRvcFJpZ2h0KCksIHRydWUpLFxuICAgICAgICAgICAgdGhpcy5wb2ludEZyb21QaXhlbChyZWN0YW5nbGUuZ2V0Qm90dG9tTGVmdCgpLCB0cnVlKVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgcmVjdGFuZ2xlIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzIHRvIHBpeGVsIGNvb3JkaW5hdGVzIHJlbGF0aXZlXG4gICAgICogdG8gdGhlIHZpZXdlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5SZWN0fSByZWN0YW5nbGUgdGhlIHJlY3RhbmdsZSB0byBjb252ZXJ0XG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUmVjdH0gdGhlIGNvbnZlcnRlZCByZWN0YW5nbGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydFRvVmlld2VyRWxlbWVudFJlY3RhbmdsZTogZnVuY3Rpb24ocmVjdGFuZ2xlKSB7XG4gICAgICAgIHJldHVybiAkLlJlY3QuZnJvbVN1bW1pdHMoXG4gICAgICAgICAgICB0aGlzLnBpeGVsRnJvbVBvaW50KHJlY3RhbmdsZS5nZXRUb3BMZWZ0KCksIHRydWUpLFxuICAgICAgICAgICAgdGhpcy5waXhlbEZyb21Qb2ludChyZWN0YW5nbGUuZ2V0VG9wUmlnaHQoKSwgdHJ1ZSksXG4gICAgICAgICAgICB0aGlzLnBpeGVsRnJvbVBvaW50KHJlY3RhbmdsZS5nZXRCb3R0b21MZWZ0KCksIHRydWUpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgcGl4ZWwgY29vcmRpbmF0ZXMgcmVsYXRpdmUgdG8gdGhlIHdpbmRvdyB0byB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUG9pbnR9IHBpeGVsXG4gICAgICogQHJldHVybnMge09wZW5TZWFkcmFnb24uUG9pbnR9XG4gICAgICovXG4gICAgd2luZG93VG9WaWV3cG9ydENvb3JkaW5hdGVzOiBmdW5jdGlvbihwaXhlbCkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KHRoaXMudmlld2VyLFxuICAgICAgICAgICAgXCJbVmlld3BvcnQud2luZG93VG9WaWV3cG9ydENvb3JkaW5hdGVzXSB0aGUgdmlld3BvcnQgbXVzdCBoYXZlIGEgdmlld2VyLlwiKTtcbiAgICAgICAgdmFyIHZpZXdlckNvb3JkaW5hdGVzID0gcGl4ZWwubWludXMoXG4gICAgICAgICAgICAgICAgJC5nZXRFbGVtZW50UG9zaXRpb24odGhpcy52aWV3ZXIuZWxlbWVudCkpO1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJFbGVtZW50VG9WaWV3cG9ydENvb3JkaW5hdGVzKHZpZXdlckNvb3JkaW5hdGVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCB2aWV3cG9ydCBjb29yZGluYXRlcyB0byBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgd2luZG93LlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcG9pbnRcbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICB2aWV3cG9ydFRvV2luZG93Q29vcmRpbmF0ZXM6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQodGhpcy52aWV3ZXIsXG4gICAgICAgICAgICBcIltWaWV3cG9ydC52aWV3cG9ydFRvV2luZG93Q29vcmRpbmF0ZXNdIHRoZSB2aWV3cG9ydCBtdXN0IGhhdmUgYSB2aWV3ZXIuXCIpO1xuICAgICAgICB2YXIgdmlld2VyQ29vcmRpbmF0ZXMgPSB0aGlzLnZpZXdwb3J0VG9WaWV3ZXJFbGVtZW50Q29vcmRpbmF0ZXMocG9pbnQpO1xuICAgICAgICByZXR1cm4gdmlld2VyQ29vcmRpbmF0ZXMucGx1cyhcbiAgICAgICAgICAgICAgICAkLmdldEVsZW1lbnRQb3NpdGlvbih0aGlzLnZpZXdlci5lbGVtZW50KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgYSB2aWV3cG9ydCB6b29tIHRvIGFuIGltYWdlIHpvb20uXG4gICAgICogSW1hZ2Ugem9vbTogcmF0aW8gb2YgdGhlIG9yaWdpbmFsIGltYWdlIHNpemUgdG8gZGlzcGxheWVkIGltYWdlIHNpemUuXG4gICAgICogMSBtZWFucyBvcmlnaW5hbCBpbWFnZSBzaXplLCAwLjUgaGFsZiBzaXplLi4uXG4gICAgICogVmlld3BvcnQgem9vbTogcmF0aW8gb2YgdGhlIGRpc3BsYXllZCBpbWFnZSdzIHdpZHRoIHRvIHZpZXdwb3J0J3Mgd2lkdGguXG4gICAgICogMSBtZWFucyBpZGVudGljYWwgd2lkdGgsIDIgbWVhbnMgaW1hZ2UncyB3aWR0aCBpcyB0d2ljZSB0aGUgdmlld3BvcnQncyB3aWR0aC4uLlxuICAgICAqIE5vdGU6IG5vdCBhY2N1cmF0ZSB3aXRoIG11bHRpLWltYWdlLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2aWV3cG9ydFpvb20gVGhlIHZpZXdwb3J0IHpvb21cbiAgICAgKiB0YXJnZXQgem9vbS5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSBpbWFnZVpvb20gVGhlIGltYWdlIHpvb21cbiAgICAgKi9cbiAgICB2aWV3cG9ydFRvSW1hZ2Vab29tOiBmdW5jdGlvbih2aWV3cG9ydFpvb20pIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyKSB7XG4gICAgICAgICAgICB2YXIgY291bnQgPSB0aGlzLnZpZXdlci53b3JsZC5nZXRJdGVtQ291bnQoKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDEpIHtcbiAgICAgICAgICAgICAgICAkLmNvbnNvbGUuZXJyb3IoJ1tWaWV3cG9ydC52aWV3cG9ydFRvSW1hZ2Vab29tXSBpcyBub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdhY2N1cmF0ZSB3aXRoIG11bHRpLWltYWdlLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIEl0IGlzIGJldHRlciB0byB1c2UgVGlsZWRJbWFnZS52aWV3cG9ydFRvSW1hZ2Vab29tXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUgY2FuIG5vdCBiZSByZWxpZWQgb25cbiAgICAgICAgICAgICAgICAvLyB3aXRoIGNsaXBwaW5nLlxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy52aWV3ZXIud29ybGQuZ2V0SXRlbUF0KDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnZpZXdwb3J0VG9JbWFnZVpvb20odmlld3BvcnRab29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbWFnZVdpZHRoID0gdGhpcy5fY29udGVudFNpemVOb1JvdGF0ZS54O1xuICAgICAgICB2YXIgY29udGFpbmVyV2lkdGggPSB0aGlzLl9jb250YWluZXJJbm5lclNpemUueDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fY29udGVudEJvdW5kc05vUm90YXRlLndpZHRoO1xuICAgICAgICB2YXIgdmlld3BvcnRUb0ltYWdlWm9vbVJhdGlvID0gKGNvbnRhaW5lcldpZHRoIC8gaW1hZ2VXaWR0aCkgKiBzY2FsZTtcbiAgICAgICAgcmV0dXJuIHZpZXdwb3J0Wm9vbSAqIHZpZXdwb3J0VG9JbWFnZVpvb21SYXRpbztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbiBpbWFnZSB6b29tIHRvIGEgdmlld3BvcnQgem9vbS5cbiAgICAgKiBJbWFnZSB6b29tOiByYXRpbyBvZiB0aGUgb3JpZ2luYWwgaW1hZ2Ugc2l6ZSB0byBkaXNwbGF5ZWQgaW1hZ2Ugc2l6ZS5cbiAgICAgKiAxIG1lYW5zIG9yaWdpbmFsIGltYWdlIHNpemUsIDAuNSBoYWxmIHNpemUuLi5cbiAgICAgKiBWaWV3cG9ydCB6b29tOiByYXRpbyBvZiB0aGUgZGlzcGxheWVkIGltYWdlJ3Mgd2lkdGggdG8gdmlld3BvcnQncyB3aWR0aC5cbiAgICAgKiAxIG1lYW5zIGlkZW50aWNhbCB3aWR0aCwgMiBtZWFucyBpbWFnZSdzIHdpZHRoIGlzIHR3aWNlIHRoZSB2aWV3cG9ydCdzIHdpZHRoLi4uXG4gICAgICogTm90ZTogbm90IGFjY3VyYXRlIHdpdGggbXVsdGktaW1hZ2UuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGltYWdlWm9vbSBUaGUgaW1hZ2Ugem9vbVxuICAgICAqIHRhcmdldCB6b29tLlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IHZpZXdwb3J0Wm9vbSBUaGUgdmlld3BvcnQgem9vbVxuICAgICAqL1xuICAgIGltYWdlVG9WaWV3cG9ydFpvb206IGZ1bmN0aW9uKGltYWdlWm9vbSkge1xuICAgICAgICBpZiAodGhpcy52aWV3ZXIpIHtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1Db3VudCgpO1xuICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgICQuY29uc29sZS5lcnJvcignW1ZpZXdwb3J0LmltYWdlVG9WaWV3cG9ydFpvb21dIGlzIG5vdCBhY2N1cmF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3dpdGggbXVsdGktaW1hZ2UuJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gSXQgaXMgYmV0dGVyIHRvIHVzZSBUaWxlZEltYWdlLmltYWdlVG9WaWV3cG9ydFpvb21cbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIHRoaXMuX2NvbnRlbnRCb3VuZHNOb1JvdGF0ZSBjYW4gbm90IGJlIHJlbGllZCBvblxuICAgICAgICAgICAgICAgIC8vIHdpdGggY2xpcHBpbmcuXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnZpZXdlci53b3JsZC5nZXRJdGVtQXQoMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaW1hZ2VUb1ZpZXdwb3J0Wm9vbShpbWFnZVpvb20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGltYWdlV2lkdGggPSB0aGlzLl9jb250ZW50U2l6ZU5vUm90YXRlLng7XG4gICAgICAgIHZhciBjb250YWluZXJXaWR0aCA9IHRoaXMuX2NvbnRhaW5lcklubmVyU2l6ZS54O1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9jb250ZW50Qm91bmRzTm9Sb3RhdGUud2lkdGg7XG4gICAgICAgIHZhciB2aWV3cG9ydFRvSW1hZ2Vab29tUmF0aW8gPSAoaW1hZ2VXaWR0aCAvIGNvbnRhaW5lcldpZHRoKSAvIHNjYWxlO1xuICAgICAgICByZXR1cm4gaW1hZ2Vab29tICogdmlld3BvcnRUb0ltYWdlWm9vbVJhdGlvO1xuICAgIH1cbn07XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8qXG4gKiBPcGVuU2VhZHJhZ29uIC0gVGlsZWRJbWFnZVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLyoqXG4gKiBZb3Ugc2hvdWxkbid0IGhhdmUgdG8gY3JlYXRlIGEgVGlsZWRJbWFnZSBkaXJlY3RseTsgdXNlIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlciNvcGVufVxuICogb3Ige0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI2FkZFRpbGVkSW1hZ2V9IGluc3RlYWQuXG4gKiBAY2xhc3MgVGlsZWRJbWFnZVxuICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb25cbiAqIEBleHRlbmRzIE9wZW5TZWFkcmFnb24uRXZlbnRTb3VyY2VcbiAqIEBjbGFzc2Rlc2MgSGFuZGxlcyByZW5kZXJpbmcgb2YgdGlsZXMgZm9yIGFuIHtAbGluayBPcGVuU2VhZHJhZ29uLlZpZXdlcn0uXG4gKiBBIG5ldyBpbnN0YW5jZSBpcyBjcmVhdGVkIGZvciBlYWNoIFRpbGVTb3VyY2Ugb3BlbmVkLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIGZvciB0aGlzIFRpbGVkSW1hZ2UuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZVNvdXJjZX0gb3B0aW9ucy5zb3VyY2UgLSBUaGUgVGlsZVNvdXJjZSB0aGF0IGRlZmluZXMgdGhpcyBUaWxlZEltYWdlLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gb3B0aW9ucy52aWV3ZXIgLSBUaGUgVmlld2VyIHRoYXQgb3ducyB0aGlzIFRpbGVkSW1hZ2UuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZUNhY2hlfSBvcHRpb25zLnRpbGVDYWNoZSAtIFRoZSBUaWxlQ2FjaGUgZm9yIHRoaXMgVGlsZWRJbWFnZSB0byB1c2UuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uRHJhd2VyfSBvcHRpb25zLmRyYXdlciAtIFRoZSBEcmF3ZXIgZm9yIHRoaXMgVGlsZWRJbWFnZSB0byBkcmF3IG9udG8uXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uSW1hZ2VMb2FkZXJ9IG9wdGlvbnMuaW1hZ2VMb2FkZXIgLSBUaGUgSW1hZ2VMb2FkZXIgZm9yIHRoaXMgVGlsZWRJbWFnZSB0byB1c2UuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMueD0wXSAtIExlZnQgcG9zaXRpb24sIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnk9MF0gLSBUb3AgcG9zaXRpb24sIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoPTFdIC0gV2lkdGgsIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQsIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlJlY3R9IFtvcHRpb25zLmZpdEJvdW5kc10gVGhlIGJvdW5kcyBpbiB2aWV3cG9ydCBjb29yZGluYXRlc1xuICogdG8gZml0IHRoZSBpbWFnZSBpbnRvLiBJZiBzcGVjaWZpZWQsIHgsIHksIHdpZHRoIGFuZCBoZWlnaHQgZ2V0IGlnbm9yZWQuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBbb3B0aW9ucy5maXRCb3VuZHNQbGFjZW1lbnQ9T3BlblNlYWRyYWdvbi5QbGFjZW1lbnQuQ0VOVEVSXVxuICogSG93IHRvIGFuY2hvciB0aGUgaW1hZ2UgaW4gdGhlIGJvdW5kcyBpZiBvcHRpb25zLmZpdEJvdW5kcyBpcyBzZXQuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdH0gW29wdGlvbnMuY2xpcF0gLSBBbiBhcmVhLCBpbiBpbWFnZSBwaXhlbHMsIHRvIGNsaXAgdG9cbiAqIChwb3J0aW9ucyBvZiB0aGUgaW1hZ2Ugb3V0c2lkZSBvZiB0aGlzIGFyZWEgd2lsbCBub3QgYmUgdmlzaWJsZSkuIE9ubHkgd29ya3Mgb25cbiAqIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0aGUgSFRNTDUgY2FudmFzLlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnNwcmluZ1N0aWZmbmVzc10gLSBTZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFuaW1hdGlvblRpbWVdIC0gU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm1pblpvb21JbWFnZVJhdGlvXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud3JhcEhvcml6b250YWxdIC0gU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53cmFwVmVydGljYWxdIC0gU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pbW1lZGlhdGVSZW5kZXJdIC0gU2VlIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmJsZW5kVGltZV0gLSBTZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFsd2F5c0JsZW5kXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5taW5QaXhlbFJhdGlvXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zbW9vdGhUaWxlRWRnZXNNaW5ab29tXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaU9TRGV2aWNlXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5vcGFjaXR5PTFdIC0gU2V0IHRvIGRyYXcgYXQgcHJvcG9ydGlvbmFsIG9wYWNpdHkuIElmIHplcm8sIGltYWdlcyB3aWxsIG5vdCBkcmF3LlxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5wcmVsb2FkPWZhbHNlXSAtIFNldCB0cnVlIHRvIGxvYWQgZXZlbiB3aGVuIHRoZSBpbWFnZSBpcyBoaWRkZW4gYnkgemVybyBvcGFjaXR5LlxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNvbXBvc2l0ZU9wZXJhdGlvbl0gLSBIb3cgdGhlIGltYWdlIGlzIGNvbXBvc2l0ZWQgb250byBvdGhlciBpbWFnZXM7IHNlZSBjb21wb3NpdGVPcGVyYXRpb24gaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30gZm9yIHBvc3NpYmxlIHZhbHVlcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZGVidWdNb2RlXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7U3RyaW5nfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm58RnVuY3Rpb259IFtvcHRpb25zLnBsYWNlaG9sZGVyRmlsbFN0eWxlXSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7U3RyaW5nfEJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luUG9saWN5XSAtIFNlZSB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYWpheFdpdGhDcmVkZW50aWFsc10gLSBTZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmxvYWRUaWxlc1dpdGhBamF4XVxuICogICAgICBXaGV0aGVyIHRvIGxvYWQgdGlsZSBkYXRhIHVzaW5nIEFKQVggcmVxdWVzdHMuXG4gKiAgICAgIERlZmF1bHRzIHRvIHRoZSBzZXR0aW5nIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmFqYXhIZWFkZXJzPXt9XVxuICogICAgICBBIHNldCBvZiBoZWFkZXJzIHRvIGluY2x1ZGUgd2hlbiBtYWtpbmcgdGlsZSBBSkFYIHJlcXVlc3RzLlxuICovXG4kLlRpbGVkSW1hZ2UgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy50aWxlQ2FjaGUsIFwiW1RpbGVkSW1hZ2VdIG9wdGlvbnMudGlsZUNhY2hlIGlzIHJlcXVpcmVkXCIgKTtcbiAgICAkLmNvbnNvbGUuYXNzZXJ0KCBvcHRpb25zLmRyYXdlciwgXCJbVGlsZWRJbWFnZV0gb3B0aW9ucy5kcmF3ZXIgaXMgcmVxdWlyZWRcIiApO1xuICAgICQuY29uc29sZS5hc3NlcnQoIG9wdGlvbnMudmlld2VyLCBcIltUaWxlZEltYWdlXSBvcHRpb25zLnZpZXdlciBpcyByZXF1aXJlZFwiICk7XG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy5pbWFnZUxvYWRlciwgXCJbVGlsZWRJbWFnZV0gb3B0aW9ucy5pbWFnZUxvYWRlciBpcyByZXF1aXJlZFwiICk7XG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy5zb3VyY2UsIFwiW1RpbGVkSW1hZ2VdIG9wdGlvbnMuc291cmNlIGlzIHJlcXVpcmVkXCIgKTtcbiAgICAkLmNvbnNvbGUuYXNzZXJ0KCFvcHRpb25zLmNsaXAgfHwgb3B0aW9ucy5jbGlwIGluc3RhbmNlb2YgJC5SZWN0LFxuICAgICAgICBcIltUaWxlZEltYWdlXSBvcHRpb25zLmNsaXAgbXVzdCBiZSBhbiBPcGVuU2VhZHJhZ29uLlJlY3QgaWYgcHJlc2VudFwiKTtcblxuICAgICQuRXZlbnRTb3VyY2UuY2FsbCggdGhpcyApO1xuXG4gICAgdGhpcy5fdGlsZUNhY2hlID0gb3B0aW9ucy50aWxlQ2FjaGU7XG4gICAgZGVsZXRlIG9wdGlvbnMudGlsZUNhY2hlO1xuXG4gICAgdGhpcy5fZHJhd2VyID0gb3B0aW9ucy5kcmF3ZXI7XG4gICAgZGVsZXRlIG9wdGlvbnMuZHJhd2VyO1xuXG4gICAgdGhpcy5faW1hZ2VMb2FkZXIgPSBvcHRpb25zLmltYWdlTG9hZGVyO1xuICAgIGRlbGV0ZSBvcHRpb25zLmltYWdlTG9hZGVyO1xuXG4gICAgaWYgKG9wdGlvbnMuY2xpcCBpbnN0YW5jZW9mICQuUmVjdCkge1xuICAgICAgICB0aGlzLl9jbGlwID0gb3B0aW9ucy5jbGlwLmNsb25lKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlIG9wdGlvbnMuY2xpcDtcblxuICAgIHZhciB4ID0gb3B0aW9ucy54IHx8IDA7XG4gICAgZGVsZXRlIG9wdGlvbnMueDtcbiAgICB2YXIgeSA9IG9wdGlvbnMueSB8fCAwO1xuICAgIGRlbGV0ZSBvcHRpb25zLnk7XG5cbiAgICAvLyBSYXRpbyBvZiB6b29tYWJsZSBpbWFnZSBoZWlnaHQgdG8gd2lkdGguXG4gICAgdGhpcy5ub3JtSGVpZ2h0ID0gb3B0aW9ucy5zb3VyY2UuZGltZW5zaW9ucy55IC8gb3B0aW9ucy5zb3VyY2UuZGltZW5zaW9ucy54O1xuICAgIHRoaXMuY29udGVudEFzcGVjdFggPSBvcHRpb25zLnNvdXJjZS5kaW1lbnNpb25zLnggLyBvcHRpb25zLnNvdXJjZS5kaW1lbnNpb25zLnk7XG5cbiAgICB2YXIgc2NhbGUgPSAxO1xuICAgIGlmICggb3B0aW9ucy53aWR0aCApIHtcbiAgICAgICAgc2NhbGUgPSBvcHRpb25zLndpZHRoO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy53aWR0aDtcblxuICAgICAgICBpZiAoIG9wdGlvbnMuaGVpZ2h0ICkge1xuICAgICAgICAgICAgJC5jb25zb2xlLmVycm9yKCBcInNwZWNpZnlpbmcgYm90aCB3aWR0aCBhbmQgaGVpZ2h0IHRvIGEgdGlsZWRJbWFnZSBpcyBub3Qgc3VwcG9ydGVkXCIgKTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIG9wdGlvbnMuaGVpZ2h0ICkge1xuICAgICAgICBzY2FsZSA9IG9wdGlvbnMuaGVpZ2h0IC8gdGhpcy5ub3JtSGVpZ2h0O1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgdmFyIGZpdEJvdW5kcyA9IG9wdGlvbnMuZml0Qm91bmRzO1xuICAgIGRlbGV0ZSBvcHRpb25zLmZpdEJvdW5kcztcbiAgICB2YXIgZml0Qm91bmRzUGxhY2VtZW50ID0gb3B0aW9ucy5maXRCb3VuZHNQbGFjZW1lbnQgfHwgT3BlblNlYWRyYWdvbi5QbGFjZW1lbnQuQ0VOVEVSO1xuICAgIGRlbGV0ZSBvcHRpb25zLmZpdEJvdW5kc1BsYWNlbWVudDtcblxuICAgIHZhciBkZWdyZWVzID0gb3B0aW9ucy5kZWdyZWVzIHx8IDA7XG4gICAgZGVsZXRlIG9wdGlvbnMuZGVncmVlcztcblxuICAgICQuZXh0ZW5kKCB0cnVlLCB0aGlzLCB7XG5cbiAgICAgICAgLy9pbnRlcm5hbCBzdGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZpZXdlcjogICAgICAgICBudWxsLFxuICAgICAgICB0aWxlc01hdHJpeDogICAge30sICAgIC8vIEEgJzNkJyBkaWN0aW9uYXJ5IFtsZXZlbF1beF1beV0gLS0+IFRpbGUuXG4gICAgICAgIGNvdmVyYWdlOiAgICAgICB7fSwgICAgLy8gQSAnM2QnIGRpY3Rpb25hcnkgW2xldmVsXVt4XVt5XSAtLT4gQm9vbGVhbjsgc2hvd3Mgd2hhdCBhcmVhcyBoYXZlIGJlZW4gZHJhd24uXG4gICAgICAgIGxvYWRpbmdDb3ZlcmFnZToge30sICAgLy8gQSAnM2QnIGRpY3Rpb25hcnkgW2xldmVsXVt4XVt5XSAtLT4gQm9vbGVhbjsgc2hvd3Mgd2hhdCBhcmVhcyBhcmUgbG9hZGVkIG9yIGFyZSBiZWluZyBsb2FkZWQvYmxlbmRlZC5cbiAgICAgICAgbGFzdERyYXduOiAgICAgIFtdLCAgICAvLyBBbiB1bm9yZGVyZWQgbGlzdCBvZiBUaWxlcyBkcmF3biBsYXN0IGZyYW1lLlxuICAgICAgICBsYXN0UmVzZXRUaW1lOiAgMCwgICAgIC8vIExhc3QgdGltZSBmb3Igd2hpY2ggdGhlIHRpbGVkSW1hZ2Ugd2FzIHJlc2V0LlxuICAgICAgICBfbWlkRHJhdzogICAgICAgZmFsc2UsIC8vIElzIHRoZSB0aWxlZEltYWdlIGN1cnJlbnRseSB1cGRhdGluZyB0aGUgdmlld3BvcnQ/XG4gICAgICAgIF9uZWVkc0RyYXc6ICAgICB0cnVlLCAgLy8gRG9lcyB0aGUgdGlsZWRJbWFnZSBuZWVkIHRvIHVwZGF0ZSB0aGUgdmlld3BvcnQgYWdhaW4/XG4gICAgICAgIF9oYXNPcGFxdWVUaWxlOiBmYWxzZSwgIC8vIERvIHdlIGhhdmUgZXZlbiBvbmUgZnVsbHkgb3BhcXVlIHRpbGU/XG4gICAgICAgIF90aWxlc0xvYWRpbmc6ICAwLCAgICAgLy8gVGhlIG51bWJlciBvZiBwZW5kaW5nIHRpbGUgcmVxdWVzdHMuXG4gICAgICAgIC8vY29uZmlndXJhYmxlIHNldHRpbmdzXG4gICAgICAgIHNwcmluZ1N0aWZmbmVzczogICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5zcHJpbmdTdGlmZm5lc3MsXG4gICAgICAgIGFuaW1hdGlvblRpbWU6ICAgICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5hbmltYXRpb25UaW1lLFxuICAgICAgICBtaW5ab29tSW1hZ2VSYXRpbzogICAgICAkLkRFRkFVTFRfU0VUVElOR1MubWluWm9vbUltYWdlUmF0aW8sXG4gICAgICAgIHdyYXBIb3Jpem9udGFsOiAgICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy53cmFwSG9yaXpvbnRhbCxcbiAgICAgICAgd3JhcFZlcnRpY2FsOiAgICAgICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLndyYXBWZXJ0aWNhbCxcbiAgICAgICAgaW1tZWRpYXRlUmVuZGVyOiAgICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLmltbWVkaWF0ZVJlbmRlcixcbiAgICAgICAgYmxlbmRUaW1lOiAgICAgICAgICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLmJsZW5kVGltZSxcbiAgICAgICAgYWx3YXlzQmxlbmQ6ICAgICAgICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLmFsd2F5c0JsZW5kLFxuICAgICAgICBtaW5QaXhlbFJhdGlvOiAgICAgICAgICAkLkRFRkFVTFRfU0VUVElOR1MubWluUGl4ZWxSYXRpbyxcbiAgICAgICAgc21vb3RoVGlsZUVkZ2VzTWluWm9vbTogJC5ERUZBVUxUX1NFVFRJTkdTLnNtb290aFRpbGVFZGdlc01pblpvb20sXG4gICAgICAgIGlPU0RldmljZTogICAgICAgICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5pT1NEZXZpY2UsXG4gICAgICAgIGRlYnVnTW9kZTogICAgICAgICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5kZWJ1Z01vZGUsXG4gICAgICAgIGNyb3NzT3JpZ2luUG9saWN5OiAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5jcm9zc09yaWdpblBvbGljeSxcbiAgICAgICAgYWpheFdpdGhDcmVkZW50aWFsczogICAgJC5ERUZBVUxUX1NFVFRJTkdTLmFqYXhXaXRoQ3JlZGVudGlhbHMsXG4gICAgICAgIHBsYWNlaG9sZGVyRmlsbFN0eWxlOiAgICQuREVGQVVMVF9TRVRUSU5HUy5wbGFjZWhvbGRlckZpbGxTdHlsZSxcbiAgICAgICAgb3BhY2l0eTogICAgICAgICAgICAgICAgJC5ERUZBVUxUX1NFVFRJTkdTLm9wYWNpdHksXG4gICAgICAgIHByZWxvYWQ6ICAgICAgICAgICAgICAgICQuREVGQVVMVF9TRVRUSU5HUy5wcmVsb2FkLFxuICAgICAgICBjb21wb3NpdGVPcGVyYXRpb246ICAgICAkLkRFRkFVTFRfU0VUVElOR1MuY29tcG9zaXRlT3BlcmF0aW9uXG4gICAgfSwgb3B0aW9ucyApO1xuXG4gICAgdGhpcy5fcHJlbG9hZCA9IHRoaXMucHJlbG9hZDtcbiAgICBkZWxldGUgdGhpcy5wcmVsb2FkO1xuXG4gICAgdGhpcy5fZnVsbHlMb2FkZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX3hTcHJpbmcgPSBuZXcgJC5TcHJpbmcoe1xuICAgICAgICBpbml0aWFsOiB4LFxuICAgICAgICBzcHJpbmdTdGlmZm5lc3M6IHRoaXMuc3ByaW5nU3RpZmZuZXNzLFxuICAgICAgICBhbmltYXRpb25UaW1lOiB0aGlzLmFuaW1hdGlvblRpbWVcbiAgICB9KTtcblxuICAgIHRoaXMuX3lTcHJpbmcgPSBuZXcgJC5TcHJpbmcoe1xuICAgICAgICBpbml0aWFsOiB5LFxuICAgICAgICBzcHJpbmdTdGlmZm5lc3M6IHRoaXMuc3ByaW5nU3RpZmZuZXNzLFxuICAgICAgICBhbmltYXRpb25UaW1lOiB0aGlzLmFuaW1hdGlvblRpbWVcbiAgICB9KTtcblxuICAgIHRoaXMuX3NjYWxlU3ByaW5nID0gbmV3ICQuU3ByaW5nKHtcbiAgICAgICAgaW5pdGlhbDogc2NhbGUsXG4gICAgICAgIHNwcmluZ1N0aWZmbmVzczogdGhpcy5zcHJpbmdTdGlmZm5lc3MsXG4gICAgICAgIGFuaW1hdGlvblRpbWU6IHRoaXMuYW5pbWF0aW9uVGltZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fZGVncmVlc1NwcmluZyA9IG5ldyAkLlNwcmluZyh7XG4gICAgICAgIGluaXRpYWw6IGRlZ3JlZXMsXG4gICAgICAgIHNwcmluZ1N0aWZmbmVzczogdGhpcy5zcHJpbmdTdGlmZm5lc3MsXG4gICAgICAgIGFuaW1hdGlvblRpbWU6IHRoaXMuYW5pbWF0aW9uVGltZVxuICAgIH0pO1xuXG4gICAgdGhpcy5fdXBkYXRlRm9yU2NhbGUoKTtcblxuICAgIGlmIChmaXRCb3VuZHMpIHtcbiAgICAgICAgdGhpcy5maXRCb3VuZHMoZml0Qm91bmRzLCBmaXRCb3VuZHNQbGFjZW1lbnQsIHRydWUpO1xuICAgIH1cblxuICAgIC8vIFdlIG5lZWQgYSBjYWxsYmFjayB0byBnaXZlIGltYWdlIG1hbmlwdWxhdGlvbiBhIGNoYW5jZSB0byBoYXBwZW5cbiAgICB0aGlzLl9kcmF3aW5nSGFuZGxlciA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIC8qKlxuICAgICAgICogVGhpcyBldmVudCBpcyBmaXJlZCBqdXN0IGJlZm9yZSB0aGUgdGlsZSBpcyBkcmF3biBnaXZpbmcgdGhlIGFwcGxpY2F0aW9uIGEgY2hhbmNlIHRvIGFsdGVyIHRoZSBpbWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBOT1RFOiBUaGlzIGV2ZW50IGlzIG9ubHkgZmlyZWQgd2hlbiB0aGUgZHJhd2VyIGlzIHVzaW5nIGEgJmx0O2NhbnZhcyZndDsuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IHRpbGUtZHJhd2luZ1xuICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZX0gdGlsZSAtIFRoZSBUaWxlIGJlaW5nIGRyYXduLlxuICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IHRpbGVkSW1hZ2UgLSBXaGljaCBUaWxlZEltYWdlIGlzIGJlaW5nIGRyYXduLlxuICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGV9IGNvbnRleHQgLSBUaGUgSFRNTCBjYW52YXMgY29udGV4dCBiZWluZyBkcmF3biBpbnRvLlxuICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGV9IHJlbmRlcmVkIC0gVGhlIEhUTUwgY2FudmFzIGNvbnRleHQgY29udGFpbmluZyB0aGUgdGlsZSBpbWFnZXJ5LlxuICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICovXG4gICAgICAgIF90aGlzLnZpZXdlci5yYWlzZUV2ZW50KCd0aWxlLWRyYXdpbmcnLCAkLmV4dGVuZCh7XG4gICAgICAgICAgICB0aWxlZEltYWdlOiBfdGhpc1xuICAgICAgICB9LCBhcmdzKSk7XG4gICAgfTtcbn07XG5cbiQuZXh0ZW5kKCQuVGlsZWRJbWFnZS5wcm90b3R5cGUsICQuRXZlbnRTb3VyY2UucHJvdG90eXBlLCAvKiogQGxlbmRzIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZS5wcm90b3R5cGUgKi97XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIFRpbGVkSW1hZ2UgbmVlZHMgdG8gYmUgZHJhd24uXG4gICAgICovXG4gICAgbmVlZHNEcmF3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25lZWRzRHJhdztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgYWxsIHRpbGVzIG5lY2Vzc2FyeSBmb3IgdGhpcyBUaWxlZEltYWdlIHRvIGRyYXcgYXQgdGhlIGN1cnJlbnQgdmlldyBoYXZlIGJlZW4gbG9hZGVkLlxuICAgICAqL1xuICAgIGdldEZ1bGx5TG9hZGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Z1bGx5TG9hZGVkO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX3NldEZ1bGx5TG9hZGVkOiBmdW5jdGlvbihmbGFnKSB7XG4gICAgICAgIGlmIChmbGFnID09PSB0aGlzLl9mdWxseUxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZnVsbHlMb2FkZWQgPSBmbGFnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBUaWxlZEltYWdlJ3MgXCJmdWxseSBsb2FkZWRcIiBmbGFnICh3aGV0aGVyIGFsbCB0aWxlcyBuZWNlc3NhcnkgZm9yIHRoaXMgVGlsZWRJbWFnZVxuICAgICAgICAgKiB0byBkcmF3IGF0IHRoZSBjdXJyZW50IHZpZXcgaGF2ZSBiZWVuIGxvYWRlZCkgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IGZ1bGx5LWxvYWRlZC1jaGFuZ2VcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGZ1bGx5TG9hZGVkIC0gVGhlIG5ldyBcImZ1bGx5IGxvYWRlZFwiIHZhbHVlLlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVGlsZWRJbWFnZSB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoJ2Z1bGx5LWxvYWRlZC1jaGFuZ2UnLCB7XG4gICAgICAgICAgICBmdWxseUxvYWRlZDogdGhpcy5fZnVsbHlMb2FkZWRcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgdGlsZXMgYW5kIHRyaWdnZXJzIGFuIHVwZGF0ZSBvbiB0aGUgbmV4dCBjYWxsIHRvXG4gICAgICoge0BsaW5rIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZSN1cGRhdGV9LlxuICAgICAqL1xuICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fdGlsZUNhY2hlLmNsZWFyVGlsZXNGb3IodGhpcyk7XG4gICAgICAgIHRoaXMubGFzdFJlc2V0VGltZSA9ICQubm93KCk7XG4gICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIFRpbGVkSW1hZ2UncyBib3VuZHMsIGFuaW1hdGluZyBpZiBuZWVkZWQuXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIFRpbGVkSW1hZ2UgYW5pbWF0ZWQuXG4gICAgICovXG4gICAgdXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHhVcGRhdGVkID0gdGhpcy5feFNwcmluZy51cGRhdGUoKTtcbiAgICAgICAgdmFyIHlVcGRhdGVkID0gdGhpcy5feVNwcmluZy51cGRhdGUoKTtcbiAgICAgICAgdmFyIHNjYWxlVXBkYXRlZCA9IHRoaXMuX3NjYWxlU3ByaW5nLnVwZGF0ZSgpO1xuICAgICAgICB2YXIgZGVncmVlc1VwZGF0ZWQgPSB0aGlzLl9kZWdyZWVzU3ByaW5nLnVwZGF0ZSgpO1xuXG4gICAgICAgIGlmICh4VXBkYXRlZCB8fCB5VXBkYXRlZCB8fCBzY2FsZVVwZGF0ZWQgfHwgZGVncmVlc1VwZGF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUZvclNjYWxlKCk7XG4gICAgICAgICAgICB0aGlzLl9uZWVkc0RyYXcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBUaWxlZEltYWdlIHRvIGl0cyBEcmF3ZXIuXG4gICAgICovXG4gICAgZHJhdzogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLm9wYWNpdHkgIT09IDAgfHwgdGhpcy5fcHJlbG9hZCkge1xuICAgICAgICAgICAgdGhpcy5fbWlkRHJhdyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVWaWV3cG9ydCgpO1xuICAgICAgICAgICAgdGhpcy5fbWlkRHJhdyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIFRpbGVkSW1hZ2UgKHVubG9hZCBjdXJyZW50IGxvYWRlZCB0aWxlcykuXG4gICAgICovXG4gICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoaXMgVGlsZWRJbWFnZSdzIGJvdW5kcyBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjdXJyZW50PWZhbHNlXSAtIFBhc3MgdHJ1ZSBmb3IgdGhlIGN1cnJlbnQgbG9jYXRpb247XG4gICAgICogZmFsc2UgZm9yIHRhcmdldCBsb2NhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5SZWN0fSBUaGlzIFRpbGVkSW1hZ2UncyBib3VuZHMgaW4gdmlld3BvcnQgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZ2V0Qm91bmRzOiBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJvdW5kc05vUm90YXRlKGN1cnJlbnQpXG4gICAgICAgICAgICAucm90YXRlKHRoaXMuZ2V0Um90YXRpb24oY3VycmVudCksIHRoaXMuX2dldFJvdGF0aW9uUG9pbnQoY3VycmVudCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhpcyBUaWxlZEltYWdlJ3MgYm91bmRzIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzIHdpdGhvdXQgdGFraW5nXG4gICAgICogcm90YXRpb24gaW50byBhY2NvdW50LlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2N1cnJlbnQ9ZmFsc2VdIC0gUGFzcyB0cnVlIGZvciB0aGUgY3VycmVudCBsb2NhdGlvbjtcbiAgICAgKiBmYWxzZSBmb3IgdGFyZ2V0IGxvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IFRoaXMgVGlsZWRJbWFnZSdzIGJvdW5kcyBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRCb3VuZHNOb1JvdGF0ZTogZnVuY3Rpb24oY3VycmVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudCA/XG4gICAgICAgICAgICBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgICAgIHRoaXMuX3hTcHJpbmcuY3VycmVudC52YWx1ZSxcbiAgICAgICAgICAgICAgICB0aGlzLl95U3ByaW5nLmN1cnJlbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgdGhpcy5fd29ybGRXaWR0aEN1cnJlbnQsXG4gICAgICAgICAgICAgICAgdGhpcy5fd29ybGRIZWlnaHRDdXJyZW50KSA6XG4gICAgICAgICAgICBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgICAgIHRoaXMuX3hTcHJpbmcudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIHRoaXMuX3lTcHJpbmcudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmxkV2lkdGhUYXJnZXQsXG4gICAgICAgICAgICAgICAgdGhpcy5fd29ybGRIZWlnaHRUYXJnZXQpO1xuICAgIH0sXG5cbiAgICAvLyBkZXByZWNhdGVkXG4gICAgZ2V0V29ybGRCb3VuZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAkLmNvbnNvbGUuZXJyb3IoJ1tUaWxlZEltYWdlLmdldFdvcmxkQm91bmRzXSBpcyBkZXByZWNhdGVkOyB1c2UgVGlsZWRJbWFnZS5nZXRCb3VuZHMgaW5zdGVhZCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCb3VuZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBib3VuZHMgb2YgdGhlIGRpc3BsYXllZCBwYXJ0IG9mIHRoZSB0aWxlZCBpbWFnZS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjdXJyZW50PWZhbHNlXSBQYXNzIHRydWUgZm9yIHRoZSBjdXJyZW50IGxvY2F0aW9uLFxuICAgICAqIGZhbHNlIGZvciB0aGUgdGFyZ2V0IGxvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHskLlJlY3R9IFRoZSBjbGlwcGVkIGJvdW5kcyBpbiB2aWV3cG9ydCBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBnZXRDbGlwcGVkQm91bmRzOiBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSB0aGlzLmdldEJvdW5kc05vUm90YXRlKGN1cnJlbnQpO1xuICAgICAgICBpZiAodGhpcy5fY2xpcCkge1xuICAgICAgICAgICAgdmFyIHdvcmxkV2lkdGggPSBjdXJyZW50ID9cbiAgICAgICAgICAgICAgICB0aGlzLl93b3JsZFdpZHRoQ3VycmVudCA6IHRoaXMuX3dvcmxkV2lkdGhUYXJnZXQ7XG4gICAgICAgICAgICB2YXIgcmF0aW8gPSB3b3JsZFdpZHRoIC8gdGhpcy5zb3VyY2UuZGltZW5zaW9ucy54O1xuICAgICAgICAgICAgdmFyIGNsaXAgPSB0aGlzLl9jbGlwLnRpbWVzKHJhdGlvKTtcbiAgICAgICAgICAgIGJvdW5kcyA9IG5ldyAkLlJlY3QoXG4gICAgICAgICAgICAgICAgYm91bmRzLnggKyBjbGlwLngsXG4gICAgICAgICAgICAgICAgYm91bmRzLnkgKyBjbGlwLnksXG4gICAgICAgICAgICAgICAgY2xpcC53aWR0aCxcbiAgICAgICAgICAgICAgICBjbGlwLmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJvdW5kcy5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbihjdXJyZW50KSwgdGhpcy5fZ2V0Um90YXRpb25Qb2ludChjdXJyZW50KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBUaGlzIFRpbGVkSW1hZ2UncyBjb250ZW50IHNpemUsIGluIG9yaWdpbmFsIHBpeGVscy5cbiAgICAgKi9cbiAgICBnZXRDb250ZW50U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCh0aGlzLnNvdXJjZS5kaW1lbnNpb25zLngsIHRoaXMuc291cmNlLmRpbWVuc2lvbnMueSk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfdmlld3BvcnRUb0ltYWdlRGVsdGE6IGZ1bmN0aW9uKCB2aWV3ZXJYLCB2aWV3ZXJZLCBjdXJyZW50ICkge1xuICAgICAgICB2YXIgc2NhbGUgPSAoY3VycmVudCA/IHRoaXMuX3NjYWxlU3ByaW5nLmN1cnJlbnQudmFsdWUgOiB0aGlzLl9zY2FsZVNwcmluZy50YXJnZXQudmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3ICQuUG9pbnQodmlld2VyWCAqICh0aGlzLnNvdXJjZS5kaW1lbnNpb25zLnggLyBzY2FsZSksXG4gICAgICAgICAgICB2aWV3ZXJZICogKCh0aGlzLnNvdXJjZS5kaW1lbnNpb25zLnkgKiB0aGlzLmNvbnRlbnRBc3BlY3RYKSAvIHNjYWxlKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgZnJvbSBPcGVuU2VhZHJhZ29uIHZpZXdlciBjb29yZGluYXRlIHN5c3RlbSB0byBpbWFnZSBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGVpdGhlciBieSBwYXNzaW5nIFgsWSBjb29yZGluYXRlcyBvciBhbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5Qb2ludH0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8T3BlblNlYWRyYWdvbi5Qb2ludH0gdmlld2VyWCAtIFRoZSBYIGNvb3JkaW5hdGUgb3IgcG9pbnQgaW4gdmlld3BvcnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt2aWV3ZXJZXSAtIFRoZSBZIGNvb3JkaW5hdGUgaW4gdmlld3BvcnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY3VycmVudD1mYWxzZV0gLSBQYXNzIHRydWUgdG8gdXNlIHRoZSBjdXJyZW50IGxvY2F0aW9uOyBmYWxzZSBmb3IgdGFyZ2V0IGxvY2F0aW9uLlxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uUG9pbnR9IEEgcG9pbnQgcmVwcmVzZW50aW5nIHRoZSBjb29yZGluYXRlcyBpbiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgdmlld3BvcnRUb0ltYWdlQ29vcmRpbmF0ZXM6IGZ1bmN0aW9uKHZpZXdlclgsIHZpZXdlclksIGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHBvaW50O1xuICAgICAgICBpZiAodmlld2VyWCBpbnN0YW5jZW9mICQuUG9pbnQpIHtcbiAgICAgICAgICAgIC8vdGhleSBwYXNzZWQgYSBwb2ludCBpbnN0ZWFkIG9mIGluZGl2aWR1YWwgY29tcG9uZW50c1xuICAgICAgICAgICAgY3VycmVudCA9IHZpZXdlclk7XG4gICAgICAgICAgICBwb2ludCA9IHZpZXdlclg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludCA9IG5ldyAkLlBvaW50KHZpZXdlclgsIHZpZXdlclkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnQgPSBwb2ludC5yb3RhdGUoLXRoaXMuZ2V0Um90YXRpb24oY3VycmVudCksIHRoaXMuX2dldFJvdGF0aW9uUG9pbnQoY3VycmVudCkpO1xuICAgICAgICByZXR1cm4gY3VycmVudCA/XG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydFRvSW1hZ2VEZWx0YShcbiAgICAgICAgICAgICAgICBwb2ludC54IC0gdGhpcy5feFNwcmluZy5jdXJyZW50LnZhbHVlLFxuICAgICAgICAgICAgICAgIHBvaW50LnkgLSB0aGlzLl95U3ByaW5nLmN1cnJlbnQudmFsdWUpIDpcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdwb3J0VG9JbWFnZURlbHRhKFxuICAgICAgICAgICAgICAgIHBvaW50LnggLSB0aGlzLl94U3ByaW5nLnRhcmdldC52YWx1ZSxcbiAgICAgICAgICAgICAgICBwb2ludC55IC0gdGhpcy5feVNwcmluZy50YXJnZXQudmFsdWUpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX2ltYWdlVG9WaWV3cG9ydERlbHRhOiBmdW5jdGlvbiggaW1hZ2VYLCBpbWFnZVksIGN1cnJlbnQgKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IChjdXJyZW50ID8gdGhpcy5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZSA6IHRoaXMuX3NjYWxlU3ByaW5nLnRhcmdldC52YWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgJC5Qb2ludCgoaW1hZ2VYIC8gdGhpcy5zb3VyY2UuZGltZW5zaW9ucy54KSAqIHNjYWxlLFxuICAgICAgICAgICAgKGltYWdlWSAvIHRoaXMuc291cmNlLmRpbWVuc2lvbnMueSAvIHRoaXMuY29udGVudEFzcGVjdFgpICogc2NhbGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGZyb20gaW1hZ2UgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gT3BlblNlYWRyYWdvbiB2aWV3ZXIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGVpdGhlciBieSBwYXNzaW5nIFgsWSBjb29yZGluYXRlcyBvciBhbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5Qb2ludH0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8T3BlblNlYWRyYWdvbi5Qb2ludH0gaW1hZ2VYIC0gVGhlIFggY29vcmRpbmF0ZSBvciBwb2ludCBpbiBpbWFnZSBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2ltYWdlWV0gLSBUaGUgWSBjb29yZGluYXRlIGluIGltYWdlIGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2N1cnJlbnQ9ZmFsc2VdIC0gUGFzcyB0cnVlIHRvIHVzZSB0aGUgY3VycmVudCBsb2NhdGlvbjsgZmFsc2UgZm9yIHRhcmdldCBsb2NhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBBIHBvaW50IHJlcHJlc2VudGluZyB0aGUgY29vcmRpbmF0ZXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIGltYWdlVG9WaWV3cG9ydENvb3JkaW5hdGVzOiBmdW5jdGlvbihpbWFnZVgsIGltYWdlWSwgY3VycmVudCkge1xuICAgICAgICBpZiAoaW1hZ2VYIGluc3RhbmNlb2YgJC5Qb2ludCkge1xuICAgICAgICAgICAgLy90aGV5IHBhc3NlZCBhIHBvaW50IGluc3RlYWQgb2YgaW5kaXZpZHVhbCBjb21wb25lbnRzXG4gICAgICAgICAgICBjdXJyZW50ID0gaW1hZ2VZO1xuICAgICAgICAgICAgaW1hZ2VZID0gaW1hZ2VYLnk7XG4gICAgICAgICAgICBpbWFnZVggPSBpbWFnZVgueDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMuX2ltYWdlVG9WaWV3cG9ydERlbHRhKGltYWdlWCwgaW1hZ2VZKTtcbiAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHBvaW50LnggKz0gdGhpcy5feFNwcmluZy5jdXJyZW50LnZhbHVlO1xuICAgICAgICAgICAgcG9pbnQueSArPSB0aGlzLl95U3ByaW5nLmN1cnJlbnQudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb2ludC54ICs9IHRoaXMuX3hTcHJpbmcudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgcG9pbnQueSArPSB0aGlzLl95U3ByaW5nLnRhcmdldC52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwb2ludC5yb3RhdGUodGhpcy5nZXRSb3RhdGlvbihjdXJyZW50KSwgdGhpcy5fZ2V0Um90YXRpb25Qb2ludChjdXJyZW50KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgZnJvbSBhIHJlY3RhbmdsZSB3aGljaCBkZXNjcmliZXMgYSBwb3J0aW9uIG9mIHRoZSBpbWFnZSBpblxuICAgICAqIHBpeGVsIGNvb3JkaW5hdGVzIHRvIE9wZW5TZWFkcmFnb24gdmlld3BvcnQgcmVjdGFuZ2xlIGNvb3JkaW5hdGVzLlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgZWl0aGVyIGJ5IHBhc3NpbmcgWCxZLHdpZHRoLGhlaWdodCBvciBhbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5SZWN0fS5cbiAgICAgKiBAcGFyYW0ge051bWJlcnxPcGVuU2VhZHJhZ29uLlJlY3R9IGltYWdlWCAtIFRoZSBsZWZ0IGNvb3JkaW5hdGUgb3IgcmVjdGFuZ2xlIGluIGltYWdlIGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW1hZ2VZXSAtIFRoZSB0b3AgY29vcmRpbmF0ZSBpbiBpbWFnZSBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BpeGVsV2lkdGhdIC0gVGhlIHdpZHRoIGluIHBpeGVsIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwaXhlbEhlaWdodF0gLSBUaGUgaGVpZ2h0IGluIHBpeGVsIG9mIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY3VycmVudD1mYWxzZV0gLSBQYXNzIHRydWUgdG8gdXNlIHRoZSBjdXJyZW50IGxvY2F0aW9uOyBmYWxzZSBmb3IgdGFyZ2V0IGxvY2F0aW9uLlxuICAgICAqIEByZXR1cm4ge09wZW5TZWFkcmFnb24uUmVjdH0gQSByZWN0IHJlcHJlc2VudGluZyB0aGUgY29vcmRpbmF0ZXMgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqL1xuICAgIGltYWdlVG9WaWV3cG9ydFJlY3RhbmdsZTogZnVuY3Rpb24oaW1hZ2VYLCBpbWFnZVksIHBpeGVsV2lkdGgsIHBpeGVsSGVpZ2h0LCBjdXJyZW50KSB7XG4gICAgICAgIHZhciByZWN0ID0gaW1hZ2VYO1xuICAgICAgICBpZiAocmVjdCBpbnN0YW5jZW9mICQuUmVjdCkge1xuICAgICAgICAgICAgLy90aGV5IHBhc3NlZCBhIHJlY3QgaW5zdGVhZCBvZiBpbmRpdmlkdWFsIGNvbXBvbmVudHNcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpbWFnZVk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWN0ID0gbmV3ICQuUmVjdChpbWFnZVgsIGltYWdlWSwgcGl4ZWxXaWR0aCwgcGl4ZWxIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvb3JkQSA9IHRoaXMuaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMocmVjdC5nZXRUb3BMZWZ0KCksIGN1cnJlbnQpO1xuICAgICAgICB2YXIgY29vcmRCID0gdGhpcy5faW1hZ2VUb1ZpZXdwb3J0RGVsdGEocmVjdC53aWR0aCwgcmVjdC5oZWlnaHQsIGN1cnJlbnQpO1xuXG4gICAgICAgIHJldHVybiBuZXcgJC5SZWN0KFxuICAgICAgICAgICAgY29vcmRBLngsXG4gICAgICAgICAgICBjb29yZEEueSxcbiAgICAgICAgICAgIGNvb3JkQi54LFxuICAgICAgICAgICAgY29vcmRCLnksXG4gICAgICAgICAgICByZWN0LmRlZ3JlZXMgKyB0aGlzLmdldFJvdGF0aW9uKGN1cnJlbnQpXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgZnJvbSBhIHJlY3RhbmdsZSB3aGljaCBkZXNjcmliZXMgYSBwb3J0aW9uIG9mXG4gICAgICogdGhlIHZpZXdwb3J0IGluIHBvaW50IGNvb3JkaW5hdGVzIHRvIGltYWdlIHJlY3RhbmdsZSBjb29yZGluYXRlcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIGVpdGhlciBieSBwYXNzaW5nIFgsWSx3aWR0aCxoZWlnaHQgb3IgYW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uUmVjdH0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8T3BlblNlYWRyYWdvbi5SZWN0fSB2aWV3ZXJYIC0gVGhlIGxlZnQgY29vcmRpbmF0ZSBvciByZWN0YW5nbGUgaW4gdmlld3BvcnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt2aWV3ZXJZXSAtIFRoZSB0b3AgY29vcmRpbmF0ZSBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3BvaW50V2lkdGhdIC0gVGhlIHdpZHRoIGluIHZpZXdwb3J0IGNvb3JkaW5hdGUgc3lzdGVtLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9pbnRIZWlnaHRdIC0gVGhlIGhlaWdodCBpbiB2aWV3cG9ydCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjdXJyZW50PWZhbHNlXSAtIFBhc3MgdHJ1ZSB0byB1c2UgdGhlIGN1cnJlbnQgbG9jYXRpb247IGZhbHNlIGZvciB0YXJnZXQgbG9jYXRpb24uXG4gICAgICogQHJldHVybiB7T3BlblNlYWRyYWdvbi5SZWN0fSBBIHJlY3QgcmVwcmVzZW50aW5nIHRoZSBjb29yZGluYXRlcyBpbiB0aGUgaW1hZ2UuXG4gICAgICovXG4gICAgdmlld3BvcnRUb0ltYWdlUmVjdGFuZ2xlOiBmdW5jdGlvbiggdmlld2VyWCwgdmlld2VyWSwgcG9pbnRXaWR0aCwgcG9pbnRIZWlnaHQsIGN1cnJlbnQgKSB7XG4gICAgICAgIHZhciByZWN0ID0gdmlld2VyWDtcbiAgICAgICAgaWYgKHZpZXdlclggaW5zdGFuY2VvZiAkLlJlY3QpIHtcbiAgICAgICAgICAgIC8vdGhleSBwYXNzZWQgYSByZWN0IGluc3RlYWQgb2YgaW5kaXZpZHVhbCBjb21wb25lbnRzXG4gICAgICAgICAgICBjdXJyZW50ID0gdmlld2VyWTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlY3QgPSBuZXcgJC5SZWN0KHZpZXdlclgsIHZpZXdlclksIHBvaW50V2lkdGgsIHBvaW50SGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb29yZEEgPSB0aGlzLnZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzKHJlY3QuZ2V0VG9wTGVmdCgpLCBjdXJyZW50KTtcbiAgICAgICAgdmFyIGNvb3JkQiA9IHRoaXMuX3ZpZXdwb3J0VG9JbWFnZURlbHRhKHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0LCBjdXJyZW50KTtcblxuICAgICAgICByZXR1cm4gbmV3ICQuUmVjdChcbiAgICAgICAgICAgIGNvb3JkQS54LFxuICAgICAgICAgICAgY29vcmRBLnksXG4gICAgICAgICAgICBjb29yZEIueCxcbiAgICAgICAgICAgIGNvb3JkQi55LFxuICAgICAgICAgICAgcmVjdC5kZWdyZWVzIC0gdGhpcy5nZXRSb3RhdGlvbihjdXJyZW50KVxuICAgICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHBpeGVsIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSB2aWV3ZXIgZWxlbWVudCB0byBpbWFnZVxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcGl4ZWxcbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICB2aWV3ZXJFbGVtZW50VG9JbWFnZUNvb3JkaW5hdGVzOiBmdW5jdGlvbiggcGl4ZWwgKSB7XG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMudmlld3BvcnQucG9pbnRGcm9tUGl4ZWwoIHBpeGVsLCB0cnVlICk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0VG9JbWFnZUNvb3JkaW5hdGVzKCBwb2ludCApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHBpeGVsIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSBpbWFnZSB0b1xuICAgICAqIHZpZXdlciBlbGVtZW50IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcGl4ZWxcbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICBpbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzOiBmdW5jdGlvbiggcGl4ZWwgKSB7XG4gICAgICAgIHZhciBwb2ludCA9IHRoaXMuaW1hZ2VUb1ZpZXdwb3J0Q29vcmRpbmF0ZXMoIHBpeGVsICk7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50KCBwb2ludCwgdHJ1ZSApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHBpeGVsIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cgdG8gaW1hZ2UgY29vcmRpbmF0ZXMuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwaXhlbFxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAqL1xuICAgIHdpbmRvd1RvSW1hZ2VDb29yZGluYXRlczogZnVuY3Rpb24oIHBpeGVsICkge1xuICAgICAgICB2YXIgdmlld2VyQ29vcmRpbmF0ZXMgPSBwaXhlbC5taW51cyhcbiAgICAgICAgICAgICAgICBPcGVuU2VhZHJhZ29uLmdldEVsZW1lbnRQb3NpdGlvbiggdGhpcy52aWV3ZXIuZWxlbWVudCApKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyRWxlbWVudFRvSW1hZ2VDb29yZGluYXRlcyggdmlld2VyQ29vcmRpbmF0ZXMgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBpbWFnZSBjb29yZGluYXRlcyB0byBwaXhlbCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgd2luZG93LlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gcGl4ZWxcbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5Qb2ludH1cbiAgICAgKi9cbiAgICBpbWFnZVRvV2luZG93Q29vcmRpbmF0ZXM6IGZ1bmN0aW9uKCBwaXhlbCApIHtcbiAgICAgICAgdmFyIHZpZXdlckNvb3JkaW5hdGVzID0gdGhpcy5pbWFnZVRvVmlld2VyRWxlbWVudENvb3JkaW5hdGVzKCBwaXhlbCApO1xuICAgICAgICByZXR1cm4gdmlld2VyQ29vcmRpbmF0ZXMucGx1cyhcbiAgICAgICAgICAgICAgICBPcGVuU2VhZHJhZ29uLmdldEVsZW1lbnRQb3NpdGlvbiggdGhpcy52aWV3ZXIuZWxlbWVudCApKTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIC8vIENvbnZlcnQgcmVjdGFuZ2xlIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzIHRvIHRoaXMgdGlsZWQgaW1hZ2UgcG9pbnRcbiAgICAvLyBjb29yZGluYXRlcyAoeCBpbiBbMCwgMV0gYW5kIHkgaW4gWzAsIGFzcGVjdFJhdGlvXSlcbiAgICBfdmlld3BvcnRUb1RpbGVkSW1hZ2VSZWN0YW5nbGU6IGZ1bmN0aW9uKHJlY3QpIHtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZTtcbiAgICAgICAgcmVjdCA9IHJlY3Qucm90YXRlKC10aGlzLmdldFJvdGF0aW9uKHRydWUpLCB0aGlzLl9nZXRSb3RhdGlvblBvaW50KHRydWUpKTtcbiAgICAgICAgcmV0dXJuIG5ldyAkLlJlY3QoXG4gICAgICAgICAgICAocmVjdC54IC0gdGhpcy5feFNwcmluZy5jdXJyZW50LnZhbHVlKSAvIHNjYWxlLFxuICAgICAgICAgICAgKHJlY3QueSAtIHRoaXMuX3lTcHJpbmcuY3VycmVudC52YWx1ZSkgLyBzY2FsZSxcbiAgICAgICAgICAgIHJlY3Qud2lkdGggLyBzY2FsZSxcbiAgICAgICAgICAgIHJlY3QuaGVpZ2h0IC8gc2NhbGUsXG4gICAgICAgICAgICByZWN0LmRlZ3JlZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IGEgdmlld3BvcnQgem9vbSB0byBhbiBpbWFnZSB6b29tLlxuICAgICAqIEltYWdlIHpvb206IHJhdGlvIG9mIHRoZSBvcmlnaW5hbCBpbWFnZSBzaXplIHRvIGRpc3BsYXllZCBpbWFnZSBzaXplLlxuICAgICAqIDEgbWVhbnMgb3JpZ2luYWwgaW1hZ2Ugc2l6ZSwgMC41IGhhbGYgc2l6ZS4uLlxuICAgICAqIFZpZXdwb3J0IHpvb206IHJhdGlvIG9mIHRoZSBkaXNwbGF5ZWQgaW1hZ2UncyB3aWR0aCB0byB2aWV3cG9ydCdzIHdpZHRoLlxuICAgICAqIDEgbWVhbnMgaWRlbnRpY2FsIHdpZHRoLCAyIG1lYW5zIGltYWdlJ3Mgd2lkdGggaXMgdHdpY2UgdGhlIHZpZXdwb3J0J3Mgd2lkdGguLi5cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmlld3BvcnRab29tIFRoZSB2aWV3cG9ydCB6b29tXG4gICAgICogQHJldHVybnMge051bWJlcn0gaW1hZ2Vab29tIFRoZSBpbWFnZSB6b29tXG4gICAgICovXG4gICAgdmlld3BvcnRUb0ltYWdlWm9vbTogZnVuY3Rpb24oIHZpZXdwb3J0Wm9vbSApIHtcbiAgICAgICAgdmFyIHJhdGlvID0gdGhpcy5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZSAqXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cG9ydC5fY29udGFpbmVySW5uZXJTaXplLnggLyB0aGlzLnNvdXJjZS5kaW1lbnNpb25zLng7XG4gICAgICAgIHJldHVybiByYXRpbyAqIHZpZXdwb3J0Wm9vbTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBhbiBpbWFnZSB6b29tIHRvIGEgdmlld3BvcnQgem9vbS5cbiAgICAgKiBJbWFnZSB6b29tOiByYXRpbyBvZiB0aGUgb3JpZ2luYWwgaW1hZ2Ugc2l6ZSB0byBkaXNwbGF5ZWQgaW1hZ2Ugc2l6ZS5cbiAgICAgKiAxIG1lYW5zIG9yaWdpbmFsIGltYWdlIHNpemUsIDAuNSBoYWxmIHNpemUuLi5cbiAgICAgKiBWaWV3cG9ydCB6b29tOiByYXRpbyBvZiB0aGUgZGlzcGxheWVkIGltYWdlJ3Mgd2lkdGggdG8gdmlld3BvcnQncyB3aWR0aC5cbiAgICAgKiAxIG1lYW5zIGlkZW50aWNhbCB3aWR0aCwgMiBtZWFucyBpbWFnZSdzIHdpZHRoIGlzIHR3aWNlIHRoZSB2aWV3cG9ydCdzIHdpZHRoLi4uXG4gICAgICogTm90ZTogbm90IGFjY3VyYXRlIHdpdGggbXVsdGktaW1hZ2UuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGltYWdlWm9vbSBUaGUgaW1hZ2Ugem9vbVxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IHZpZXdwb3J0Wm9vbSBUaGUgdmlld3BvcnQgem9vbVxuICAgICAqL1xuICAgIGltYWdlVG9WaWV3cG9ydFpvb206IGZ1bmN0aW9uKCBpbWFnZVpvb20gKSB7XG4gICAgICAgIHZhciByYXRpbyA9IHRoaXMuX3NjYWxlU3ByaW5nLmN1cnJlbnQudmFsdWUgKlxuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQuX2NvbnRhaW5lcklubmVyU2l6ZS54IC8gdGhpcy5zb3VyY2UuZGltZW5zaW9ucy54O1xuICAgICAgICByZXR1cm4gaW1hZ2Vab29tIC8gcmF0aW87XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIFRpbGVkSW1hZ2UncyBwb3NpdGlvbiBpbiB0aGUgd29ybGQuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSBwb3NpdGlvbiAtIFRoZSBuZXcgcG9zaXRpb24sIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXSAtIFdoZXRoZXIgdG8gYW5pbWF0ZSB0byB0aGUgbmV3IHBvc2l0aW9uIG9yIHNuYXAgaW1tZWRpYXRlbHkuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZS5ldmVudDpib3VuZHMtY2hhbmdlXG4gICAgICovXG4gICAgc2V0UG9zaXRpb246IGZ1bmN0aW9uKHBvc2l0aW9uLCBpbW1lZGlhdGVseSkge1xuICAgICAgICB2YXIgc2FtZVRhcmdldCA9ICh0aGlzLl94U3ByaW5nLnRhcmdldC52YWx1ZSA9PT0gcG9zaXRpb24ueCAmJlxuICAgICAgICAgICAgdGhpcy5feVNwcmluZy50YXJnZXQudmFsdWUgPT09IHBvc2l0aW9uLnkpO1xuXG4gICAgICAgIGlmIChpbW1lZGlhdGVseSkge1xuICAgICAgICAgICAgaWYgKHNhbWVUYXJnZXQgJiYgdGhpcy5feFNwcmluZy5jdXJyZW50LnZhbHVlID09PSBwb3NpdGlvbi54ICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3lTcHJpbmcuY3VycmVudC52YWx1ZSA9PT0gcG9zaXRpb24ueSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5feFNwcmluZy5yZXNldFRvKHBvc2l0aW9uLngpO1xuICAgICAgICAgICAgdGhpcy5feVNwcmluZy5yZXNldFRvKHBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgdGhpcy5fbmVlZHNEcmF3ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzYW1lVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl94U3ByaW5nLnNwcmluZ1RvKHBvc2l0aW9uLngpO1xuICAgICAgICAgICAgdGhpcy5feVNwcmluZy5zcHJpbmdUbyhwb3NpdGlvbi55KTtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNhbWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhaXNlQm91bmRzQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgVGlsZWRJbWFnZSdzIHdpZHRoIGluIHRoZSB3b3JsZCwgYWRqdXN0aW5nIHRoZSBoZWlnaHQgdG8gbWF0Y2ggYmFzZWQgb24gYXNwZWN0IHJhdGlvLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIFRoZSBuZXcgd2lkdGgsIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXSAtIFdoZXRoZXIgdG8gYW5pbWF0ZSB0byB0aGUgbmV3IHNpemUgb3Igc25hcCBpbW1lZGlhdGVseS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5UaWxlZEltYWdlLmV2ZW50OmJvdW5kcy1jaGFuZ2VcbiAgICAgKi9cbiAgICBzZXRXaWR0aDogZnVuY3Rpb24od2lkdGgsIGltbWVkaWF0ZWx5KSB7XG4gICAgICAgIHRoaXMuX3NldFNjYWxlKHdpZHRoLCBpbW1lZGlhdGVseSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIFRpbGVkSW1hZ2UncyBoZWlnaHQgaW4gdGhlIHdvcmxkLCBhZGp1c3RpbmcgdGhlIHdpZHRoIHRvIG1hdGNoIGJhc2VkIG9uIGFzcGVjdCByYXRpby5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQsIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXSAtIFdoZXRoZXIgdG8gYW5pbWF0ZSB0byB0aGUgbmV3IHNpemUgb3Igc25hcCBpbW1lZGlhdGVseS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5UaWxlZEltYWdlLmV2ZW50OmJvdW5kcy1jaGFuZ2VcbiAgICAgKi9cbiAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCwgaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgdGhpcy5fc2V0U2NhbGUoaGVpZ2h0IC8gdGhpcy5ub3JtSGVpZ2h0LCBpbW1lZGlhdGVseSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBvc2l0aW9ucyBhbmQgc2NhbGVzIHRoZSBUaWxlZEltYWdlIHRvIGZpdCBpbiB0aGUgc3BlY2lmaWVkIGJvdW5kcy5cbiAgICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBmaXJlcyBPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2UuZXZlbnQ6Ym91bmRzLWNoYW5nZVxuICAgICAqIHR3aWNlXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlJlY3R9IGJvdW5kcyBUaGUgYm91bmRzIHRvIGZpdCB0aGUgaW1hZ2UgaW50by5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUGxhY2VtZW50fSBbYW5jaG9yPU9wZW5TZWFkcmFnb24uUGxhY2VtZW50LkNFTlRFUl1cbiAgICAgKiBIb3cgdG8gYW5jaG9yIHRoZSBpbWFnZSBpbiB0aGUgYm91bmRzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ltbWVkaWF0ZWx5PWZhbHNlXSBXaGV0aGVyIHRvIGFuaW1hdGUgdG8gdGhlIG5ldyBzaXplXG4gICAgICogb3Igc25hcCBpbW1lZGlhdGVseS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5UaWxlZEltYWdlLmV2ZW50OmJvdW5kcy1jaGFuZ2VcbiAgICAgKi9cbiAgICBmaXRCb3VuZHM6IGZ1bmN0aW9uKGJvdW5kcywgYW5jaG9yLCBpbW1lZGlhdGVseSkge1xuICAgICAgICBhbmNob3IgPSBhbmNob3IgfHwgJC5QbGFjZW1lbnQuQ0VOVEVSO1xuICAgICAgICB2YXIgYW5jaG9yUHJvcGVydGllcyA9ICQuUGxhY2VtZW50LnByb3BlcnRpZXNbYW5jaG9yXTtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gdGhpcy5jb250ZW50QXNwZWN0WDtcbiAgICAgICAgdmFyIHhPZmZzZXQgPSAwO1xuICAgICAgICB2YXIgeU9mZnNldCA9IDA7XG4gICAgICAgIHZhciBkaXNwbGF5ZWRXaWR0aFJhdGlvID0gMTtcbiAgICAgICAgdmFyIGRpc3BsYXllZEhlaWdodFJhdGlvID0gMTtcbiAgICAgICAgaWYgKHRoaXMuX2NsaXApIHtcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvID0gdGhpcy5fY2xpcC5nZXRBc3BlY3RSYXRpbygpO1xuICAgICAgICAgICAgZGlzcGxheWVkV2lkdGhSYXRpbyA9IHRoaXMuX2NsaXAud2lkdGggLyB0aGlzLnNvdXJjZS5kaW1lbnNpb25zLng7XG4gICAgICAgICAgICBkaXNwbGF5ZWRIZWlnaHRSYXRpbyA9IHRoaXMuX2NsaXAuaGVpZ2h0IC8gdGhpcy5zb3VyY2UuZGltZW5zaW9ucy55O1xuICAgICAgICAgICAgaWYgKGJvdW5kcy5nZXRBc3BlY3RSYXRpbygpID4gYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0ID0gdGhpcy5fY2xpcC54IC8gdGhpcy5fY2xpcC5oZWlnaHQgKiBib3VuZHMuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHlPZmZzZXQgPSB0aGlzLl9jbGlwLnkgLyB0aGlzLl9jbGlwLmhlaWdodCAqIGJvdW5kcy5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHhPZmZzZXQgPSB0aGlzLl9jbGlwLnggLyB0aGlzLl9jbGlwLndpZHRoICogYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgICAgIHlPZmZzZXQgPSB0aGlzLl9jbGlwLnkgLyB0aGlzLl9jbGlwLndpZHRoICogYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvdW5kcy5nZXRBc3BlY3RSYXRpbygpID4gYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgIC8vIFdlIHdpbGwgaGF2ZSBtYXJnaW5zIG9uIHRoZSBYIGF4aXNcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC8gZGlzcGxheWVkSGVpZ2h0UmF0aW87XG4gICAgICAgICAgICB2YXIgbWFyZ2luTGVmdCA9IDA7XG4gICAgICAgICAgICBpZiAoYW5jaG9yUHJvcGVydGllcy5pc0hvcml6b250YWxseUNlbnRlcmVkKSB7XG4gICAgICAgICAgICAgICAgbWFyZ2luTGVmdCA9IChib3VuZHMud2lkdGggLSBib3VuZHMuaGVpZ2h0ICogYXNwZWN0UmF0aW8pIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5jaG9yUHJvcGVydGllcy5pc1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgbWFyZ2luTGVmdCA9IGJvdW5kcy53aWR0aCAtIGJvdW5kcy5oZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24oXG4gICAgICAgICAgICAgICAgbmV3ICQuUG9pbnQoYm91bmRzLnggLSB4T2Zmc2V0ICsgbWFyZ2luTGVmdCwgYm91bmRzLnkgLSB5T2Zmc2V0KSxcbiAgICAgICAgICAgICAgICBpbW1lZGlhdGVseSk7XG4gICAgICAgICAgICB0aGlzLnNldEhlaWdodChoZWlnaHQsIGltbWVkaWF0ZWx5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIHdpbGwgaGF2ZSBtYXJnaW5zIG9uIHRoZSBZIGF4aXNcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGJvdW5kcy53aWR0aCAvIGRpc3BsYXllZFdpZHRoUmF0aW87XG4gICAgICAgICAgICB2YXIgbWFyZ2luVG9wID0gMDtcbiAgICAgICAgICAgIGlmIChhbmNob3JQcm9wZXJ0aWVzLmlzVmVydGljYWxseUNlbnRlcmVkKSB7XG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wID0gKGJvdW5kcy5oZWlnaHQgLSBib3VuZHMud2lkdGggLyBhc3BlY3RSYXRpbykgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhbmNob3JQcm9wZXJ0aWVzLmlzQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wID0gYm91bmRzLmhlaWdodCAtIGJvdW5kcy53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihcbiAgICAgICAgICAgICAgICBuZXcgJC5Qb2ludChib3VuZHMueCAtIHhPZmZzZXQsIGJvdW5kcy55IC0geU9mZnNldCArIG1hcmdpblRvcCksXG4gICAgICAgICAgICAgICAgaW1tZWRpYXRlbHkpO1xuICAgICAgICAgICAgdGhpcy5zZXRXaWR0aCh3aWR0aCwgaW1tZWRpYXRlbHkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R8bnVsbH0gVGhlIFRpbGVkSW1hZ2UncyBjdXJyZW50IGNsaXAgcmVjdGFuZ2xlLFxuICAgICAqIGluIGltYWdlIHBpeGVscywgb3IgbnVsbCBpZiBub25lLlxuICAgICAqL1xuICAgIGdldENsaXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fY2xpcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NsaXAuY2xvbmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uUmVjdHxudWxsfSBuZXdDbGlwIC0gQW4gYXJlYSwgaW4gaW1hZ2UgcGl4ZWxzLCB0byBjbGlwIHRvXG4gICAgICogKHBvcnRpb25zIG9mIHRoZSBpbWFnZSBvdXRzaWRlIG9mIHRoaXMgYXJlYSB3aWxsIG5vdCBiZSB2aXNpYmxlKS4gT25seSB3b3JrcyBvblxuICAgICAqIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0aGUgSFRNTDUgY2FudmFzLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2UuZXZlbnQ6Y2xpcC1jaGFuZ2VcbiAgICAgKi9cbiAgICBzZXRDbGlwOiBmdW5jdGlvbihuZXdDbGlwKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoIW5ld0NsaXAgfHwgbmV3Q2xpcCBpbnN0YW5jZW9mICQuUmVjdCxcbiAgICAgICAgICAgIFwiW1RpbGVkSW1hZ2Uuc2V0Q2xpcF0gbmV3Q2xpcCBtdXN0IGJlIGFuIE9wZW5TZWFkcmFnb24uUmVjdCBvciBudWxsXCIpO1xuXG4gICAgICAgIGlmIChuZXdDbGlwIGluc3RhbmNlb2YgJC5SZWN0KSB7XG4gICAgICAgICAgICB0aGlzLl9jbGlwID0gbmV3Q2xpcC5jbG9uZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY2xpcCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9uZWVkc0RyYXcgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIFRpbGVkSW1hZ2UncyBjbGlwIGlzIGNoYW5nZWQuXG4gICAgICAgICAqIEBldmVudCBjbGlwLWNoYW5nZVxuICAgICAgICAgKiBAbWVtYmVyT2YgT3BlblNlYWRyYWdvbi5UaWxlZEltYWdlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZVxuICAgICAgICAgKiBUaWxlZEltYWdlIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFpc2VFdmVudCgnY2xpcC1jaGFuZ2UnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIFRpbGVkSW1hZ2UncyBjdXJyZW50IG9wYWNpdHkuXG4gICAgICovXG4gICAgZ2V0T3BhY2l0eTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYWNpdHk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcGFjaXR5IE9wYWNpdHkgdGhlIHRpbGVkIGltYWdlIHNob3VsZCBiZSBkcmF3biBhdC5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5UaWxlZEltYWdlLmV2ZW50Om9wYWNpdHktY2hhbmdlXG4gICAgICovXG4gICAgc2V0T3BhY2l0eTogZnVuY3Rpb24ob3BhY2l0eSkge1xuICAgICAgICBpZiAob3BhY2l0eSA9PT0gdGhpcy5vcGFjaXR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wYWNpdHkgPSBvcGFjaXR5O1xuICAgICAgICB0aGlzLl9uZWVkc0RyYXcgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIFRpbGVkSW1hZ2UncyBvcGFjaXR5IGlzIGNoYW5nZWQuXG4gICAgICAgICAqIEBldmVudCBvcGFjaXR5LWNoYW5nZVxuICAgICAgICAgKiBAbWVtYmVyT2YgT3BlblNlYWRyYWdvbi5UaWxlZEltYWdlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBvcGFjaXR5IC0gVGhlIG5ldyBvcGFjaXR5IHZhbHVlLlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGVcbiAgICAgICAgICogVGlsZWRJbWFnZSB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoJ29wYWNpdHktY2hhbmdlJywge1xuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5vcGFjaXR5XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gd2hldGhlciB0aGUgdGlsZWRJbWFnZSBjYW4gbG9hZCBpdHMgdGlsZXMgZXZlbiB3aGVuIGl0IGhhcyB6ZXJvIG9wYWNpdHkuXG4gICAgICovXG4gICAgZ2V0UHJlbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVsb2FkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdHJ1ZSB0byBsb2FkIGV2ZW4gd2hlbiBoaWRkZW4uIFNldCBmYWxzZSB0byBibG9jayBsb2FkaW5nIHdoZW4gaGlkZGVuLlxuICAgICAqL1xuICAgIHNldFByZWxvYWQ6IGZ1bmN0aW9uKHByZWxvYWQpIHtcbiAgICAgICAgdGhpcy5fcHJlbG9hZCA9ICEhcHJlbG9hZDtcbiAgICAgICAgdGhpcy5fbmVlZHNEcmF3ID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByb3RhdGlvbiBvZiB0aGlzIHRpbGVkIGltYWdlIGluIGRlZ3JlZXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY3VycmVudD1mYWxzZV0gVHJ1ZSBmb3IgY3VycmVudCByb3RhdGlvbiwgZmFsc2UgZm9yIHRhcmdldC5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgcm90YXRpb24gb2YgdGhpcyB0aWxlZCBpbWFnZSBpbiBkZWdyZWVzLlxuICAgICAqL1xuICAgIGdldFJvdGF0aW9uOiBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50ID9cbiAgICAgICAgICAgIHRoaXMuX2RlZ3JlZXNTcHJpbmcuY3VycmVudC52YWx1ZSA6XG4gICAgICAgICAgICB0aGlzLl9kZWdyZWVzU3ByaW5nLnRhcmdldC52YWx1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjdXJyZW50IHJvdGF0aW9uIG9mIHRoaXMgdGlsZWQgaW1hZ2UgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlcyB0aGUgcm90YXRpb24gaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbW1lZGlhdGVseT1mYWxzZV0gV2hldGhlciB0byBhbmltYXRlIHRvIHRoZSBuZXcgYW5nbGVcbiAgICAgKiBvciByb3RhdGUgaW1tZWRpYXRlbHkuXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZS5ldmVudDpib3VuZHMtY2hhbmdlXG4gICAgICovXG4gICAgc2V0Um90YXRpb246IGZ1bmN0aW9uKGRlZ3JlZXMsIGltbWVkaWF0ZWx5KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWdyZWVzU3ByaW5nLnRhcmdldC52YWx1ZSA9PT0gZGVncmVlcyAmJlxuICAgICAgICAgICAgdGhpcy5fZGVncmVlc1NwcmluZy5pc0F0VGFyZ2V0VmFsdWUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbW1lZGlhdGVseSkge1xuICAgICAgICAgICAgdGhpcy5fZGVncmVlc1NwcmluZy5yZXNldFRvKGRlZ3JlZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZGVncmVlc1NwcmluZy5zcHJpbmdUbyhkZWdyZWVzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9uZWVkc0RyYXcgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yYWlzZUJvdW5kc0NoYW5nZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBvaW50IGFyb3VuZCB3aGljaCB0aGlzIHRpbGVkIGltYWdlIGlzIHJvdGF0ZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY3VycmVudCBUcnVlIGZvciBjdXJyZW50IHJvdGF0aW9uIHBvaW50LCBmYWxzZSBmb3IgdGFyZ2V0LlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlBvaW50fVxuICAgICAqL1xuICAgIF9nZXRSb3RhdGlvblBvaW50OiBmdW5jdGlvbihjdXJyZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEJvdW5kc05vUm90YXRlKGN1cnJlbnQpLmdldENlbnRlcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVGlsZWRJbWFnZSdzIGN1cnJlbnQgY29tcG9zaXRlT3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGdldENvbXBvc2l0ZU9wZXJhdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbXBvc2l0ZU9wZXJhdGlvbiB0aGUgdGlsZWQgaW1hZ2Ugc2hvdWxkIGJlIGRyYXduIHdpdGggdGhpcyBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24uXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZS5ldmVudDpjb21wb3NpdGUtb3BlcmF0aW9uLWNoYW5nZVxuICAgICAqL1xuICAgIHNldENvbXBvc2l0ZU9wZXJhdGlvbjogZnVuY3Rpb24oY29tcG9zaXRlT3BlcmF0aW9uKSB7XG4gICAgICAgIGlmIChjb21wb3NpdGVPcGVyYXRpb24gPT09IHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBvc2l0ZU9wZXJhdGlvbiA9IGNvbXBvc2l0ZU9wZXJhdGlvbjtcbiAgICAgICAgdGhpcy5fbmVlZHNEcmF3ID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSBUaWxlZEltYWdlJ3Mgb3BhY2l0eSBpcyBjaGFuZ2VkLlxuICAgICAgICAgKiBAZXZlbnQgY29tcG9zaXRlLW9wZXJhdGlvbi1jaGFuZ2VcbiAgICAgICAgICogQG1lbWJlck9mIE9wZW5TZWFkcmFnb24uVGlsZWRJbWFnZVxuICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gY29tcG9zaXRlT3BlcmF0aW9uIC0gVGhlIG5ldyBjb21wb3NpdGVPcGVyYXRpb24gdmFsdWUuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZVxuICAgICAgICAgKiBUaWxlZEltYWdlIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFpc2VFdmVudCgnY29tcG9zaXRlLW9wZXJhdGlvbi1jaGFuZ2UnLCB7XG4gICAgICAgICAgICBjb21wb3NpdGVPcGVyYXRpb246IHRoaXMuY29tcG9zaXRlT3BlcmF0aW9uXG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX3NldFNjYWxlOiBmdW5jdGlvbihzY2FsZSwgaW1tZWRpYXRlbHkpIHtcbiAgICAgICAgdmFyIHNhbWVUYXJnZXQgPSAodGhpcy5fc2NhbGVTcHJpbmcudGFyZ2V0LnZhbHVlID09PSBzY2FsZSk7XG4gICAgICAgIGlmIChpbW1lZGlhdGVseSkge1xuICAgICAgICAgICAgaWYgKHNhbWVUYXJnZXQgJiYgdGhpcy5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZSA9PT0gc2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NjYWxlU3ByaW5nLnJlc2V0VG8oc2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRm9yU2NhbGUoKTtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoc2FtZVRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fc2NhbGVTcHJpbmcuc3ByaW5nVG8oc2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRm9yU2NhbGUoKTtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNhbWVUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JhaXNlQm91bmRzQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF91cGRhdGVGb3JTY2FsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX3dvcmxkV2lkdGhUYXJnZXQgPSB0aGlzLl9zY2FsZVNwcmluZy50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMuX3dvcmxkSGVpZ2h0VGFyZ2V0ID0gdGhpcy5ub3JtSGVpZ2h0ICogdGhpcy5fc2NhbGVTcHJpbmcudGFyZ2V0LnZhbHVlO1xuICAgICAgICB0aGlzLl93b3JsZFdpZHRoQ3VycmVudCA9IHRoaXMuX3NjYWxlU3ByaW5nLmN1cnJlbnQudmFsdWU7XG4gICAgICAgIHRoaXMuX3dvcmxkSGVpZ2h0Q3VycmVudCA9IHRoaXMubm9ybUhlaWdodCAqIHRoaXMuX3NjYWxlU3ByaW5nLmN1cnJlbnQudmFsdWU7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfcmFpc2VCb3VuZHNDaGFuZ2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gdGhlIFRpbGVkSW1hZ2UncyBib3VuZHMgYXJlIGNoYW5nZWQuXG4gICAgICAgICAqIE5vdGUgdGhhdCB0aGlzIGV2ZW50IGlzIHRyaWdnZXJlZCBvbmx5IHdoZW4gdGhlIGFuaW1hdGlvbiB0YXJnZXQgaXMgY2hhbmdlZDtcbiAgICAgICAgICogbm90IGZvciBldmVyeSBmcmFtZSBvZiBhbmltYXRpb24uXG4gICAgICAgICAqIEBldmVudCBib3VuZHMtY2hhbmdlXG4gICAgICAgICAqIEBtZW1iZXJPZiBPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2VcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlXG4gICAgICAgICAqIFRpbGVkSW1hZ2Ugd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCdib3VuZHMtY2hhbmdlJyk7XG4gICAgfSxcblxuICAgIC8vIHByaXZhdGVcbiAgICBfaXNCb3R0b21JdGVtOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyLndvcmxkLmdldEl0ZW1BdCgwKSA9PT0gdGhpcztcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF9nZXRMZXZlbHNJbnRlcnZhbDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsb3dlc3RMZXZlbCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgdGhpcy5zb3VyY2UubWluTGV2ZWwsXG4gICAgICAgICAgICBNYXRoLmZsb29yKE1hdGgubG9nKHRoaXMubWluWm9vbUltYWdlUmF0aW8pIC8gTWF0aC5sb2coMikpXG4gICAgICAgICk7XG4gICAgICAgIHZhciBjdXJyZW50WmVyb1JhdGlvID0gdGhpcy52aWV3cG9ydC5kZWx0YVBpeGVsc0Zyb21Qb2ludHNOb1JvdGF0ZShcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmdldFBpeGVsUmF0aW8oMCksIHRydWUpLnggKlxuICAgICAgICAgICAgdGhpcy5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZTtcbiAgICAgICAgdmFyIGhpZ2hlc3RMZXZlbCA9IE1hdGgubWluKFxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5zb3VyY2UubWF4TGV2ZWwpLFxuICAgICAgICAgICAgTWF0aC5hYnMoTWF0aC5mbG9vcihcbiAgICAgICAgICAgICAgICBNYXRoLmxvZyhjdXJyZW50WmVyb1JhdGlvIC8gdGhpcy5taW5QaXhlbFJhdGlvKSAvIE1hdGgubG9nKDIpXG4gICAgICAgICAgICApKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIENhbGN1bGF0aW9ucyBmb3IgdGhlIGludGVydmFsIG9mIGxldmVscyB0byBkcmF3XG4gICAgICAgIC8vIGNhbiByZXR1cm4gaW52YWxpZCBpbnRlcnZhbHM7IGZpeCB0aGF0IGhlcmUgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGxvd2VzdExldmVsID0gTWF0aC5taW4obG93ZXN0TGV2ZWwsIGhpZ2hlc3RMZXZlbCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb3dlc3RMZXZlbDogbG93ZXN0TGV2ZWwsXG4gICAgICAgICAgICBoaWdoZXN0TGV2ZWw6IGhpZ2hlc3RMZXZlbFxuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBpbm5lclxuICAgICAqIFByZXR0eSBtdWNoIGV2ZXJ5IG90aGVyIGxpbmUgaW4gdGhpcyBuZWVkcyB0byBiZSBkb2N1bWVudGVkIHNvIGl0J3MgY2xlYXJcbiAgICAgKiBob3cgZWFjaCBwaWVjZSBvZiB0aGlzIHJvdXRpbmUgY29udHJpYnV0ZXMgdG8gdGhlIGRyYXdpbmcgcHJvY2Vzcy4gIFRoYXQnc1xuICAgICAqIHdoeSB0aGVyZSBhcmUgc28gbWFueSBUT0RPJ3MgaW5zaWRlIHRoaXMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgX3VwZGF0ZVZpZXdwb3J0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbmVlZHNEcmF3ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3RpbGVzTG9hZGluZyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGluZ0NvdmVyYWdlID0ge307XG5cbiAgICAgICAgLy8gUmVzZXQgdGlsZSdzIGludGVybmFsIGRyYXduIHN0YXRlXG4gICAgICAgIHdoaWxlICh0aGlzLmxhc3REcmF3bi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMubGFzdERyYXduLnBvcCgpO1xuICAgICAgICAgICAgdGlsZS5iZWluZ0RyYXduID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmlld3BvcnQgPSB0aGlzLnZpZXdwb3J0O1xuICAgICAgICB2YXIgZHJhd0FyZWEgPSB0aGlzLl92aWV3cG9ydFRvVGlsZWRJbWFnZVJlY3RhbmdsZShcbiAgICAgICAgICAgIHZpZXdwb3J0LmdldEJvdW5kc1dpdGhNYXJnaW5zKHRydWUpKTtcblxuICAgICAgICBpZiAoIXRoaXMud3JhcEhvcml6b250YWwgJiYgIXRoaXMud3JhcFZlcnRpY2FsKSB7XG4gICAgICAgICAgICB2YXIgdGlsZWRJbWFnZUJvdW5kcyA9IHRoaXMuX3ZpZXdwb3J0VG9UaWxlZEltYWdlUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2xpcHBlZEJvdW5kcyh0cnVlKSk7XG4gICAgICAgICAgICBkcmF3QXJlYSA9IGRyYXdBcmVhLmludGVyc2VjdGlvbih0aWxlZEltYWdlQm91bmRzKTtcbiAgICAgICAgICAgIGlmIChkcmF3QXJlYSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZXZlbHNJbnRlcnZhbCA9IHRoaXMuX2dldExldmVsc0ludGVydmFsKCk7XG4gICAgICAgIHZhciBsb3dlc3RMZXZlbCA9IGxldmVsc0ludGVydmFsLmxvd2VzdExldmVsO1xuICAgICAgICB2YXIgaGlnaGVzdExldmVsID0gbGV2ZWxzSW50ZXJ2YWwuaGlnaGVzdExldmVsO1xuICAgICAgICB2YXIgYmVzdFRpbGUgPSBudWxsO1xuICAgICAgICB2YXIgaGF2ZURyYXduID0gZmFsc2U7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9ICQubm93KCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGFueSBsZXZlbCB0aGF0IHdpbGwgYmUgZHJhd25cbiAgICAgICAgZm9yICh2YXIgbGV2ZWwgPSBoaWdoZXN0TGV2ZWw7IGxldmVsID49IGxvd2VzdExldmVsOyBsZXZlbC0tKSB7XG4gICAgICAgICAgICB2YXIgZHJhd0xldmVsID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vQXZvaWQgY2FsY3VsYXRpb25zIGZvciBkcmF3IGlmIHdlIGhhdmUgYWxyZWFkeSBkcmF3biB0aGlzXG4gICAgICAgICAgICB2YXIgY3VycmVudFJlbmRlclBpeGVsUmF0aW8gPSB2aWV3cG9ydC5kZWx0YVBpeGVsc0Zyb21Qb2ludHNOb1JvdGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5nZXRQaXhlbFJhdGlvKGxldmVsKSxcbiAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApLnggKiB0aGlzLl9zY2FsZVNwcmluZy5jdXJyZW50LnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAobGV2ZWwgPT09IGxvd2VzdExldmVsIHx8XG4gICAgICAgICAgICAgICAgKCFoYXZlRHJhd24gJiYgY3VycmVudFJlbmRlclBpeGVsUmF0aW8gPj0gdGhpcy5taW5QaXhlbFJhdGlvKSkge1xuICAgICAgICAgICAgICAgIGRyYXdMZXZlbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaGF2ZURyYXduID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWhhdmVEcmF3bikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL1BlcmZvcm0gY2FsY3VsYXRpb25zIGZvciBkcmF3IGlmIHdlIGhhdmVuJ3QgZHJhd24gdGhpc1xuICAgICAgICAgICAgdmFyIHRhcmdldFJlbmRlclBpeGVsUmF0aW8gPSB2aWV3cG9ydC5kZWx0YVBpeGVsc0Zyb21Qb2ludHNOb1JvdGF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZS5nZXRQaXhlbFJhdGlvKGxldmVsKSxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKS54ICogdGhpcy5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZTtcblxuICAgICAgICAgICAgdmFyIHRhcmdldFplcm9SYXRpbyA9IHZpZXdwb3J0LmRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlKFxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlLmdldFBpeGVsUmF0aW8oXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UuZ2V0Q2xvc2VzdExldmVsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApLnggKiB0aGlzLl9zY2FsZVNwcmluZy5jdXJyZW50LnZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgb3B0aW1hbFJhdGlvID0gdGhpcy5pbW1lZGlhdGVSZW5kZXIgPyAxIDogdGFyZ2V0WmVyb1JhdGlvO1xuICAgICAgICAgICAgdmFyIGxldmVsT3BhY2l0eSA9IE1hdGgubWluKDEsIChjdXJyZW50UmVuZGVyUGl4ZWxSYXRpbyAtIDAuNSkgLyAwLjUpO1xuICAgICAgICAgICAgdmFyIGxldmVsVmlzaWJpbGl0eSA9IG9wdGltYWxSYXRpbyAvIE1hdGguYWJzKFxuICAgICAgICAgICAgICAgIG9wdGltYWxSYXRpbyAtIHRhcmdldFJlbmRlclBpeGVsUmF0aW9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbGV2ZWwgYW5kIGtlZXAgdHJhY2sgb2YgJ2Jlc3QnIHRpbGUgdG8gbG9hZFxuICAgICAgICAgICAgYmVzdFRpbGUgPSB1cGRhdGVMZXZlbChcbiAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgIGhhdmVEcmF3bixcbiAgICAgICAgICAgICAgICBkcmF3TGV2ZWwsXG4gICAgICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICAgICAgbGV2ZWxPcGFjaXR5LFxuICAgICAgICAgICAgICAgIGxldmVsVmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICBkcmF3QXJlYSxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgICBiZXN0VGlsZVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gU3RvcCB0aGUgbG9vcCBpZiBsb3dlci1yZXMgdGlsZXMgd291bGQgYWxsIGJlIGNvdmVyZWQgYnlcbiAgICAgICAgICAgIC8vIGFscmVhZHkgZHJhd24gdGlsZXNcbiAgICAgICAgICAgIGlmIChwcm92aWRlc0NvdmVyYWdlKHRoaXMuY292ZXJhZ2UsIGxldmVsKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGVyZm9ybSB0aGUgYWN0dWFsIGRyYXdpbmdcbiAgICAgICAgZHJhd1RpbGVzKHRoaXMsIHRoaXMubGFzdERyYXduKTtcblxuICAgICAgICAvLyBMb2FkIHRoZSBuZXcgJ2Jlc3QnIHRpbGVcbiAgICAgICAgaWYgKGJlc3RUaWxlICYmICFiZXN0VGlsZS5jb250ZXh0MkQpIHtcbiAgICAgICAgICAgIGxvYWRUaWxlKHRoaXMsIGJlc3RUaWxlLCBjdXJyZW50VGltZSk7XG4gICAgICAgICAgICB0aGlzLl9uZWVkc0RyYXcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2V0RnVsbHlMb2FkZWQoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0RnVsbHlMb2FkZWQodGhpcy5fdGlsZXNMb2FkaW5nID09PSAwKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX2dldENvcm5lclRpbGVzOiBmdW5jdGlvbihsZXZlbCwgdG9wTGVmdEJvdW5kLCBib3R0b21SaWdodEJvdW5kKSB7XG4gICAgICAgIHZhciBsZWZ0WDtcbiAgICAgICAgdmFyIHJpZ2h0WDtcbiAgICAgICAgaWYgKHRoaXMud3JhcEhvcml6b250YWwpIHtcbiAgICAgICAgICAgIGxlZnRYID0gJC5wb3NpdGl2ZU1vZHVsbyh0b3BMZWZ0Qm91bmQueCwgMSk7XG4gICAgICAgICAgICByaWdodFggPSAkLnBvc2l0aXZlTW9kdWxvKGJvdHRvbVJpZ2h0Qm91bmQueCwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZWZ0WCA9IE1hdGgubWF4KDAsIHRvcExlZnRCb3VuZC54KTtcbiAgICAgICAgICAgIHJpZ2h0WCA9IE1hdGgubWluKDEsIGJvdHRvbVJpZ2h0Qm91bmQueCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvcFk7XG4gICAgICAgIHZhciBib3R0b21ZO1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSAxIC8gdGhpcy5zb3VyY2UuYXNwZWN0UmF0aW87XG4gICAgICAgIGlmICh0aGlzLndyYXBWZXJ0aWNhbCkge1xuICAgICAgICAgICAgdG9wWSA9ICQucG9zaXRpdmVNb2R1bG8odG9wTGVmdEJvdW5kLnksIGFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGJvdHRvbVkgPSAkLnBvc2l0aXZlTW9kdWxvKGJvdHRvbVJpZ2h0Qm91bmQueSwgYXNwZWN0UmF0aW8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wWSA9IE1hdGgubWF4KDAsIHRvcExlZnRCb3VuZC55KTtcbiAgICAgICAgICAgIGJvdHRvbVkgPSBNYXRoLm1pbihhc3BlY3RSYXRpbywgYm90dG9tUmlnaHRCb3VuZC55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b3BMZWZ0VGlsZSA9IHRoaXMuc291cmNlLmdldFRpbGVBdFBvaW50KGxldmVsLCBuZXcgJC5Qb2ludChsZWZ0WCwgdG9wWSkpO1xuICAgICAgICB2YXIgYm90dG9tUmlnaHRUaWxlID0gdGhpcy5zb3VyY2UuZ2V0VGlsZUF0UG9pbnQobGV2ZWwsIG5ldyAkLlBvaW50KHJpZ2h0WCwgYm90dG9tWSkpO1xuICAgICAgICB2YXIgbnVtVGlsZXMgID0gdGhpcy5zb3VyY2UuZ2V0TnVtVGlsZXMobGV2ZWwpO1xuXG4gICAgICAgIGlmICh0aGlzLndyYXBIb3Jpem9udGFsKSB7XG4gICAgICAgICAgICB0b3BMZWZ0VGlsZS54ICs9IG51bVRpbGVzLnggKiBNYXRoLmZsb29yKHRvcExlZnRCb3VuZC54KTtcbiAgICAgICAgICAgIGJvdHRvbVJpZ2h0VGlsZS54ICs9IG51bVRpbGVzLnggKiBNYXRoLmZsb29yKGJvdHRvbVJpZ2h0Qm91bmQueCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMud3JhcFZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0b3BMZWZ0VGlsZS55ICs9IG51bVRpbGVzLnkgKiBNYXRoLmZsb29yKHRvcExlZnRCb3VuZC55IC8gYXNwZWN0UmF0aW8pO1xuICAgICAgICAgICAgYm90dG9tUmlnaHRUaWxlLnkgKz0gbnVtVGlsZXMueSAqIE1hdGguZmxvb3IoYm90dG9tUmlnaHRCb3VuZC55IC8gYXNwZWN0UmF0aW8pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcExlZnQ6IHRvcExlZnRUaWxlLFxuICAgICAgICAgICAgYm90dG9tUmlnaHQ6IGJvdHRvbVJpZ2h0VGlsZSxcbiAgICAgICAgfTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBVcGRhdGVzIGFsbCB0aWxlcyBhdCBhIGdpdmVuIHJlc29sdXRpb24gbGV2ZWwuXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gdGlsZWRJbWFnZSAtIFdoaWNoIFRpbGVkSW1hZ2UgaXMgYmVpbmcgZHJhd24uXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGhhdmVEcmF3blxuICogQHBhcmFtIHtCb29sZWFufSBkcmF3TGV2ZWxcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsT3BhY2l0eVxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsVmlzaWJpbGl0eVxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSB2aWV3cG9ydFRMIC0gVGhlIGluZGV4IG9mIHRoZSBtb3N0IHRvcC1sZWZ0IHZpc2libGUgdGlsZS5cbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gdmlld3BvcnRCUiAtIFRoZSBpbmRleCBvZiB0aGUgbW9zdCBib3R0b20tcmlnaHQgdmlzaWJsZSB0aWxlLlxuICogQHBhcmFtIHtOdW1iZXJ9IGN1cnJlbnRUaW1lXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZX0gYmVzdCAtIFRoZSBjdXJyZW50IFwiYmVzdFwiIHRpbGUgdG8gZHJhdy5cbiAqL1xuZnVuY3Rpb24gdXBkYXRlTGV2ZWwodGlsZWRJbWFnZSwgaGF2ZURyYXduLCBkcmF3TGV2ZWwsIGxldmVsLCBsZXZlbE9wYWNpdHksXG4gICAgbGV2ZWxWaXNpYmlsaXR5LCBkcmF3QXJlYSwgY3VycmVudFRpbWUsIGJlc3QpIHtcblxuICAgIHZhciB0b3BMZWZ0Qm91bmQgPSBkcmF3QXJlYS5nZXRCb3VuZGluZ0JveCgpLmdldFRvcExlZnQoKTtcbiAgICB2YXIgYm90dG9tUmlnaHRCb3VuZCA9IGRyYXdBcmVhLmdldEJvdW5kaW5nQm94KCkuZ2V0Qm90dG9tUmlnaHQoKTtcblxuICAgIGlmICh0aWxlZEltYWdlLnZpZXdlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogPGVtPi0gTmVlZHMgZG9jdW1lbnRhdGlvbiAtPC9lbT5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IHVwZGF0ZS1sZXZlbFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlIC0gV2hpY2ggVGlsZWRJbWFnZSBpcyBiZWluZyBkcmF3bi5cbiAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGhhdmVkcmF3blxuICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gbGV2ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IG9wYWNpdHlcbiAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IHZpc2liaWxpdHlcbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlJlY3R9IGRyYXdBcmVhXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSB0b3BsZWZ0IGRlcHJlY2F0ZWQsIHVzZSBkcmF3QXJlYSBpbnN0ZWFkXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBib3R0b21yaWdodCBkZXByZWNhdGVkLCB1c2UgZHJhd0FyZWEgaW5zdGVhZFxuICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gY3VycmVudHRpbWVcbiAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGJlc3RcbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGlsZWRJbWFnZS52aWV3ZXIucmFpc2VFdmVudCgndXBkYXRlLWxldmVsJywge1xuICAgICAgICAgICAgdGlsZWRJbWFnZTogdGlsZWRJbWFnZSxcbiAgICAgICAgICAgIGhhdmVkcmF3bjogaGF2ZURyYXduLFxuICAgICAgICAgICAgbGV2ZWw6IGxldmVsLFxuICAgICAgICAgICAgb3BhY2l0eTogbGV2ZWxPcGFjaXR5LFxuICAgICAgICAgICAgdmlzaWJpbGl0eTogbGV2ZWxWaXNpYmlsaXR5LFxuICAgICAgICAgICAgZHJhd0FyZWE6IGRyYXdBcmVhLFxuICAgICAgICAgICAgdG9wbGVmdDogdG9wTGVmdEJvdW5kLFxuICAgICAgICAgICAgYm90dG9tcmlnaHQ6IGJvdHRvbVJpZ2h0Qm91bmQsXG4gICAgICAgICAgICBjdXJyZW50dGltZTogY3VycmVudFRpbWUsXG4gICAgICAgICAgICBiZXN0OiBiZXN0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc2V0Q292ZXJhZ2UodGlsZWRJbWFnZS5jb3ZlcmFnZSwgbGV2ZWwpO1xuICAgIHJlc2V0Q292ZXJhZ2UodGlsZWRJbWFnZS5sb2FkaW5nQ292ZXJhZ2UsIGxldmVsKTtcblxuICAgIC8vT0ssIGEgbmV3IGRyYXdpbmcgc28gZG8geW91ciBjYWxjdWxhdGlvbnNcbiAgICB2YXIgY29ybmVyVGlsZXMgPSB0aWxlZEltYWdlLl9nZXRDb3JuZXJUaWxlcyhsZXZlbCwgdG9wTGVmdEJvdW5kLCBib3R0b21SaWdodEJvdW5kKTtcbiAgICB2YXIgdG9wTGVmdFRpbGUgPSBjb3JuZXJUaWxlcy50b3BMZWZ0O1xuICAgIHZhciBib3R0b21SaWdodFRpbGUgPSBjb3JuZXJUaWxlcy5ib3R0b21SaWdodDtcbiAgICB2YXIgbnVtYmVyT2ZUaWxlcyAgPSB0aWxlZEltYWdlLnNvdXJjZS5nZXROdW1UaWxlcyhsZXZlbCk7XG5cbiAgICB2YXIgdmlld3BvcnRDZW50ZXIgPSB0aWxlZEltYWdlLnZpZXdwb3J0LnBpeGVsRnJvbVBvaW50KFxuICAgICAgICB0aWxlZEltYWdlLnZpZXdwb3J0LmdldENlbnRlcigpKTtcbiAgICBmb3IgKHZhciB4ID0gdG9wTGVmdFRpbGUueDsgeCA8PSBib3R0b21SaWdodFRpbGUueDsgeCsrKSB7XG4gICAgICAgIGZvciAodmFyIHkgPSB0b3BMZWZ0VGlsZS55OyB5IDw9IGJvdHRvbVJpZ2h0VGlsZS55OyB5KyspIHtcblxuICAgICAgICAgICAgLy8gT3B0aW1pc2F0aW9uIGRpc2FibGVkIHdpdGggd3JhcHBpbmcgYmVjYXVzZSBnZXRUaWxlQm91bmRzIGRvZXMgbm90XG4gICAgICAgICAgICAvLyB3b3JrIGNvcnJlY3RseSB3aXRoIHggYW5kIHkgb3V0c2lkZSBvZiB0aGUgbnVtYmVyIG9mIHRpbGVzXG4gICAgICAgICAgICBpZiAoIXRpbGVkSW1hZ2Uud3JhcEhvcml6b250YWwgJiYgIXRpbGVkSW1hZ2Uud3JhcFZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbGVCb3VuZHMgPSB0aWxlZEltYWdlLnNvdXJjZS5nZXRUaWxlQm91bmRzKGxldmVsLCB4LCB5KTtcbiAgICAgICAgICAgICAgICBpZiAoZHJhd0FyZWEuaW50ZXJzZWN0aW9uKHRpbGVCb3VuZHMpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdGlsZSBpcyBvdXRzaWRlIG9mIHRoZSB2aWV3cG9ydCwgbm8gbmVlZCB0byBkcmF3IGl0XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYmVzdCA9IHVwZGF0ZVRpbGUoXG4gICAgICAgICAgICAgICAgdGlsZWRJbWFnZSxcbiAgICAgICAgICAgICAgICBkcmF3TGV2ZWwsXG4gICAgICAgICAgICAgICAgaGF2ZURyYXduLFxuICAgICAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICAgICAgbGV2ZWxPcGFjaXR5LFxuICAgICAgICAgICAgICAgIGxldmVsVmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydENlbnRlcixcbiAgICAgICAgICAgICAgICBudW1iZXJPZlRpbGVzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICAgIGJlc3RcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBiZXN0O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIFVwZGF0ZSBhIHNpbmdsZSB0aWxlIGF0IGEgcGFydGljdWxhciByZXNvbHV0aW9uIGxldmVsLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IHRpbGVkSW1hZ2UgLSBXaGljaCBUaWxlZEltYWdlIGlzIGJlaW5nIGRyYXduLlxuICogQHBhcmFtIHtCb29sZWFufSBoYXZlRHJhd25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZHJhd0xldmVsXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsT3BhY2l0eVxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsVmlzaWJpbGl0eVxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlBvaW50fSB2aWV3cG9ydENlbnRlclxuICogQHBhcmFtIHtOdW1iZXJ9IG51bWJlck9mVGlsZXNcbiAqIEBwYXJhbSB7TnVtYmVyfSBjdXJyZW50VGltZVxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGV9IGJlc3QgLSBUaGUgY3VycmVudCBcImJlc3RcIiB0aWxlIHRvIGRyYXcuXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZVRpbGUoIHRpbGVkSW1hZ2UsIGhhdmVEcmF3biwgZHJhd0xldmVsLCB4LCB5LCBsZXZlbCwgbGV2ZWxPcGFjaXR5LCBsZXZlbFZpc2liaWxpdHksIHZpZXdwb3J0Q2VudGVyLCBudW1iZXJPZlRpbGVzLCBjdXJyZW50VGltZSwgYmVzdCl7XG5cbiAgICB2YXIgdGlsZSA9IGdldFRpbGUoXG4gICAgICAgICAgICB4LCB5LFxuICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICB0aWxlZEltYWdlLFxuICAgICAgICAgICAgdGlsZWRJbWFnZS5zb3VyY2UsXG4gICAgICAgICAgICB0aWxlZEltYWdlLnRpbGVzTWF0cml4LFxuICAgICAgICAgICAgY3VycmVudFRpbWUsXG4gICAgICAgICAgICBudW1iZXJPZlRpbGVzLFxuICAgICAgICAgICAgdGlsZWRJbWFnZS5fd29ybGRXaWR0aEN1cnJlbnQsXG4gICAgICAgICAgICB0aWxlZEltYWdlLl93b3JsZEhlaWdodEN1cnJlbnRcbiAgICAgICAgKSxcbiAgICAgICAgZHJhd1RpbGUgPSBkcmF3TGV2ZWw7XG5cbiAgICBpZiggdGlsZWRJbWFnZS52aWV3ZXIgKXtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIDxlbT4tIE5lZWRzIGRvY3VtZW50YXRpb24gLTwvZW0+XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCB1cGRhdGUtdGlsZVxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlIC0gV2hpY2ggVGlsZWRJbWFnZSBpcyBiZWluZyBkcmF3bi5cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGV9IHRpbGVcbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGlsZWRJbWFnZS52aWV3ZXIucmFpc2VFdmVudCggJ3VwZGF0ZS10aWxlJywge1xuICAgICAgICAgICAgdGlsZWRJbWFnZTogdGlsZWRJbWFnZSxcbiAgICAgICAgICAgIHRpbGU6IHRpbGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0Q292ZXJhZ2UoIHRpbGVkSW1hZ2UuY292ZXJhZ2UsIGxldmVsLCB4LCB5LCBmYWxzZSApO1xuXG4gICAgdmFyIGxvYWRpbmdDb3ZlcmFnZSA9IHRpbGUubG9hZGVkIHx8IHRpbGUubG9hZGluZyB8fCBpc0NvdmVyZWQodGlsZWRJbWFnZS5sb2FkaW5nQ292ZXJhZ2UsIGxldmVsLCB4LCB5KTtcbiAgICBzZXRDb3ZlcmFnZSh0aWxlZEltYWdlLmxvYWRpbmdDb3ZlcmFnZSwgbGV2ZWwsIHgsIHksIGxvYWRpbmdDb3ZlcmFnZSk7XG5cbiAgICBpZiAoICF0aWxlLmV4aXN0cyApIHtcbiAgICAgICAgcmV0dXJuIGJlc3Q7XG4gICAgfVxuXG4gICAgaWYgKCBoYXZlRHJhd24gJiYgIWRyYXdUaWxlICkge1xuICAgICAgICBpZiAoIGlzQ292ZXJlZCggdGlsZWRJbWFnZS5jb3ZlcmFnZSwgbGV2ZWwsIHgsIHkgKSApIHtcbiAgICAgICAgICAgIHNldENvdmVyYWdlKCB0aWxlZEltYWdlLmNvdmVyYWdlLCBsZXZlbCwgeCwgeSwgdHJ1ZSApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHJhd1RpbGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCAhZHJhd1RpbGUgKSB7XG4gICAgICAgIHJldHVybiBiZXN0O1xuICAgIH1cblxuICAgIHBvc2l0aW9uVGlsZShcbiAgICAgICAgdGlsZSxcbiAgICAgICAgdGlsZWRJbWFnZS5zb3VyY2UudGlsZU92ZXJsYXAsXG4gICAgICAgIHRpbGVkSW1hZ2Uudmlld3BvcnQsXG4gICAgICAgIHZpZXdwb3J0Q2VudGVyLFxuICAgICAgICBsZXZlbFZpc2liaWxpdHksXG4gICAgICAgIHRpbGVkSW1hZ2VcbiAgICApO1xuXG4gICAgaWYgKCF0aWxlLmxvYWRlZCkge1xuICAgICAgICBpZiAodGlsZS5jb250ZXh0MkQpIHtcbiAgICAgICAgICAgIHNldFRpbGVMb2FkZWQodGlsZWRJbWFnZSwgdGlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VSZWNvcmQgPSB0aWxlZEltYWdlLl90aWxlQ2FjaGUuZ2V0SW1hZ2VSZWNvcmQodGlsZS5jYWNoZUtleSk7XG4gICAgICAgICAgICBpZiAoaW1hZ2VSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBpbWFnZVJlY29yZC5nZXRJbWFnZSgpO1xuICAgICAgICAgICAgICAgIHNldFRpbGVMb2FkZWQodGlsZWRJbWFnZSwgdGlsZSwgaW1hZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCB0aWxlLmxvYWRlZCApIHtcbiAgICAgICAgdmFyIG5lZWRzRHJhdyA9IGJsZW5kVGlsZShcbiAgICAgICAgICAgIHRpbGVkSW1hZ2UsXG4gICAgICAgICAgICB0aWxlLFxuICAgICAgICAgICAgeCwgeSxcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgbGV2ZWxPcGFjaXR5LFxuICAgICAgICAgICAgY3VycmVudFRpbWVcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIG5lZWRzRHJhdyApIHtcbiAgICAgICAgICAgIHRpbGVkSW1hZ2UuX25lZWRzRHJhdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCB0aWxlLmxvYWRpbmcgKSB7XG4gICAgICAgIC8vIHRoZSB0aWxlIGlzIGFscmVhZHkgaW4gdGhlIGRvd25sb2FkIHF1ZXVlXG4gICAgICAgIHRpbGVkSW1hZ2UuX3RpbGVzTG9hZGluZysrO1xuICAgIH0gZWxzZSBpZiAoIWxvYWRpbmdDb3ZlcmFnZSkge1xuICAgICAgICBiZXN0ID0gY29tcGFyZVRpbGVzKCBiZXN0LCB0aWxlICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3Q7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogT2J0YWlucyBhIHRpbGUgYXQgdGhlIGdpdmVuIGxvY2F0aW9uLlxuICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZVNvdXJjZX0gdGlsZVNvdXJjZVxuICogQHBhcmFtIHtPYmplY3R9IHRpbGVzTWF0cml4IC0gQSAnM2QnIGRpY3Rpb25hcnkgW2xldmVsXVt4XVt5XSAtLT4gVGlsZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtVGlsZXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB3b3JsZFdpZHRoXG4gKiBAcGFyYW0ge051bWJlcn0gd29ybGRIZWlnaHRcbiAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlRpbGV9XG4gKi9cbmZ1bmN0aW9uIGdldFRpbGUoXG4gICAgeCwgeSxcbiAgICBsZXZlbCxcbiAgICB0aWxlZEltYWdlLFxuICAgIHRpbGVTb3VyY2UsXG4gICAgdGlsZXNNYXRyaXgsXG4gICAgdGltZSxcbiAgICBudW1UaWxlcyxcbiAgICB3b3JsZFdpZHRoLFxuICAgIHdvcmxkSGVpZ2h0XG4pIHtcbiAgICB2YXIgeE1vZCxcbiAgICAgICAgeU1vZCxcbiAgICAgICAgYm91bmRzLFxuICAgICAgICBleGlzdHMsXG4gICAgICAgIHVybCxcbiAgICAgICAgYWpheEhlYWRlcnMsXG4gICAgICAgIGNvbnRleHQyRCxcbiAgICAgICAgdGlsZTtcblxuICAgIGlmICggIXRpbGVzTWF0cml4WyBsZXZlbCBdICkge1xuICAgICAgICB0aWxlc01hdHJpeFsgbGV2ZWwgXSA9IHt9O1xuICAgIH1cbiAgICBpZiAoICF0aWxlc01hdHJpeFsgbGV2ZWwgXVsgeCBdICkge1xuICAgICAgICB0aWxlc01hdHJpeFsgbGV2ZWwgXVsgeCBdID0ge307XG4gICAgfVxuXG4gICAgaWYgKCAhdGlsZXNNYXRyaXhbIGxldmVsIF1bIHggXVsgeSBdICkge1xuICAgICAgICB4TW9kICAgID0gKCBudW1UaWxlcy54ICsgKCB4ICUgbnVtVGlsZXMueCApICkgJSBudW1UaWxlcy54O1xuICAgICAgICB5TW9kICAgID0gKCBudW1UaWxlcy55ICsgKCB5ICUgbnVtVGlsZXMueSApICkgJSBudW1UaWxlcy55O1xuICAgICAgICBib3VuZHMgID0gdGlsZVNvdXJjZS5nZXRUaWxlQm91bmRzKCBsZXZlbCwgeE1vZCwgeU1vZCApO1xuICAgICAgICBleGlzdHMgID0gdGlsZVNvdXJjZS50aWxlRXhpc3RzKCBsZXZlbCwgeE1vZCwgeU1vZCApO1xuICAgICAgICB1cmwgICAgID0gdGlsZVNvdXJjZS5nZXRUaWxlVXJsKCBsZXZlbCwgeE1vZCwgeU1vZCApO1xuXG4gICAgICAgIC8vIEhlYWRlcnMgYXJlIG9ubHkgYXBwbGljYWJsZSBpZiBsb2FkVGlsZXNXaXRoQWpheCBpcyBzZXRcbiAgICAgICAgaWYgKHRpbGVkSW1hZ2UubG9hZFRpbGVzV2l0aEFqYXgpIHtcbiAgICAgICAgICAgIGFqYXhIZWFkZXJzID0gdGlsZVNvdXJjZS5nZXRUaWxlQWpheEhlYWRlcnMoIGxldmVsLCB4TW9kLCB5TW9kICk7XG4gICAgICAgICAgICAvLyBDb21iaW5lIHRpbGUgQUpBWCBoZWFkZXJzIHdpdGggdGlsZWQgaW1hZ2UgQUpBWCBoZWFkZXJzIChpZiBhcHBsaWNhYmxlKVxuICAgICAgICAgICAgaWYgKCQuaXNQbGFpbk9iamVjdCh0aWxlZEltYWdlLmFqYXhIZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgIGFqYXhIZWFkZXJzID0gJC5leHRlbmQoe30sIHRpbGVkSW1hZ2UuYWpheEhlYWRlcnMsIGFqYXhIZWFkZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFqYXhIZWFkZXJzID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQyRCA9IHRpbGVTb3VyY2UuZ2V0Q29udGV4dDJEID9cbiAgICAgICAgICAgIHRpbGVTb3VyY2UuZ2V0Q29udGV4dDJEKGxldmVsLCB4TW9kLCB5TW9kKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICBib3VuZHMueCArPSAoIHggLSB4TW9kICkgLyBudW1UaWxlcy54O1xuICAgICAgICBib3VuZHMueSArPSAod29ybGRIZWlnaHQgLyB3b3JsZFdpZHRoKSAqICgoIHkgLSB5TW9kICkgLyBudW1UaWxlcy55KTtcblxuICAgICAgICB0aWxlID0gbmV3ICQuVGlsZShcbiAgICAgICAgICAgIGxldmVsLFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICBib3VuZHMsXG4gICAgICAgICAgICBleGlzdHMsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBjb250ZXh0MkQsXG4gICAgICAgICAgICB0aWxlZEltYWdlLmxvYWRUaWxlc1dpdGhBamF4LFxuICAgICAgICAgICAgYWpheEhlYWRlcnNcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoeE1vZCA9PT0gbnVtVGlsZXMueCAtIDEpIHtcbiAgICAgICAgICAgIHRpbGUuaXNSaWdodE1vc3QgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHlNb2QgPT09IG51bVRpbGVzLnkgLSAxKSB7XG4gICAgICAgICAgICB0aWxlLmlzQm90dG9tTW9zdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aWxlc01hdHJpeFsgbGV2ZWwgXVsgeCBdWyB5IF0gPSB0aWxlO1xuICAgIH1cblxuICAgIHRpbGUgPSB0aWxlc01hdHJpeFsgbGV2ZWwgXVsgeCBdWyB5IF07XG4gICAgdGlsZS5sYXN0VG91Y2hUaW1lID0gdGltZTtcblxuICAgIHJldHVybiB0aWxlO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIERpc3BhdGNoIGEgam9iIHRvIHRoZSBJbWFnZUxvYWRlciB0byBsb2FkIHRoZSBJbWFnZSBmb3IgYSBUaWxlLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IHRpbGVkSW1hZ2VcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlfSB0aWxlXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICovXG5mdW5jdGlvbiBsb2FkVGlsZSggdGlsZWRJbWFnZSwgdGlsZSwgdGltZSApIHtcbiAgICB0aWxlLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRpbGVkSW1hZ2UuX2ltYWdlTG9hZGVyLmFkZEpvYih7XG4gICAgICAgIHNyYzogdGlsZS51cmwsXG4gICAgICAgIGxvYWRXaXRoQWpheDogdGlsZS5sb2FkV2l0aEFqYXgsXG4gICAgICAgIGFqYXhIZWFkZXJzOiB0aWxlLmFqYXhIZWFkZXJzLFxuICAgICAgICBjcm9zc09yaWdpblBvbGljeTogdGlsZWRJbWFnZS5jcm9zc09yaWdpblBvbGljeSxcbiAgICAgICAgYWpheFdpdGhDcmVkZW50aWFsczogdGlsZWRJbWFnZS5hamF4V2l0aENyZWRlbnRpYWxzLFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24oIGltYWdlLCBlcnJvck1zZywgdGlsZVJlcXVlc3QgKXtcbiAgICAgICAgICAgIG9uVGlsZUxvYWQoIHRpbGVkSW1hZ2UsIHRpbGUsIHRpbWUsIGltYWdlLCBlcnJvck1zZywgdGlsZVJlcXVlc3QgKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGlsZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBDYWxsYmFjayBmaXJlZCB3aGVuIGEgVGlsZSdzIEltYWdlIGZpbmlzaGVkIGRvd25sb2FkaW5nLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IHRpbGVkSW1hZ2VcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlfSB0aWxlXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZVxuICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcbiAqIEBwYXJhbSB7U3RyaW5nfSBlcnJvck1zZ1xuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0gdGlsZVJlcXVlc3RcbiAqL1xuZnVuY3Rpb24gb25UaWxlTG9hZCggdGlsZWRJbWFnZSwgdGlsZSwgdGltZSwgaW1hZ2UsIGVycm9yTXNnLCB0aWxlUmVxdWVzdCApIHtcbiAgICBpZiAoICFpbWFnZSApIHtcbiAgICAgICAgJC5jb25zb2xlLmxvZyggXCJUaWxlICVzIGZhaWxlZCB0byBsb2FkOiAlcyAtIGVycm9yOiAlc1wiLCB0aWxlLCB0aWxlLnVybCwgZXJyb3JNc2cgKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBmYWlscyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgdGlsZS1sb2FkLWZhaWxlZFxuICAgICAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlRpbGV9IHRpbGUgLSBUaGUgdGlsZSB0aGF0IGZhaWxlZCB0byBsb2FkLlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gdGlsZWRJbWFnZSAtIFRoZSB0aWxlZCBpbWFnZSB0aGUgdGlsZSBiZWxvbmdzIHRvLlxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB3aGVuIHRoZSB0aWxlIGxvYWQgYmVnYW4uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7WE1MSHR0cFJlcXVlc3R9IHRpbGVSZXF1ZXN0IC0gVGhlIFhNTEh0dHBSZXF1ZXN0IHVzZWQgdG8gbG9hZCB0aGUgdGlsZSBpZiBhdmFpbGFibGUuXG4gICAgICAgICAqL1xuICAgICAgICB0aWxlZEltYWdlLnZpZXdlci5yYWlzZUV2ZW50KFwidGlsZS1sb2FkLWZhaWxlZFwiLCB7XG4gICAgICAgICAgICB0aWxlOiB0aWxlLFxuICAgICAgICAgICAgdGlsZWRJbWFnZTogdGlsZWRJbWFnZSxcbiAgICAgICAgICAgIHRpbWU6IHRpbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvck1zZyxcbiAgICAgICAgICAgIHRpbGVSZXF1ZXN0OiB0aWxlUmVxdWVzdFxuICAgICAgICB9KTtcbiAgICAgICAgdGlsZS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRpbGUuZXhpc3RzID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIHRpbWUgPCB0aWxlZEltYWdlLmxhc3RSZXNldFRpbWUgKSB7XG4gICAgICAgICQuY29uc29sZS5sb2coIFwiSWdub3JpbmcgdGlsZSAlcyBsb2FkZWQgYmVmb3JlIHJlc2V0OiAlc1wiLCB0aWxlLCB0aWxlLnVybCApO1xuICAgICAgICB0aWxlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBmaW5pc2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGN1dG9mZiA9IHRpbGVkSW1hZ2Uuc291cmNlLmdldENsb3Nlc3RMZXZlbCgpO1xuICAgICAgICBzZXRUaWxlTG9hZGVkKHRpbGVkSW1hZ2UsIHRpbGUsIGltYWdlLCBjdXRvZmYsIHRpbGVSZXF1ZXN0KTtcbiAgICB9O1xuXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgbWlkLXVwZGF0ZTsgdGhpcyBjYW4gaGFwcGVuIG9uIElFOCBiZWNhdXNlIGltYWdlIGxvYWQgZXZlbnRzIGZvclxuICAgIC8vIGNhY2hlZCBpbWFnZXMgaGFwcGVuIGltbWVkaWF0ZWx5IHRoZXJlXG4gICAgaWYgKCAhdGlsZWRJbWFnZS5fbWlkRHJhdyApIHtcbiAgICAgICAgZmluaXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2FpdCB1bnRpbCBhZnRlciB0aGUgdXBkYXRlLCBpbiBjYXNlIGNhY2hpbmcgdW5sb2FkcyBhbnkgdGlsZXNcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoIGZpbmlzaCwgMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZX0gdGlsZVxuICogQHBhcmFtIHtJbWFnZX0gaW1hZ2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBjdXRvZmZcbiAqL1xuZnVuY3Rpb24gc2V0VGlsZUxvYWRlZCh0aWxlZEltYWdlLCB0aWxlLCBpbWFnZSwgY3V0b2ZmLCB0aWxlUmVxdWVzdCkge1xuICAgIHZhciBpbmNyZW1lbnQgPSAwO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q29tcGxldGlvbkNhbGxiYWNrKCkge1xuICAgICAgICBpbmNyZW1lbnQrKztcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRpb25DYWxsYmFjaztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0aW9uQ2FsbGJhY2soKSB7XG4gICAgICAgIGluY3JlbWVudC0tO1xuICAgICAgICBpZiAoaW5jcmVtZW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aWxlLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRpbGUubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghdGlsZS5jb250ZXh0MkQpIHtcbiAgICAgICAgICAgICAgICB0aWxlZEltYWdlLl90aWxlQ2FjaGUuY2FjaGVUaWxlKHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlLFxuICAgICAgICAgICAgICAgICAgICB0aWxlOiB0aWxlLFxuICAgICAgICAgICAgICAgICAgICBjdXRvZmY6IGN1dG9mZixcbiAgICAgICAgICAgICAgICAgICAgdGlsZWRJbWFnZTogdGlsZWRJbWFnZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGlsZWRJbWFnZS5fbmVlZHNEcmF3ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJlZCB3aGVuIGEgdGlsZSBoYXMganVzdCBiZWVuIGxvYWRlZCBpbiBtZW1vcnkuIFRoYXQgbWVhbnMgdGhhdCB0aGVcbiAgICAgKiBpbWFnZSBoYXMgYmVlbiBkb3dubG9hZGVkIGFuZCBjYW4gYmUgbW9kaWZpZWQgYmVmb3JlIGJlaW5nIGRyYXduIHRvIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgdGlsZS1sb2FkZWRcbiAgICAgKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvbi5WaWV3ZXJcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SW1hZ2V9IGltYWdlIC0gVGhlIGltYWdlIG9mIHRoZSB0aWxlLlxuICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlIC0gVGhlIHRpbGVkIGltYWdlIG9mIHRoZSBsb2FkZWQgdGlsZS5cbiAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZX0gdGlsZSAtIFRoZSB0aWxlIHdoaWNoIGhhcyBiZWVuIGxvYWRlZC5cbiAgICAgKiBAcHJvcGVydHkge1hNTEh0dHBSZXF1ZXN0fSB0aWxlZEltYWdlIC0gVGhlIEFKQVggcmVxdWVzdCB0aGF0IGxvYWRlZCB0aGlzIHRpbGUgKGlmIGFwcGxpY2FibGUpLlxuICAgICAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGdldENvbXBsZXRpb25DYWxsYmFjayAtIEEgZnVuY3Rpb24gZ2l2aW5nIGEgY2FsbGJhY2sgdG8gY2FsbFxuICAgICAqIHdoZW4gdGhlIGFzeW5jaHJvbm91cyBwcm9jZXNzaW5nIG9mIHRoZSBpbWFnZSBpcyBkb25lLiBUaGUgaW1hZ2Ugd2lsbCBiZVxuICAgICAqIG1hcmtlZCBhcyBlbnRpcmVseSBsb2FkZWQgd2hlbiB0aGUgY2FsbGJhY2sgaGFzIGJlZW4gY2FsbGVkIG9uY2UgZm9yIGVhY2hcbiAgICAgKiBjYWxsIHRvIGdldENvbXBsZXRpb25DYWxsYmFjay5cbiAgICAgKi9cbiAgICB0aWxlZEltYWdlLnZpZXdlci5yYWlzZUV2ZW50KFwidGlsZS1sb2FkZWRcIiwge1xuICAgICAgICB0aWxlOiB0aWxlLFxuICAgICAgICB0aWxlZEltYWdlOiB0aWxlZEltYWdlLFxuICAgICAgICB0aWxlUmVxdWVzdDogdGlsZVJlcXVlc3QsXG4gICAgICAgIGltYWdlOiBpbWFnZSxcbiAgICAgICAgZ2V0Q29tcGxldGlvbkNhbGxiYWNrOiBnZXRDb21wbGV0aW9uQ2FsbGJhY2tcbiAgICB9KTtcbiAgICAvLyBJbiBjYXNlIHRoZSBjb21wbGV0aW9uIGNhbGxiYWNrIGlzIG5ldmVyIGNhbGxlZCwgd2UgYXQgbGVhc3QgZm9yY2UgaXQgb25jZS5cbiAgICBnZXRDb21wbGV0aW9uQ2FsbGJhY2soKSgpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlfSB0aWxlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG92ZXJsYXBcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5WaWV3cG9ydH0gdmlld3BvcnRcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5Qb2ludH0gdmlld3BvcnRDZW50ZXJcbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbFZpc2liaWxpdHlcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlXG4gKi9cbmZ1bmN0aW9uIHBvc2l0aW9uVGlsZSggdGlsZSwgb3ZlcmxhcCwgdmlld3BvcnQsIHZpZXdwb3J0Q2VudGVyLCBsZXZlbFZpc2liaWxpdHksIHRpbGVkSW1hZ2UgKXtcbiAgICB2YXIgYm91bmRzVEwgICAgID0gdGlsZS5ib3VuZHMuZ2V0VG9wTGVmdCgpO1xuXG4gICAgYm91bmRzVEwueCAqPSB0aWxlZEltYWdlLl9zY2FsZVNwcmluZy5jdXJyZW50LnZhbHVlO1xuICAgIGJvdW5kc1RMLnkgKj0gdGlsZWRJbWFnZS5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZTtcbiAgICBib3VuZHNUTC54ICs9IHRpbGVkSW1hZ2UuX3hTcHJpbmcuY3VycmVudC52YWx1ZTtcbiAgICBib3VuZHNUTC55ICs9IHRpbGVkSW1hZ2UuX3lTcHJpbmcuY3VycmVudC52YWx1ZTtcblxuICAgIHZhciBib3VuZHNTaXplICAgPSB0aWxlLmJvdW5kcy5nZXRTaXplKCk7XG5cbiAgICBib3VuZHNTaXplLnggKj0gdGlsZWRJbWFnZS5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZTtcbiAgICBib3VuZHNTaXplLnkgKj0gdGlsZWRJbWFnZS5fc2NhbGVTcHJpbmcuY3VycmVudC52YWx1ZTtcblxuICAgIHZhciBwb3NpdGlvbkMgPSB2aWV3cG9ydC5waXhlbEZyb21Qb2ludE5vUm90YXRlKGJvdW5kc1RMLCB0cnVlKSxcbiAgICAgICAgcG9zaXRpb25UID0gdmlld3BvcnQucGl4ZWxGcm9tUG9pbnROb1JvdGF0ZShib3VuZHNUTCwgZmFsc2UpLFxuICAgICAgICBzaXplQyA9IHZpZXdwb3J0LmRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlKGJvdW5kc1NpemUsIHRydWUpLFxuICAgICAgICBzaXplVCA9IHZpZXdwb3J0LmRlbHRhUGl4ZWxzRnJvbVBvaW50c05vUm90YXRlKGJvdW5kc1NpemUsIGZhbHNlKSxcbiAgICAgICAgdGlsZUNlbnRlciA9IHBvc2l0aW9uVC5wbHVzKCBzaXplVC5kaXZpZGUoIDIgKSApLFxuICAgICAgICB0aWxlU3F1YXJlZERpc3RhbmNlID0gdmlld3BvcnRDZW50ZXIuc3F1YXJlZERpc3RhbmNlVG8oIHRpbGVDZW50ZXIgKTtcblxuICAgIGlmICggIW92ZXJsYXAgKSB7XG4gICAgICAgIHNpemVDID0gc2l6ZUMucGx1cyggbmV3ICQuUG9pbnQoIDEsIDEgKSApO1xuICAgIH1cblxuICAgIGlmICh0aWxlLmlzUmlnaHRNb3N0ICYmIHRpbGVkSW1hZ2Uud3JhcEhvcml6b250YWwpIHtcbiAgICAgICAgc2l6ZUMueCArPSAwLjc1OyAvLyBPdGhlcndpc2UgRmlyZWZveCBhbmQgU2FmYXJpIHNob3cgc2VhbXNcbiAgICB9XG5cbiAgICBpZiAodGlsZS5pc0JvdHRvbU1vc3QgJiYgdGlsZWRJbWFnZS53cmFwVmVydGljYWwpIHtcbiAgICAgICAgc2l6ZUMueSArPSAwLjc1OyAvLyBPdGhlcndpc2UgRmlyZWZveCBhbmQgU2FmYXJpIHNob3cgc2VhbXNcbiAgICB9XG5cbiAgICB0aWxlLnBvc2l0aW9uICAgPSBwb3NpdGlvbkM7XG4gICAgdGlsZS5zaXplICAgICAgID0gc2l6ZUM7XG4gICAgdGlsZS5zcXVhcmVkRGlzdGFuY2UgICA9IHRpbGVTcXVhcmVkRGlzdGFuY2U7XG4gICAgdGlsZS52aXNpYmlsaXR5ID0gbGV2ZWxWaXNpYmlsaXR5O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIFVwZGF0ZXMgdGhlIG9wYWNpdHkgb2YgYSB0aWxlIGFjY29yZGluZyB0byB0aGUgdGltZSBpdCBoYXMgYmVlbiBvbiBzY3JlZW5cbiAqIHRvIHBlcmZvcm0gYSBmYWRlLWluLlxuICogVXBkYXRlcyBjb3ZlcmFnZSBvbmNlIGEgdGlsZSBpcyBmdWxseSBvcGFxdWUuXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGZhZGUtaW4gaGFzIGNvbXBsZXRlZC5cbiAqXG4gKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gdGlsZWRJbWFnZVxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGV9IHRpbGVcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWxPcGFjaXR5XG4gKiBAcGFyYW0ge051bWJlcn0gY3VycmVudFRpbWVcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBibGVuZFRpbGUoIHRpbGVkSW1hZ2UsIHRpbGUsIHgsIHksIGxldmVsLCBsZXZlbE9wYWNpdHksIGN1cnJlbnRUaW1lICl7XG4gICAgdmFyIGJsZW5kVGltZU1pbGxpcyA9IDEwMDAgKiB0aWxlZEltYWdlLmJsZW5kVGltZSxcbiAgICAgICAgZGVsdGFUaW1lLFxuICAgICAgICBvcGFjaXR5O1xuXG4gICAgaWYgKCAhdGlsZS5ibGVuZFN0YXJ0ICkge1xuICAgICAgICB0aWxlLmJsZW5kU3RhcnQgPSBjdXJyZW50VGltZTtcbiAgICB9XG5cbiAgICBkZWx0YVRpbWUgICA9IGN1cnJlbnRUaW1lIC0gdGlsZS5ibGVuZFN0YXJ0O1xuICAgIG9wYWNpdHkgICAgID0gYmxlbmRUaW1lTWlsbGlzID8gTWF0aC5taW4oIDEsIGRlbHRhVGltZSAvICggYmxlbmRUaW1lTWlsbGlzICkgKSA6IDE7XG5cbiAgICBpZiAoIHRpbGVkSW1hZ2UuYWx3YXlzQmxlbmQgKSB7XG4gICAgICAgIG9wYWNpdHkgKj0gbGV2ZWxPcGFjaXR5O1xuICAgIH1cblxuICAgIHRpbGUub3BhY2l0eSA9IG9wYWNpdHk7XG5cbiAgICB0aWxlZEltYWdlLmxhc3REcmF3bi5wdXNoKCB0aWxlICk7XG5cbiAgICBpZiAoIG9wYWNpdHkgPT0gMSApIHtcbiAgICAgICAgc2V0Q292ZXJhZ2UoIHRpbGVkSW1hZ2UuY292ZXJhZ2UsIGxldmVsLCB4LCB5LCB0cnVlICk7XG4gICAgICAgIHRpbGVkSW1hZ2UuX2hhc09wYXF1ZVRpbGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoIGRlbHRhVGltZSA8IGJsZW5kVGltZU1pbGxpcyApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdGlsZSBwcm92aWRlcyBjb3ZlcmFnZSB0byBsb3dlci1sZXZlbCB0aWxlcyBvZlxuICogbG93ZXIgcmVzb2x1dGlvbiByZXByZXNlbnRpbmcgdGhlIHNhbWUgY29udGVudC4gSWYgbmVpdGhlciB4IG5vciB5IGlzXG4gKiBnaXZlbiwgcmV0dXJucyB0cnVlIGlmIHRoZSBlbnRpcmUgdmlzaWJsZSBsZXZlbCBwcm92aWRlcyBjb3ZlcmFnZS5cbiAqXG4gKiBOb3RlIHRoYXQgb3V0LW9mLWJvdW5kcyB0aWxlcyBwcm92aWRlIGNvdmVyYWdlIGluIHRoaXMgc2Vuc2UsIHNpbmNlXG4gKiB0aGVyZSdzIG5vIGNvbnRlbnQgdGhhdCB0aGV5IHdvdWxkIG5lZWQgdG8gY292ZXIuIFRpbGVzIGF0IG5vbi1leGlzdGVudFxuICogbGV2ZWxzIHRoYXQgYXJlIHdpdGhpbiB0aGUgaW1hZ2UgYm91bmRzLCBob3dldmVyLCBkbyBub3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvdmVyYWdlIC0gQSAnM2QnIGRpY3Rpb25hcnkgW2xldmVsXVt4XVt5XSAtLT4gQm9vbGVhbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbCAtIFRoZSByZXNvbHV0aW9uIGxldmVsIG9mIHRoZSB0aWxlLlxuICogQHBhcmFtIHtOdW1iZXJ9IHggLSBUaGUgWCBwb3NpdGlvbiBvZiB0aGUgdGlsZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gVGhlIFkgcG9zaXRpb24gb2YgdGhlIHRpbGUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gcHJvdmlkZXNDb3ZlcmFnZSggY292ZXJhZ2UsIGxldmVsLCB4LCB5ICkge1xuICAgIHZhciByb3dzLFxuICAgICAgICBjb2xzLFxuICAgICAgICBpLCBqO1xuXG4gICAgaWYgKCAhY292ZXJhZ2VbIGxldmVsIF0gKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIHggPT09IHVuZGVmaW5lZCB8fCB5ID09PSB1bmRlZmluZWQgKSB7XG4gICAgICAgIHJvd3MgPSBjb3ZlcmFnZVsgbGV2ZWwgXTtcbiAgICAgICAgZm9yICggaSBpbiByb3dzICkge1xuICAgICAgICAgICAgaWYgKCByb3dzLmhhc093blByb3BlcnR5KCBpICkgKSB7XG4gICAgICAgICAgICAgICAgY29scyA9IHJvd3NbIGkgXTtcbiAgICAgICAgICAgICAgICBmb3IgKCBqIGluIGNvbHMgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggY29scy5oYXNPd25Qcm9wZXJ0eSggaiApICYmICFjb2xzWyBqIF0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICBjb3ZlcmFnZVsgbGV2ZWwgXVsgeF0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBjb3ZlcmFnZVsgbGV2ZWwgXVsgeCBdWyB5IF0gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBjb3ZlcmFnZVsgbGV2ZWwgXVsgeCBdWyB5IF0gPT09IHRydWVcbiAgICApO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdGlsZSBpcyBjb21wbGV0ZWx5IGNvdmVyZWQgYnkgaGlnaGVyLWxldmVsXG4gKiB0aWxlcyBvZiBoaWdoZXIgcmVzb2x1dGlvbiByZXByZXNlbnRpbmcgdGhlIHNhbWUgY29udGVudC4gSWYgbmVpdGhlciB4XG4gKiBub3IgeSBpcyBnaXZlbiwgcmV0dXJucyB0cnVlIGlmIHRoZSBlbnRpcmUgdmlzaWJsZSBsZXZlbCBpcyBjb3ZlcmVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb3ZlcmFnZSAtIEEgJzNkJyBkaWN0aW9uYXJ5IFtsZXZlbF1beF1beV0gLS0+IEJvb2xlYW4uXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgLSBUaGUgcmVzb2x1dGlvbiBsZXZlbCBvZiB0aGUgdGlsZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gVGhlIFggcG9zaXRpb24gb2YgdGhlIHRpbGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSAtIFRoZSBZIHBvc2l0aW9uIG9mIHRoZSB0aWxlLlxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzQ292ZXJlZCggY292ZXJhZ2UsIGxldmVsLCB4LCB5ICkge1xuICAgIGlmICggeCA9PT0gdW5kZWZpbmVkIHx8IHkgPT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVzQ292ZXJhZ2UoIGNvdmVyYWdlLCBsZXZlbCArIDEgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgIHByb3ZpZGVzQ292ZXJhZ2UoIGNvdmVyYWdlLCBsZXZlbCArIDEsIDIgKiB4LCAyICogeSApICYmXG4gICAgICAgICAgICAgcHJvdmlkZXNDb3ZlcmFnZSggY292ZXJhZ2UsIGxldmVsICsgMSwgMiAqIHgsIDIgKiB5ICsgMSApICYmXG4gICAgICAgICAgICAgcHJvdmlkZXNDb3ZlcmFnZSggY292ZXJhZ2UsIGxldmVsICsgMSwgMiAqIHggKyAxLCAyICogeSApICYmXG4gICAgICAgICAgICAgcHJvdmlkZXNDb3ZlcmFnZSggY292ZXJhZ2UsIGxldmVsICsgMSwgMiAqIHggKyAxLCAyICogeSArIDEgKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQGlubmVyXG4gKiBTZXRzIHdoZXRoZXIgdGhlIGdpdmVuIHRpbGUgcHJvdmlkZXMgY292ZXJhZ2Ugb3Igbm90LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb3ZlcmFnZSAtIEEgJzNkJyBkaWN0aW9uYXJ5IFtsZXZlbF1beF1beV0gLS0+IEJvb2xlYW4uXG4gKiBAcGFyYW0ge051bWJlcn0gbGV2ZWwgLSBUaGUgcmVzb2x1dGlvbiBsZXZlbCBvZiB0aGUgdGlsZS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gVGhlIFggcG9zaXRpb24gb2YgdGhlIHRpbGUuXG4gKiBAcGFyYW0ge051bWJlcn0geSAtIFRoZSBZIHBvc2l0aW9uIG9mIHRoZSB0aWxlLlxuICogQHBhcmFtIHtCb29sZWFufSBjb3ZlcnMgLSBXaGV0aGVyIHRoZSB0aWxlIHByb3ZpZGVzIGNvdmVyYWdlLlxuICovXG5mdW5jdGlvbiBzZXRDb3ZlcmFnZSggY292ZXJhZ2UsIGxldmVsLCB4LCB5LCBjb3ZlcnMgKSB7XG4gICAgaWYgKCAhY292ZXJhZ2VbIGxldmVsIF0gKSB7XG4gICAgICAgICQuY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJTZXR0aW5nIGNvdmVyYWdlIGZvciBhIHRpbGUgYmVmb3JlIGl0cyBsZXZlbCdzIGNvdmVyYWdlIGhhcyBiZWVuIHJlc2V0OiAlc1wiLFxuICAgICAgICAgICAgbGV2ZWxcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICggIWNvdmVyYWdlWyBsZXZlbCBdWyB4IF0gKSB7XG4gICAgICAgIGNvdmVyYWdlWyBsZXZlbCBdWyB4IF0gPSB7fTtcbiAgICB9XG5cbiAgICBjb3ZlcmFnZVsgbGV2ZWwgXVsgeCBdWyB5IF0gPSBjb3ZlcnM7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogUmVzZXRzIGNvdmVyYWdlIGluZm9ybWF0aW9uIGZvciB0aGUgZ2l2ZW4gbGV2ZWwuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZFxuICogYWZ0ZXIgZXZlcnkgZHJhdyByb3V0aW5lLiBOb3RlIHRoYXQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBkcmF3XG4gKiByb3V0aW5lLCBjb3ZlcmFnZSBmb3IgZXZlcnkgdmlzaWJsZSB0aWxlIHNob3VsZCBiZSBleHBsaWNpdGx5IHNldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY292ZXJhZ2UgLSBBICczZCcgZGljdGlvbmFyeSBbbGV2ZWxdW3hdW3ldIC0tPiBCb29sZWFuLlxuICogQHBhcmFtIHtOdW1iZXJ9IGxldmVsIC0gVGhlIHJlc29sdXRpb24gbGV2ZWwgb2YgdGlsZXMgdG8gY29tcGxldGVseSByZXNldC5cbiAqL1xuZnVuY3Rpb24gcmVzZXRDb3ZlcmFnZSggY292ZXJhZ2UsIGxldmVsICkge1xuICAgIGNvdmVyYWdlWyBsZXZlbCBdID0ge307XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSAnbGFzdCBiZXN0JyB0aWxlIGZvciB0aGUgYXJlYSBpcyBiZXR0ZXIgdGhhbiB0aGVcbiAqIHRpbGUgaW4gcXVlc3Rpb24uXG4gKlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGV9IHByZXZpb3VzQmVzdFxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGV9IHRpbGVcbiAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlRpbGV9IFRoZSBuZXcgYmVzdCB0aWxlLlxuICovXG5mdW5jdGlvbiBjb21wYXJlVGlsZXMoIHByZXZpb3VzQmVzdCwgdGlsZSApIHtcbiAgICBpZiAoICFwcmV2aW91c0Jlc3QgKSB7XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH1cblxuICAgIGlmICggdGlsZS52aXNpYmlsaXR5ID4gcHJldmlvdXNCZXN0LnZpc2liaWxpdHkgKSB7XG4gICAgICAgIHJldHVybiB0aWxlO1xuICAgIH0gZWxzZSBpZiAoIHRpbGUudmlzaWJpbGl0eSA9PSBwcmV2aW91c0Jlc3QudmlzaWJpbGl0eSApIHtcbiAgICAgICAgaWYgKCB0aWxlLnNxdWFyZWREaXN0YW5jZSA8IHByZXZpb3VzQmVzdC5zcXVhcmVkRGlzdGFuY2UgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGlsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwcmV2aW91c0Jlc3Q7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBpbm5lclxuICogRHJhd3MgYSBUaWxlZEltYWdlLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IHRpbGVkSW1hZ2VcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlW119IGxhc3REcmF3biAtIEFuIHVub3JkZXJlZCBsaXN0IG9mIFRpbGVzIGRyYXduIGxhc3QgZnJhbWUuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUaWxlcyggdGlsZWRJbWFnZSwgbGFzdERyYXduICkge1xuICAgIGlmICh0aWxlZEltYWdlLm9wYWNpdHkgPT09IDAgfHwgKGxhc3REcmF3bi5sZW5ndGggPT09IDAgJiYgIXRpbGVkSW1hZ2UucGxhY2Vob2xkZXJGaWxsU3R5bGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdGlsZSA9IGxhc3REcmF3blswXTtcbiAgICB2YXIgdXNlU2tldGNoO1xuXG4gICAgaWYgKHRpbGUpIHtcbiAgICAgICAgdXNlU2tldGNoID0gdGlsZWRJbWFnZS5vcGFjaXR5IDwgMSB8fFxuICAgICAgICAgICAgKHRpbGVkSW1hZ2UuY29tcG9zaXRlT3BlcmF0aW9uICYmXG4gICAgICAgICAgICAgICAgdGlsZWRJbWFnZS5jb21wb3NpdGVPcGVyYXRpb24gIT09ICdzb3VyY2Utb3ZlcicpIHx8XG4gICAgICAgICAgICAoIXRpbGVkSW1hZ2UuX2lzQm90dG9tSXRlbSgpICYmIHRpbGUuX2hhc1RyYW5zcGFyZW5jeUNoYW5uZWwoKSk7XG4gICAgfVxuXG4gICAgdmFyIHNrZXRjaFNjYWxlO1xuICAgIHZhciBza2V0Y2hUcmFuc2xhdGU7XG5cbiAgICB2YXIgem9vbSA9IHRpbGVkSW1hZ2Uudmlld3BvcnQuZ2V0Wm9vbSh0cnVlKTtcbiAgICB2YXIgaW1hZ2Vab29tID0gdGlsZWRJbWFnZS52aWV3cG9ydFRvSW1hZ2Vab29tKHpvb20pO1xuXG4gICAgaWYgKGxhc3REcmF3bi5sZW5ndGggPiAxICYmXG4gICAgICAgIGltYWdlWm9vbSA+IHRpbGVkSW1hZ2Uuc21vb3RoVGlsZUVkZ2VzTWluWm9vbSAmJlxuICAgICAgICAhdGlsZWRJbWFnZS5pT1NEZXZpY2UgJiZcbiAgICAgICAgdGlsZWRJbWFnZS5nZXRSb3RhdGlvbih0cnVlKSAlIDM2MCA9PT0gMCAmJiAvLyBUT0RPOiBzdXBwb3J0IHRpbGUgZWRnZSBzbW9vdGhpbmcgd2l0aCB0aWxlZCBpbWFnZSByb3RhdGlvbi5cbiAgICAgICAgJC5zdXBwb3J0c0NhbnZhcykge1xuICAgICAgICAvLyBXaGVuIHpvb21lZCBpbiBhIGxvdCAoPjEwMCUpIHRoZSB0aWxlIGVkZ2VzIGFyZSB2aXNpYmxlLlxuICAgICAgICAvLyBTbyB3ZSBoYXZlIHRvIGNvbXBvc2l0ZSB0aGVtIGF0IH4xMDAlIGFuZCBzY2FsZSB0aGVtIHVwIHRvZ2V0aGVyLlxuICAgICAgICAvLyBOb3RlOiBEaXNhYmxlZCBvbiBpT1MgZGV2aWNlcyBwZXIgZGVmYXVsdCBhcyBpdCBjYXVzZXMgYSBuYXRpdmUgY3Jhc2hcbiAgICAgICAgdXNlU2tldGNoID0gdHJ1ZTtcbiAgICAgICAgc2tldGNoU2NhbGUgPSB0aWxlLmdldFNjYWxlRm9yRWRnZVNtb290aGluZygpO1xuICAgICAgICBza2V0Y2hUcmFuc2xhdGUgPSB0aWxlLmdldFRyYW5zbGF0aW9uRm9yRWRnZVNtb290aGluZyhza2V0Y2hTY2FsZSxcbiAgICAgICAgICAgIHRpbGVkSW1hZ2UuX2RyYXdlci5nZXRDYW52YXNTaXplKGZhbHNlKSxcbiAgICAgICAgICAgIHRpbGVkSW1hZ2UuX2RyYXdlci5nZXRDYW52YXNTaXplKHRydWUpKTtcbiAgICB9XG5cbiAgICB2YXIgYm91bmRzO1xuICAgIGlmICh1c2VTa2V0Y2gpIHtcbiAgICAgICAgaWYgKCFza2V0Y2hTY2FsZSkge1xuICAgICAgICAgICAgLy8gRXhjZXB0IHdoZW4gZWRnZSBzbW9vdGhpbmcsIHdlIG9ubHkgY2xlYW4gdGhlIHBhcnQgb2YgdGhlXG4gICAgICAgICAgICAvLyBza2V0Y2ggY2FudmFzIHdlIGFyZSBnb2luZyB0byB1c2UgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgICAgICBib3VuZHMgPSB0aWxlZEltYWdlLnZpZXdwb3J0LnZpZXdwb3J0VG9WaWV3ZXJFbGVtZW50UmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIHRpbGVkSW1hZ2UuZ2V0Q2xpcHBlZEJvdW5kcyh0cnVlKSlcbiAgICAgICAgICAgICAgICAuZ2V0SW50ZWdlckJvdW5kaW5nQm94KClcbiAgICAgICAgICAgICAgICAudGltZXMoJC5waXhlbERlbnNpdHlSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLl9jbGVhcih0cnVlLCBib3VuZHMpO1xuICAgIH1cblxuICAgIC8vIFdoZW4gc2NhbGluZywgd2UgbXVzdCByb3RhdGUgb25seSB3aGVuIGJsZW5kaW5nIHRoZSBza2V0Y2ggY2FudmFzIHRvXG4gICAgLy8gYXZvaWQgaW50ZXJwb2xhdGlvblxuICAgIGlmICghc2tldGNoU2NhbGUpIHtcbiAgICAgICAgaWYgKHRpbGVkSW1hZ2Uudmlld3BvcnQuZGVncmVlcyAhPT0gMCkge1xuICAgICAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLl9vZmZzZXRGb3JSb3RhdGlvbih7XG4gICAgICAgICAgICAgICAgZGVncmVlczogdGlsZWRJbWFnZS52aWV3cG9ydC5kZWdyZWVzLFxuICAgICAgICAgICAgICAgIHVzZVNrZXRjaDogdXNlU2tldGNoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZWRJbWFnZS5nZXRSb3RhdGlvbih0cnVlKSAlIDM2MCAhPT0gMCkge1xuICAgICAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLl9vZmZzZXRGb3JSb3RhdGlvbih7XG4gICAgICAgICAgICAgICAgZGVncmVlczogdGlsZWRJbWFnZS5nZXRSb3RhdGlvbih0cnVlKSxcbiAgICAgICAgICAgICAgICBwb2ludDogdGlsZWRJbWFnZS52aWV3cG9ydC5waXhlbEZyb21Qb2ludE5vUm90YXRlKFxuICAgICAgICAgICAgICAgICAgICB0aWxlZEltYWdlLl9nZXRSb3RhdGlvblBvaW50KHRydWUpLCB0cnVlKSxcbiAgICAgICAgICAgICAgICB1c2VTa2V0Y2g6IHVzZVNrZXRjaFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdXNlZENsaXAgPSBmYWxzZTtcbiAgICBpZiAoIHRpbGVkSW1hZ2UuX2NsaXAgKSB7XG4gICAgICAgIHRpbGVkSW1hZ2UuX2RyYXdlci5zYXZlQ29udGV4dCh1c2VTa2V0Y2gpO1xuXG4gICAgICAgIHZhciBib3ggPSB0aWxlZEltYWdlLmltYWdlVG9WaWV3cG9ydFJlY3RhbmdsZSh0aWxlZEltYWdlLl9jbGlwLCB0cnVlKTtcbiAgICAgICAgYm94ID0gYm94LnJvdGF0ZSgtdGlsZWRJbWFnZS5nZXRSb3RhdGlvbih0cnVlKSwgdGlsZWRJbWFnZS5fZ2V0Um90YXRpb25Qb2ludCh0cnVlKSk7XG4gICAgICAgIHZhciBjbGlwUmVjdCA9IHRpbGVkSW1hZ2UuX2RyYXdlci52aWV3cG9ydFRvRHJhd2VyUmVjdGFuZ2xlKGJveCk7XG4gICAgICAgIGlmIChza2V0Y2hTY2FsZSkge1xuICAgICAgICAgICAgY2xpcFJlY3QgPSBjbGlwUmVjdC50aW1lcyhza2V0Y2hTY2FsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNrZXRjaFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgY2xpcFJlY3QgPSBjbGlwUmVjdC50cmFuc2xhdGUoc2tldGNoVHJhbnNsYXRlKTtcbiAgICAgICAgfVxuICAgICAgICB0aWxlZEltYWdlLl9kcmF3ZXIuc2V0Q2xpcChjbGlwUmVjdCwgdXNlU2tldGNoKTtcblxuICAgICAgICB1c2VkQ2xpcCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCB0aWxlZEltYWdlLnBsYWNlaG9sZGVyRmlsbFN0eWxlICYmIHRpbGVkSW1hZ2UuX2hhc09wYXF1ZVRpbGUgPT09IGZhbHNlICkge1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXJSZWN0ID0gdGlsZWRJbWFnZS5fZHJhd2VyLnZpZXdwb3J0VG9EcmF3ZXJSZWN0YW5nbGUodGlsZWRJbWFnZS5nZXRCb3VuZHModHJ1ZSkpO1xuICAgICAgICBpZiAoc2tldGNoU2NhbGUpIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyUmVjdCA9IHBsYWNlaG9sZGVyUmVjdC50aW1lcyhza2V0Y2hTY2FsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNrZXRjaFRyYW5zbGF0ZSkge1xuICAgICAgICAgICAgcGxhY2Vob2xkZXJSZWN0ID0gcGxhY2Vob2xkZXJSZWN0LnRyYW5zbGF0ZShza2V0Y2hUcmFuc2xhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpbGxTdHlsZSA9IG51bGw7XG4gICAgICAgIGlmICggdHlwZW9mIHRpbGVkSW1hZ2UucGxhY2Vob2xkZXJGaWxsU3R5bGUgPT09IFwiZnVuY3Rpb25cIiApIHtcbiAgICAgICAgICAgIGZpbGxTdHlsZSA9IHRpbGVkSW1hZ2UucGxhY2Vob2xkZXJGaWxsU3R5bGUodGlsZWRJbWFnZSwgdGlsZWRJbWFnZS5fZHJhd2VyLmNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmlsbFN0eWxlID0gdGlsZWRJbWFnZS5wbGFjZWhvbGRlckZpbGxTdHlsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRpbGVkSW1hZ2UuX2RyYXdlci5kcmF3UmVjdGFuZ2xlKHBsYWNlaG9sZGVyUmVjdCwgZmlsbFN0eWxlLCB1c2VTa2V0Y2gpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSBsYXN0RHJhd24ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdGlsZSA9IGxhc3REcmF3blsgaSBdO1xuICAgICAgICB0aWxlZEltYWdlLl9kcmF3ZXIuZHJhd1RpbGUoIHRpbGUsIHRpbGVkSW1hZ2UuX2RyYXdpbmdIYW5kbGVyLCB1c2VTa2V0Y2gsIHNrZXRjaFNjYWxlLCBza2V0Y2hUcmFuc2xhdGUgKTtcbiAgICAgICAgdGlsZS5iZWluZ0RyYXduID0gdHJ1ZTtcblxuICAgICAgICBpZiggdGlsZWRJbWFnZS52aWV3ZXIgKXtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogPGVtPi0gTmVlZHMgZG9jdW1lbnRhdGlvbiAtPC9lbT5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZXZlbnQgdGlsZS1kcmF3blxuICAgICAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLlZpZXdlcn0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgVmlld2VyIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gdGlsZWRJbWFnZSAtIFdoaWNoIFRpbGVkSW1hZ2UgaXMgYmVpbmcgZHJhd24uXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZX0gdGlsZVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aWxlZEltYWdlLnZpZXdlci5yYWlzZUV2ZW50KCAndGlsZS1kcmF3bicsIHtcbiAgICAgICAgICAgICAgICB0aWxlZEltYWdlOiB0aWxlZEltYWdlLFxuICAgICAgICAgICAgICAgIHRpbGU6IHRpbGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCB1c2VkQ2xpcCApIHtcbiAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLnJlc3RvcmVDb250ZXh0KCB1c2VTa2V0Y2ggKTtcbiAgICB9XG5cbiAgICBpZiAoIXNrZXRjaFNjYWxlKSB7XG4gICAgICAgIGlmICh0aWxlZEltYWdlLmdldFJvdGF0aW9uKHRydWUpICUgMzYwICE9PSAwKSB7XG4gICAgICAgICAgICB0aWxlZEltYWdlLl9kcmF3ZXIuX3Jlc3RvcmVSb3RhdGlvbkNoYW5nZXModXNlU2tldGNoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGlsZWRJbWFnZS52aWV3cG9ydC5kZWdyZWVzICE9PSAwKSB7XG4gICAgICAgICAgICB0aWxlZEltYWdlLl9kcmF3ZXIuX3Jlc3RvcmVSb3RhdGlvbkNoYW5nZXModXNlU2tldGNoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VTa2V0Y2gpIHtcbiAgICAgICAgaWYgKHNrZXRjaFNjYWxlKSB7XG4gICAgICAgICAgICBpZiAodGlsZWRJbWFnZS52aWV3cG9ydC5kZWdyZWVzICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLl9vZmZzZXRGb3JSb3RhdGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGRlZ3JlZXM6IHRpbGVkSW1hZ2Uudmlld3BvcnQuZGVncmVlcyxcbiAgICAgICAgICAgICAgICAgICAgdXNlU2tldGNoOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbGVkSW1hZ2UuZ2V0Um90YXRpb24odHJ1ZSkgJSAzNjAgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aWxlZEltYWdlLl9kcmF3ZXIuX29mZnNldEZvclJvdGF0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgZGVncmVlczogdGlsZWRJbWFnZS5nZXRSb3RhdGlvbih0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHRpbGVkSW1hZ2Uudmlld3BvcnQucGl4ZWxGcm9tUG9pbnROb1JvdGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbGVkSW1hZ2UuX2dldFJvdGF0aW9uUG9pbnQodHJ1ZSksIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICB1c2VTa2V0Y2g6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLmJsZW5kU2tldGNoKHtcbiAgICAgICAgICAgIG9wYWNpdHk6IHRpbGVkSW1hZ2Uub3BhY2l0eSxcbiAgICAgICAgICAgIHNjYWxlOiBza2V0Y2hTY2FsZSxcbiAgICAgICAgICAgIHRyYW5zbGF0ZTogc2tldGNoVHJhbnNsYXRlLFxuICAgICAgICAgICAgY29tcG9zaXRlT3BlcmF0aW9uOiB0aWxlZEltYWdlLmNvbXBvc2l0ZU9wZXJhdGlvbixcbiAgICAgICAgICAgIGJvdW5kczogYm91bmRzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2tldGNoU2NhbGUpIHtcbiAgICAgICAgICAgIGlmICh0aWxlZEltYWdlLmdldFJvdGF0aW9uKHRydWUpICUgMzYwICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLl9yZXN0b3JlUm90YXRpb25DaGFuZ2VzKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aWxlZEltYWdlLnZpZXdwb3J0LmRlZ3JlZXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aWxlZEltYWdlLl9kcmF3ZXIuX3Jlc3RvcmVSb3RhdGlvbkNoYW5nZXMoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRyYXdEZWJ1Z0luZm8oIHRpbGVkSW1hZ2UsIGxhc3REcmF3biApO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAaW5uZXJcbiAqIERyYXdzIHNwZWNpYWwgZGVidWcgaW5mb3JtYXRpb24gZm9yIGEgVGlsZWRJbWFnZSBpZiBpbiBkZWJ1ZyBtb2RlLlxuICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IHRpbGVkSW1hZ2VcbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlW119IGxhc3REcmF3biAtIEFuIHVub3JkZXJlZCBsaXN0IG9mIFRpbGVzIGRyYXduIGxhc3QgZnJhbWUuXG4gKi9cbmZ1bmN0aW9uIGRyYXdEZWJ1Z0luZm8oIHRpbGVkSW1hZ2UsIGxhc3REcmF3biApIHtcbiAgICBpZiggdGlsZWRJbWFnZS5kZWJ1Z01vZGUgKSB7XG4gICAgICAgIGZvciAoIHZhciBpID0gbGFzdERyYXduLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgICAgICAgICAgdmFyIHRpbGUgPSBsYXN0RHJhd25bIGkgXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGlsZWRJbWFnZS5fZHJhd2VyLmRyYXdEZWJ1Z0luZm8oXG4gICAgICAgICAgICAgICAgICAgIHRpbGUsIGxhc3REcmF3bi5sZW5ndGgsIGksIHRpbGVkSW1hZ2UpO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgJC5jb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG59KCBPcGVuU2VhZHJhZ29uICkpO1xuXG4vKlxuICogT3BlblNlYWRyYWdvbiAtIFRpbGVDYWNoZVxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLy8gcHJpdmF0ZSBjbGFzc1xudmFyIFRpbGVSZWNvcmQgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICAkLmNvbnNvbGUuYXNzZXJ0KCBvcHRpb25zLCBcIltUaWxlQ2FjaGUuY2FjaGVUaWxlXSBvcHRpb25zIGlzIHJlcXVpcmVkXCIgKTtcbiAgICAkLmNvbnNvbGUuYXNzZXJ0KCBvcHRpb25zLnRpbGUsIFwiW1RpbGVDYWNoZS5jYWNoZVRpbGVdIG9wdGlvbnMudGlsZSBpcyByZXF1aXJlZFwiICk7XG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy50aWxlZEltYWdlLCBcIltUaWxlQ2FjaGUuY2FjaGVUaWxlXSBvcHRpb25zLnRpbGVkSW1hZ2UgaXMgcmVxdWlyZWRcIiApO1xuICAgIHRoaXMudGlsZSA9IG9wdGlvbnMudGlsZTtcbiAgICB0aGlzLnRpbGVkSW1hZ2UgPSBvcHRpb25zLnRpbGVkSW1hZ2U7XG59O1xuXG4vLyBwcml2YXRlIGNsYXNzXG52YXIgSW1hZ2VSZWNvcmQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucywgXCJbSW1hZ2VSZWNvcmRdIG9wdGlvbnMgaXMgcmVxdWlyZWRcIiApO1xuICAgICQuY29uc29sZS5hc3NlcnQoIG9wdGlvbnMuaW1hZ2UsIFwiW0ltYWdlUmVjb3JkXSBvcHRpb25zLmltYWdlIGlzIHJlcXVpcmVkXCIgKTtcbiAgICB0aGlzLl9pbWFnZSA9IG9wdGlvbnMuaW1hZ2U7XG4gICAgdGhpcy5fdGlsZXMgPSBbXTtcbn07XG5cbkltYWdlUmVjb3JkLnByb3RvdHlwZSA9IHtcbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5faW1hZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl90aWxlcyA9IG51bGw7XG4gICAgfSxcblxuICAgIGdldEltYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlO1xuICAgIH0sXG5cbiAgICBnZXRSZW5kZXJlZENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JlbmRlcmVkQ29udGV4dCkge1xuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdjYW52YXMnICk7XG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLl9pbWFnZS53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9pbWFnZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZENvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVkQ29udGV4dC5kcmF3SW1hZ2UoIHRoaXMuX2ltYWdlLCAwLCAwICk7XG4gICAgICAgICAgICAvL3NpbmNlIHdlIGFyZSBjYWNoaW5nIHRoZSBwcmVyZW5kZXJlZCBpbWFnZSBvbiBhIGNhbnZhc1xuICAgICAgICAgICAgLy9hbGxvdyB0aGUgaW1hZ2UgdG8gbm90IGJlIGhlbGQgaW4gbWVtb3J5XG4gICAgICAgICAgICB0aGlzLl9pbWFnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbmRlcmVkQ29udGV4dDtcbiAgICB9LFxuXG4gICAgc2V0UmVuZGVyZWRDb250ZXh0OiBmdW5jdGlvbihyZW5kZXJlZENvbnRleHQpIHtcbiAgICAgICAgJC5jb25zb2xlLmVycm9yKFwiSW1hZ2VSZWNvcmQuc2V0UmVuZGVyZWRDb250ZXh0IGlzIGRlcHJlY2F0ZWQuIFwiICtcbiAgICAgICAgICAgICAgICBcIlRoZSByZW5kZXJlZCBjb250ZXh0IHNob3VsZCBiZSBjcmVhdGVkIGJ5IHRoZSBJbWFnZVJlY29yZCBcIiArXG4gICAgICAgICAgICAgICAgXCJpdHNlbGYgd2hlbiBjYWxsaW5nIEltYWdlUmVjb3JkLmdldFJlbmRlcmVkQ29udGV4dC5cIik7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkQ29udGV4dCA9IHJlbmRlcmVkQ29udGV4dDtcbiAgICB9LFxuXG4gICAgYWRkVGlsZTogZnVuY3Rpb24odGlsZSkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KHRpbGUsICdbSW1hZ2VSZWNvcmQuYWRkVGlsZV0gdGlsZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB0aGlzLl90aWxlcy5wdXNoKHRpbGUpO1xuICAgIH0sXG5cbiAgICByZW1vdmVUaWxlOiBmdW5jdGlvbih0aWxlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fdGlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWxlc1tpXSA9PT0gdGlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkLmNvbnNvbGUud2FybignW0ltYWdlUmVjb3JkLnJlbW92ZVRpbGVdIHRyeWluZyB0byByZW1vdmUgdW5rbm93biB0aWxlJywgdGlsZSk7XG4gICAgfSxcblxuICAgIGdldFRpbGVDb3VudDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlcy5sZW5ndGg7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAY2xhc3MgVGlsZUNhY2hlXG4gKiBAbWVtYmVyb2YgT3BlblNlYWRyYWdvblxuICogQGNsYXNzZGVzYyBTdG9yZXMgYWxsIHRoZSB0aWxlcyBkaXNwbGF5ZWQgaW4gYSB7QGxpbmsgT3BlblNlYWRyYWdvbi5WaWV3ZXJ9LlxuICogWW91IGdlbmVyYWxseSB3b24ndCBoYXZlIHRvIGludGVyYWN0IHdpdGggdGhlIFRpbGVDYWNoZSBkaXJlY3RseS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBmb3IgdGhpcyBUaWxlQ2FjaGUuXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubWF4SW1hZ2VDYWNoZUNvdW50XSAtIFNlZSBtYXhJbWFnZUNhY2hlQ291bnQgaW5cbiAqIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9IGZvciBkZXRhaWxzLlxuICovXG4kLlRpbGVDYWNoZSA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5fbWF4SW1hZ2VDYWNoZUNvdW50ID0gb3B0aW9ucy5tYXhJbWFnZUNhY2hlQ291bnQgfHwgJC5ERUZBVUxUX1NFVFRJTkdTLm1heEltYWdlQ2FjaGVDb3VudDtcbiAgICB0aGlzLl90aWxlc0xvYWRlZCA9IFtdO1xuICAgIHRoaXMuX2ltYWdlc0xvYWRlZCA9IFtdO1xuICAgIHRoaXMuX2ltYWdlc0xvYWRlZENvdW50ID0gMDtcbn07XG5cbi8qKiBAbGVuZHMgT3BlblNlYWRyYWdvbi5UaWxlQ2FjaGUucHJvdG90eXBlICovXG4kLlRpbGVDYWNoZS5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge051bWJlcn0gVGhlIHRvdGFsIG51bWJlciBvZiB0aWxlcyB0aGF0IGhhdmUgYmVlbiBsb2FkZWQgYnlcbiAgICAgKiB0aGlzIFRpbGVDYWNoZS5cbiAgICAgKi9cbiAgICBudW1UaWxlc0xvYWRlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlc0xvYWRlZC5sZW5ndGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhY2hlcyB0aGUgc3BlY2lmaWVkIHRpbGUsIHJlbW92aW5nIGFuIG9sZCB0aWxlIGlmIG5lY2Vzc2FyeSB0byBzdGF5IHVuZGVyIHRoZVxuICAgICAqIG1heEltYWdlQ2FjaGVDb3VudCBzcGVjaWZpZWQgb24gY29uc3RydWN0aW9uLiBOb3RlIHRoYXQgaWYgbXVsdGlwbGUgdGlsZXMgcmVmZXJlbmNlXG4gICAgICogdGhlIHNhbWUgaW1hZ2UsIHRoZXJlIG1heSBiZSBtb3JlIHRpbGVzIHRoYW4gbWF4SW1hZ2VDYWNoZUNvdW50OyB0aGUgZ29hbCBpcyB0byBrZWVwXG4gICAgICogdGhlIG51bWJlciBvZiBpbWFnZXMgYmVsb3cgdGhhdCBudW1iZXIuIE5vdGUsIGFzIHdlbGwsIHRoYXQgZXZlbiB0aGUgbnVtYmVyIG9mIGltYWdlc1xuICAgICAqIG1heSB0ZW1wb3JhcmlseSBzdXJwYXNzIHRoYXQgbnVtYmVyLCBidXQgc2hvdWxkIGV2ZW50dWFsbHkgY29tZSBiYWNrIGRvd24gdG8gdGhlIG1heCBzcGVjaWZpZWQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBUaWxlIGluZm8uXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGV9IG9wdGlvbnMudGlsZSAtIFRoZSB0aWxlIHRvIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnRpbGUuY2FjaGVLZXkgLSBUaGUgdW5pcXVlIGtleSB1c2VkIHRvIGlkZW50aWZ5IHRoaXMgdGlsZSBpbiB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtJbWFnZX0gb3B0aW9ucy5pbWFnZSAtIFRoZSBpbWFnZSBvZiB0aGUgdGlsZSB0byBjYWNoZS5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gb3B0aW9ucy50aWxlZEltYWdlIC0gVGhlIFRpbGVkSW1hZ2UgdGhhdCBvd25zIHRoYXQgdGlsZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY3V0b2ZmPTBdIC0gSWYgYWRkaW5nIHRoaXMgdGlsZSBnb2VzIG92ZXIgdGhlIGNhY2hlIG1heCBjb3VudCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIHdpbGwgcmVsZWFzZSBhbiBvbGQgdGlsZS4gVGhlIGN1dG9mZiBvcHRpb24gc3BlY2lmaWVzIGEgdGlsZSBsZXZlbCBhdCBvciBiZWxvdyB3aGljaFxuICAgICAqIHRpbGVzIHdpbGwgbm90IGJlIHJlbGVhc2VkLlxuICAgICAqL1xuICAgIGNhY2hlVGlsZTogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoIG9wdGlvbnMsIFwiW1RpbGVDYWNoZS5jYWNoZVRpbGVdIG9wdGlvbnMgaXMgcmVxdWlyZWRcIiApO1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KCBvcHRpb25zLnRpbGUsIFwiW1RpbGVDYWNoZS5jYWNoZVRpbGVdIG9wdGlvbnMudGlsZSBpcyByZXF1aXJlZFwiICk7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoIG9wdGlvbnMudGlsZS5jYWNoZUtleSwgXCJbVGlsZUNhY2hlLmNhY2hlVGlsZV0gb3B0aW9ucy50aWxlLmNhY2hlS2V5IGlzIHJlcXVpcmVkXCIgKTtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy50aWxlZEltYWdlLCBcIltUaWxlQ2FjaGUuY2FjaGVUaWxlXSBvcHRpb25zLnRpbGVkSW1hZ2UgaXMgcmVxdWlyZWRcIiApO1xuXG4gICAgICAgIHZhciBjdXRvZmYgPSBvcHRpb25zLmN1dG9mZiB8fCAwO1xuICAgICAgICB2YXIgaW5zZXJ0aW9uSW5kZXggPSB0aGlzLl90aWxlc0xvYWRlZC5sZW5ndGg7XG5cbiAgICAgICAgdmFyIGltYWdlUmVjb3JkID0gdGhpcy5faW1hZ2VzTG9hZGVkW29wdGlvbnMudGlsZS5jYWNoZUtleV07XG4gICAgICAgIGlmICghaW1hZ2VSZWNvcmQpIHtcbiAgICAgICAgICAgICQuY29uc29sZS5hc3NlcnQoIG9wdGlvbnMuaW1hZ2UsIFwiW1RpbGVDYWNoZS5jYWNoZVRpbGVdIG9wdGlvbnMuaW1hZ2UgaXMgcmVxdWlyZWQgdG8gY3JlYXRlIGFuIEltYWdlUmVjb3JkXCIgKTtcbiAgICAgICAgICAgIGltYWdlUmVjb3JkID0gdGhpcy5faW1hZ2VzTG9hZGVkW29wdGlvbnMudGlsZS5jYWNoZUtleV0gPSBuZXcgSW1hZ2VSZWNvcmQoe1xuICAgICAgICAgICAgICAgIGltYWdlOiBvcHRpb25zLmltYWdlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5faW1hZ2VzTG9hZGVkQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlUmVjb3JkLmFkZFRpbGUob3B0aW9ucy50aWxlKTtcbiAgICAgICAgb3B0aW9ucy50aWxlLmNhY2hlSW1hZ2VSZWNvcmQgPSBpbWFnZVJlY29yZDtcblxuICAgICAgICAvLyBOb3RlIHRoYXQganVzdCBiZWNhdXNlIHdlJ3JlIHVubG9hZGluZyBhIHRpbGUgZG9lc24ndCBuZWNlc3NhcmlseSBtZWFuXG4gICAgICAgIC8vIHdlJ3JlIHVubG9hZGluZyBhbiBpbWFnZS4gV2l0aCByZXBlYXRlZCBjYWxscyBpdCBzaG91bGQgc29ydCBpdHNlbGYgb3V0LCB0aG91Z2guXG4gICAgICAgIGlmICggdGhpcy5faW1hZ2VzTG9hZGVkQ291bnQgPiB0aGlzLl9tYXhJbWFnZUNhY2hlQ291bnQgKSB7XG4gICAgICAgICAgICB2YXIgd29yc3RUaWxlICAgICAgID0gbnVsbDtcbiAgICAgICAgICAgIHZhciB3b3JzdFRpbGVJbmRleCAgPSAtMTtcbiAgICAgICAgICAgIHZhciB3b3JzdFRpbGVSZWNvcmQgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHByZXZUaWxlLCB3b3JzdFRpbWUsIHdvcnN0TGV2ZWwsIHByZXZUaW1lLCBwcmV2TGV2ZWwsIHByZXZUaWxlUmVjb3JkO1xuXG4gICAgICAgICAgICBmb3IgKCB2YXIgaSA9IHRoaXMuX3RpbGVzTG9hZGVkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgICAgICAgICAgICAgIHByZXZUaWxlUmVjb3JkID0gdGhpcy5fdGlsZXNMb2FkZWRbIGkgXTtcbiAgICAgICAgICAgICAgICBwcmV2VGlsZSA9IHByZXZUaWxlUmVjb3JkLnRpbGU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHByZXZUaWxlLmxldmVsIDw9IGN1dG9mZiB8fCBwcmV2VGlsZS5iZWluZ0RyYXduICkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCAhd29yc3RUaWxlICkge1xuICAgICAgICAgICAgICAgICAgICB3b3JzdFRpbGUgICAgICAgPSBwcmV2VGlsZTtcbiAgICAgICAgICAgICAgICAgICAgd29yc3RUaWxlSW5kZXggID0gaTtcbiAgICAgICAgICAgICAgICAgICAgd29yc3RUaWxlUmVjb3JkID0gcHJldlRpbGVSZWNvcmQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByZXZUaW1lICAgID0gcHJldlRpbGUubGFzdFRvdWNoVGltZTtcbiAgICAgICAgICAgICAgICB3b3JzdFRpbWUgICA9IHdvcnN0VGlsZS5sYXN0VG91Y2hUaW1lO1xuICAgICAgICAgICAgICAgIHByZXZMZXZlbCAgID0gcHJldlRpbGUubGV2ZWw7XG4gICAgICAgICAgICAgICAgd29yc3RMZXZlbCAgPSB3b3JzdFRpbGUubGV2ZWw7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHByZXZUaW1lIDwgd29yc3RUaW1lIHx8XG4gICAgICAgICAgICAgICAgICAgKCBwcmV2VGltZSA9PSB3b3JzdFRpbWUgJiYgcHJldkxldmVsID4gd29yc3RMZXZlbCApICkge1xuICAgICAgICAgICAgICAgICAgICB3b3JzdFRpbGUgICAgICAgPSBwcmV2VGlsZTtcbiAgICAgICAgICAgICAgICAgICAgd29yc3RUaWxlSW5kZXggID0gaTtcbiAgICAgICAgICAgICAgICAgICAgd29yc3RUaWxlUmVjb3JkID0gcHJldlRpbGVSZWNvcmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIHdvcnN0VGlsZSAmJiB3b3JzdFRpbGVJbmRleCA+PSAwICkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VubG9hZFRpbGUod29yc3RUaWxlUmVjb3JkKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRpb25JbmRleCA9IHdvcnN0VGlsZUluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGlsZXNMb2FkZWRbIGluc2VydGlvbkluZGV4IF0gPSBuZXcgVGlsZVJlY29yZCh7XG4gICAgICAgICAgICB0aWxlOiBvcHRpb25zLnRpbGUsXG4gICAgICAgICAgICB0aWxlZEltYWdlOiBvcHRpb25zLnRpbGVkSW1hZ2VcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgdGlsZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdGlsZWRJbWFnZS5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gdGlsZWRJbWFnZVxuICAgICAqL1xuICAgIGNsZWFyVGlsZXNGb3I6IGZ1bmN0aW9uKCB0aWxlZEltYWdlICkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KHRpbGVkSW1hZ2UsICdbVGlsZUNhY2hlLmNsZWFyVGlsZXNGb3JdIHRpbGVkSW1hZ2UgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgdmFyIHRpbGVSZWNvcmQ7XG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMuX3RpbGVzTG9hZGVkLmxlbmd0aDsgKytpICkge1xuICAgICAgICAgICAgdGlsZVJlY29yZCA9IHRoaXMuX3RpbGVzTG9hZGVkWyBpIF07XG4gICAgICAgICAgICBpZiAoIHRpbGVSZWNvcmQudGlsZWRJbWFnZSA9PT0gdGlsZWRJbWFnZSApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91bmxvYWRUaWxlKHRpbGVSZWNvcmQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVzTG9hZGVkLnNwbGljZSggaSwgMSApO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgZ2V0SW1hZ2VSZWNvcmQ6IGZ1bmN0aW9uKGNhY2hlS2V5KSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoY2FjaGVLZXksICdbVGlsZUNhY2hlLmdldEltYWdlUmVjb3JkXSBjYWNoZUtleSBpcyByZXF1aXJlZCcpO1xuICAgICAgICByZXR1cm4gdGhpcy5faW1hZ2VzTG9hZGVkW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLy8gcHJpdmF0ZVxuICAgIF91bmxvYWRUaWxlOiBmdW5jdGlvbih0aWxlUmVjb3JkKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQodGlsZVJlY29yZCwgJ1tUaWxlQ2FjaGUuX3VubG9hZFRpbGVdIHRpbGVSZWNvcmQgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgdmFyIHRpbGUgPSB0aWxlUmVjb3JkLnRpbGU7XG4gICAgICAgIHZhciB0aWxlZEltYWdlID0gdGlsZVJlY29yZC50aWxlZEltYWdlO1xuXG4gICAgICAgIHRpbGUudW5sb2FkKCk7XG4gICAgICAgIHRpbGUuY2FjaGVJbWFnZVJlY29yZCA9IG51bGw7XG5cbiAgICAgICAgdmFyIGltYWdlUmVjb3JkID0gdGhpcy5faW1hZ2VzTG9hZGVkW3RpbGUuY2FjaGVLZXldO1xuICAgICAgICBpbWFnZVJlY29yZC5yZW1vdmVUaWxlKHRpbGUpO1xuICAgICAgICBpZiAoIWltYWdlUmVjb3JkLmdldFRpbGVDb3VudCgpKSB7XG4gICAgICAgICAgICBpbWFnZVJlY29yZC5kZXN0cm95KCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5faW1hZ2VzTG9hZGVkW3RpbGUuY2FjaGVLZXldO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2VzTG9hZGVkQ291bnQtLTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmlnZ2VyZWQgd2hlbiBhIHRpbGUgaGFzIGp1c3QgYmVlbiB1bmxvYWRlZCBmcm9tIG1lbW9yeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IHRpbGUtdW5sb2FkZWRcbiAgICAgICAgICogQG1lbWJlcm9mIE9wZW5TZWFkcmFnb24uVmlld2VyXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSB0aWxlZEltYWdlIC0gVGhlIHRpbGVkIGltYWdlIG9mIHRoZSB1bmxvYWRlZCB0aWxlLlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZX0gdGlsZSAtIFRoZSB0aWxlIHdoaWNoIGhhcyBiZWVuIHVubG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGlsZWRJbWFnZS52aWV3ZXIucmFpc2VFdmVudChcInRpbGUtdW5sb2FkZWRcIiwge1xuICAgICAgICAgICAgdGlsZTogdGlsZSxcbiAgICAgICAgICAgIHRpbGVkSW1hZ2U6IHRpbGVkSW1hZ2VcbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxufSggT3BlblNlYWRyYWdvbiApKTtcblxuLypcbiAqIE9wZW5TZWFkcmFnb24gLSBXb3JsZFxuICpcbiAqIENvcHlyaWdodCAoQykgMjAwOSBDb2RlUGxleCBGb3VuZGF0aW9uXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTAtMjAxMyBPcGVuU2VhZHJhZ29uIGNvbnRyaWJ1dG9yc1xuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICpcbiAqIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHRcbiAqICAgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZVxuICogICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIC0gTmVpdGhlciB0aGUgbmFtZSBvZiBDb2RlUGxleCBGb3VuZGF0aW9uIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tXG4gKiAgIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuICogXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuICogTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4gKiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFRcbiAqIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxuICogU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEXG4gKiBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuICogTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTXG4gKiBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG4oZnVuY3Rpb24oICQgKXtcblxuLyoqXG4gKiBAY2xhc3MgV29ybGRcbiAqIEBtZW1iZXJvZiBPcGVuU2VhZHJhZ29uXG4gKiBAZXh0ZW5kcyBPcGVuU2VhZHJhZ29uLkV2ZW50U291cmNlXG4gKiBAY2xhc3NkZXNjIEtlZXBzIHRyYWNrIG9mIGFsbCBvZiB0aGUgdGlsZWQgaW1hZ2VzIGluIHRoZSBzY2VuZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gV29ybGQgb3B0aW9ucy5cbiAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IG9wdGlvbnMudmlld2VyIC0gVGhlIFZpZXdlciB0aGF0IG93bnMgdGhpcyBXb3JsZC5cbiAqKi9cbiQuV29ybGQgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgJC5jb25zb2xlLmFzc2VydCggb3B0aW9ucy52aWV3ZXIsIFwiW1dvcmxkXSBvcHRpb25zLnZpZXdlciBpcyByZXF1aXJlZFwiICk7XG5cbiAgICAkLkV2ZW50U291cmNlLmNhbGwoIHRoaXMgKTtcblxuICAgIHRoaXMudmlld2VyID0gb3B0aW9ucy52aWV3ZXI7XG4gICAgdGhpcy5faXRlbXMgPSBbXTtcbiAgICB0aGlzLl9uZWVkc0RyYXcgPSBmYWxzZTtcbiAgICB0aGlzLl9hdXRvUmVmaWd1cmVTaXplcyA9IHRydWU7XG4gICAgdGhpcy5fbmVlZHNTaXplc0ZpZ3VyZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9kZWxlZ2F0ZWRGaWd1cmVTaXplcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChfdGhpcy5fYXV0b1JlZmlndXJlU2l6ZXMpIHtcbiAgICAgICAgICAgIF90aGlzLl9maWd1cmVTaXplcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuX25lZWRzU2l6ZXNGaWd1cmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9maWd1cmVTaXplcygpO1xufTtcblxuJC5leHRlbmQoICQuV29ybGQucHJvdG90eXBlLCAkLkV2ZW50U291cmNlLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBPcGVuU2VhZHJhZ29uLldvcmxkLnByb3RvdHlwZSAqL3tcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHNwZWNpZmllZCBpdGVtLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSBpdGVtIC0gVGhlIGl0ZW0gdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5pbmRleF0gLSBJbmRleCBmb3IgdGhlIGl0ZW0uIElmIG5vdCBzcGVjaWZpZWQsIGdvZXMgYXQgdGhlIHRvcC5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5Xb3JsZC5ldmVudDphZGQtaXRlbVxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLldvcmxkLmV2ZW50Om1ldHJpY3MtY2hhbmdlXG4gICAgICovXG4gICAgYWRkSXRlbTogZnVuY3Rpb24oIGl0ZW0sIG9wdGlvbnMgKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoaXRlbSwgXCJbV29ybGQuYWRkSXRlbV0gaXRlbSBpcyByZXF1aXJlZFwiKTtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydChpdGVtIGluc3RhbmNlb2YgJC5UaWxlZEltYWdlLCBcIltXb3JsZC5hZGRJdGVtXSBvbmx5IFRpbGVkSW1hZ2VzIHN1cHBvcnRlZCBhdCB0aGlzIHRpbWVcIik7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIGlmIChvcHRpb25zLmluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuX2l0ZW1zLmxlbmd0aCwgb3B0aW9ucy5pbmRleCkpO1xuICAgICAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKGluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goIGl0ZW0gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVmaWd1cmVTaXplcykge1xuICAgICAgICAgICAgdGhpcy5fZmlndXJlU2l6ZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzU2l6ZXNGaWd1cmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG5cbiAgICAgICAgaXRlbS5hZGRIYW5kbGVyKCdib3VuZHMtY2hhbmdlJywgdGhpcy5fZGVsZWdhdGVkRmlndXJlU2l6ZXMpO1xuICAgICAgICBpdGVtLmFkZEhhbmRsZXIoJ2NsaXAtY2hhbmdlJywgdGhpcy5fZGVsZWdhdGVkRmlndXJlU2l6ZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYWlzZWQgd2hlbiBhbiBpdGVtIGlzIGFkZGVkIHRvIHRoZSBXb3JsZC5cbiAgICAgICAgICogQGV2ZW50IGFkZC1pdGVtXG4gICAgICAgICAqIEBtZW1iZXJPZiBPcGVuU2VhZHJhZ29uLldvcmxkXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5WaWV3ZXJ9IGV2ZW50U291cmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIFdvcmxkIHdoaWNoIHJhaXNlZCB0aGUgZXZlbnQuXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSBpdGVtIC0gVGhlIGl0ZW0gdGhhdCBoYXMgYmVlbiBhZGRlZC5cbiAgICAgICAgICogQHByb3BlcnR5IHs/T2JqZWN0fSB1c2VyRGF0YSAtIEFyYml0cmFyeSBzdWJzY3JpYmVyLWRlZmluZWQgb2JqZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCAnYWRkLWl0ZW0nLCB7XG4gICAgICAgICAgICBpdGVtOiBpdGVtXG4gICAgICAgIH0gKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IC0gVGhlIGl0ZW0ncyBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSBUaGUgaXRlbSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICAqL1xuICAgIGdldEl0ZW1BdDogZnVuY3Rpb24oIGluZGV4ICkge1xuICAgICAgICAkLmNvbnNvbGUuYXNzZXJ0KGluZGV4ICE9PSB1bmRlZmluZWQsIFwiW1dvcmxkLmdldEl0ZW1BdF0gaW5kZXggaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1sgaW5kZXggXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gaXRlbSBvciAtMSBpZiBub3QgcHJlc2VudC5cbiAgICAgKiBAcGFyYW0ge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gaXRlbSAtIFRoZSBpdGVtLlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBpbmRleCBvZiB0aGUgaXRlbSBvciAtMSBpZiBub3QgcHJlc2VudC5cbiAgICAgKi9cbiAgICBnZXRJbmRleE9mSXRlbTogZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoaXRlbSwgXCJbV29ybGQuZ2V0SW5kZXhPZkl0ZW1dIGl0ZW0gaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIHJldHVybiAkLmluZGV4T2YoIHRoaXMuX2l0ZW1zLCBpdGVtICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgaXRlbXMgdXNlZC5cbiAgICAgKi9cbiAgICBnZXRJdGVtQ291bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIGluZGV4IG9mIGEgaXRlbSBzbyB0aGF0IGl0IGFwcGVhcnMgb3ZlciBvciB1bmRlciBvdGhlcnMuXG4gICAgICogQHBhcmFtIHtPcGVuU2VhZHJhZ29uLlRpbGVkSW1hZ2V9IGl0ZW0gLSBUaGUgaXRlbSB0byBtb3ZlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCAtIFRoZSBuZXcgaW5kZXguXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uV29ybGQuZXZlbnQ6aXRlbS1pbmRleC1jaGFuZ2VcbiAgICAgKi9cbiAgICBzZXRJdGVtSW5kZXg6IGZ1bmN0aW9uKCBpdGVtLCBpbmRleCApIHtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydChpdGVtLCBcIltXb3JsZC5zZXRJdGVtSW5kZXhdIGl0ZW0gaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICQuY29uc29sZS5hc3NlcnQoaW5kZXggIT09IHVuZGVmaW5lZCwgXCJbV29ybGQuc2V0SXRlbUluZGV4XSBpbmRleCBpcyByZXF1aXJlZFwiKTtcblxuICAgICAgICB2YXIgb2xkSW5kZXggPSB0aGlzLmdldEluZGV4T2ZJdGVtKCBpdGVtICk7XG5cbiAgICAgICAgaWYgKCBpbmRleCA+PSB0aGlzLl9pdGVtcy5sZW5ndGggKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIFwiSW5kZXggYmlnZ2VyIHRoYW4gbnVtYmVyIG9mIGxheWVycy5cIiApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBpbmRleCA9PT0gb2xkSW5kZXggfHwgb2xkSW5kZXggPT09IC0xICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKCBvbGRJbmRleCwgMSApO1xuICAgICAgICB0aGlzLl9pdGVtcy5zcGxpY2UoIGluZGV4LCAwLCBpdGVtICk7XG4gICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJhaXNlZCB3aGVuIHRoZSBvcmRlciBvZiB0aGUgaW5kZXhlcyBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgKiBAZXZlbnQgaXRlbS1pbmRleC1jaGFuZ2VcbiAgICAgICAgICogQG1lbWJlck9mIE9wZW5TZWFkcmFnb24uV29ybGRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLldvcmxkfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBXb3JsZCB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gaXRlbSAtIFRoZSBpdGVtIHdob3NlIGluZGV4IGhhc1xuICAgICAgICAgKiBiZWVuIGNoYW5nZWRcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHByZXZpb3VzSW5kZXggLSBUaGUgcHJldmlvdXMgaW5kZXggb2YgdGhlIGl0ZW1cbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IG5ld0luZGV4IC0gVGhlIG5ldyBpbmRleCBvZiB0aGUgaXRlbVxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdpdGVtLWluZGV4LWNoYW5nZScsIHtcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICBwcmV2aW91c0luZGV4OiBvbGRJbmRleCxcbiAgICAgICAgICAgIG5ld0luZGV4OiBpbmRleFxuICAgICAgICB9ICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbiBpdGVtLlxuICAgICAqIEBwYXJhbSB7T3BlblNlYWRyYWdvbi5UaWxlZEltYWdlfSBpdGVtIC0gVGhlIGl0ZW0gdG8gcmVtb3ZlLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLldvcmxkLmV2ZW50OnJlbW92ZS1pdGVtXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uV29ybGQuZXZlbnQ6bWV0cmljcy1jaGFuZ2VcbiAgICAgKi9cbiAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiggaXRlbSApIHtcbiAgICAgICAgJC5jb25zb2xlLmFzc2VydChpdGVtLCBcIltXb3JsZC5yZW1vdmVJdGVtXSBpdGVtIGlzIHJlcXVpcmVkXCIpO1xuXG4gICAgICAgIHZhciBpbmRleCA9ICQuaW5kZXhPZih0aGlzLl9pdGVtcywgaXRlbSApO1xuICAgICAgICBpZiAoIGluZGV4ID09PSAtMSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW0ucmVtb3ZlSGFuZGxlcignYm91bmRzLWNoYW5nZScsIHRoaXMuX2RlbGVnYXRlZEZpZ3VyZVNpemVzKTtcbiAgICAgICAgaXRlbS5yZW1vdmVIYW5kbGVyKCdjbGlwLWNoYW5nZScsIHRoaXMuX2RlbGVnYXRlZEZpZ3VyZVNpemVzKTtcbiAgICAgICAgaXRlbS5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgICAgICAgdGhpcy5fZmlndXJlU2l6ZXMoKTtcbiAgICAgICAgdGhpcy5fbmVlZHNEcmF3ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmFpc2VSZW1vdmVJdGVtKGl0ZW0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGl0ZW1zLlxuICAgICAqIEBmaXJlcyBPcGVuU2VhZHJhZ29uLldvcmxkLmV2ZW50OnJlbW92ZS1pdGVtXG4gICAgICogQGZpcmVzIE9wZW5TZWFkcmFnb24uV29ybGQuZXZlbnQ6bWV0cmljcy1jaGFuZ2VcbiAgICAgKi9cbiAgICByZW1vdmVBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSBhbnkgcGVuZGluZyBpbWFnZXMgYXJlIGNhbmNlbGVkIHNvIHRoZSB3b3JsZCBpdGVtcyBkb24ndCBnZXQgbWVzc2VkIHVwXG4gICAgICAgIHRoaXMudmlld2VyLl9jYW5jZWxQZW5kaW5nSW1hZ2VzKCk7XG4gICAgICAgIHZhciBpdGVtO1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpdGVtID0gdGhpcy5faXRlbXNbaV07XG4gICAgICAgICAgICBpdGVtLnJlbW92ZUhhbmRsZXIoJ2JvdW5kcy1jaGFuZ2UnLCB0aGlzLl9kZWxlZ2F0ZWRGaWd1cmVTaXplcyk7XG4gICAgICAgICAgICBpdGVtLnJlbW92ZUhhbmRsZXIoJ2NsaXAtY2hhbmdlJywgdGhpcy5fZGVsZWdhdGVkRmlndXJlU2l6ZXMpO1xuICAgICAgICAgICAgaXRlbS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVtb3ZlZEl0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX2ZpZ3VyZVNpemVzKCk7XG4gICAgICAgIHRoaXMuX25lZWRzRHJhdyA9IHRydWU7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlbW92ZWRJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IHJlbW92ZWRJdGVtc1tpXTtcbiAgICAgICAgICAgIHRoaXMuX3JhaXNlUmVtb3ZlSXRlbShpdGVtKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHRpbGVzIGFuZCB0cmlnZ2VycyB1cGRhdGVzIGZvciBhbGwgaXRlbXMuXG4gICAgICovXG4gICAgcmVzZXRJdGVtczogZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgdGhpcy5faXRlbXNbaV0ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIChpLmUuIGFuaW1hdGVzIGJvdW5kcyBvZikgYWxsIGl0ZW1zLlxuICAgICAqL1xuICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmltYXRlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgIGFuaW1hdGVkID0gdGhpcy5faXRlbXNbaV0udXBkYXRlKCkgfHwgYW5pbWF0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYW5pbWF0ZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGFsbCBpdGVtcy5cbiAgICAgKi9cbiAgICBkcmF3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICB0aGlzLl9pdGVtc1tpXS5kcmF3KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9uZWVkc0RyYXcgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgYW55IGl0ZW1zIG5lZWQgdXBkYXRpbmcuXG4gICAgICovXG4gICAgbmVlZHNEcmF3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICBpZiAoIHRoaXMuX2l0ZW1zW2ldLm5lZWRzRHJhdygpICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9uZWVkc0RyYXc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtPcGVuU2VhZHJhZ29uLlJlY3R9IFRoZSBzbWFsbGVzdCByZWN0YW5nbGUgdGhhdCBlbmNsb3NlcyBhbGwgaXRlbXMsIGluIHZpZXdwb3J0IGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIGdldEhvbWVCb3VuZHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faG9tZUJvdW5kcy5jbG9uZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUbyBmYWNpbGl0YXRlIHpvb20gY29uc3RyYWludHMsIHdlIGtlZXAgdHJhY2sgb2YgdGhlIHBpeGVsIGRlbnNpdHkgb2YgdGhlXG4gICAgICogZGVuc2VzdCBpdGVtIGluIHRoZSBXb3JsZCAoaS5lLiB0aGUgaXRlbSB3aG9zZSBjb250ZW50IHNpemUgdG8gdmlld3BvcnQgc2l6ZVxuICAgICAqIHJhdGlvIGlzIHRoZSBoaWdoZXN0KSBhbmQgc2F2ZSBpdCBhcyB0aGlzIFwiY29udGVudCBmYWN0b3JcIi5cbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSB0aGUgbnVtYmVyIG9mIGNvbnRlbnQgdW5pdHMgcGVyIHZpZXdwb3J0IHVuaXQuXG4gICAgICovXG4gICAgZ2V0Q29udGVudEZhY3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50RmFjdG9yO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiwgc2V0dGluZyB0aGlzIGZsYWcgdG8gZmFsc2UgYWxsb3dzIHRoZSBib3VuZHMtY2hhbmdlIGV2ZW50IGhhbmRsZXJcbiAgICAgKiBvbiB0aWxlZEltYWdlcyB0byBza2lwIGNhbGN1bGF0aW9ucyBvbiB0aGUgd29ybGQgYm91bmRzLiBJZiBhIGxvdCBvZiBpbWFnZXMgYXJlIGdvaW5nIHRvIGJlIHBvc2l0aW9uZWQgaW5cbiAgICAgKiByYXBpZCBzdWNjZXNzaW9uLCB0aGlzIGlzIGEgZ29vZCBpZGVhLiBXaGVuIGZpbmlzaGVkLCBzZXRBdXRvUmVmaWd1cmVTaXplcyBzaG91bGQgYmUgY2FsbGVkIHdpdGggdHJ1ZVxuICAgICAqIG9yIHRoZSBzeXN0ZW0gbWF5IGJlaGF2ZSBvZGRseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIHdoaWNoIHRvIHNldCB0aGUgZmxhZy5cbiAgICAgKi9cbiAgICBzZXRBdXRvUmVmaWd1cmVTaXplczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXV0b1JlZmlndXJlU2l6ZXMgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYgdGhpcy5fbmVlZHNTaXplc0ZpZ3VyZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpZ3VyZVNpemVzKCk7XG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NpemVzRmlndXJlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFycmFuZ2VzIGFsbCBvZiB0aGUgVGlsZWRJbWFnZXMgd2l0aCB0aGUgc3BlY2lmaWVkIHNldHRpbmdzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gU3BlY2lmaWVzIGhvdyB0byBhcnJhbmdlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaW1tZWRpYXRlbHk9ZmFsc2VdIC0gV2hldGhlciB0byBhbmltYXRlIHRvIHRoZSBuZXcgYXJyYW5nZW1lbnQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmxheW91dF0gLSBTZWUgY29sbGVjdGlvbkxheW91dCBpbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMucm93c10gLSBTZWUgY29sbGVjdGlvblJvd3MgaW4ge0BsaW5rIE9wZW5TZWFkcmFnb24uT3B0aW9uc30uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvbHVtbnNdIC0gU2VlIGNvbGxlY3Rpb25Db2x1bW5zIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aWxlU2l6ZV0gLSBTZWUgY29sbGVjdGlvblRpbGVTaXplIGluIHtAbGluayBPcGVuU2VhZHJhZ29uLk9wdGlvbnN9LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50aWxlTWFyZ2luXSAtIFNlZSBjb2xsZWN0aW9uVGlsZU1hcmdpbiBpbiB7QGxpbmsgT3BlblNlYWRyYWdvbi5PcHRpb25zfS5cbiAgICAgKiBAZmlyZXMgT3BlblNlYWRyYWdvbi5Xb3JsZC5ldmVudDptZXRyaWNzLWNoYW5nZVxuICAgICAqL1xuICAgIGFycmFuZ2U6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciBpbW1lZGlhdGVseSA9IG9wdGlvbnMuaW1tZWRpYXRlbHkgfHwgZmFsc2U7XG4gICAgICAgIHZhciBsYXlvdXQgPSBvcHRpb25zLmxheW91dCB8fCAkLkRFRkFVTFRfU0VUVElOR1MuY29sbGVjdGlvbkxheW91dDtcbiAgICAgICAgdmFyIHJvd3MgPSBvcHRpb25zLnJvd3MgfHwgJC5ERUZBVUxUX1NFVFRJTkdTLmNvbGxlY3Rpb25Sb3dzO1xuICAgICAgICB2YXIgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucyB8fCAkLkRFRkFVTFRfU0VUVElOR1MuY29sbGVjdGlvbkNvbHVtbnM7XG4gICAgICAgIHZhciB0aWxlU2l6ZSA9IG9wdGlvbnMudGlsZVNpemUgfHwgJC5ERUZBVUxUX1NFVFRJTkdTLmNvbGxlY3Rpb25UaWxlU2l6ZTtcbiAgICAgICAgdmFyIHRpbGVNYXJnaW4gPSBvcHRpb25zLnRpbGVNYXJnaW4gfHwgJC5ERUZBVUxUX1NFVFRJTkdTLmNvbGxlY3Rpb25UaWxlTWFyZ2luO1xuICAgICAgICB2YXIgaW5jcmVtZW50ID0gdGlsZVNpemUgKyB0aWxlTWFyZ2luO1xuICAgICAgICB2YXIgd3JhcDtcbiAgICAgICAgaWYgKCFvcHRpb25zLnJvd3MgJiYgY29sdW1ucykge1xuICAgICAgICAgICAgd3JhcCA9IGNvbHVtbnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwID0gTWF0aC5jZWlsKHRoaXMuX2l0ZW1zLmxlbmd0aCAvIHJvd3MpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gMDtcbiAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICB2YXIgaXRlbSwgYm94LCB3aWR0aCwgaGVpZ2h0LCBwb3NpdGlvbjtcblxuICAgICAgICB0aGlzLnNldEF1dG9SZWZpZ3VyZVNpemVzKGZhbHNlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgJiYgKGkgJSB3cmFwKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChsYXlvdXQgPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgICAgICB5ICs9IGluY3JlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgeCA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgeCArPSBpbmNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbSA9IHRoaXMuX2l0ZW1zW2ldO1xuICAgICAgICAgICAgYm94ID0gaXRlbS5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgIGlmIChib3gud2lkdGggPiBib3guaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aWxlU2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB0aWxlU2l6ZSAqIChib3gud2lkdGggLyBib3guaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGVpZ2h0ID0gd2lkdGggKiAoYm94LmhlaWdodCAvIGJveC53aWR0aCk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IG5ldyAkLlBvaW50KHggKyAoKHRpbGVTaXplIC0gd2lkdGgpIC8gMiksXG4gICAgICAgICAgICAgICAgeSArICgodGlsZVNpemUgLSBoZWlnaHQpIC8gMikpO1xuXG4gICAgICAgICAgICBpdGVtLnNldFBvc2l0aW9uKHBvc2l0aW9uLCBpbW1lZGlhdGVseSk7XG4gICAgICAgICAgICBpdGVtLnNldFdpZHRoKHdpZHRoLCBpbW1lZGlhdGVseSk7XG5cbiAgICAgICAgICAgIGlmIChsYXlvdXQgPT09ICdob3Jpem9udGFsJykge1xuICAgICAgICAgICAgICAgIHggKz0gaW5jcmVtZW50O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5ICs9IGluY3JlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEF1dG9SZWZpZ3VyZVNpemVzKHRydWUpO1xuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX2ZpZ3VyZVNpemVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9sZEhvbWVCb3VuZHMgPSB0aGlzLl9ob21lQm91bmRzID8gdGhpcy5faG9tZUJvdW5kcy5jbG9uZSgpIDogbnVsbDtcbiAgICAgICAgdmFyIG9sZENvbnRlbnRTaXplID0gdGhpcy5fY29udGVudFNpemUgPyB0aGlzLl9jb250ZW50U2l6ZS5jbG9uZSgpIDogbnVsbDtcbiAgICAgICAgdmFyIG9sZENvbnRlbnRGYWN0b3IgPSB0aGlzLl9jb250ZW50RmFjdG9yIHx8IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2hvbWVCb3VuZHMgPSBuZXcgJC5SZWN0KDAsIDAsIDEsIDEpO1xuICAgICAgICAgICAgdGhpcy5fY29udGVudFNpemUgPSBuZXcgJC5Qb2ludCgxLCAxKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRGYWN0b3IgPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtc1swXTtcbiAgICAgICAgICAgIHZhciBib3VuZHMgPSBpdGVtLmdldEJvdW5kcygpO1xuICAgICAgICAgICAgdGhpcy5fY29udGVudEZhY3RvciA9IGl0ZW0uZ2V0Q29udGVudFNpemUoKS54IC8gYm91bmRzLndpZHRoO1xuICAgICAgICAgICAgdmFyIGNsaXBwZWRCb3VuZHMgPSBpdGVtLmdldENsaXBwZWRCb3VuZHMoKS5nZXRCb3VuZGluZ0JveCgpO1xuICAgICAgICAgICAgdmFyIGxlZnQgPSBjbGlwcGVkQm91bmRzLng7XG4gICAgICAgICAgICB2YXIgdG9wID0gY2xpcHBlZEJvdW5kcy55O1xuICAgICAgICAgICAgdmFyIHJpZ2h0ID0gY2xpcHBlZEJvdW5kcy54ICsgY2xpcHBlZEJvdW5kcy53aWR0aDtcbiAgICAgICAgICAgIHZhciBib3R0b20gPSBjbGlwcGVkQm91bmRzLnkgKyBjbGlwcGVkQm91bmRzLmhlaWdodDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gdGhpcy5faXRlbXNbaV07XG4gICAgICAgICAgICAgICAgYm91bmRzID0gaXRlbS5nZXRCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50RmFjdG9yID0gTWF0aC5tYXgodGhpcy5fY29udGVudEZhY3RvcixcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5nZXRDb250ZW50U2l6ZSgpLnggLyBib3VuZHMud2lkdGgpO1xuICAgICAgICAgICAgICAgIGNsaXBwZWRCb3VuZHMgPSBpdGVtLmdldENsaXBwZWRCb3VuZHMoKS5nZXRCb3VuZGluZ0JveCgpO1xuICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1pbihsZWZ0LCBjbGlwcGVkQm91bmRzLngpO1xuICAgICAgICAgICAgICAgIHRvcCA9IE1hdGgubWluKHRvcCwgY2xpcHBlZEJvdW5kcy55KTtcbiAgICAgICAgICAgICAgICByaWdodCA9IE1hdGgubWF4KHJpZ2h0LCBjbGlwcGVkQm91bmRzLnggKyBjbGlwcGVkQm91bmRzLndpZHRoKTtcbiAgICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1heChib3R0b20sIGNsaXBwZWRCb3VuZHMueSArIGNsaXBwZWRCb3VuZHMuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5faG9tZUJvdW5kcyA9IG5ldyAkLlJlY3QobGVmdCwgdG9wLCByaWdodCAtIGxlZnQsIGJvdHRvbSAtIHRvcCk7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50U2l6ZSA9IG5ldyAkLlBvaW50KFxuICAgICAgICAgICAgICAgIHRoaXMuX2hvbWVCb3VuZHMud2lkdGggKiB0aGlzLl9jb250ZW50RmFjdG9yLFxuICAgICAgICAgICAgICAgIHRoaXMuX2hvbWVCb3VuZHMuaGVpZ2h0ICogdGhpcy5fY29udGVudEZhY3Rvcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGVudEZhY3RvciAhPT0gb2xkQ29udGVudEZhY3RvciB8fFxuICAgICAgICAgICAgIXRoaXMuX2hvbWVCb3VuZHMuZXF1YWxzKG9sZEhvbWVCb3VuZHMpIHx8XG4gICAgICAgICAgICAhdGhpcy5fY29udGVudFNpemUuZXF1YWxzKG9sZENvbnRlbnRTaXplKSkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSYWlzZWQgd2hlbiB0aGUgaG9tZSBib3VuZHMgb3IgY29udGVudCBmYWN0b3IgY2hhbmdlLlxuICAgICAgICAgICAgICogQGV2ZW50IG1ldHJpY3MtY2hhbmdlXG4gICAgICAgICAgICAgKiBAbWVtYmVyT2YgT3BlblNlYWRyYWdvbi5Xb3JsZFxuICAgICAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7T3BlblNlYWRyYWdvbi5Xb3JsZH0gZXZlbnRTb3VyY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgV29ybGQgd2hpY2ggcmFpc2VkIHRoZSBldmVudC5cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7P09iamVjdH0gdXNlckRhdGEgLSBBcmJpdHJhcnkgc3Vic2NyaWJlci1kZWZpbmVkIG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5yYWlzZUV2ZW50KCdtZXRyaWNzLWNoYW5nZScsIHt9KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBwcml2YXRlXG4gICAgX3JhaXNlUmVtb3ZlSXRlbTogZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VkIHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkLlxuICAgICAgICAgKiBAZXZlbnQgcmVtb3ZlLWl0ZW1cbiAgICAgICAgICogQG1lbWJlck9mIE9wZW5TZWFkcmFnb24uV29ybGRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHByb3BlcnR5IHtPcGVuU2VhZHJhZ29uLldvcmxkfSBldmVudFNvdXJjZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBXb3JsZCB3aGljaCByYWlzZWQgdGhlIGV2ZW50LlxuICAgICAgICAgKiBAcHJvcGVydHkge09wZW5TZWFkcmFnb24uVGlsZWRJbWFnZX0gaXRlbSAtIFRoZSBpdGVtJ3MgdW5kZXJseWluZyBpdGVtLlxuICAgICAgICAgKiBAcHJvcGVydHkgez9PYmplY3R9IHVzZXJEYXRhIC0gQXJiaXRyYXJ5IHN1YnNjcmliZXItZGVmaW5lZCBvYmplY3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhaXNlRXZlbnQoICdyZW1vdmUtaXRlbScsIHsgaXRlbTogaXRlbSB9ICk7XG4gICAgfVxufSk7XG5cbn0oIE9wZW5TZWFkcmFnb24gKSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZW5zZWFkcmFnb24uanMubWFwIiwiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjMuMVxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xuICpcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTgtMDEtMjBUMTc6MjRaXG4gKi9cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRpZiAoIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YFxuXHRcdC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcblx0XHQvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy5cblx0XHQvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLlxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcblx0XHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG4vLyBQYXNzIHRoaXMgaWYgd2luZG93IGlzIG5vdCBkZWZpbmVkIHlldFxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cbi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMVxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXG4vLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vblxuLy8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxvY2suXG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGFyciA9IFtdO1xuXG52YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG5cbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcblxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xuXG52YXIgY29uY2F0ID0gYXJyLmNvbmNhdDtcblxudmFyIHB1c2ggPSBhcnIucHVzaDtcblxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcblxudmFyIGNsYXNzMnR5cGUgPSB7fTtcblxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcblxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBmblRvU3RyaW5nID0gaGFzT3duLnRvU3RyaW5nO1xuXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xuXG52YXIgc3VwcG9ydCA9IHt9O1xuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIGlzRnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDw9NTcsIEZpcmVmb3ggPD01MlxuICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdHlwZW9mIHJldHVybnMgXCJmdW5jdGlvblwiIGZvciBIVE1MIDxvYmplY3Q+IGVsZW1lbnRzXG4gICAgICAvLyAoaS5lLiwgYHR5cGVvZiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9iamVjdFwiICkgPT09IFwiZnVuY3Rpb25cImApLlxuICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBjbGFzc2lmeSAqYW55KiBET00gbm9kZSBhcyBhIGZ1bmN0aW9uLlxuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqLm5vZGVUeXBlICE9PSBcIm51bWJlclwiO1xuICB9O1xuXG5cbnZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uIGlzV2luZG93KCBvYmogKSB7XG5cdFx0cmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcblx0fTtcblxuXG5cblxuXHR2YXIgcHJlc2VydmVkU2NyaXB0QXR0cmlidXRlcyA9IHtcblx0XHR0eXBlOiB0cnVlLFxuXHRcdHNyYzogdHJ1ZSxcblx0XHRub01vZHVsZTogdHJ1ZVxuXHR9O1xuXG5cdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIGRvYywgbm9kZSApIHtcblx0XHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XG5cblx0XHR2YXIgaSxcblx0XHRcdHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XG5cblx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0aWYgKCBub2RlICkge1xuXHRcdFx0Zm9yICggaSBpbiBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzICkge1xuXHRcdFx0XHRpZiAoIG5vZGVbIGkgXSApIHtcblx0XHRcdFx0XHRzY3JpcHRbIGkgXSA9IG5vZGVbIGkgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XG5cdH1cblxuXG5mdW5jdGlvbiB0b1R5cGUoIG9iaiApIHtcblx0aWYgKCBvYmogPT0gbnVsbCApIHtcblx0XHRyZXR1cm4gb2JqICsgXCJcIjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xuXHRcdGNsYXNzMnR5cGVbIHRvU3RyaW5nLmNhbGwoIG9iaiApIF0gfHwgXCJvYmplY3RcIiA6XG5cdFx0dHlwZW9mIG9iajtcbn1cbi8qIGdsb2JhbCBTeW1ib2wgKi9cbi8vIERlZmluaW5nIHRoaXMgZ2xvYmFsIGluIC5lc2xpbnRyYy5qc29uIHdvdWxkIGNyZWF0ZSBhIGRhbmdlciBvZiB1c2luZyB0aGUgZ2xvYmFsXG4vLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxuXG5cblxudmFyXG5cdHZlcnNpb24gPSBcIjMuMy4xXCIsXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXG5cdFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXG5cdFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHQvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1Bcblx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2c7XG5cbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XG5cblx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRqcXVlcnk6IHZlcnNpb24sXG5cblx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblxuXHQvLyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDBcblx0bGVuZ3RoOiAwLFxuXG5cdHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdH0sXG5cblx0Ly8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldCBPUlxuXHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxuXHRnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XG5cblx0XHQvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XG5cdFx0aWYgKCBudW0gPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxuXHRcdHJldHVybiBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdO1xuXHR9LFxuXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcblx0Ly8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNoZWQgZWxlbWVudCBzZXQpXG5cdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xuXG5cdFx0Ly8gQnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXRcblx0XHR2YXIgcmV0ID0galF1ZXJ5Lm1lcmdlKCB0aGlzLmNvbnN0cnVjdG9yKCksIGVsZW1zICk7XG5cblx0XHQvLyBBZGQgdGhlIG9sZCBvYmplY3Qgb250byB0aGUgc3RhY2sgKGFzIGEgcmVmZXJlbmNlKVxuXHRcdHJldC5wcmV2T2JqZWN0ID0gdGhpcztcblxuXHRcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHQvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgc2V0LlxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApO1xuXHR9LFxuXG5cdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xuXHRcdH0gKSApO1xuXHR9LFxuXG5cdHNsaWNlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHR9LFxuXG5cdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHR9LFxuXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAtMSApO1xuXHR9LFxuXG5cdGVxOiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTtcblx0fSxcblxuXHRlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xuXHR9LFxuXG5cdC8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS5cblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXG5cdHB1c2g6IHB1c2gsXG5cdHNvcnQ6IGFyci5zb3J0LFxuXHRzcGxpY2U6IGFyci5zcGxpY2Vcbn07XG5cbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG5cdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblxuXHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcblx0XHRpKys7XG5cdH1cblxuXHQvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcblx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFpc0Z1bmN0aW9uKCB0YXJnZXQgKSApIHtcblx0XHR0YXJnZXQgPSB7fTtcblx0fVxuXG5cdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcblx0XHR0YXJnZXQgPSB0aGlzO1xuXHRcdGktLTtcblx0fVxuXG5cdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKCBvcHRpb25zID0gYXJndW1lbnRzWyBpIF0gKSAhPSBudWxsICkge1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIGJhc2Ugb2JqZWN0XG5cdFx0XHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xuXHRcdFx0XHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3Bcblx0XHRcdFx0aWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZWN1cnNlIGlmIHdlJ3JlIG1lcmdpbmcgcGxhaW4gb2JqZWN0cyBvciBhcnJheXNcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XG5cdFx0XHRcdFx0KCBjb3B5SXNBcnJheSA9IEFycmF5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGNvcHlJc0FycmF5ICkge1xuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIEFycmF5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBqUXVlcnkuZXh0ZW5kKCBkZWVwLCBjbG9uZSwgY29weSApO1xuXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcblx0XHRcdFx0fSBlbHNlIGlmICggY29weSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHRhcmdldFsgbmFtZSBdID0gY29weTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XG5cdHJldHVybiB0YXJnZXQ7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gVW5pcXVlIGZvciBlYWNoIGNvcHkgb2YgalF1ZXJ5IG9uIHRoZSBwYWdlXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXG5cblx0Ly8gQXNzdW1lIGpRdWVyeSBpcyByZWFkeSB3aXRob3V0IHRoZSByZWFkeSBtb2R1bGVcblx0aXNSZWFkeTogdHJ1ZSxcblxuXHRlcnJvcjogZnVuY3Rpb24oIG1zZyApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xuXHR9LFxuXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgcHJvdG8sIEN0b3I7XG5cblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcblx0XHQvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBvZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHNcblx0XHRpZiAoICFvYmogfHwgdG9TdHJpbmcuY2FsbCggb2JqICkgIT09IFwiW29iamVjdCBPYmplY3RdXCIgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XG5cblx0XHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXG5cdFx0aWYgKCAhcHJvdG8gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBPYmplY3RzIHdpdGggcHJvdG90eXBlIGFyZSBwbGFpbiBpZmYgdGhleSB3ZXJlIGNvbnN0cnVjdGVkIGJ5IGEgZ2xvYmFsIE9iamVjdCBmdW5jdGlvblxuXHRcdEN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sIFwiY29uc3RydWN0b3JcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcblx0fSxcblxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXG5cdFx0LyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcblx0XHR2YXIgbmFtZTtcblxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHQvLyBFdmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBnbG9iYWwgY29udGV4dFxuXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSApIHtcblx0XHRET01FdmFsKCBjb2RlICk7XG5cdH0sXG5cblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGxlbmd0aCwgaSA9IDA7XG5cblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGg7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBvYmogKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9iajtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcblx0dHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcIlwiIDpcblx0XHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCByZXQsXG5cdFx0XHRcdFx0dHlwZW9mIGFyciA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcblx0XHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xuXHRcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcblx0XHRcdGogPSAwLFxuXHRcdFx0aSA9IGZpcnN0Lmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xuXHRcdFx0Zmlyc3RbIGkrKyBdID0gc2Vjb25kWyBqIF07XG5cdFx0fVxuXG5cdFx0Zmlyc3QubGVuZ3RoID0gaTtcblxuXHRcdHJldHVybiBmaXJzdDtcblx0fSxcblxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XG5cdFx0dmFyIGNhbGxiYWNrSW52ZXJzZSxcblx0XHRcdG1hdGNoZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoLFxuXHRcdFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIG9ubHkgc2F2aW5nIHRoZSBpdGVtc1xuXHRcdC8vIHRoYXQgcGFzcyB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBpIF0sIGkgKTtcblx0XHRcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZXM7XG5cdH0sXG5cblx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XG5cdG1hcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgYXJnICkge1xuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRyZXQgPSBbXTtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzXG5cdFx0aWYgKCBpc0FycmF5TGlrZSggZWxlbXMgKSApIHtcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoIGkgaW4gZWxlbXMgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XG5cdH0sXG5cblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXG5cdGd1aWQ6IDEsXG5cblx0Ly8galF1ZXJ5LnN1cHBvcnQgaXMgbm90IHVzZWQgaW4gQ29yZSBidXQgb3RoZXIgcHJvamVjdHMgYXR0YWNoIHRoZWlyXG5cdC8vIHByb3BlcnRpZXMgdG8gaXQgc28gaXQgbmVlZHMgdG8gZXhpc3QuXG5cdHN1cHBvcnQ6IHN1cHBvcnRcbn0gKTtcblxuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xufVxuXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcbmpRdWVyeS5lYWNoKCBcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXCIuc3BsaXQoIFwiIFwiICksXG5mdW5jdGlvbiggaSwgbmFtZSApIHtcblx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG59ICk7XG5cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBvYmogKSB7XG5cblx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxuXHQvLyBgaW5gIGNoZWNrIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTIxNDUpXG5cdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xuXHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXG5cdHZhciBsZW5ndGggPSAhIW9iaiAmJiBcImxlbmd0aFwiIGluIG9iaiAmJiBvYmoubGVuZ3RoLFxuXHRcdHR5cGUgPSB0b1R5cGUoIG9iaiApO1xuXG5cdGlmICggaXNGdW5jdGlvbiggb2JqICkgfHwgaXNXaW5kb3coIG9iaiApICkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB0eXBlID09PSBcImFycmF5XCIgfHwgbGVuZ3RoID09PSAwIHx8XG5cdFx0dHlwZW9mIGxlbmd0aCA9PT0gXCJudW1iZXJcIiAmJiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajtcbn1cbnZhciBTaXp6bGUgPVxuLyohXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjNcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE2LTA4LTA4XG4gKi9cbihmdW5jdGlvbiggd2luZG93ICkge1xuXG52YXIgaSxcblx0c3VwcG9ydCxcblx0RXhwcixcblx0Z2V0VGV4dCxcblx0aXNYTUwsXG5cdHRva2VuaXplLFxuXHRjb21waWxlLFxuXHRzZWxlY3QsXG5cdG91dGVybW9zdENvbnRleHQsXG5cdHNvcnRJbnB1dCxcblx0aGFzRHVwbGljYXRlLFxuXG5cdC8vIExvY2FsIGRvY3VtZW50IHZhcnNcblx0c2V0RG9jdW1lbnQsXG5cdGRvY3VtZW50LFxuXHRkb2NFbGVtLFxuXHRkb2N1bWVudElzSFRNTCxcblx0cmJ1Z2d5UVNBLFxuXHRyYnVnZ3lNYXRjaGVzLFxuXHRtYXRjaGVzLFxuXHRjb250YWlucyxcblxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXG5cdGV4cGFuZG8gPSBcInNpenpsZVwiICsgMSAqIG5ldyBEYXRlKCksXG5cdHByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCxcblx0ZGlycnVucyA9IDAsXG5cdGRvbmUgPSAwLFxuXHRjbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdGNvbXBpbGVyQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRzb3J0T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSxcblxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXG5cdGhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksXG5cdGFyciA9IFtdLFxuXHRwb3AgPSBhcnIucG9wLFxuXHRwdXNoX25hdGl2ZSA9IGFyci5wdXNoLFxuXHRwdXNoID0gYXJyLnB1c2gsXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxuXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcblx0Ly8gaHR0cHM6Ly9qc3BlcmYuY29tL3Rob3ItaW5kZXhvZi12cy1mb3IvNVxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGVuID0gbGlzdC5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH0sXG5cblx0Ym9vbGVhbnMgPSBcImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkXCIsXG5cblx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xuXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXG5cdHdoaXRlc3BhY2UgPSBcIltcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdXCIsXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXG5cdGlkZW50aWZpZXIgPSBcIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcMC1cXFxceGEwXSkrXCIsXG5cblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdGF0dHJpYnV0ZXMgPSBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFwiICsgaWRlbnRpZmllciArIFwiKSg/OlwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gT3BlcmF0b3IgKGNhcHR1cmUgMilcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xuXHRcdC8vIFwiQXR0cmlidXRlIHZhbHVlcyBtdXN0IGJlIENTUyBpZGVudGlmaWVycyBbY2FwdHVyZSA1XSBvciBzdHJpbmdzIFtjYXB0dXJlIDMgb3IgY2FwdHVyZSA0XVwiXG5cdFx0XCIqKD86JygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwifChcIiArIGlkZW50aWZpZXIgKyBcIikpfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFwiKlxcXFxdXCIsXG5cblx0cHNldWRvcyA9IFwiOihcIiArIGlkZW50aWZpZXIgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cblx0cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiQ0xBU1NcIjogbmV3IFJlZ0V4cCggXCJeXFxcXC4oXCIgKyBpZGVudGlmaWVyICsgXCIpXCIgKSxcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXG5cdC8vIENTUyBlc2NhcGVzXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0Ly8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuXHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdC8vIEJNUCBjb2RlcG9pbnRcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxuXHQvLyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXNcblx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxcMC1cXHgxZlxceDdmLVxcdUZGRkZcXHctXS9nLFxuXHRmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHtcblx0XHRpZiAoIGFzQ29kZVBvaW50ICkge1xuXG5cdFx0XHQvLyBVKzAwMDAgTlVMTCBiZWNvbWVzIFUrRkZGRCBSRVBMQUNFTUVOVCBDSEFSQUNURVJcblx0XHRcdGlmICggY2ggPT09IFwiXFwwXCIgKSB7XG5cdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcblx0XHRcdHJldHVybiBjaC5zbGljZSggMCwgLTEgKSArIFwiXFxcXFwiICsgY2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3RyaW5nKCAxNiApICsgXCIgXCI7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBBU0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZFxuXHRcdHJldHVybiBcIlxcXFxcIiArIGNoO1xuXHR9LFxuXG5cdC8vIFVzZWQgZm9yIGlmcmFtZXNcblx0Ly8gU2VlIHNldERvY3VtZW50KClcblx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXCJQZXJtaXNzaW9uIERlbmllZFwiXG5cdC8vIGVycm9yIGluIElFXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcblx0XHRzZXREb2N1bWVudCgpO1xuXHR9LFxuXG5cdGRpc2FibGVkQW5jZXN0b3IgPSBhZGRDb21iaW5hdG9yKFxuXHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgKFwiZm9ybVwiIGluIGVsZW0gfHwgXCJsYWJlbFwiIGluIGVsZW0pO1xuXHRcdH0sXG5cdFx0eyBkaXI6IFwicGFyZW50Tm9kZVwiLCBuZXh0OiBcImxlZ2VuZFwiIH1cblx0KTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBzLCBuZXdTZWxlY3Rvcixcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXG5cblx0XHQvLyBub2RlVHlwZSBkZWZhdWx0cyB0byA5LCBzaW5jZSBjb250ZXh0IGRlZmF1bHRzIHRvIGRvY3VtZW50XG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XG5cblx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGZyb20gY2FsbHMgd2l0aCBpbnZhbGlkIHNlbGVjdG9yIG9yIGNvbnRleHRcblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHQvLyBUcnkgdG8gc2hvcnRjdXQgZmluZCBvcGVyYXRpb25zIChhcyBvcHBvc2VkIHRvIGZpbHRlcnMpIGluIEhUTUwgZG9jdW1lbnRzXG5cdGlmICggIXNlZWQgKSB7XG5cblx0XHRpZiAoICggY29udGV4dCA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogcHJlZmVycmVkRG9jICkgIT09IGRvY3VtZW50ICkge1xuXHRcdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcblx0XHR9XG5cdFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxuXHRcdFx0Ly8gKGV4Y2VwdGluZyBEb2N1bWVudEZyYWdtZW50IGNvbnRleHQsIHdoZXJlIHRoZSBtZXRob2RzIGRvbid0IGV4aXN0KVxuXHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHQvLyBJRCBzZWxlY3RvclxuXHRcdFx0XHRpZiAoIChtID0gbWF0Y2hbMV0pICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9jdW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0XHQvLyBnZXRFbGVtZW50QnlJZCBjYW4gbWF0Y2ggZWxlbWVudHMgYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRcdGlmICggZWxlbS5pZCA9PT0gbSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBFbGVtZW50IGNvbnRleHRcblx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSwgT3BlcmEsIFdlYmtpdFxuXHRcdFx0XHRcdFx0Ly8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnNcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdGlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgJiZcblx0XHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xuXG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHlwZSBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFsyXSApIHtcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3Jcblx0XHRcdFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXG5cdFx0XHRcdFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXG5cdFx0XHRpZiAoIHN1cHBvcnQucXNhICYmXG5cdFx0XHRcdCFjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF0gJiZcblx0XHRcdFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcblxuXHRcdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xuXHRcdFx0XHRcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XG5cblx0XHRcdFx0Ly8gcVNBIGxvb2tzIG91dHNpZGUgRWxlbWVudCBjb250ZXh0LCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50XG5cdFx0XHRcdC8vIFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGlzIHdvcmthcm91bmQgdGVjaG5pcXVlXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OFxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb250ZXh0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdGlmICggKG5pZCA9IGNvbnRleHQuZ2V0QXR0cmlidXRlKCBcImlkXCIgKSkgKSB7XG5cdFx0XHRcdFx0XHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCAobmlkID0gZXhwYW5kbykgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3Rcblx0XHRcdFx0XHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGdyb3Vwc1tpXSA9IFwiI1wiICsgbmlkICsgXCIgXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXCIsXCIgKTtcblxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fFxuXHRcdFx0XHRcdFx0Y29udGV4dDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggbmV3U2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsXG5cdFx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH0gY2F0Y2ggKCBxc2FFcnJvciApIHtcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0aWYgKCBuaWQgPT09IGV4cGFuZG8gKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRleHQucmVtb3ZlQXR0cmlidXRlKCBcImlkXCIgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBbGwgb3RoZXJzXG5cdHJldHVybiBzZWxlY3QoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApO1xufVxuXG4vKipcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxuICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3RvcmluZyBpdCBvbiBpdHNlbGYgd2l0aFxuICpcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxuICovXG5mdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcblx0dmFyIGtleXMgPSBbXTtcblxuXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxuXHRcdGlmICgga2V5cy5wdXNoKCBrZXkgKyBcIiBcIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHtcblx0XHRcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcblx0XHR9XG5cdFx0cmV0dXJuIChjYWNoZVsga2V5ICsgXCIgXCIgXSA9IHZhbHVlKTtcblx0fVxuXHRyZXR1cm4gY2FjaGU7XG59XG5cbi8qKlxuICogTWFyayBhIGZ1bmN0aW9uIGZvciBzcGVjaWFsIHVzZSBieSBTaXp6bGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXG4gKi9cbmZ1bmN0aW9uIG1hcmtGdW5jdGlvbiggZm4gKSB7XG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xuXHRyZXR1cm4gZm47XG59XG5cbi8qKlxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0gZmluYWxseSB7XG5cdFx0Ly8gUmVtb3ZlIGZyb20gaXRzIHBhcmVudCBieSBkZWZhdWx0XG5cdFx0aWYgKCBlbC5wYXJlbnROb2RlICkge1xuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcblx0XHR9XG5cdFx0Ly8gcmVsZWFzZSBtZW1vcnkgaW4gSUVcblx0XHRlbCA9IG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBBZGRzIHRoZSBzYW1lIGhhbmRsZXIgZm9yIGFsbCBvZiB0aGUgc3BlY2lmaWVkIGF0dHJzXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBtZXRob2QgdGhhdCB3aWxsIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcblx0dmFyIGFyciA9IGF0dHJzLnNwbGl0KFwifFwiKSxcblx0XHRpID0gYXJyLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcblx0fVxufVxuXG4vKipcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcbiAqIEBwYXJhbSB7RWxlbWVudH0gYVxuICogQHBhcmFtIHtFbGVtZW50fSBiXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcbiAqL1xuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xuXHR2YXIgY3VyID0gYiAmJiBhLFxuXHRcdGRpZmYgPSBjdXIgJiYgYS5ub2RlVHlwZSA9PT0gMSAmJiBiLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcblxuXHQvLyBVc2UgSUUgc291cmNlSW5kZXggaWYgYXZhaWxhYmxlIG9uIGJvdGggbm9kZXNcblx0aWYgKCBkaWZmICkge1xuXHRcdHJldHVybiBkaWZmO1xuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcblx0aWYgKCBjdXIgKSB7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcblx0XHRcdGlmICggY3VyID09PSBiICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGEgPyAxIDogLTE7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiAobmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCIpICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcblx0fTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxuICogQHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6ZW5hYmxlZFxuICovXG5mdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7XG5cblx0Ly8gS25vd24gOmRpc2FibGVkIGZhbHNlIHBvc2l0aXZlczogZmllbGRzZXRbZGlzYWJsZWRdID4gbGVnZW5kOm50aC1vZi10eXBlKG4rMikgOmNhbi1kaXNhYmxlXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gbWF0Y2ggOmVuYWJsZWQgb3IgOmRpc2FibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZFxuXHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWRpc2FibGVkXG5cdFx0aWYgKCBcImZvcm1cIiBpbiBlbGVtICkge1xuXG5cdFx0XHQvLyBDaGVjayBmb3IgaW5oZXJpdGVkIGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6XG5cdFx0XHQvLyAqIGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWRcblx0XHRcdC8vICogb3B0aW9uIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxuXHRcdFx0Ly8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhIFwiZm9ybVwiIHByb3BlcnR5LlxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0Ly8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnRcblx0XHRcdFx0aWYgKCBcImxhYmVsXCIgaW4gZWxlbSApIHtcblx0XHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5wYXJlbnROb2RlLmRpc2FibGVkID09PSBkaXNhYmxlZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDYgLSAxMVxuXHRcdFx0XHQvLyBVc2UgdGhlIGlzRGlzYWJsZWQgc2hvcnRjdXQgcHJvcGVydHkgdG8gY2hlY2sgZm9yIGRpc2FibGVkIGZpZWxkc2V0IGFuY2VzdG9yc1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxuXG5cdFx0XHRcdFx0Ly8gV2hlcmUgdGhlcmUgaXMgbm8gaXNEaXNhYmxlZCwgY2hlY2sgbWFudWFsbHlcblx0XHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cblx0XHRcdFx0XHRlbGVtLmlzRGlzYWJsZWQgIT09ICFkaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0ZGlzYWJsZWRBbmNlc3RvciggZWxlbSApID09PSBkaXNhYmxlZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXG5cdFx0Ly8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LlxuXHRcdC8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndFxuXHRcdC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxuXHRcdH0gZWxzZSBpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdH1cblxuXHRcdC8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBzdWJXaW5kb3csXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIFJldHVybiBlYXJseSBpZiBkb2MgaXMgaW52YWxpZCBvciBhbHJlYWR5IHNlbGVjdGVkXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50O1xuXHR9XG5cblx0Ly8gVXBkYXRlIGdsb2JhbCB2YXJpYWJsZXNcblx0ZG9jdW1lbnQgPSBkb2M7XG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2N1bWVudCApO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2Vcblx0Ly8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMgYWZ0ZXIgdW5sb2FkIHRocm93cyBcInBlcm1pc3Npb24gZGVuaWVkXCIgZXJyb3JzIChqUXVlcnkgIzEzOTM2KVxuXHRpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiZcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDExLCBFZGdlXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcblx0XHR9IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdFx0XHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFwib251bmxvYWRcIiwgdW5sb2FkSGFuZGxlciApO1xuXHRcdH1cblx0fVxuXG5cdC8qIEF0dHJpYnV0ZXNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFPDhcblx0Ly8gVmVyaWZ5IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9wZXJ0aWVzXG5cdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFwiY2xhc3NOYW1lXCIpO1xuXHR9KTtcblxuXHQvKiBnZXRFbGVtZW50KHMpQnkqXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdGVsLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVDb21tZW50KFwiXCIpICk7XG5cdFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikubGVuZ3RoO1xuXHR9KTtcblxuXHQvLyBTdXBwb3J0OiBJRTw5XG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcblx0Ly8gc28gdXNlIGEgcm91bmRhYm91dCBnZXRFbGVtZW50c0J5TmFtZSB0ZXN0XG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pZCA9IGV4cGFuZG87XG5cdFx0cmV0dXJuICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbHRlciBhbmQgZmluZFxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cdFx0XHRcdHJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTtcblx0XHRcdH1cblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7XG5cdFx0XHR9O1xuXHRcdH07XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdEV4cHIuZmluZFtcIklEXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdFx0dmFyIG5vZGUsIGksIGVsZW1zLFxuXHRcdFx0XHRcdGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApO1xuXG5cdFx0XHRcdGlmICggZWxlbSApIHtcblxuXHRcdFx0XHRcdC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXG5cdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdGlmICggbm9kZSAmJiBub2RlLnZhbHVlID09PSBpZCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XG5cdFx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1zW2krK10pICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xuXHRcdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHQvLyBUYWdcblx0RXhwci5maW5kW1wiVEFHXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/XG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXG5cdFx0XHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnICk7XG5cdFx0XHR9XG5cdFx0fSA6XG5cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdHRtcCA9IFtdLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0Ly8gQnkgaGFwcHkgY29pbmNpZGVuY2UsIGEgKGJyb2tlbikgZ0VCVE4gYXBwZWFycyBvbiBEb2N1bWVudEZyYWdtZW50IG5vZGVzIHRvb1xuXHRcdFx0XHRyZXN1bHRzID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcblx0XHRcdGlmICggdGFnID09PSBcIipcIiApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0dG1wLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdG1wO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0fTtcblxuXHQvLyBDbGFzc1xuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xuXHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcblx0XHRcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIGNsYXNzTmFtZSApO1xuXHRcdH1cblx0fTtcblxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XG5cblx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xuXG5cdC8vIHFTYSg6Zm9jdXMpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxuXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXG5cdC8vIFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8gYXZvaWQgdGhlIElFIGVycm9yXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcblx0cmJ1Z2d5UVNBID0gW107XG5cblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XG5cdFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XG5cdFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OVxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXHJcXFxcJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW3NlbGVjdGVkXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcblx0XHRcdC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzY4NTFcblx0XHRcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiLiMuK1srfl1cIik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PC9zZWxlY3Q+XCI7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xuXHRcdFx0Ly8gVGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVySFRNTCBhc3NpZ25tZW50XG5cdFx0XHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcblx0XHRcdC8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0c1xuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiKiw6eFwiKTtcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcblx0XHR9KTtcblx0fVxuXG5cdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxuXHRcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHQvLyBDaGVjayB0byBzZWUgaWYgaXQncyBwb3NzaWJsZSB0byBkbyBtYXRjaGVzU2VsZWN0b3Jcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXG5cdFx0XHRzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoID0gbWF0Y2hlcy5jYWxsKCBlbCwgXCIqXCIgKTtcblxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxuXHRcdFx0Ly8gR2Vja28gZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZFxuXHRcdFx0bWF0Y2hlcy5jYWxsKCBlbCwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxuXHQvLyBBcyBpbiwgYW4gZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGl0c2VsZlxuXHRjb250YWlucyA9IGhhc0NvbXBhcmUgfHwgcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbnRhaW5zICkgP1xuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0dmFyIGFkb3duID0gYS5ub2RlVHlwZSA9PT0gOSA/IGEuZG9jdW1lbnRFbGVtZW50IDogYSxcblx0XHRcdFx0YnVwID0gYiAmJiBiLnBhcmVudE5vZGU7XG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcblx0XHRcdFx0YWRvd24uY29udGFpbnMgP1xuXHRcdFx0XHRcdGFkb3duLmNvbnRhaW5zKCBidXAgKSA6XG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XG5cdFx0XHQpKTtcblx0XHR9IDpcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdGlmICggYiApIHtcblx0XHRcdFx0d2hpbGUgKCAoYiA9IGIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcblxuXHQvKiBTb3J0aW5nXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xuXHRmdW5jdGlvbiggYSwgYiApIHtcblxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cblx0XHR2YXIgY29tcGFyZSA9ICFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247XG5cdFx0aWYgKCBjb21wYXJlICkge1xuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxuXHRcdGNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkgPT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/XG5cdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBiICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0ZWRcblx0XHRcdDE7XG5cblx0XHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcblx0XHRpZiAoIGNvbXBhcmUgJiAxIHx8XG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XG5cblx0XHRcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcblx0XHRcdFx0YiA9PT0gZG9jdW1lbnQgPyAxIDpcblx0XHRcdFx0YXVwID8gLTEgOlxuXHRcdFx0XHRidXAgPyAxIDpcblx0XHRcdFx0c29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcblx0XHR9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCApIHtcblx0XHRcdHJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxuXHRcdGN1ciA9IGE7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YXAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXHRcdGN1ciA9IGI7XG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XG5cdFx0fVxuXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcblx0XHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcblx0XHRcdGkrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gaSA/XG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3Jcblx0XHRcdHNpYmxpbmdDaGVjayggYXBbaV0sIGJwW2ldICkgOlxuXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3Rcblx0XHRcdGFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6XG5cdFx0XHRicFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6XG5cdFx0XHQwO1xuXHR9O1xuXG5cdHJldHVybiBkb2N1bWVudDtcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQhY29tcGlsZXJDYWNoZVsgZXhwciArIFwiIFwiIF0gJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcblx0cmV0dXJuIChzZWwgKyBcIlwiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXG5cdFx0XHRcdFx0XHRkaXIgPSBzaW1wbGUgIT09IGZvcndhcmQgPyBcIm5leHRTaWJsaW5nXCIgOiBcInByZXZpb3VzU2libGluZ1wiLFxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxuXHRcdFx0XHRcdFx0bmFtZSA9IG9mVHlwZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcblxuXHRcdFx0XHRcdGlmICggcGFyZW50ICkge1xuXG5cdFx0XHRcdFx0XHQvLyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdFx0XHRpZiAoIHNpbXBsZSApIHtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9IG5vZGVbIGRpciBdKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQvLyAuLi5pbiBhIGd6aXAtZnJpZW5kbHkgd2F5XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXggJiYgY2FjaGVbIDIgXTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XG5cblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xuXHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFVzZSBwcmV2aW91c2x5LWNhY2hlZCBlbGVtZW50IGluZGV4IGlmIGF2YWlsYWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXG5cdFx0XHRcdFx0XHRcdC8vIG9yIDpudGgtbGFzdC1jaGlsZCguLi4pIG9yIDpudGgoLWxhc3QpPy1vZi10eXBlKC4uLilcblx0XHRcdFx0XHRcdFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQrK2RpZmYgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIGRpZmYgPT09IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcblx0XHRcdC8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZVxuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlc1xuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcblx0XHRcdC8vIFJlbWVtYmVyIHRoYXQgc2V0RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3Ncblx0XHRcdHZhciBhcmdzLFxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XG5cdFx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIHBzZXVkbzogXCIgKyBwc2V1ZG8gKTtcblxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxuXHRcdFx0Ly8gYXJndW1lbnRzIGFyZSBuZWVkZWQgdG8gY3JlYXRlIHRoZSBmaWx0ZXIgZnVuY3Rpb25cblx0XHRcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcblx0XHRcdGlmICggZm4ubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XG5cdFx0XHRcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xuXHRcdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcblx0XHRcdFx0XHRcdHZhciBpZHgsXG5cdFx0XHRcdFx0XHRcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcblx0XHRcdFx0XHRcdFx0aSA9IG1hdGNoZWQubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlkeCA9IGluZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdFx0c2VlZFsgaWR4IF0gPSAhKCBtYXRjaGVzWyBpZHggXSA9IG1hdGNoZWRbaV0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZm47XG5cdFx0fVxuXHR9LFxuXG5cdHBzZXVkb3M6IHtcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3Ncblx0XHRcIm5vdFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0Ly8gVHJpbSB0aGUgc2VsZWN0b3IgcGFzc2VkIHRvIGNvbXBpbGVcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXG5cdFx0XHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcblx0XHRcdHZhciBpbnB1dCA9IFtdLFxuXHRcdFx0XHRyZXN1bHRzID0gW10sXG5cdFx0XHRcdG1hdGNoZXIgPSBjb21waWxlKCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICkgKTtcblxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XG5cdFx0XHRcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcywgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxuXHRcdFx0XHRcdFx0aSA9IHNlZWQubGVuZ3RoO1xuXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHRpbnB1dFswXSA9IGVsZW07XG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xuXHRcdFx0XHRcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBudWxsO1xuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcblx0XHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiaGFzXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImNvbnRhaW5zXCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdHRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHJldHVybiAoIGVsZW0udGV4dENvbnRlbnQgfHwgZWxlbS5pbm5lclRleHQgfHwgZ2V0VGV4dCggZWxlbSApICkuaW5kZXhPZiggdGV4dCApID4gLTE7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcblx0XHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxuXHRcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXCItXCIuXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXG5cdFx0Ly8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBoYXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS5cIlxuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcblx0XHRcdC8vIGxhbmcgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcblx0XHRcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcIlwiKSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xuXHRcdFx0fVxuXHRcdFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgZWxlbUxhbmc7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cblx0XHRcdFx0XHRcdGVsZW0ubGFuZyA6XG5cdFx0XHRcdFx0XHRlbGVtLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSkgKSB7XG5cblx0XHRcdFx0XHRcdGVsZW1MYW5nID0gZWxlbUxhbmcudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXCItXCIgKSA9PT0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xuXHRcdFwidGFyZ2V0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XG5cdFx0fSxcblxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2NFbGVtO1xuXHRcdH0sXG5cblx0XHRcImZvY3VzXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKSAmJiAhIShlbGVtLnR5cGUgfHwgZWxlbS5ocmVmIHx8IH5lbGVtLnRhYkluZGV4KTtcblx0XHR9LFxuXG5cdFx0Ly8gQm9vbGVhbiBwcm9wZXJ0aWVzXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxuXHRcdFwiZGlzYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIHRydWUgKSxcblxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEluIENTUzMsIDpjaGVja2VkIHNob3VsZCByZXR1cm4gYm90aCBjaGVja2VkIGFuZCBzZWxlY3RlZCBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiAobm9kZU5hbWUgPT09IFwiaW5wdXRcIiAmJiAhIWVsZW0uY2hlY2tlZCkgfHwgKG5vZGVOYW1lID09PSBcIm9wdGlvblwiICYmICEhZWxlbS5zZWxlY3RlZCk7XG5cdFx0fSxcblxuXHRcdFwic2VsZWN0ZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZWxlbS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBlbGVtLnNlbGVjdGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBDb250ZW50c1xuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2VtcHR5LXBzZXVkb1xuXHRcdFx0Ly8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3IgY29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLFxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcblx0XHRcdC8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIpIGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSxcblxuXHRcdFwicGFyZW50XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICFFeHByLnBzZXVkb3NbXCJlbXB0eVwiXSggZWxlbSApO1xuXHRcdH0sXG5cblx0XHQvLyBFbGVtZW50L2lucHV0IHR5cGVzXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiaW5wdXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XG5cdFx0fSxcblxuXHRcdFwiYnV0dG9uXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gbmFtZSA9PT0gXCJpbnB1dFwiICYmIGVsZW0udHlwZSA9PT0gXCJidXR0b25cIiB8fCBuYW1lID09PSBcImJ1dHRvblwiO1xuXHRcdH0sXG5cblx0XHRcInRleHRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgYXR0cjtcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxuXHRcdFx0XHRlbGVtLnR5cGUgPT09IFwidGV4dFwiICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxuXHRcdFx0XHQvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZhbHVlcyAoZS5nLiwgXCJzZWFyY2hcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcInRleHRcIlxuXHRcdFx0XHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSA9PSBudWxsIHx8IGF0dHIudG9Mb3dlckNhc2UoKSA9PT0gXCJ0ZXh0XCIgKTtcblx0XHR9LFxuXG5cdFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBbIDAgXTtcblx0XHR9KSxcblxuXHRcdFwibGFzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHJldHVybiBbIGxlbmd0aCAtIDEgXTtcblx0XHR9KSxcblxuXHRcdFwiZXFcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJvZGRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDE7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImx0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KVxuXHR9XG59O1xuXG5FeHByLnBzZXVkb3NbXCJudGhcIl0gPSBFeHByLnBzZXVkb3NbXCJlcVwiXTtcblxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcbmZvciAoIGkgaW4geyByYWRpbzogdHJ1ZSwgY2hlY2tib3g6IHRydWUsIGZpbGU6IHRydWUsIHBhc3N3b3JkOiB0cnVlLCBpbWFnZTogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUlucHV0UHNldWRvKCBpICk7XG59XG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xuXHRFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbyggaSApO1xufVxuXG4vLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnNcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxuc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMgPSBFeHByLnBzZXVkb3M7XG5FeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpO1xuXG50b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5ICkge1xuXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxuXHRcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcblxuXHRpZiAoIGNhY2hlZCApIHtcblx0XHRyZXR1cm4gcGFyc2VPbmx5ID8gMCA6IGNhY2hlZC5zbGljZSggMCApO1xuXHR9XG5cblx0c29GYXIgPSBzZWxlY3Rvcjtcblx0Z3JvdXBzID0gW107XG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcblxuXHR3aGlsZSAoIHNvRmFyICkge1xuXG5cdFx0Ly8gQ29tbWEgYW5kIGZpcnN0IHJ1blxuXHRcdGlmICggIW1hdGNoZWQgfHwgKG1hdGNoID0gcmNvbW1hLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0aWYgKCBtYXRjaCApIHtcblx0XHRcdFx0Ly8gRG9uJ3QgY29uc3VtZSB0cmFpbGluZyBjb21tYXMgYXMgdmFsaWRcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0ubGVuZ3RoICkgfHwgc29GYXI7XG5cdFx0XHR9XG5cdFx0XHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xuXHRcdH1cblxuXHRcdG1hdGNoZWQgPSBmYWxzZTtcblxuXHRcdC8vIENvbWJpbmF0b3JzXG5cdFx0aWYgKCAobWF0Y2ggPSByY29tYmluYXRvcnMuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdC8vIENhc3QgZGVzY2VuZGFudCBjb21iaW5hdG9ycyB0byBzcGFjZVxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxuXHRcdFx0fSk7XG5cdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZpbHRlcnNcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xuXHRcdFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxuXHRcdFx0XHQobWF0Y2ggPSBwcmVGaWx0ZXJzWyB0eXBlIF0oIG1hdGNoICkpKSApIHtcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHRcdHRva2Vucy5wdXNoKHtcblx0XHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRcdG1hdGNoZXM6IG1hdGNoXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggIW1hdGNoZWQgKSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3Ncblx0Ly8gaWYgd2UncmUganVzdCBwYXJzaW5nXG5cdC8vIE90aGVyd2lzZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIHRva2Vuc1xuXHRyZXR1cm4gcGFyc2VPbmx5ID9cblx0XHRzb0Zhci5sZW5ndGggOlxuXHRcdHNvRmFyID9cblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XG5cdFx0XHQvLyBDYWNoZSB0aGUgdG9rZW5zXG5cdFx0XHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcbn07XG5cbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXG5cdFx0c2VsZWN0b3IgPSBcIlwiO1xuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRzZWxlY3RvciArPSB0b2tlbnNbaV0udmFsdWU7XG5cdH1cblx0cmV0dXJuIHNlbGVjdG9yO1xufVxuXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xuXHR2YXIgZGlyID0gY29tYmluYXRvci5kaXIsXG5cdFx0c2tpcCA9IGNvbWJpbmF0b3IubmV4dCxcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcblx0XHRjaGVja05vbkVsZW1lbnRzID0gYmFzZSAmJiBrZXkgPT09IFwicGFyZW50Tm9kZVwiLFxuXHRcdGRvbmVOYW1lID0gZG9uZSsrO1xuXG5cdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSA6XG5cblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XG5cblx0XHRcdC8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNvIHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0aWYgKCBza2lwICYmIHNraXAgPT09IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCAob2xkQ2FjaGUgPSB1bmlxdWVDYWNoZVsga2V5IF0pICYmXG5cdFx0XHRcdFx0XHRcdG9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEgXSA9PT0gZG9uZU5hbWUgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQXNzaWduIHRvIG5ld0NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyBrZXkgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xuXHRcdFx0Ly8gU3VwcG9ydDogSUU8OSwgU2FmYXJpXG5cdFx0XHQvLyBUb2xlcmF0ZSBOb2RlTGlzdCBwcm9wZXJ0aWVzIChJRTogXCJsZW5ndGhcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHRcdFx0XHRcdFx0eG1sID0gIWRvY3VtZW50SXNIVE1MO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xuXHRcdFx0XHRpZiAoIGJ5U2V0ICkge1xuXHRcdFx0XHRcdC8vIFRoZXkgd2lsbCBoYXZlIGdvbmUgdGhyb3VnaCBhbGwgcG9zc2libGUgbWF0Y2hlcnNcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XG5cdFx0XHRcdFx0XHRtYXRjaGVkQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XG5cdFx0XHRcdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdC8vIE5PVEU6IFRoaXMgY2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwgYG1hdGNoZWRDb3VudGBcblx0XHRcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cblx0XHRcdC8vIEluY3JlbWVudGluZyBhbiBpbml0aWFsbHktc3RyaW5nIFwiMFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcblx0XHRcdC8vIGNhc2UsIHdoaWNoIHdpbGwgcmVzdWx0IGluIGEgXCIwMFwiIGBtYXRjaGVkQ291bnRgIHRoYXQgZGlmZmVycyBmcm9tIGBpYCBidXQgaXMgYWxzb1xuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cblx0XHRcdGlmICggYnlTZXQgJiYgaSAhPT0gbWF0Y2hlZENvdW50ICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xuXHRcdFx0XHRcdG1hdGNoZXIoIHVubWF0Y2hlZCwgc2V0TWF0Y2hlZCwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0Ly8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVzIHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZ1xuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoICEodW5tYXRjaGVkW2ldIHx8IHNldE1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRGlzY2FyZCBpbmRleCBwbGFjZWhvbGRlciB2YWx1ZXMgdG8gZ2V0IG9ubHkgYWN0dWFsIG1hdGNoZXNcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xuXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xuXHRcdFx0XHRpZiAoIG91dGVybW9zdCAmJiAhc2VlZCAmJiBzZXRNYXRjaGVkLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHQoIG1hdGNoZWRDb3VudCArIHNldE1hdGNoZXJzLmxlbmd0aCApID4gMSApIHtcblxuXHRcdFx0XHRcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3ZlcnJpZGUgbWFuaXB1bGF0aW9uIG9mIGdsb2JhbHMgYnkgbmVzdGVkIG1hdGNoZXJzXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XG5cdFx0XHRcdG91dGVybW9zdENvbnRleHQgPSBjb250ZXh0QmFja3VwO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5tYXRjaGVkO1xuXHRcdH07XG5cblx0cmV0dXJuIGJ5U2V0ID9cblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcblx0XHRzdXBlck1hdGNoZXI7XG59XG5cbmNvbXBpbGUgPSBTaXp6bGUuY29tcGlsZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgbWF0Y2ggLyogSW50ZXJuYWwgVXNlIE9ubHkgKi8gKSB7XG5cdHZhciBpLFxuXHRcdHNldE1hdGNoZXJzID0gW10sXG5cdFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggIWNhY2hlZCApIHtcblx0XHQvLyBHZW5lcmF0ZSBhIGZ1bmN0aW9uIG9mIHJlY3Vyc2l2ZSBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgdXNlZCB0byBjaGVjayBlYWNoIGVsZW1lbnRcblx0XHRpZiAoICFtYXRjaCApIHtcblx0XHRcdG1hdGNoID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cdFx0fVxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvblxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGUoIHNlbGVjdG9yLCBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSApO1xuXG5cdFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXG5cdFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XG5cdH1cblx0cmV0dXJuIGNhY2hlZDtcbn07XG5cbi8qKlxuICogQSBsb3ctbGV2ZWwgc2VsZWN0aW9uIGZ1bmN0aW9uIHRoYXQgd29ya3Mgd2l0aCBTaXp6bGUncyBjb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHNlbGVjdG9yIEEgc2VsZWN0b3Igb3IgYSBwcmUtY29tcGlsZWRcbiAqICBzZWxlY3RvciBmdW5jdGlvbiBidWlsdCB3aXRoIFNpenpsZS5jb21waWxlXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcbiAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHRzXVxuICogQHBhcmFtIHtBcnJheX0gW3NlZWRdIEEgc2V0IG9mIGVsZW1lbnRzIHRvIG1hdGNoIGFnYWluc3RcbiAqL1xuc2VsZWN0ID0gU2l6emxlLnNlbGVjdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApIHtcblx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3Rvcixcblx0XHRtYXRjaCA9ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxlY3RvcikgKTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBUcnkgdG8gbWluaW1pemUgb3BlcmF0aW9ucyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBzZWxlY3RvciBpbiB0aGUgbGlzdCBhbmQgbm8gc2VlZFxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XG5cblx0XHRcdGNvbnRleHQgPSAoIEV4cHIuZmluZFtcIklEXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXG5cdFx0XHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcblx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQucGFyZW50Tm9kZTtcblx0XHRcdH1cblxuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zbGljZSggdG9rZW5zLnNoaWZ0KCkudmFsdWUubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xuXHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG9rZW4gPSB0b2tlbnNbaV07XG5cblx0XHRcdC8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJpbmF0b3Jcblx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xuXHRcdFx0XHRpZiAoIChzZWVkID0gZmluZChcblx0XHRcdFx0XHR0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICksXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHRcdFx0XHQpKSApIHtcblxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxuXHRcdFx0XHRcdHRva2Vucy5zcGxpY2UoIGksIDEgKTtcblx0XHRcdFx0XHRzZWxlY3RvciA9IHNlZWQubGVuZ3RoICYmIHRvU2VsZWN0b3IoIHRva2VucyApO1xuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2VlZCApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxuXHQoIGNvbXBpbGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoXG5cdFx0c2VlZCxcblx0XHRjb250ZXh0LFxuXHRcdCFkb2N1bWVudElzSFRNTCxcblx0XHRyZXN1bHRzLFxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0KTtcblx0cmV0dXJuIHJlc3VsdHM7XG59O1xuXG4vLyBPbmUtdGltZSBhc3NpZ25tZW50c1xuXG4vLyBTb3J0IHN0YWJpbGl0eVxuc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5zcGxpdChcIlwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFwiXCIpID09PSBleHBhbmRvO1xuXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXG4vLyBBbHdheXMgYXNzdW1lIGR1cGxpY2F0ZXMgaWYgdGhleSBhcmVuJ3QgcGFzc2VkIHRvIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcblxuLy8gSW5pdGlhbGl6ZSBhZ2FpbnN0IHRoZSBkZWZhdWx0IGRvY3VtZW50XG5zZXREb2N1bWVudCgpO1xuXG4vLyBTdXBwb3J0OiBXZWJraXQ8NTM3LjMyIC0gU2FmYXJpIDYuMC4zL0Nocm9tZSAyNSAoZml4ZWQgaW4gQ2hyb21lIDI3KVxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNjQyOSUyOFZTLjg1JTI5LmFzcHhcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGEgaHJlZj0nIyc+PC9hPlwiO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PSBcIiNcIiA7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdGlmICggIWlzWE1MICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdGVsLmlubmVySFRNTCA9IFwiPGlucHV0Lz5cIjtcblx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xuXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0cmV0dXJuIGVsLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpID09IG51bGw7XG59KSApIHtcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciB2YWw7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHZhbC5zcGVjaWZpZWQgP1xuXHRcdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0fVxuXHR9KTtcbn1cblxucmV0dXJuIFNpenpsZTtcblxufSkoIHdpbmRvdyApO1xuXG5cblxualF1ZXJ5LmZpbmQgPSBTaXp6bGU7XG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XG5cbi8vIERlcHJlY2F0ZWRcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcbmpRdWVyeS51bmlxdWVTb3J0ID0galF1ZXJ5LnVuaXF1ZSA9IFNpenpsZS51bmlxdWVTb3J0O1xualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcbmpRdWVyeS5jb250YWlucyA9IFNpenpsZS5jb250YWlucztcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XG5cblxuXG5cbnZhciBkaXIgPSBmdW5jdGlvbiggZWxlbSwgZGlyLCB1bnRpbCApIHtcblx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XG5cblx0d2hpbGUgKCAoIGVsZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7XG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1hdGNoZWQ7XG59O1xuXG5cbnZhciBzaWJsaW5ncyA9IGZ1bmN0aW9uKCBuLCBlbGVtICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdO1xuXG5cdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XG5cdFx0XHRtYXRjaGVkLnB1c2goIG4gKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cblxuXG5mdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHtcblxuICByZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKTtcblxufTtcbnZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlxcL1xcMD46XFx4MjBcXHRcXHJcXG5cXGZdKilbXFx4MjBcXHRcXHJcXG5cXGZdKlxcLz8+KD86PFxcL1xcMT58KSQvaSApO1xuXG5cblxuLy8gSW1wbGVtZW50IHRoZSBpZGVudGljYWwgZnVuY3Rpb25hbGl0eSBmb3IgZmlsdGVyIGFuZCBub3RcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xuXHRpZiAoIGlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0cmV0dXJuICEhcXVhbGlmaWVyLmNhbGwoIGVsZW0sIGksIGVsZW0gKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIFNpbmdsZSBlbGVtZW50XG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRzLCBBcnJheSlcblx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdDtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBGaWx0ZXJlZCBkaXJlY3RseSBmb3IgYm90aCBzaW1wbGUgYW5kIGNvbXBsZXggc2VsZWN0b3JzXG5cdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcbn1cblxualF1ZXJ5LmZpbHRlciA9IGZ1bmN0aW9uKCBleHByLCBlbGVtcywgbm90ICkge1xuXHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XG5cblx0aWYgKCBub3QgKSB7XG5cdFx0ZXhwciA9IFwiOm5vdChcIiArIGV4cHIgKyBcIilcIjtcblx0fVxuXG5cdGlmICggZWxlbXMubGVuZ3RoID09PSAxICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xuXHR9ICkgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmluZDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBpLCByZXQsXG5cdFx0XHRsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cdFx0fVxuXG5cdFx0cmV0ID0gdGhpcy5wdXNoU3RhY2soIFtdICk7XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIHJldCApIDogcmV0O1xuXHR9LFxuXHRmaWx0ZXI6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcblx0fSxcblx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcblx0fSxcblx0aXM6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gISF3aW5ub3coXG5cdFx0XHR0aGlzLFxuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XG5cdFx0XHQvLyBzbyAkKFwicDpmaXJzdFwiKS5pcyhcInA6bGFzdFwiKSB3b24ndCByZXR1cm4gdHJ1ZSBmb3IgYSBkb2Mgd2l0aCB0d28gXCJwXCIuXG5cdFx0XHR0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgJiYgcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcblx0XHRcdFx0c2VsZWN0b3IgfHwgW10sXG5cdFx0XHRmYWxzZVxuXHRcdCkubGVuZ3RoO1xuXHR9XG59ICk7XG5cblxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcblxuXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbnZhciByb290alF1ZXJ5LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdC8vIFNob3J0Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWRcblx0cnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLFxuXG5cdGluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHtcblx0XHR2YXIgbWF0Y2gsIGVsZW07XG5cblx0XHQvLyBIQU5ETEU6ICQoXCJcIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSlcblx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIE1ldGhvZCBpbml0KCkgYWNjZXB0cyBhbiBhbHRlcm5hdGUgcm9vdGpRdWVyeVxuXHRcdC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcblx0XHRyb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xuXG5cdFx0Ly8gSGFuZGxlIEhUTUwgc3RyaW5nc1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0aWYgKCBzZWxlY3RvclsgMCBdID09PSBcIjxcIiAmJlxuXHRcdFx0XHRzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcIj5cIiAmJlxuXHRcdFx0XHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcblxuXHRcdFx0XHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcblx0XHRcdGlmICggbWF0Y2ggJiYgKCBtYXRjaFsgMSBdIHx8ICFjb250ZXh0ICkgKSB7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG5cdFx0XHRcdGlmICggbWF0Y2hbIDEgXSApIHtcblx0XHRcdFx0XHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XG5cblx0XHRcdFx0XHQvLyBPcHRpb24gdG8gcnVuIHNjcmlwdHMgaXMgdHJ1ZSBmb3IgYmFjay1jb21wYXRcblx0XHRcdFx0XHQvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTChcblx0XHRcdFx0XHRcdG1hdGNoWyAxIF0sXG5cdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCkgKTtcblxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbIDEgXSApICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb250ZXh0ICkgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcblx0XHRcdFx0XHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJbmplY3QgdGhlIGVsZW1lbnQgZGlyZWN0bHkgaW50byB0aGUgalF1ZXJ5IG9iamVjdFxuXHRcdFx0XHRcdFx0dGhpc1sgMCBdID0gZWxlbTtcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gSEFORExFOiAkKGV4cHIsICQoLi4uKSlcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xuXHRcdFx0XHRyZXR1cm4gKCBjb250ZXh0IHx8IHJvb3QgKS5maW5kKCBzZWxlY3RvciApO1xuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcblx0XHRcdC8vICh3aGljaCBpcyBqdXN0IGVxdWl2YWxlbnQgdG86ICQoY29udGV4dCkuZmluZChleHByKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXG5cdFx0fSBlbHNlIGlmICggc2VsZWN0b3Iubm9kZVR5cGUgKSB7XG5cdFx0XHR0aGlzWyAwIF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XG5cdFx0XHRyZXR1cm4gcm9vdC5yZWFkeSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxuXHRndWFyYW50ZWVkVW5pcXVlID0ge1xuXHRcdGNoaWxkcmVuOiB0cnVlLFxuXHRcdGNvbnRlbnRzOiB0cnVlLFxuXHRcdG5leHQ6IHRydWUsXG5cdFx0cHJldjogdHJ1ZVxuXHR9O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcblx0XHR2YXIgdGFyZ2V0cyA9IGpRdWVyeSggdGFyZ2V0LCB0aGlzICksXG5cdFx0XHRsID0gdGFyZ2V0cy5sZW5ndGg7XG5cblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggdGhpcywgdGFyZ2V0c1sgaSBdICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcblx0XHR2YXIgY3VyLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRtYXRjaGVkID0gW10sXG5cdFx0XHR0YXJnZXRzID0gdHlwZW9mIHNlbGVjdG9ycyAhPT0gXCJzdHJpbmdcIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApO1xuXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxuXHRcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cblx0XHRcdFx0XHQvLyBBbHdheXMgc2tpcCBkb2N1bWVudCBmcmFnbWVudHNcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XG5cdFx0XHRcdFx0XHR0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDpcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0XHRjdXIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBjdXIsIHNlbGVjdG9ycyApICkgKSB7XG5cblx0XHRcdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICkgOiBtYXRjaGVkICk7XG5cdH0sXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHdpdGhpbiB0aGUgc2V0XG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdC8vIE5vIGFyZ3VtZW50LCByZXR1cm4gaW5kZXggaW4gcGFyZW50XG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybiAoIHRoaXNbIDAgXSAmJiB0aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAtMTtcblx0XHR9XG5cblx0XHQvLyBJbmRleCBpbiBzZWxlY3RvclxuXHRcdGlmICggdHlwZW9mIGVsZW0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XG5cdFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcblxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXG5cdFx0XHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cblx0XHQpO1xuXHR9LFxuXG5cdGFkZDogZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcblx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2VsZWN0b3IsIGNvbnRleHQgKSApXG5cdFx0XHQpXG5cdFx0KTtcblx0fSxcblxuXHRhZGRCYWNrOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID9cblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcblx0XHQpO1xuXHR9XG59ICk7XG5cbmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkge1xuXHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKCB7XG5cdHBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRyZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPT0gMTEgPyBwYXJlbnQgOiBudWxsO1xuXHR9LFxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiwgdW50aWwgKTtcblx0fSxcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIsIHVudGlsICk7XG5cdH0sXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoICggZWxlbS5wYXJlbnROb2RlIHx8IHt9ICkuZmlyc3RDaGlsZCwgZWxlbSApO1xuXHR9LFxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZpcnN0Q2hpbGQgKTtcblx0fSxcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgICBpZiAoIG5vZGVOYW1lKCBlbGVtLCBcImlmcmFtZVwiICkgKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS5jb250ZW50RG9jdW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seSwgaU9TIDcgb25seSwgQW5kcm9pZCBCcm93c2VyIDw9NC4zIG9ubHlcbiAgICAgICAgLy8gVHJlYXQgdGhlIHRlbXBsYXRlIGVsZW1lbnQgYXMgYSByZWd1bGFyIG9uZSBpbiBicm93c2VycyB0aGF0XG4gICAgICAgIC8vIGRvbid0IHN1cHBvcnQgaXQuXG4gICAgICAgIGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGVtcGxhdGVcIiApICkge1xuICAgICAgICAgICAgZWxlbSA9IGVsZW0uY29udGVudCB8fCBlbGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXG5cdFx0XHRpZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7XG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSApO1xudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xuXG5cblxuLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlvbnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXNcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSB7fTtcblx0alF1ZXJ5LmVhY2goIG9wdGlvbnMubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSwgZnVuY3Rpb24oIF8sIGZsYWcgKSB7XG5cdFx0b2JqZWN0WyBmbGFnIF0gPSB0cnVlO1xuXHR9ICk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0Y3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDpcblx0XHRqUXVlcnkuZXh0ZW5kKCB7fSwgb3B0aW9ucyApO1xuXG5cdHZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJyZW50bHkgZmlyaW5nXG5cdFx0ZmlyaW5nLFxuXG5cdFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcblx0XHRtZW1vcnksXG5cblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXG5cdFx0Ly8gRmxhZyB0byBwcmV2ZW50IGZpcmluZ1xuXHRcdGxvY2tlZCxcblxuXHRcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XG5cdFx0bGlzdCA9IFtdLFxuXG5cdFx0Ly8gUXVldWUgb2YgZXhlY3V0aW9uIGRhdGEgZm9yIHJlcGVhdGFibGUgbGlzdHNcblx0XHRxdWV1ZSA9IFtdLFxuXG5cdFx0Ly8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9kaWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXggPSAtMSxcblxuXHRcdC8vIEZpcmUgY2FsbGJhY2tzXG5cdFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbmZvcmNlIHNpbmdsZS1maXJpbmdcblx0XHRcdGxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7XG5cblx0XHRcdC8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLFxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xuXHRcdFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xuXHRcdFx0Zm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0luZGV4ID0gLTEgKSB7XG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRcdHdoaWxlICggKytmaXJpbmdJbmRleCA8IGxpc3QubGVuZ3RoICkge1xuXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cblx0XHRcdFx0XHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxuXHRcdFx0XHRcdFx0b3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0XG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcblx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGZpcmluZyA9IGZhbHNlO1xuXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxuXHRcdFx0aWYgKCBsb2NrZWQgKSB7XG5cblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xuXHRcdFx0XHRpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblxuXHRcdFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nSW5kZXggPSBsaXN0Lmxlbmd0aCAtIDE7XG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggIW9wdGlvbnMudW5pcXVlIHx8ICFzZWxmLmhhcyggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggYXJnICYmIGFyZy5sZW5ndGggJiYgdG9UeXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcblxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxuXHRcdFx0cmVtb3ZlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcblx0XHRcdFx0XHR2YXIgaW5kZXg7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRsaXN0LnNwbGljZSggaW5kZXgsIDEgKTtcblxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXG5cdFx0XHRcdFx0XHRpZiAoIGluZGV4IDw9IGZpcmluZ0luZGV4ICkge1xuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIENoZWNrIGlmIGEgZ2l2ZW4gY2FsbGJhY2sgaXMgaW4gdGhlIGxpc3QuXG5cdFx0XHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRyZXR1cm4gZm4gP1xuXHRcdFx0XHRcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBsaXN0ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIERpc2FibGUgLmZpcmUgYW5kIC5hZGRcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXG5cdFx0XHRkaXNhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcblx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGRpc2FibGVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICFsaXN0O1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZVxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcblx0XHRcdC8vIEFib3J0IGFueSBwZW5kaW5nIGV4ZWN1dGlvbnNcblx0XHRcdGxvY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRpZiAoICFtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFsb2NrZWQ7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gY29udGV4dCBhbmQgYXJndW1lbnRzXG5cdFx0XHRmaXJlV2l0aDogZnVuY3Rpb24oIGNvbnRleHQsIGFyZ3MgKSB7XG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcblx0XHRcdFx0XHRhcmdzID0gYXJncyB8fCBbXTtcblx0XHRcdFx0XHRhcmdzID0gWyBjb250ZXh0LCBhcmdzLnNsaWNlID8gYXJncy5zbGljZSgpIDogYXJncyBdO1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHRpZiAoICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XG5cdHJldHVybiB2O1xufVxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XG5cdHRocm93IGV4O1xufVxuXG5mdW5jdGlvbiBhZG9wdFZhbHVlKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0LCBub1ZhbHVlICkge1xuXHR2YXIgbWV0aG9kO1xuXG5cdHRyeSB7XG5cblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXG5cdFx0aWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xuXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXG5cdFx0fSBlbHNlIGlmICggdmFsdWUgJiYgaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcblx0XHRcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29udHJvbCBgcmVzb2x2ZWAgYXJndW1lbnRzIGJ5IGxldHRpbmcgQXJyYXkjc2xpY2UgY2FzdCBib29sZWFuIGBub1ZhbHVlYCB0byBpbnRlZ2VyOlxuXHRcdFx0Ly8gKiBmYWxzZTogWyB2YWx1ZSBdLnNsaWNlKCAwICkgPT4gcmVzb2x2ZSggdmFsdWUgKVxuXHRcdFx0Ly8gKiB0cnVlOiBbIHZhbHVlIF0uc2xpY2UoIDEgKSA9PiByZXNvbHZlKClcblx0XHRcdHJlc29sdmUuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdLnNsaWNlKCBub1ZhbHVlICkgKTtcblx0XHR9XG5cblx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXG5cdC8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywgd2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW5cblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cblx0fSBjYXRjaCAoIHZhbHVlICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxuXHRcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcblx0XHRyZWplY3QuYXBwbHkoIHVuZGVmaW5lZCwgWyB2YWx1ZSBdICk7XG5cdH1cbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdERlZmVycmVkOiBmdW5jdGlvbiggZnVuYyApIHtcblx0XHR2YXIgdHVwbGVzID0gW1xuXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBjYWxsYmFja3MsXG5cdFx0XHRcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm1lbW9yeVwiICksIDIgXSxcblx0XHRcdFx0WyBcInJlc29sdmVcIiwgXCJkb25lXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDEsIFwicmVqZWN0ZWRcIiBdXG5cdFx0XHRdLFxuXHRcdFx0c3RhdGUgPSBcInBlbmRpbmdcIixcblx0XHRcdHByb21pc2UgPSB7XG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGU7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwiY2F0Y2hcIjogZnVuY3Rpb24oIGZuICkge1xuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlLnRoZW4oIG51bGwsIGZuICk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gS2VlcCBwaXBlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcblx0XHRcdFx0XHRcdFx0dmFyIGZuID0gaXNGdW5jdGlvbiggZm5zWyB0dXBsZVsgNCBdIF0gKSAmJiBmbnNbIHR1cGxlWyA0IF0gXTtcblxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5wcm9ncmVzcyhmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5ub3RpZnkgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pXG5cdFx0XHRcdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMSBdIF0oIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGZuICYmIGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHJldHVybmVkICYmIGlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnByb21pc2UoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MgKSB7XG5cdFx0XHRcdFx0dmFyIG1heERlcHRoID0gMDtcblx0XHRcdFx0XHRmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0aGF0ID0gdGhpcyxcblx0XHRcdFx0XHRcdFx0XHRhcmdzID0gYXJndW1lbnRzLFxuXHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCwgdGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjNcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggPCBtYXhEZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb25cIiApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9ucyAyLjMuMy4xLCAzLjVcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU0XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gUmV0cmlldmUgYHRoZW5gIG9ubHkgb25jZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhlbiA9IHJldHVybmVkICYmXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuNFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KCB0eXBlb2YgcmV0dXJuZWQgPT09IFwib2JqZWN0XCIgfHxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlb2YgcmV0dXJuZWQgPT09IFwiZnVuY3Rpb25cIiApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnRoZW47XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHRoZW4gKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5vdGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3Ncblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtYXhEZXB0aCsrO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGggKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBJZGVudGl0eSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIHJldHVybmVkIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzID0gc3BlY2lhbCA/XG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93IDpcblx0XHRcdFx0XHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3coKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soIGUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSApO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjFcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBwb3N0LXJlc29sdXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKyAxID49IG1heERlcHRoICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBhbmQgbXVsdGlwbGUgdmFsdWVzIChub24tc3BlYyBiZWhhdmlvcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhhdCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgZSBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xXG5cdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cblx0XHRcdFx0XHRcdFx0Ly8gc3Vic2VxdWVudCBlcnJvcnNcblx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCApIHtcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cblx0XHRcdFx0XHRcdFx0XHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5zZXRUaW1lb3V0KCBwcm9jZXNzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uUHJvZ3Jlc3MgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblByb2dyZXNzIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5LFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLm5vdGlmeVdpdGhcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMSBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0aXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvbkZ1bGZpbGxlZCA6XG5cdFx0XHRcdFx0XHRcdFx0XHRJZGVudGl0eVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXG5cdFx0XHRcdFx0XHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcblx0XHRcdFx0XHRcdFx0cmVzb2x2ZShcblx0XHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyLFxuXHRcdFx0XHRcdFx0XHRcdGlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XG5cdFx0XHRcdFx0XHRcdFx0XHRvblJlamVjdGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdFRocm93ZXJcblx0XHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcblx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlZmVycmVkID0ge307XG5cblx0XHQvLyBBZGQgbGlzdC1zcGVjaWZpYyBtZXRob2RzXG5cdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXHRcdFx0dmFyIGxpc3QgPSB0dXBsZVsgMiBdLFxuXHRcdFx0XHRzdGF0ZVN0cmluZyA9IHR1cGxlWyA1IF07XG5cblx0XHRcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5kb25lID0gbGlzdC5hZGRcblx0XHRcdC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXG5cdFx0XHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcblxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXG5cdFx0XHRpZiAoIHN0YXRlU3RyaW5nICkge1xuXHRcdFx0XHRsaXN0LmFkZChcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlc29sdmVkXCIgKGkuZS4sIGZ1bGZpbGxlZClcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXG5cdFx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXHRcdFx0XHRcdH0sXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5kaXNhYmxlXG5cdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmRpc2FibGVcblx0XHRcdFx0XHR0dXBsZXNbIDMgLSBpIF1bIDMgXS5kaXNhYmxlLFxuXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMiBdLmxvY2ssXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5sb2NrXG5cdFx0XHRcdFx0dHVwbGVzWyAwIF1bIDMgXS5sb2NrXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5maXJlXG5cdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5maXJlXG5cdFx0XHRsaXN0LmFkZCggdHVwbGVbIDMgXS5maXJlICk7XG5cblx0XHRcdC8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH1cblx0XHRcdC8vIGRlZmVycmVkLnJlamVjdCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfVxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5V2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdC8vIGRlZmVycmVkLnJlc29sdmVXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0V2l0aCA9IGxpc3QuZmlyZVdpdGhcblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSA9IGxpc3QuZmlyZVdpdGg7XG5cdFx0fSApO1xuXG5cdFx0Ly8gTWFrZSB0aGUgZGVmZXJyZWQgYSBwcm9taXNlXG5cdFx0cHJvbWlzZS5wcm9taXNlKCBkZWZlcnJlZCApO1xuXG5cdFx0Ly8gQ2FsbCBnaXZlbiBmdW5jIGlmIGFueVxuXHRcdGlmICggZnVuYyApIHtcblx0XHRcdGZ1bmMuY2FsbCggZGVmZXJyZWQsIGRlZmVycmVkICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsIGRvbmUhXG5cdFx0cmV0dXJuIGRlZmVycmVkO1xuXHR9LFxuXG5cdC8vIERlZmVycmVkIGhlbHBlclxuXHR3aGVuOiBmdW5jdGlvbiggc2luZ2xlVmFsdWUgKSB7XG5cdFx0dmFyXG5cblx0XHRcdC8vIGNvdW50IG9mIHVuY29tcGxldGVkIHN1Ym9yZGluYXRlc1xuXHRcdFx0cmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCxcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5wcm9jZXNzZWQgYXJndW1lbnRzXG5cdFx0XHRpID0gcmVtYWluaW5nLFxuXG5cdFx0XHQvLyBzdWJvcmRpbmF0ZSBmdWxmaWxsbWVudCBkYXRhXG5cdFx0XHRyZXNvbHZlQ29udGV4dHMgPSBBcnJheSggaSApLFxuXHRcdFx0cmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkXG5cdFx0XHRtYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxuXHRcdFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpcztcblx0XHRcdFx0XHRyZXNvbHZlVmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKCAhKCAtLXJlbWFpbmluZyApICkge1xuXHRcdFx0XHRcdFx0bWFzdGVyLnJlc29sdmVXaXRoKCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHR9O1xuXG5cdFx0Ly8gU2luZ2xlLSBhbmQgZW1wdHkgYXJndW1lbnRzIGFyZSBhZG9wdGVkIGxpa2UgUHJvbWlzZS5yZXNvbHZlXG5cdFx0aWYgKCByZW1haW5pbmcgPD0gMSApIHtcblx0XHRcdGFkb3B0VmFsdWUoIHNpbmdsZVZhbHVlLCBtYXN0ZXIuZG9uZSggdXBkYXRlRnVuYyggaSApICkucmVzb2x2ZSwgbWFzdGVyLnJlamVjdCxcblx0XHRcdFx0IXJlbWFpbmluZyApO1xuXG5cdFx0XHQvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXG5cdFx0XHRpZiAoIG1hc3Rlci5zdGF0ZSgpID09PSBcInBlbmRpbmdcIiB8fFxuXHRcdFx0XHRpc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcblxuXHRcdFx0XHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBNdWx0aXBsZSBhcmd1bWVudHMgYXJlIGFnZ3JlZ2F0ZWQgbGlrZSBQcm9taXNlLmFsbCBhcnJheSBlbGVtZW50c1xuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFzdGVyLnByb21pc2UoKTtcblx0fVxufSApO1xuXG5cbi8vIFRoZXNlIHVzdWFsbHkgaW5kaWNhdGUgYSBwcm9ncmFtbWVyIG1pc3Rha2UgZHVyaW5nIGRldmVsb3BtZW50LFxuLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXG52YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcblxualF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDggLSA5IG9ubHlcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcblx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcblx0XHR3aW5kb3cuY29uc29sZS53YXJuKCBcImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246IFwiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7XG5cdH1cbn07XG5cblxuXG5cbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcblx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGVycm9yO1xuXHR9ICk7XG59O1xuXG5cblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xuXG5cdHJlYWR5TGlzdFxuXHRcdC50aGVuKCBmbiApXG5cblx0XHQvLyBXcmFwIGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiBpbiBhIGZ1bmN0aW9uIHNvIHRoYXQgdGhlIGxvb2t1cFxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xuXHRcdC8vIHJlZ2lzdHJhdGlvbi5cblx0XHQuY2F0Y2goIGZ1bmN0aW9uKCBlcnJvciApIHtcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcblx0XHR9ICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuXHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG5cdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuXG5cdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XG5cbi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQgKTtcblx0alF1ZXJ5LnJlYWR5KCk7XG59XG5cbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXG4vLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxyZWFkeSBvY2N1cnJlZC5cbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHlcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxuaWYgKCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcblx0KCBkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XG5cblx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTtcblxufSBlbHNlIHtcblxuXHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG5cdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQgKTtcblxuXHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xufVxuXG5cblxuXG4vLyBNdWx0aWZ1bmN0aW9uYWwgbWV0aG9kIHRvIGdldCBhbmQgc2V0IHZhbHVlcyBvZiBhIGNvbGxlY3Rpb25cbi8vIFRoZSB2YWx1ZS9zIGNhbiBvcHRpb25hbGx5IGJlIGV4ZWN1dGVkIGlmIGl0J3MgYSBmdW5jdGlvblxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIHRvVHlwZSgga2V5ICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblx0XHRmb3IgKCBpIGluIGtleSApIHtcblx0XHRcdGFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbIGkgXSwgdHJ1ZSwgZW1wdHlHZXQsIHJhdyApO1xuXHRcdH1cblxuXHQvLyBTZXRzIG9uZSB2YWx1ZVxuXHR9IGVsc2UgaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdGNoYWluYWJsZSA9IHRydWU7XG5cblx0XHRpZiAoICFpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmF3ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGJ1bGsgKSB7XG5cblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKFxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cblx0XHRcdFx0XHR2YWx1ZSA6XG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggZWxlbXNbIGkgXSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIGNoYWluYWJsZSApIHtcblx0XHRyZXR1cm4gZWxlbXM7XG5cdH1cblxuXHQvLyBHZXRzXG5cdGlmICggYnVsayApIHtcblx0XHRyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTtcblx0fVxuXG5cdHJldHVybiBsZW4gPyBmbiggZWxlbXNbIDAgXSwga2V5ICkgOiBlbXB0eUdldDtcbn07XG5cblxuLy8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG52YXIgcm1zUHJlZml4ID0gL14tbXMtLyxcblx0cmRhc2hBbHBoYSA9IC8tKFthLXpdKS9nO1xuXG4vLyBVc2VkIGJ5IGNhbWVsQ2FzZSBhcyBjYWxsYmFjayB0byByZXBsYWNlKClcbmZ1bmN0aW9uIGZjYW1lbENhc2UoIGFsbCwgbGV0dGVyICkge1xuXHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcbi8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTVcbi8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3MilcbmZ1bmN0aW9uIGNhbWVsQ2FzZSggc3RyaW5nICkge1xuXHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcbn1cbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHRyZXR1cm4gb3duZXIubm9kZVR5cGUgPT09IDEgfHwgb3duZXIubm9kZVR5cGUgPT09IDkgfHwgISggK293bmVyLm5vZGVUeXBlICk7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XG59XG5cbkRhdGEudWlkID0gMTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cblx0Y2FjaGU6IGZ1bmN0aW9uKCBvd25lciApIHtcblxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxuXHRcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXZhbHVlICkge1xuXHRcdFx0dmFsdWUgPSB7fTtcblxuXHRcdFx0Ly8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBub2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsXG5cdFx0XHQvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4MzM1LlxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIG93bmVyICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxuXHRcdFx0XHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxuXHRcdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eVxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxuXHRcdFx0XHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XG5cdFx0XHRcdFx0XHR2YWx1ZTogdmFsdWUsXG5cdFx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWVcblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGNhY2hlWyBjYW1lbENhc2UoIGRhdGEgKSBdID0gdmFsdWU7XG5cblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0XHRmb3IgKCBwcm9wIGluIGRhdGEgKSB7XG5cdFx0XHRcdGNhY2hlWyBjYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY2FjaGU7XG5cdH0sXG5cdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdHRoaXMuY2FjaGUoIG93bmVyICkgOlxuXG5cdFx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXG5cdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBjYW1lbENhc2UoIGtleSApIF07XG5cdH0sXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xuXG5cdFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxuXHRcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxuXHRcdC8vXG5cdFx0Ly8gVGFrZSB0aGUgXCJyZWFkXCIgcGF0aCBhbmQgYWxsb3cgdGhlIGdldCBtZXRob2QgdG8gZGV0ZXJtaW5lXG5cdFx0Ly8gd2hpY2ggdmFsdWUgdG8gcmV0dXJuLCByZXNwZWN0aXZlbHkgZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBUaGUgZW50aXJlIGNhY2hlIG9iamVjdFxuXHRcdC8vICAgMi4gVGhlIGRhdGEgc3RvcmVkIGF0IHRoZSBrZXlcblx0XHQvL1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHxcblx0XHRcdFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICkgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApICkge1xuXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcblx0XHR9XG5cblx0XHQvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5nLCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZVxuXHRcdC8vIGFyZSBzcGVjaWZpZWQsIHNldCBvciBleHRlbmQgKGV4aXN0aW5nIG9iamVjdHMpIHdpdGggZWl0aGVyOlxuXHRcdC8vXG5cdFx0Ly8gICAxLiBBbiBvYmplY3Qgb2YgcHJvcGVydGllc1xuXHRcdC8vICAgMi4gQSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly9cblx0XHR0aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTtcblxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xuXHRcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XG5cdH0sXG5cdHJlbW92ZTogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XG5cdFx0dmFyIGksXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCBrZXkgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxuXHRcdFx0XHQvLyBXZSBhbHdheXMgc2V0IGNhbWVsQ2FzZSBrZXlzLCBzbyByZW1vdmUgdGhhdC5cblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggY2FtZWxDYXNlICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRrZXkgPSBjYW1lbENhc2UoIGtleSApO1xuXG5cdFx0XHRcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0a2V5ID0ga2V5IGluIGNhY2hlID9cblx0XHRcdFx0XHRbIGtleSBdIDpcblx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7XG5cdFx0XHR9XG5cblx0XHRcdGkgPSBrZXkubGVuZ3RoO1xuXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlbIGkgXSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB0aGUgZXhwYW5kbyBpZiB0aGVyZSdzIG5vIG1vcmUgZGF0YVxuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICkgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDVcblx0XHRcdC8vIFdlYmtpdCAmIEJsaW5rIHBlcmZvcm1hbmNlIHN1ZmZlcnMgd2hlbiBkZWxldGluZyBwcm9wZXJ0aWVzXG5cdFx0XHQvLyBmcm9tIERPTSBub2Rlcywgc28gc2V0IHRvIHVuZGVmaW5lZCBpbnN0ZWFkXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDcgKGJ1ZyByZXN0cmljdGVkKVxuXHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcblx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBvd25lciApIHtcblx0XHR2YXIgY2FjaGUgPSBvd25lclsgdGhpcy5leHBhbmRvIF07XG5cdFx0cmV0dXJuIGNhY2hlICE9PSB1bmRlZmluZWQgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApO1xuXHR9XG59O1xudmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcblxudmFyIGRhdGFVc2VyID0gbmV3IERhdGEoKTtcblxuXG5cbi8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG4vL1xuLy9cdDEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2hcbi8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2Vcbi8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cbi8vXHQzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0IFwicHJpdmF0ZVwiIGFuZCBcInVzZXJcIiBkYXRhLlxuLy9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcbi8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcbi8vXHQ2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1wbGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTRcblxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcblx0cm11bHRpRGFzaCA9IC9bQS1aXS9nO1xuXG5mdW5jdGlvbiBnZXREYXRhKCBkYXRhICkge1xuXHRpZiAoIGRhdGEgPT09IFwidHJ1ZVwiICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKCBkYXRhID09PSBcImZhbHNlXCIgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKCBkYXRhID09PSBcIm51bGxcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIE9ubHkgY29udmVydCB0byBhIG51bWJlciBpZiBpdCBkb2Vzbid0IGNoYW5nZSB0aGUgc3RyaW5nXG5cdGlmICggZGF0YSA9PT0gK2RhdGEgKyBcIlwiICkge1xuXHRcdHJldHVybiArZGF0YTtcblx0fVxuXG5cdGlmICggcmJyYWNlLnRlc3QoIGRhdGEgKSApIHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSggZGF0YSApO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdHZhciBuYW1lO1xuXG5cdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kJlwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRhID0gZ2V0RGF0YSggZGF0YSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcblx0XHRcdGRhdGFVc2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkYXRhO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApO1xuXHR9LFxuXG5cdGRhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhVXNlci5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fSxcblxuXHQvLyBUT0RPOiBOb3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBsYWNlZFxuXHQvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhUHJpdiBtZXRob2RzLCB0aGVzZSBjYW4gYmUgZGVwcmVjYXRlZC5cblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xuXHRcdHJldHVybiBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcblx0fSxcblxuXHRfcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkYXRhOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgaSwgbmFtZSwgZGF0YSxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xuXG5cdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggdGhpcy5sZW5ndGggKSB7XG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0gKTtcblxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiApICkge1xuXHRcdFx0XHRcdGkgPSBhdHRycy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdFx0XHRcdC8vIFRoZSBhdHRycyBlbGVtZW50cyBjYW4gYmUgbnVsbCAoIzE0ODk0KVxuXHRcdFx0XHRcdFx0aWYgKCBhdHRyc1sgaSBdICkge1xuXHRcdFx0XHRcdFx0XHRuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xuXHRcdFx0XHRcdFx0XHRpZiAoIG5hbWUuaW5kZXhPZiggXCJkYXRhLVwiICkgPT09IDAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0bmFtZSA9IGNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkYXRhO1xuXHRcdH1cblxuXHRcdC8vIFNldHMgbXVsdGlwbGUgdmFsdWVzXG5cdFx0aWYgKCB0eXBlb2Yga2V5ID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFVc2VyLnNldCggdGhpcywga2V5ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGE7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXG5cdFx0XHRcdC8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gXCJkaXNjb3ZlclwiIHRoZSBkYXRhIGluXG5cdFx0XHRcdC8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnNcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSB0cmllZCByZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XG5cdH0sXG5cblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFVc2VyLnJlbW92ZSggdGhpcywga2V5ICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHF1ZXVlO1xuXG5cdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0dHlwZSA9ICggdHlwZSB8fCBcImZ4XCIgKSArIFwicXVldWVcIjtcblx0XHRcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdC8vIFNwZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBsb29rdXBcblx0XHRcdGlmICggZGF0YSApIHtcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgQXJyYXkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBkYXRhICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBxdWV1ZSB8fCBbXTtcblx0XHR9XG5cdH0sXG5cblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXG5cdFx0XHRzdGFydExlbmd0aCA9IHF1ZXVlLmxlbmd0aCxcblx0XHRcdGZuID0gcXVldWUuc2hpZnQoKSxcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXG5cdFx0XHRuZXh0ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7XG5cdFx0XHR9O1xuXG5cdFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpO1xuXHRcdFx0c3RhcnRMZW5ndGgtLTtcblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXG5cdFx0XHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXG5cdFx0XHQvLyBhdXRvbWF0aWNhbGx5IGRlcXVldWVkXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcblx0XHRcdFx0cXVldWUudW5zaGlmdCggXCJpbnByb2dyZXNzXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xuXHRcdH1cblxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xuXHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XG5cdFx0dmFyIGtleSA9IHR5cGUgKyBcInF1ZXVlSG9va3NcIjtcblx0XHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgXCJxdWV1ZVwiLCBrZXkgXSApO1xuXHRcdFx0fSApXG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cXVldWU6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBzZXR0ZXIgPSAyO1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdGRhdGEgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IFwiZnhcIjtcblx0XHRcdHNldHRlci0tO1xuXHRcdH1cblxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcyA6XG5cdFx0XHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcblxuXHRcdFx0XHQvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZVxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcblxuXHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiAmJiBxdWV1ZVsgMCBdICE9PSBcImlucHJvZ3Jlc3NcIiApIHtcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdH0sXG5cdGRlcXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9ICk7XG5cdH0sXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcblx0fSxcblxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFwicXVldWVIb29rc1wiICk7XG5cdFx0XHRpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzb2x2ZSgpO1xuXHRcdHJldHVybiBkZWZlci5wcm9taXNlKCBvYmogKTtcblx0fVxufSApO1xudmFyIHBudW0gPSAoIC9bKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkvICkuc291cmNlO1xuXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFwiXig/OihbKy1dKT18KShcIiArIHBudW0gKyBcIikoW2EteiVdKikkXCIsIFwiaVwiICk7XG5cblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xuXG5cdFx0Ly8gaXNIaWRkZW5XaXRoaW5UcmVlIG1pZ2h0IGJlIGNhbGxlZCBmcm9tIGpRdWVyeSNmaWx0ZXIgZnVuY3Rpb247XG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XG5cdFx0ZWxlbSA9IGVsIHx8IGVsZW07XG5cblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxuXHRcdHJldHVybiBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiIHx8XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiZcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCBjaGVjayBjb21wdXRlZCBzdHlsZVxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQzIC0gNDVcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xuXHRcdFx0Ly8gaW4gdGhlIGRvY3VtZW50LlxuXHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSAmJlxuXG5cdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApID09PSBcIm5vbmVcIjtcblx0fTtcblxudmFyIHN3YXAgPSBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdHZhciByZXQsIG5hbWUsXG5cdFx0b2xkID0ge307XG5cblx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRvbGRbIG5hbWUgXSA9IGVsZW0uc3R5bGVbIG5hbWUgXTtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvcHRpb25zWyBuYW1lIF07XG5cdH1cblxuXHRyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBbXSApO1xuXG5cdC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcblxuXG5cblxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcblx0dmFyIGFkanVzdGVkLCBzY2FsZSxcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXG5cdFx0Y3VycmVudFZhbHVlID0gdHdlZW4gP1xuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcblx0XHRcdH0gOlxuXHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XG5cdFx0XHR9LFxuXHRcdGluaXRpYWwgPSBjdXJyZW50VmFsdWUoKSxcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXG5cblx0XHQvLyBTdGFydGluZyB2YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hlc1xuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxuXHRcdFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcblxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTU0XG5cdFx0Ly8gSGFsdmUgdGhlIGl0ZXJhdGlvbiB0YXJnZXQgdmFsdWUgdG8gcHJldmVudCBpbnRlcmZlcmVuY2UgZnJvbSBDU1MgdXBwZXIgYm91bmRzIChnaC0yMTQ0KVxuXHRcdGluaXRpYWwgPSBpbml0aWFsIC8gMjtcblxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3Ncblx0XHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XG5cblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxO1xuXG5cdFx0d2hpbGUgKCBtYXhJdGVyYXRpb25zLS0gKSB7XG5cblx0XHRcdC8vIEV2YWx1YXRlIGFuZCB1cGRhdGUgb3VyIGJlc3QgZ3Vlc3MgKGRvdWJsaW5nIGd1ZXNzZXMgdGhhdCB6ZXJvIG91dCkuXG5cdFx0XHQvLyBGaW5pc2ggaWYgdGhlIHNjYWxlIGVxdWFscyBvciBjcm9zc2VzIDEgKG1ha2luZyB0aGUgb2xkKm5ldyBwcm9kdWN0IG5vbi1wb3NpdGl2ZSkuXG5cdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XG5cdFx0XHRpZiAoICggMSAtIHNjYWxlICkgKiAoIDEgLSAoIHNjYWxlID0gY3VycmVudFZhbHVlKCkgLyBpbml0aWFsIHx8IDAuNSApICkgPD0gMCApIHtcblx0XHRcdFx0bWF4SXRlcmF0aW9ucyA9IDA7XG5cdFx0XHR9XG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xuXG5cdFx0fVxuXG5cdFx0aW5pdGlhbEluVW5pdCA9IGluaXRpYWxJblVuaXQgKiAyO1xuXHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcblx0fVxuXG5cdGlmICggdmFsdWVQYXJ0cyApIHtcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcblxuXHRcdC8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0vLT0pIGlmIHNwZWNpZmllZFxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cblx0XHRcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XG5cdFx0XHQrdmFsdWVQYXJ0c1sgMiBdO1xuXHRcdGlmICggdHdlZW4gKSB7XG5cdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYWRqdXN0ZWQ7XG59XG5cblxudmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XG5cbmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xuXHR2YXIgdGVtcCxcblx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQsXG5cdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxuXHRcdGRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXTtcblxuXHRpZiAoIGRpc3BsYXkgKSB7XG5cdFx0cmV0dXJuIGRpc3BsYXk7XG5cdH1cblxuXHR0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICk7XG5cdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCBcImRpc3BsYXlcIiApO1xuXG5cdHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGVtcCApO1xuXG5cdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0ZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0fVxuXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0dmFyIGRpc3BsYXksIGVsZW0sXG5cdFx0dmFsdWVzID0gW10sXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcblxuXHQvLyBEZXRlcm1pbmUgbmV3IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2Vcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRlbGVtID0gZWxlbWVudHNbIGluZGV4IF07XG5cdFx0aWYgKCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXG5cdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXG5cdFx0XHQvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcblx0XHRcdC8vIGlubGluZSBvciBhYm91dC10by1iZS1yZXN0b3JlZClcblx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKSB8fCBudWxsO1xuXHRcdFx0XHRpZiAoICF2YWx1ZXNbIGluZGV4IF0gKSB7XG5cdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IGdldERlZmF1bHREaXNwbGF5KCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgKSB7XG5cdFx0XHRcdHZhbHVlc1sgaW5kZXggXSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmdcblx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImRpc3BsYXlcIiwgZGlzcGxheSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgZGlzcGxheSBvZiB0aGUgZWxlbWVudHMgaW4gYSBzZWNvbmQgbG9vcCB0byBhdm9pZCBjb25zdGFudCByZWZsb3dcblx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xuXHRcdFx0ZWxlbWVudHNbIGluZGV4IF0uc3R5bGUuZGlzcGxheSA9IHZhbHVlc1sgaW5kZXggXTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudHM7XG59XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2hvdzogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzLCB0cnVlICk7XG5cdH0sXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcyApO1xuXHR9LFxuXHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcblx0XHRpZiAoIHR5cGVvZiBzdGF0ZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xuXG52YXIgcnRhZ05hbWUgPSAoIC88KFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKykvaSApO1xuXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxebW9kdWxlJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcblxuXG5cbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXG52YXIgd3JhcE1hcCA9IHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRvcHRpb246IFsgMSwgXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsIFwiPC9zZWxlY3Q+XCIgXSxcblxuXHQvLyBYSFRNTCBwYXJzZXJzIGRvIG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZVxuXHQvLyBzYW1lIHdheSB0aGF0IHRhZyBzb3VwIHBhcnNlcnMgZG8uIFNvIHdlIGNhbm5vdCBzaG9ydGVuXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cblx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRjb2w6IFsgMiwgXCI8dGFibGU+PGNvbGdyb3VwPlwiLCBcIjwvY29sZ3JvdXA+PC90YWJsZT5cIiBdLFxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXG5cdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG53cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRpb247XG5cbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcblxuXG5mdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHtcblxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcblx0dmFyIHJldDtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSBpZiAoIHR5cGVvZiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgXCIqXCIgKTtcblxuXHR9IGVsc2Uge1xuXHRcdHJldCA9IFtdO1xuXHR9XG5cblx0aWYgKCB0YWcgPT09IHVuZGVmaW5lZCB8fCB0YWcgJiYgbm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xuXHRcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59XG5cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhUHJpdi5zZXQoXG5cdFx0XHRlbGVtc1sgaSBdLFxuXHRcdFx0XCJnbG9iYWxFdmFsXCIsXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5cbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcblxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBjb250YWlucywgaixcblx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdG5vZGVzID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1zWyBpIF07XG5cblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0Ly8gQWRkIG5vZGVzIGRpcmVjdGx5XG5cdFx0XHRpZiAoIHRvVHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVsZW0gKTtcblxuXHRcdFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXG5cdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcblxuXHRcdFx0Ly8gQ29udmVydCBodG1sIGludG8gRE9NIG5vZGVzXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0bXAgPSB0bXAgfHwgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICk7XG5cblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxuXHRcdFx0XHR0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVsZW0gKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xuXG5cdFx0XHRcdC8vIERlc2NlbmQgdGhyb3VnaCB3cmFwcGVycyB0byB0aGUgcmlnaHQgY29udGVudFxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdFx0XHR0bXAgPSB0bXAubGFzdENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcblxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHR0bXAgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5Milcblx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XG5cdGZyYWdtZW50LnRleHRDb250ZW50ID0gXCJcIjtcblxuXHRpID0gMDtcblx0d2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHtcblxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXG5cdFx0aWYgKCBzZWxlY3Rpb24gJiYgalF1ZXJ5LmluQXJyYXkoIGVsZW0sIHNlbGVjdGlvbiApID4gLTEgKSB7XG5cdFx0XHRpZiAoIGlnbm9yZWQgKSB7XG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XG5cdFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcInNjcmlwdFwiICk7XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0aWYgKCBjb250YWlucyApIHtcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xuXHRcdH1cblxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcblx0XHRpZiAoIHNjcmlwdHMgKSB7XG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xuXHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIGVsZW0udHlwZSB8fCBcIlwiICkgKSB7XG5cdFx0XHRcdFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZnJhZ21lbnQ7XG59XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdGRpdiA9IGZyYWdtZW50LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKSxcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHlcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcblx0Ly8gU3VwcG9ydDogV2luZG93cyBXZWIgQXBwcyAoV1dBKVxuXHQvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZvciBXV0EgKCMxNDkwMSlcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJjaGVja2VkXCIsIFwiY2hlY2tlZFwiICk7XG5cdGlucHV0LnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwidFwiICk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKCBpbnB1dCApO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxuXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcblx0c3VwcG9ydC5jaGVja0Nsb25lID0gZGl2LmNsb25lTm9kZSggdHJ1ZSApLmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5jaGVja2VkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG5cdHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xufSApKCk7XG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cblxudmFyXG5cdHJrZXlFdmVudCA9IC9ea2V5Lyxcblx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sXG5cdHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFwuKC4rKXwpLztcblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBTZWUgIzEzMzkzIGZvciBtb3JlIGluZm9cbmZ1bmN0aW9uIHNhZmVBY3RpdmVFbGVtZW50KCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHR9IGNhdGNoICggZXJyICkgeyB9XG59XG5cbmZ1bmN0aW9uIG9uKCBlbGVtLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCBvbmUgKSB7XG5cdHZhciBvcmlnRm4sIHR5cGU7XG5cblx0Ly8gVHlwZXMgY2FuIGJlIGEgbWFwIG9mIHR5cGVzL2hhbmRsZXJzXG5cdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gKCB0eXBlcy1PYmplY3QsIHNlbGVjdG9yLCBkYXRhIClcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdG9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0fVxuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBkYXRhID09IG51bGwgJiYgZm4gPT0gbnVsbCApIHtcblxuXHRcdC8vICggdHlwZXMsIGZuIClcblx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmICggZm4gPT0gbnVsbCApIHtcblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgc2VsZWN0b3IsIGZuIClcblx0XHRcdGZuID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gKCB0eXBlcywgZGF0YSwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdH0gZWxzZSBpZiAoICFmbiApIHtcblx0XHRyZXR1cm4gZWxlbTtcblx0fVxuXG5cdGlmICggb25lID09PSAxICkge1xuXHRcdG9yaWdGbiA9IGZuO1xuXHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdGpRdWVyeSgpLm9mZiggZXZlbnQgKTtcblx0XHRcdHJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH07XG5cblx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xuXHR9XG5cdHJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdGpRdWVyeS5ldmVudC5hZGQoIHRoaXMsIHR5cGVzLCBmbiwgZGF0YSwgc2VsZWN0b3IgKTtcblx0fSApO1xufVxuXG4vKlxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxuICogUHJvcHMgdG8gRGVhbiBFZHdhcmRzJyBhZGRFdmVudCBsaWJyYXJ5IGZvciBtYW55IG9mIHRoZSBpZGVhcy5cbiAqL1xualF1ZXJ5LmV2ZW50ID0ge1xuXG5cdGdsb2JhbDoge30sXG5cblx0YWRkOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIGRhdGEsIHNlbGVjdG9yICkge1xuXG5cdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXG5cdFx0XHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0Ly8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcblx0XHRpZiAoICFlbGVtRGF0YSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGN1c3RvbSBkYXRhIGluIGxpZXUgb2YgdGhlIGhhbmRsZXJcblx0XHRpZiAoIGhhbmRsZXIuaGFuZGxlciApIHtcblx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcblx0XHRcdGhhbmRsZXIgPSBoYW5kbGVPYmpJbi5oYW5kbGVyO1xuXHRcdFx0c2VsZWN0b3IgPSBoYW5kbGVPYmpJbi5zZWxlY3Rvcjtcblx0XHR9XG5cblx0XHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXG5cdFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXG5cdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBzZWxlY3RvciApO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcblx0XHR9XG5cdFx0aWYgKCAhKCBldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSApICkge1xuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcblxuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBcInVuZGVmaW5lZFwiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlwZSA/XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmRpc3BhdGNoLmFwcGx5KCBlbGVtLCBhcmd1bWVudHMgKSA6IHVuZGVmaW5lZDtcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBUaGVyZSAqbXVzdCogYmUgYSB0eXBlLCBubyBhdHRhY2hpbmcgbmFtZXNwYWNlLW9ubHkgaGFuZGxlcnNcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBldmVudCBjaGFuZ2VzIGl0cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlwZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGVcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblxuXHRcdFx0Ly8gVXBkYXRlIHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIGhhbmRsZU9iaiBpcyBwYXNzZWQgdG8gYWxsIGV2ZW50IGhhbmRsZXJzXG5cdFx0XHRoYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApXG5cdFx0XHR9LCBoYW5kbGVPYmpJbiApO1xuXG5cdFx0XHQvLyBJbml0IHRoZSBldmVudCBoYW5kbGVyIHF1ZXVlIGlmIHdlJ3JlIHRoZSBmaXJzdFxuXHRcdFx0aWYgKCAhKCBoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdICkgKSB7XG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcblx0XHRcdFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XG5cblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXG5cdFx0XHRcdGlmICggIXNwZWNpYWwuc2V0dXAgfHxcblx0XHRcdFx0XHRzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRcdFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICggc3BlY2lhbC5hZGQgKSB7XG5cdFx0XHRcdHNwZWNpYWwuYWRkLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXG5cdFx0XHRcdGlmICggIWhhbmRsZU9iai5oYW5kbGVyLmd1aWQgKSB7XG5cdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCA9IGhhbmRsZXIuZ3VpZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxuXHRcdFx0aWYgKCBzZWxlY3RvciApIHtcblx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGFuZGxlcnMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEtlZXAgdHJhY2sgb2Ygd2hpY2ggZXZlbnRzIGhhdmUgZXZlciBiZWVuIHVzZWQsIGZvciBldmVudCBvcHRpbWl6YXRpb25cblx0XHRcdGpRdWVyeS5ldmVudC5nbG9iYWxbIHR5cGUgXSA9IHRydWU7XG5cdFx0fVxuXG5cdH0sXG5cblx0Ly8gRGV0YWNoIGFuIGV2ZW50IG9yIHNldCBvZiBldmVudHMgZnJvbSBhbiBlbGVtZW50XG5cdHJlbW92ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7XG5cblx0XHR2YXIgaiwgb3JpZ0NvdW50LCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFQcml2LmdldCggZWxlbSApO1xuXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gT25jZSBmb3IgZWFjaCB0eXBlLm5hbWVzcGFjZSBpbiB0eXBlczsgdHlwZSBtYXkgYmUgb21pdHRlZFxuXHRcdHR5cGVzID0gKCB0eXBlcyB8fCBcIlwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFwiXCIgXTtcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xuXHRcdHdoaWxlICggdC0tICkge1xuXHRcdFx0dG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtdO1xuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xuXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcblx0XHRcdGlmICggIXR5cGUgKSB7XG5cdFx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcblx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107XG5cdFx0XHR0bXAgPSB0bXBbIDIgXSAmJlxuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xuXG5cdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XG5cdFx0XHRcdFx0XHRzZWxlY3RvciA9PT0gXCIqKlwiICYmIGhhbmRsZU9iai5zZWxlY3RvciApICkge1xuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xuXG5cdFx0XHRcdFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggc3BlY2lhbC5yZW1vdmUgKSB7XG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNvbWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdFxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXG5cdFx0XHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRpZiAoICFzcGVjaWFsLnRlYXJkb3duIHx8XG5cdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGVsZXRlIGV2ZW50c1sgdHlwZSBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXG5cdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggZXZlbnRzICkgKSB7XG5cdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiaGFuZGxlIGV2ZW50c1wiICk7XG5cdFx0fVxuXHR9LFxuXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XG5cblx0XHQvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhlIG5hdGl2ZSBldmVudCBvYmplY3Rcblx0XHR2YXIgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApO1xuXG5cdFx0dmFyIGksIGosIHJldCwgbWF0Y2hlZCwgaGFuZGxlT2JqLCBoYW5kbGVyUXVldWUsXG5cdFx0XHRhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksXG5cdFx0XHRoYW5kbGVycyA9ICggZGF0YVByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50eXBlIF0gfHwge307XG5cblx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdGFyZ3NbIDAgXSA9IGV2ZW50O1xuXG5cdFx0Zm9yICggaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRhcmdzWyBpIF0gPSBhcmd1bWVudHNbIGkgXTtcblx0XHR9XG5cblx0XHRldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7XG5cblx0XHQvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkXG5cdFx0aWYgKCBzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXG5cdFx0aGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwoIHRoaXMsIGV2ZW50LCBoYW5kbGVycyApO1xuXG5cdFx0Ly8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggbWF0Y2hlZCA9IGhhbmRsZXJRdWV1ZVsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XG5cblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbIGorKyBdICkgJiZcblx0XHRcdFx0IWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cblx0XHRcdFx0Ly8gVHJpZ2dlcmVkIGV2ZW50IG11c3QgZWl0aGVyIDEpIGhhdmUgbm8gbmFtZXNwYWNlLCBvciAyKSBoYXZlIG5hbWVzcGFjZShzKVxuXHRcdFx0XHQvLyBhIHN1YnNldCBvciBlcXVhbCB0byB0aG9zZSBpbiB0aGUgYm91bmQgZXZlbnQgKGJvdGggY2FuIGhhdmUgbm8gbmFtZXNwYWNlKS5cblx0XHRcdFx0aWYgKCAhZXZlbnQucm5hbWVzcGFjZSB8fCBldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHtcblxuXHRcdFx0XHRcdGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcblx0XHRcdFx0XHRldmVudC5kYXRhID0gaGFuZGxlT2JqLmRhdGE7XG5cblx0XHRcdFx0XHRyZXQgPSAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhhbmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9ICkuaGFuZGxlIHx8XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTtcblxuXHRcdFx0XHRcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICggZXZlbnQucmVzdWx0ID0gcmV0ICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBwb3N0RGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlXG5cdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcblx0XHRcdHNwZWNpYWwucG9zdERpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcblx0fSxcblxuXHRoYW5kbGVyczogZnVuY3Rpb24oIGV2ZW50LCBoYW5kbGVycyApIHtcblx0XHR2YXIgaSwgaGFuZGxlT2JqLCBzZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycyxcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0aWYgKCBkZWxlZ2F0ZUNvdW50ICYmXG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OVxuXHRcdFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKHRyYWMtMTMxODApXG5cdFx0XHRjdXIubm9kZVR5cGUgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXG5cdFx0XHQvLyBTdXBwcmVzcyBzcGVjLXZpb2xhdGluZyBjbGlja3MgaW5kaWNhdGluZyBhIG5vbi1wcmltYXJ5IHBvaW50ZXIgYnV0dG9uICh0cmFjLTM4NjEpXG5cdFx0XHQvLyBodHRwczovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudC10eXBlLWNsaWNrXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XG5cdFx0XHQvLyAuLi5idXQgbm90IGFycm93IGtleSBcImNsaWNrc1wiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUgYGJ1dHRvbmAgLTEgKGdoLTIzNDMpXG5cdFx0XHQhKCBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgZXZlbnQuYnV0dG9uID49IDEgKSApIHtcblxuXHRcdFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICgjNjkxMSwgIzgxNjUsICMxMTM4MiwgIzExNzY0KVxuXHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA9PT0gMSAmJiAhKCBldmVudC50eXBlID09PSBcImNsaWNrXCIgJiYgY3VyLmRpc2FibGVkID09PSB0cnVlICkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzID0gW107XG5cdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9ycyA9IHt9O1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkSGFuZGxlcnMubGVuZ3RoICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogbWF0Y2hlZEhhbmRsZXJzIH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXG5cdFx0Y3VyID0gdGhpcztcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaGFuZGxlclF1ZXVlO1xuXHR9LFxuXG5cdGFkZFByb3A6IGZ1bmN0aW9uKCBuYW1lLCBob29rICkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblxuXHRcdFx0Z2V0OiBpc0Z1bmN0aW9uKCBob29rICkgP1xuXHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLCBuYW1lLCB7XG5cdFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRvcmlnaW5hbEV2ZW50IDpcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIG9yaWdpbmFsRXZlbnQgKTtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxuXHRcdH0sXG5cdFx0Zm9jdXM6IHtcblxuXHRcdFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XG5cdFx0XHRcdFx0dGhpcy5mb2N1cygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c2luXCJcblx0XHR9LFxuXHRcdGJsdXI6IHtcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xuXHRcdFx0XHRcdHRoaXMuYmx1cigpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlbGVnYXRlVHlwZTogXCJmb2N1c291dFwiXG5cdFx0fSxcblx0XHRjbGljazoge1xuXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBub2RlTmFtZSggdGhpcywgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dGhpcy5jbGljaygpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRm9yIGNyb3NzLWJyb3dzZXIgY29uc2lzdGVuY3ksIGRvbid0IGZpcmUgbmF0aXZlIC5jbGljaygpIG9uIGxpbmtzXG5cdFx0XHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRyZXR1cm4gbm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXCJhXCIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0YmVmb3JldW5sb2FkOiB7XG5cdFx0XHRwb3N0RGlzcGF0Y2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xuXHRcdFx0XHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgZXZlbnQub3JpZ2luYWxFdmVudCApIHtcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXG5cdC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xuXHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSApO1xuXHR9XG59O1xuXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcblxuXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0aWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0XHQvLyBDcmVhdGUgdGFyZ2V0IHByb3BlcnRpZXNcblx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5XG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0Mylcblx0XHR0aGlzLnRhcmdldCA9ICggc3JjLnRhcmdldCAmJiBzcmMudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkgP1xuXHRcdFx0c3JjLnRhcmdldC5wYXJlbnROb2RlIDpcblx0XHRcdHNyYy50YXJnZXQ7XG5cblx0XHR0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMuY3VycmVudFRhcmdldDtcblx0XHR0aGlzLnJlbGF0ZWRUYXJnZXQgPSBzcmMucmVsYXRlZFRhcmdldDtcblxuXHQvLyBFdmVudCB0eXBlXG5cdH0gZWxzZSB7XG5cdFx0dGhpcy50eXBlID0gc3JjO1xuXHR9XG5cblx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3Rcblx0aWYgKCBwcm9wcyApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aGlzLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcblx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuXG5cdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG59O1xuXG4vLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBqUXVlcnkuRXZlbnQsXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXG5cdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcblx0aXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblx0fSxcblx0c3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH0sXG5cdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcblxuXHRcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcblx0XHRcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcblx0fVxufTtcblxuLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcbmpRdWVyeS5lYWNoKCB7XG5cdGFsdEtleTogdHJ1ZSxcblx0YnViYmxlczogdHJ1ZSxcblx0Y2FuY2VsYWJsZTogdHJ1ZSxcblx0Y2hhbmdlZFRvdWNoZXM6IHRydWUsXG5cdGN0cmxLZXk6IHRydWUsXG5cdGRldGFpbDogdHJ1ZSxcblx0ZXZlbnRQaGFzZTogdHJ1ZSxcblx0bWV0YUtleTogdHJ1ZSxcblx0cGFnZVg6IHRydWUsXG5cdHBhZ2VZOiB0cnVlLFxuXHRzaGlmdEtleTogdHJ1ZSxcblx0dmlldzogdHJ1ZSxcblx0XCJjaGFyXCI6IHRydWUsXG5cdGNoYXJDb2RlOiB0cnVlLFxuXHRrZXk6IHRydWUsXG5cdGtleUNvZGU6IHRydWUsXG5cdGJ1dHRvbjogdHJ1ZSxcblx0YnV0dG9uczogdHJ1ZSxcblx0Y2xpZW50WDogdHJ1ZSxcblx0Y2xpZW50WTogdHJ1ZSxcblx0b2Zmc2V0WDogdHJ1ZSxcblx0b2Zmc2V0WTogdHJ1ZSxcblx0cG9pbnRlcklkOiB0cnVlLFxuXHRwb2ludGVyVHlwZTogdHJ1ZSxcblx0c2NyZWVuWDogdHJ1ZSxcblx0c2NyZWVuWTogdHJ1ZSxcblx0dGFyZ2V0VG91Y2hlczogdHJ1ZSxcblx0dG9FbGVtZW50OiB0cnVlLFxuXHR0b3VjaGVzOiB0cnVlLFxuXG5cdHdoaWNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0dmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcblxuXHRcdC8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50c1xuXHRcdGlmICggZXZlbnQud2hpY2ggPT0gbnVsbCAmJiBya2V5RXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50LmNoYXJDb2RlICE9IG51bGwgPyBldmVudC5jaGFyQ29kZSA6IGV2ZW50LmtleUNvZGU7XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxuXHRcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIHJtb3VzZUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcblx0XHRcdGlmICggYnV0dG9uICYgMSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggYnV0dG9uICYgMiApIHtcblx0XHRcdFx0cmV0dXJuIDM7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggYnV0dG9uICYgNCApIHtcblx0XHRcdFx0cmV0dXJuIDI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC53aGljaDtcblx0fVxufSwgalF1ZXJ5LmV2ZW50LmFkZFByb3AgKTtcblxuLy8gQ3JlYXRlIG1vdXNlZW50ZXIvbGVhdmUgZXZlbnRzIHVzaW5nIG1vdXNlb3Zlci9vdXQgYW5kIGV2ZW50LXRpbWUgY2hlY2tzXG4vLyBzbyB0aGF0IGV2ZW50IGRlbGVnYXRpb24gd29ya3MgaW4galF1ZXJ5LlxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcbi8vXG4vLyBTdXBwb3J0OiBTYWZhcmkgNyBvbmx5XG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcbi8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ3MDI1OFxuLy8gZm9yIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgYnVnIChpdCBleGlzdGVkIGluIG9sZGVyIENocm9tZSB2ZXJzaW9ucyBhcyB3ZWxsKS5cbmpRdWVyeS5lYWNoKCB7XG5cdG1vdXNlZW50ZXI6IFwibW91c2VvdmVyXCIsXG5cdG1vdXNlbGVhdmU6IFwibW91c2VvdXRcIixcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXG5cdHBvaW50ZXJsZWF2ZTogXCJwb2ludGVyb3V0XCJcbn0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XG5cdFx0ZGVsZWdhdGVUeXBlOiBmaXgsXG5cdFx0YmluZFR5cGU6IGZpeCxcblxuXHRcdGhhbmRsZTogZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0dmFyIHJldCxcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcblx0XHRcdFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXG5cdFx0XHRcdGhhbmRsZU9iaiA9IGV2ZW50LmhhbmRsZU9iajtcblxuXHRcdFx0Ly8gRm9yIG1vdXNlZW50ZXIvbGVhdmUgY2FsbCB0aGUgaGFuZGxlciBpZiByZWxhdGVkIGlzIG91dHNpZGUgdGhlIHRhcmdldC5cblx0XHRcdC8vIE5COiBObyByZWxhdGVkVGFyZ2V0IGlmIHRoZSBtb3VzZSBsZWZ0L2VudGVyZWQgdGhlIGJyb3dzZXIgd2luZG93XG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XG5cdFx0XHRcdGV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3JpZ1R5cGU7XG5cdFx0XHRcdHJldCA9IGhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgMSApO1xuXHR9LFxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xuXHRcdHZhciBoYW5kbGVPYmosIHR5cGU7XG5cdFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XG5cblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xuXHRcdFx0XHRcdGhhbmRsZU9iai5vcmlnVHlwZSArIFwiLlwiICsgaGFuZGxlT2JqLm5hbWVzcGFjZSA6XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxuXHRcdFx0XHRoYW5kbGVPYmouc2VsZWN0b3IsXG5cdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMgWywgZm5dIClcblx0XHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG52YXJcblxuXHQvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy8zMjI5XG5cdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXC9cXDA+XFx4MjBcXHRcXHJcXG5cXGZdKilbXj5dKilcXC8+L2dpLFxuXG5cdC8qIGVzbGludC1lbmFibGUgKi9cblxuXHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxMyBvbmx5XG5cdC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXG5cdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXG5cdHJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLFxuXG5cdC8vIGNoZWNrZWQ9XCJjaGVja2VkXCIgb3IgY2hlY2tlZFxuXHRyY2hlY2tlZCA9IC9jaGVja2VkXFxzKig/OltePV18PVxccyouY2hlY2tlZC4pL2ksXG5cdHJjbGVhblNjcmlwdCA9IC9eXFxzKjwhKD86XFxbQ0RBVEFcXFt8LS0pfCg/OlxcXVxcXXwtLSk+XFxzKiQvZztcblxuLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZvciBjb250YWluaW5nIG5ldyByb3dzXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdGlmICggbm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0bm9kZU5hbWUoIGNvbnRlbnQubm9kZVR5cGUgIT09IDExID8gY29udGVudCA6IGNvbnRlbnQuZmlyc3RDaGlsZCwgXCJ0clwiICkgKSB7XG5cblx0XHRyZXR1cm4galF1ZXJ5KCBlbGVtICkuY2hpbGRyZW4oIFwidGJvZHlcIiApWyAwIF0gfHwgZWxlbTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcInR5cGVcIiApICE9PSBudWxsICkgKyBcIi9cIiArIGVsZW0udHlwZTtcblx0cmV0dXJuIGVsZW07XG59XG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xuXHRpZiAoICggZWxlbS50eXBlIHx8IFwiXCIgKS5zbGljZSggMCwgNSApID09PSBcInRydWUvXCIgKSB7XG5cdFx0ZWxlbS50eXBlID0gZWxlbS50eXBlLnNsaWNlKCA1ICk7XG5cdH0gZWxzZSB7XG5cdFx0ZWxlbS5yZW1vdmVBdHRyaWJ1dGUoIFwidHlwZVwiICk7XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuZnVuY3Rpb24gY2xvbmVDb3B5RXZlbnQoIHNyYywgZGVzdCApIHtcblx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCBwZGF0YUN1ciwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XG5cblx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIDEuIENvcHkgcHJpdmF0ZSBkYXRhOiBldmVudHMsIGhhbmRsZXJzLCBldGMuXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhUHJpdi5hY2Nlc3MoIHNyYyApO1xuXHRcdHBkYXRhQ3VyID0gZGF0YVByaXYuc2V0KCBkZXN0LCBwZGF0YU9sZCApO1xuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcblxuXHRcdGlmICggZXZlbnRzICkge1xuXHRcdFx0ZGVsZXRlIHBkYXRhQ3VyLmhhbmRsZTtcblx0XHRcdHBkYXRhQ3VyLmV2ZW50cyA9IHt9O1xuXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0Zm9yICggaSA9IDAsIGwgPSBldmVudHNbIHR5cGUgXS5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggZGVzdCwgdHlwZSwgZXZlbnRzWyB0eXBlIF1bIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gMi4gQ29weSB1c2VyIGRhdGFcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XG5cdFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcblxuXHRcdGRhdGFVc2VyLnNldCggZGVzdCwgdWRhdGFDdXIgKTtcblx0fVxufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XG5cblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcblx0XHRpID0gMCxcblx0XHRsID0gY29sbGVjdGlvbi5sZW5ndGgsXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHR2YWx1ZSA9IGFyZ3NbIDAgXSxcblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdC8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGluIFdlYktpdFxuXHRpZiAoIHZhbHVlSXNGdW5jdGlvbiB8fFxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0cmV0dXJuIGNvbGxlY3Rpb24uZWFjaCggZnVuY3Rpb24oIGluZGV4ICkge1xuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdGFyZ3NbIDAgXSA9IHZhbHVlLmNhbGwoIHRoaXMsIGluZGV4LCBzZWxmLmh0bWwoKSApO1xuXHRcdFx0fVxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XG5cdFx0fSApO1xuXHR9XG5cblx0aWYgKCBsICkge1xuXHRcdGZyYWdtZW50ID0gYnVpbGRGcmFnbWVudCggYXJncywgY29sbGVjdGlvblsgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCBjb2xsZWN0aW9uLCBpZ25vcmVkICk7XG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG5cdFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0fVxuXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXG5cdFx0aWYgKCBmaXJzdCB8fCBpZ25vcmVkICkge1xuXHRcdFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFwic2NyaXB0XCIgKSwgZGlzYWJsZVNjcmlwdCApO1xuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHQvLyBVc2UgdGhlIG9yaWdpbmFsIGZyYWdtZW50IGZvciB0aGUgbGFzdCBpdGVtXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcblx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdG5vZGUgPSBmcmFnbWVudDtcblxuXHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcblxuXHRcdFx0XHRcdC8vIEtlZXAgcmVmZXJlbmNlcyB0byBjbG9uZWQgc2NyaXB0cyBmb3IgbGF0ZXIgcmVzdG9yYXRpb25cblx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxuXHRcdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNhbGxiYWNrLmNhbGwoIGNvbGxlY3Rpb25bIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdFx0Ly8gUmVlbmFibGUgc2NyaXB0c1xuXHRcdFx0XHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XG5cblx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gc2NyaXB0c1sgaSBdO1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0IWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJlxuXHRcdFx0XHRcdFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcblxuXHRcdFx0XHRcdFx0aWYgKCBub2RlLnNyYyAmJiAoIG5vZGUudHlwZSB8fCBcIlwiICkudG9Mb3dlckNhc2UoKSAgIT09IFwibW9kdWxlXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYyApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRET01FdmFsKCBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoIHJjbGVhblNjcmlwdCwgXCJcIiApLCBkb2MsIG5vZGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29sbGVjdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XG5cdHZhciBub2RlLFxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcblx0XHRpID0gMDtcblxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0aWYgKCAha2VlcERhdGEgJiYgbm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBub2RlLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBub2RlICkgKSB7XG5cdFx0XHRcdHNldEdsb2JhbEV2YWwoIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHR9XG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXHRodG1sUHJlZmlsdGVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRyZXR1cm4gaHRtbC5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcblx0fSxcblxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdHZhciBpLCBsLCBzcmNFbGVtZW50cywgZGVzdEVsZW1lbnRzLFxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxuXHRcdFx0aW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcblxuXHRcdC8vIEZpeCBJRSBjbG9uaW5nIGlzc3Vlc1xuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcblx0XHRcdFx0IWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zICkge1xuXHRcdHZhciBkYXRhLCBlbGVtLCB0eXBlLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7ICggZWxlbSA9IGVsZW1zWyBpIF0gKSAhPT0gdW5kZWZpbmVkOyBpKysgKSB7XG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblx0XHRcdFx0aWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5leHBhbmRvIF0gKSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFRoaXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWRcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxuXHRcdFx0XHRcdGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciApO1xuXHR9LFxuXG5cdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRiZWZvcmU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcy5uZXh0U2libGluZyApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gdGhpc1sgaSBdICkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdC8vIFByZXZlbnQgbWVtb3J5IGxlYWtzXG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwgZmFsc2UgKSApO1xuXG5cdFx0XHRcdC8vIFJlbW92ZSBhbnkgcmVtYWluaW5nIG5vZGVzXG5cdFx0XHRcdGVsZW0udGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0ZGF0YUFuZEV2ZW50cyA9IGRhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGZhbHNlIDogZGF0YUFuZEV2ZW50cztcblx0XHRkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7XG5cblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5jbG9uZSggdGhpcywgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHR0aGlzLmVtcHR5KCkuYXBwZW5kKCB2YWx1ZSApO1xuXHRcdFx0fVxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH0sXG5cblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpZ25vcmVkID0gW107XG5cblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuXG5cdFx0XHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApO1xuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0XHRwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb25cblx0XHR9LCBpZ25vcmVkICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIHtcblx0YXBwZW5kVG86IFwiYXBwZW5kXCIsXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXG5cdGluc2VydEJlZm9yZTogXCJiZWZvcmVcIixcblx0aW5zZXJ0QWZ0ZXI6IFwiYWZ0ZXJcIixcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXG59LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2luYWwgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBlbGVtcyxcblx0XHRcdHJldCA9IFtdLFxuXHRcdFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xuXHRcdFx0ZWxlbXMgPSBpID09PSBsYXN0ID8gdGhpcyA6IHRoaXMuY2xvbmUoIHRydWUgKTtcblx0XHRcdGpRdWVyeSggaW5zZXJ0WyBpIF0gKVsgb3JpZ2luYWwgXSggZWxlbXMgKTtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHQvLyAuZ2V0KCkgYmVjYXVzZSBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcblx0fTtcbn0gKTtcbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcblxudmFyIGdldFN0eWxlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdHZhciB2aWV3ID0gZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O1xuXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XG5cdFx0XHR2aWV3ID0gd2luZG93O1xuXHRcdH1cblxuXHRcdHJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcblx0fTtcblxudmFyIHJib3hTdHlsZSA9IG5ldyBSZWdFeHAoIGNzc0V4cGFuZC5qb2luKCBcInxcIiApLCBcImlcIiApO1xuXG5cblxuKCBmdW5jdGlvbigpIHtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XG5cblx0XHQvLyBUaGlzIGlzIGEgc2luZ2xldG9uLCB3ZSBuZWVkIHRvIGV4ZWN1dGUgaXQgb25seSBvbmNlXG5cdFx0aWYgKCAhZGl2ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnRhaW5lci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7XCIgK1xuXHRcdFx0XCJtYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjBcIjtcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcInBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDtcIiArXG5cdFx0XHRcIm1hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7XCIgK1xuXHRcdFx0XCJ3aWR0aDo2MCU7dG9wOjElXCI7XG5cdFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKS5hcHBlbmRDaGlsZCggZGl2ICk7XG5cblx0XHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XG5cdFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXCIxJVwiO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgRmlyZWZveCA8PTMgLSA0NFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUubWFyZ2luTGVmdCApID09PSAxMjtcblxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHksIFNhZmFyaSA8PTkuMSAtIDEwLjEsIGlPUyA8PTcuMCAtIDkuM1xuXHRcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxuXHRcdGRpdi5zdHlsZS5yaWdodCA9IFwiNjAlXCI7XG5cdFx0cGl4ZWxCb3hTdHlsZXNWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLnJpZ2h0ICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0XHQvLyBEZXRlY3QgbWlzcmVwb3J0aW5nIG9mIGNvbnRlbnQgZGltZW5zaW9ucyBmb3IgYm94LXNpemluZzpib3JkZXItYm94IGVsZW1lbnRzXG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSByb3VuZFBpeGVsTWVhc3VyZXMoIGRpdlN0eWxlLndpZHRoICkgPT09IDM2O1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0Ly8gRGV0ZWN0IG92ZXJmbG93OnNjcm9sbCBzY3Jld2luZXNzIChnaC0zNjk5KVxuXHRcdGRpdi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblx0XHRzY3JvbGxib3hTaXplVmFsID0gZGl2Lm9mZnNldFdpZHRoID09PSAzNiB8fCBcImFic29sdXRlXCI7XG5cblx0XHRkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0Ly8gTnVsbGlmeSB0aGUgZGl2IHNvIGl0IHdvdWxkbid0IGJlIHN0b3JlZCBpbiB0aGUgbWVtb3J5IGFuZFxuXHRcdC8vIGl0IHdpbGwgYWxzbyBiZSBhIHNpZ24gdGhhdCBjaGVja3MgYWxyZWFkeSBwZXJmb3JtZWRcblx0XHRkaXYgPSBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gcm91bmRQaXhlbE1lYXN1cmVzKCBtZWFzdXJlICkge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKCBwYXJzZUZsb2F0KCBtZWFzdXJlICkgKTtcblx0fVxuXG5cdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgc2Nyb2xsYm94U2l6ZVZhbCwgcGl4ZWxCb3hTdHlsZXNWYWwsXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxuXHRcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSxcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XG5cblx0Ly8gRmluaXNoIGVhcmx5IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHNcblx0aWYgKCAhZGl2LnN0eWxlICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gU3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKCM4OTA4KVxuXHRkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XG5cdGRpdi5jbG9uZU5vZGUoIHRydWUgKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiXCI7XG5cdHN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlID0gZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID09PSBcImNvbnRlbnQtYm94XCI7XG5cblx0alF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwge1xuXHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0fSxcblx0XHRwaXhlbEJveFN0eWxlczogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsQm94U3R5bGVzVmFsO1xuXHRcdH0sXG5cdFx0cGl4ZWxQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XG5cdFx0fSxcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7XG5cdFx0fSxcblx0XHRzY3JvbGxib3hTaXplOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gc2Nyb2xsYm94U2l6ZVZhbDtcblx0XHR9XG5cdH0gKTtcbn0gKSgpO1xuXG5cbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XG5cdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDUxK1xuXHRcdC8vIFJldHJpZXZpbmcgc3R5bGUgYmVmb3JlIGNvbXB1dGVkIHNvbWVob3dcblx0XHQvLyBmaXhlcyBhbiBpc3N1ZSB3aXRoIGdldHRpbmcgd3JvbmcgdmFsdWVzXG5cdFx0Ly8gb24gZGV0YWNoZWQgZWxlbWVudHNcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG5lZWRlZCBmb3I6XG5cdC8vICAgLmNzcygnZmlsdGVyJykgKElFIDkgb25seSwgIzEyNTM3KVxuXHQvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NClcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblxuXHRcdGlmICggcmV0ID09PSBcIlwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XG5cdFx0fVxuXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxuXHRcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxuXHRcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxuXHRcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5waXhlbEJveFN0eWxlcygpICYmIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiByYm94U3R5bGUudGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHQvLyBJRSByZXR1cm5zIHpJbmRleCB2YWx1ZSBhcyBhbiBpbnRlZ2VyLlxuXHRcdHJldCArIFwiXCIgOlxuXHRcdHJldDtcbn1cblxuXG5mdW5jdGlvbiBhZGRHZXRIb29rSWYoIGNvbmRpdGlvbkZuLCBob29rRm4gKSB7XG5cblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxuXHRcdFx0XHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXG5cdFx0XHRcdGRlbGV0ZSB0aGlzLmdldDtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cblx0XHRcdHJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdH1cblx0fTtcbn1cblxuXG52YXJcblxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXG5cdC8vIGV4Y2VwdCBcInRhYmxlXCIsIFwidGFibGUtY2VsbFwiLCBvciBcInRhYmxlLWNhcHRpb25cIlxuXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxuXHRyY3VzdG9tUHJvcCA9IC9eLS0vLFxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiIF0sXG5cdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkuc3R5bGU7XG5cbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcbmZ1bmN0aW9uIHZlbmRvclByb3BOYW1lKCBuYW1lICkge1xuXG5cdC8vIFNob3J0Y3V0IGZvciBuYW1lcyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkXG5cdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSggMSApLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xuXHRcdFx0cmV0dXJuIG5hbWU7XG5cdFx0fVxuXHR9XG59XG5cbi8vIFJldHVybiBhIHByb3BlcnR5IG1hcHBlZCBhbG9uZyB3aGF0IGpRdWVyeS5jc3NQcm9wcyBzdWdnZXN0cyBvciB0b1xuLy8gYSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHkuXG5mdW5jdGlvbiBmaW5hbFByb3BOYW1lKCBuYW1lICkge1xuXHR2YXIgcmV0ID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF07XG5cdGlmICggIXJldCApIHtcblx0XHRyZXQgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBuYW1lICkgfHwgbmFtZTtcblx0fVxuXHRyZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xuXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cblx0Ly8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50XG5cdHZhciBtYXRjaGVzID0gcmNzc051bS5leGVjKCB2YWx1ZSApO1xuXHRyZXR1cm4gbWF0Y2hlcyA/XG5cblx0XHQvLyBHdWFyZCBhZ2FpbnN0IHVuZGVmaW5lZCBcInN1YnRyYWN0XCIsIGUuZy4sIHdoZW4gdXNlZCBhcyBpbiBjc3NIb29rc1xuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxuXHRcdHZhbHVlO1xufVxuXG5mdW5jdGlvbiBib3hNb2RlbEFkanVzdG1lbnQoIGVsZW0sIGRpbWVuc2lvbiwgYm94LCBpc0JvcmRlckJveCwgc3R5bGVzLCBjb21wdXRlZFZhbCApIHtcblx0dmFyIGkgPSBkaW1lbnNpb24gPT09IFwid2lkdGhcIiA/IDEgOiAwLFxuXHRcdGV4dHJhID0gMCxcblx0XHRkZWx0YSA9IDA7XG5cblx0Ly8gQWRqdXN0bWVudCBtYXkgbm90IGJlIG5lY2Vzc2FyeVxuXHRpZiAoIGJveCA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApICkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgNDsgaSArPSAyICkge1xuXG5cdFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luXG5cdFx0aWYgKCBib3ggPT09IFwibWFyZ2luXCIgKSB7XG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBib3ggKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGNvbnRlbnQtYm94LCB3ZSdyZSBzZWVraW5nIFwicGFkZGluZ1wiIG9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIlxuXHRcdGlmICggIWlzQm9yZGVyQm94ICkge1xuXG5cdFx0XHQvLyBBZGQgcGFkZGluZ1xuXHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEZvciBcImJvcmRlclwiIG9yIFwibWFyZ2luXCIsIGFkZCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcInBhZGRpbmdcIiApIHtcblx0XHRcdFx0ZGVsdGEgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gQnV0IHN0aWxsIGtlZXAgdHJhY2sgb2YgaXQgb3RoZXJ3aXNlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRleHRyYSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0Ly8gSWYgd2UgZ2V0IGhlcmUgd2l0aCBhIGJvcmRlci1ib3ggKGNvbnRlbnQgKyBwYWRkaW5nICsgYm9yZGVyKSwgd2UncmUgc2Vla2luZyBcImNvbnRlbnRcIiBvclxuXHRcdC8vIFwicGFkZGluZ1wiIG9yIFwibWFyZ2luXCJcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBGb3IgXCJjb250ZW50XCIsIHN1YnRyYWN0IHBhZGRpbmdcblx0XHRcdGlmICggYm94ID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiBvciBcInBhZGRpbmdcIiwgc3VidHJhY3QgYm9yZGVyXG5cdFx0XHRpZiAoIGJveCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0ZGVsdGEgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBBY2NvdW50IGZvciBwb3NpdGl2ZSBjb250ZW50LWJveCBzY3JvbGwgZ3V0dGVyIHdoZW4gcmVxdWVzdGVkIGJ5IHByb3ZpZGluZyBjb21wdXRlZFZhbFxuXHRpZiAoICFpc0JvcmRlckJveCAmJiBjb21wdXRlZFZhbCA+PSAwICkge1xuXG5cdFx0Ly8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IGlzIGEgcm91bmRlZCBzdW0gb2YgY29udGVudCwgcGFkZGluZywgc2Nyb2xsIGd1dHRlciwgYW5kIGJvcmRlclxuXHRcdC8vIEFzc3VtaW5nIGludGVnZXIgc2Nyb2xsIGd1dHRlciwgc3VidHJhY3QgdGhlIHJlc3QgYW5kIHJvdW5kIGRvd25cblx0XHRkZWx0YSArPSBNYXRoLm1heCggMCwgTWF0aC5jZWlsKFxuXHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdGNvbXB1dGVkVmFsIC1cblx0XHRcdGRlbHRhIC1cblx0XHRcdGV4dHJhIC1cblx0XHRcdDAuNVxuXHRcdCkgKTtcblx0fVxuXG5cdHJldHVybiBkZWx0YTtcbn1cblxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIGNvbXB1dGVkIHN0eWxlXG5cdHZhciBzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIGRpbWVuc2lvbiwgc3R5bGVzICksXG5cdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdHZhbHVlSXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveDtcblxuXHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0Ly8gUmV0dXJuIGEgY29uZm91bmRpbmcgbm9uLXBpeGVsIHZhbHVlIG9yIGZlaWduIGlnbm9yYW5jZSwgYXMgYXBwcm9wcmlhdGUuXG5cdGlmICggcm51bW5vbnB4LnRlc3QoIHZhbCApICkge1xuXHRcdGlmICggIWV4dHJhICkge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cdFx0dmFsID0gXCJhdXRvXCI7XG5cdH1cblxuXHQvLyBDaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xuXHQvLyBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzaWxlbnRseSBmYWxscyBiYWNrIHRvIHRoZSByZWxpYWJsZSBlbGVtLnN0eWxlXG5cdHZhbHVlSXNCb3JkZXJCb3ggPSB2YWx1ZUlzQm9yZGVyQm94ICYmXG5cdFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBkaW1lbnNpb24gXSApO1xuXG5cdC8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgd2hlbiB2YWx1ZSBpcyBcImF1dG9cIlxuXHQvLyBUaGlzIGhhcHBlbnMgZm9yIGlubGluZSBlbGVtZW50cyB3aXRoIG5vIGV4cGxpY2l0IHNldHRpbmcgKGdoLTM1NzEpXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgLSA0LjMgb25seVxuXHQvLyBBbHNvIHVzZSBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgZm9yIG1pc3JlcG9ydGVkIGlubGluZSBkaW1lbnNpb25zIChnaC0zNjAyKVxuXHRpZiAoIHZhbCA9PT0gXCJhdXRvXCIgfHxcblx0XHQhcGFyc2VGbG9hdCggdmFsICkgJiYgalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJpbmxpbmVcIiApIHtcblxuXHRcdHZhbCA9IGVsZW1bIFwib2Zmc2V0XCIgKyBkaW1lbnNpb25bIDAgXS50b1VwcGVyQ2FzZSgpICsgZGltZW5zaW9uLnNsaWNlKCAxICkgXTtcblxuXHRcdC8vIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBwcm92aWRlIGJvcmRlci1ib3ggdmFsdWVzXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IHRydWU7XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgXCJcIiBhbmQgYXV0b1xuXHR2YWwgPSBwYXJzZUZsb2F0KCB2YWwgKSB8fCAwO1xuXG5cdC8vIEFkanVzdCBmb3IgdGhlIGVsZW1lbnQncyBib3ggbW9kZWxcblx0cmV0dXJuICggdmFsICtcblx0XHRib3hNb2RlbEFkanVzdG1lbnQoXG5cdFx0XHRlbGVtLFxuXHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApLFxuXHRcdFx0dmFsdWVJc0JvcmRlckJveCxcblx0XHRcdHN0eWxlcyxcblxuXHRcdFx0Ly8gUHJvdmlkZSB0aGUgY3VycmVudCBjb21wdXRlZCBzaXplIHRvIHJlcXVlc3Qgc2Nyb2xsIGd1dHRlciBjYWxjdWxhdGlvbiAoZ2gtMzU4OSlcblx0XHRcdHZhbFxuXHRcdClcblx0KSArIFwicHhcIjtcbn1cblxualF1ZXJ5LmV4dGVuZCgge1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxuXHRcdFwiY29sdW1uQ291bnRcIjogdHJ1ZSxcblx0XHRcImZpbGxPcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxuXHRcdFwiZmxleFNocmlua1wiOiB0cnVlLFxuXHRcdFwiZm9udFdlaWdodFwiOiB0cnVlLFxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxuXHRcdFwib3BhY2l0eVwiOiB0cnVlLFxuXHRcdFwib3JkZXJcIjogdHJ1ZSxcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcblx0XHRcIndpZG93c1wiOiB0cnVlLFxuXHRcdFwiekluZGV4XCI6IHRydWUsXG5cdFx0XCJ6b29tXCI6IHRydWVcblx0fSxcblxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXG5cdC8vIHNldHRpbmcgb3IgZ2V0dGluZyB0aGUgdmFsdWVcblx0Y3NzUHJvcHM6IHt9LFxuXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXG5cdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXG5cdFx0aWYgKCAhZWxlbSB8fCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggfHwgIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0aXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApLFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lLiBXZSBkb24ndFxuXHRcdC8vIHdhbnQgdG8gcXVlcnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBHZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJzaW9uLCB0aGVuIHVucHJlZml4ZWQgdmVyc2lvblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UncmUgc2V0dGluZyBhIHZhbHVlXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuXHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KVxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICYmICggcmV0ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7XG5cdFx0XHRcdHZhbHVlID0gYWRqdXN0Q1NTKCBlbGVtLCBuYW1lLCByZXQgKTtcblxuXHRcdFx0XHQvLyBGaXhlcyBidWcgIzkyMzdcblx0XHRcdFx0dHlwZSA9IFwibnVtYmVyXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldCAoIzcxMTYpXG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgbnVtYmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBwcm9wZXJ0aWVzKVxuXHRcdFx0aWYgKCB0eXBlID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcblx0XHRcdFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGlmICggaXNDdXN0b21Qcm9wICkge1xuXHRcdFx0XHRcdHN0eWxlLnNldFByb3BlcnR5KCBuYW1lLCB2YWx1ZSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIG5vbi1jb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XG5cdFx0fVxuXHR9LFxuXG5cdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XG5cdFx0dmFyIHZhbCwgbnVtLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBtb2RpZnkgdGhlIHZhbHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eVxuXHRcdC8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVmaW5lZC5cblx0XHRpZiAoICFpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRuYW1lID0gZmluYWxQcm9wTmFtZSggb3JpZ05hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBUcnkgcHJlZml4ZWQgbmFtZSBmb2xsb3dlZCBieSB0aGUgdW5wcmVmaXhlZCBuYW1lXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbCA9IGhvb2tzLmdldCggZWxlbSwgdHJ1ZSwgZXh0cmEgKTtcblx0XHR9XG5cblx0XHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxuXHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxuXHRcdGlmICggdmFsID09PSBcIm5vcm1hbFwiICYmIG5hbWUgaW4gY3NzTm9ybWFsVHJhbnNmb3JtICkge1xuXHRcdFx0dmFsID0gY3NzTm9ybWFsVHJhbnNmb3JtWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcblx0XHRcdG51bSA9IHBhcnNlRmxvYXQoIHZhbCApO1xuXHRcdFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWw7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJoZWlnaHRcIiwgXCJ3aWR0aFwiIF0sIGZ1bmN0aW9uKCBpLCBkaW1lbnNpb24gKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgZGltZW5zaW9uIF0gPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHQvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVuc2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW1cblx0XHRcdFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4K1xuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXG5cdFx0XHRcdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggdW5sZXNzIGRpc3BsYXkgaXMgY2hhbmdlZC5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXG5cdFx0XHRcdFx0Ly8gaW4gSUUgdGhyb3dzIGFuIGVycm9yLlxuXHRcdFx0XHRcdCggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGggKSA/XG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdFx0XHRcdH0gKSA6XG5cdFx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRyYSApIHtcblx0XHRcdHZhciBtYXRjaGVzLFxuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcblx0XHRcdFx0aXNCb3JkZXJCb3ggPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRzdWJ0cmFjdCA9IGV4dHJhICYmIGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdFx0XHRlbGVtLFxuXHRcdFx0XHRcdGRpbWVuc2lvbixcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRpc0JvcmRlckJveCxcblx0XHRcdFx0XHRzdHlsZXNcblx0XHRcdFx0KTtcblxuXHRcdFx0Ly8gQWNjb3VudCBmb3IgdW5yZWxpYWJsZSBib3JkZXItYm94IGRpbWVuc2lvbnMgYnkgY29tcGFyaW5nIG9mZnNldCogdG8gY29tcHV0ZWQgYW5kXG5cdFx0XHQvLyBmYWtpbmcgYSBjb250ZW50LWJveCB0byBnZXQgYm9yZGVyIGFuZCBwYWRkaW5nIChnaC0zNjk5KVxuXHRcdFx0aWYgKCBpc0JvcmRlckJveCAmJiBzdXBwb3J0LnNjcm9sbGJveFNpemUoKSA9PT0gc3R5bGVzLnBvc2l0aW9uICkge1xuXHRcdFx0XHRzdWJ0cmFjdCAtPSBNYXRoLmNlaWwoXG5cdFx0XHRcdFx0ZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdIC1cblx0XHRcdFx0XHRwYXJzZUZsb2F0KCBzdHlsZXNbIGRpbWVuc2lvbiBdICkgLVxuXHRcdFx0XHRcdGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBcImJvcmRlclwiLCBmYWxzZSwgc3R5bGVzICkgLVxuXHRcdFx0XHRcdDAuNVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxuXHRcdFx0aWYgKCBzdWJ0cmFjdCAmJiAoIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJlxuXHRcdFx0XHQoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSAhPT0gXCJweFwiICkge1xuXG5cdFx0XHRcdGVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdID0gdmFsdWU7XG5cdFx0XHRcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgZGltZW5zaW9uICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XG5cdFx0fVxuXHR9O1xufSApO1xuXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiApICkgfHxcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cblx0XHRcdFx0XHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuXHRcdFx0XHRcdH0gKVxuXHRcdFx0XHQpICsgXCJweFwiO1xuXHRcdH1cblx0fVxuKTtcblxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xualF1ZXJ5LmVhY2goIHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCA0OyBpKysgKSB7XG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cblx0XHRcdFx0XHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBleHBhbmRlZDtcblx0XHR9XG5cdH07XG5cblx0aWYgKCBwcmVmaXggIT09IFwibWFyZ2luXCIgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdHZhciBzdHlsZXMsIGxlbixcblx0XHRcdFx0bWFwID0ge30sXG5cdFx0XHRcdGkgPSAwO1xuXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIG5hbWUgKSApIHtcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRcdGxlbiA9IG5hbWUubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0XHRcdG1hcFsgbmFtZVsgaSBdIF0gPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lWyBpIF0sIGZhbHNlLCBzdHlsZXMgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBtYXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xuXHRcdH0sIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9XG59ICk7XG5cblxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xuXHRyZXR1cm4gbmV3IFR3ZWVuLnByb3RvdHlwZS5pbml0KCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApO1xufVxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XG5cblR3ZWVuLnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxuXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XG5cdFx0dGhpcy5lbGVtID0gZWxlbTtcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xuXHRcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHQvLyBVc2UgYSBwcm9wZXJ0eSBvbiB0aGUgZWxlbWVudCBkaXJlY3RseSB3aGVuIGl0IGlzIG5vdCBhIERPTSBlbGVtZW50LFxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cblx0XHRcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAmJiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XG5cdFx0XHQvLyBhdHRlbXB0IGEgcGFyc2VGbG9hdCBhbmQgZmFsbGJhY2sgdG8gYSBzdHJpbmcgaWYgdGhlIHBhcnNlIGZhaWxzLlxuXHRcdFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFwiMTBweFwiIGFyZSBwYXJzZWQgdG8gRmxvYXQ7XG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxuXHRcdFx0cmVzdWx0ID0galF1ZXJ5LmNzcyggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgXCJcIiApO1xuXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cblx0XHRcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXCJhdXRvXCIgPyAwIDogcmVzdWx0O1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHxcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIHR3ZWVuLm5vdyArIHR3ZWVuLnVuaXQgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG4vLyBQYW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9kZXNcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5lYXNpbmcgPSB7XG5cdGxpbmVhcjogZnVuY3Rpb24oIHAgKSB7XG5cdFx0cmV0dXJuIHA7XG5cdH0sXG5cdHN3aW5nOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xuXHR9LFxuXHRfZGVmYXVsdDogXCJzd2luZ1wiXG59O1xuXG5qUXVlcnkuZnggPSBUd2Vlbi5wcm90b3R5cGUuaW5pdDtcblxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcbmpRdWVyeS5meC5zdGVwID0ge307XG5cblxuXG5cbnZhclxuXHRmeE5vdywgaW5Qcm9ncmVzcyxcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXG5cdHJydW4gPSAvcXVldWVIb29rcyQvO1xuXG5mdW5jdGlvbiBzY2hlZHVsZSgpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdGlmICggZG9jdW1lbnQuaGlkZGVuID09PSBmYWxzZSAmJiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggc2NoZWR1bGUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHNjaGVkdWxlLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcblx0XHR9XG5cblx0XHRqUXVlcnkuZngudGljaygpO1xuXHR9XG59XG5cbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcbmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0gKTtcblx0cmV0dXJuICggZnhOb3cgPSBEYXRlLm5vdygpICk7XG59XG5cbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXG5mdW5jdGlvbiBnZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkge1xuXHR2YXIgd2hpY2gsXG5cdFx0aSA9IDAsXG5cdFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xuXG5cdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcblx0Ly8gb3RoZXJ3aXNlIHN0ZXAgdmFsdWUgaXMgMiB0byBza2lwIG92ZXIgTGVmdCBhbmQgUmlnaHRcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcblx0XHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xuXHR9XG5cblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XG5cdFx0YXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTtcblx0fVxuXG5cdHJldHVybiBhdHRycztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XG5cdHZhciB0d2Vlbixcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKCB0d2VlbiA9IGNvbGxlY3Rpb25bIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBwcm9wLCB2YWx1ZSApICkgKSB7XG5cblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xuXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXG5cdFx0aXNCb3ggPSBcIndpZHRoXCIgaW4gcHJvcHMgfHwgXCJoZWlnaHRcIiBpbiBwcm9wcyxcblx0XHRhbmltID0gdGhpcyxcblx0XHRvcmlnID0ge30sXG5cdFx0c3R5bGUgPSBlbGVtLnN0eWxlLFxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXG5cdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZnhzaG93XCIgKTtcblxuXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3Ncblx0aWYgKCAhb3B0cy5xdWV1ZSApIHtcblx0XHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgXCJmeFwiICk7XG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xuXHRcdFx0aG9va3MudW5xdWV1ZWQgPSAwO1xuXHRcdFx0b2xkZmlyZSA9IGhvb2tzLmVtcHR5LmZpcmU7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggIWhvb2tzLnVucXVldWVkICkge1xuXHRcdFx0XHRcdG9sZGZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0aG9va3MudW5xdWV1ZWQrKztcblxuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRW5zdXJlIHRoZSBjb21wbGV0ZSBoYW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXNcblx0XHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcblx0XHRcdFx0aWYgKCAhalF1ZXJ5LnF1ZXVlKCBlbGVtLCBcImZ4XCIgKS5sZW5ndGggKSB7XG5cdFx0XHRcdFx0aG9va3MuZW1wdHkuZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gRGV0ZWN0IHNob3cvaGlkZSBhbmltYXRpb25zXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdGlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gKCBoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFwic2hvd1wiIGFuZFxuXHRcdFx0XHQvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gdHJ1ZTtcblxuXHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcblx0cHJvcFR3ZWVuID0gIWpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wcyApO1xuXHRpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcblx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUUgZG9lcyBub3QgaW5mZXIgdGhlIHNob3J0aGFuZFxuXHRcdC8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVkIG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZIGFuZCBFZGdlIGp1c3QgbWlycm9yc1xuXHRcdC8vIHRoZSBvdmVyZmxvd1ggdmFsdWUgdGhlcmUuXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBJZGVudGlmeSBhIGRpc3BsYXkgdHlwZSwgcHJlZmVycmluZyBvbGQgc2hvdy9oaWRlIGRhdGEgb3ZlciB0aGUgQ1NTIGNhc2NhZGVcblx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XG5cdFx0aWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkge1xuXHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0fVxuXHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xuXHRcdFx0XHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEdldCBub25lbXB0eSB2YWx1ZShzKSBieSB0ZW1wb3JhcmlseSBmb3JjaW5nIHZpc2liaWxpdHlcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcImlubGluZVwiIHx8IGRpc3BsYXkgPT09IFwiaW5saW5lLWJsb2NrXCIgJiYgcmVzdG9yZURpc3BsYXkgIT0gbnVsbCApIHtcblx0XHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJmbG9hdFwiICkgPT09IFwibm9uZVwiICkge1xuXG5cdFx0XHRcdC8vIFJlc3RvcmUgdGhlIG9yaWdpbmFsIGRpc3BsYXkgdmFsdWUgYXQgdGhlIGVuZCBvZiBwdXJlIHNob3cvaGlkZSBhbmltYXRpb25zXG5cdFx0XHRcdGlmICggIXByb3BUd2VlbiApIHtcblx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IHJlc3RvcmVEaXNwbGF5O1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcblx0XHRcdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZGlzcGxheTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0c3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCBvcHRzLm92ZXJmbG93ICkge1xuXHRcdHN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBJbXBsZW1lbnQgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0cHJvcFR3ZWVuID0gZmFsc2U7XG5cdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblxuXHRcdC8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0aW9uXG5cdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0aWYgKCBkYXRhU2hvdyApIHtcblx0XHRcdFx0aWYgKCBcImhpZGRlblwiIGluIGRhdGFTaG93ICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcblx0XHRcdGlmICggdG9nZ2xlICkge1xuXHRcdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi9cblxuXHRcdFx0XHQvLyBUaGUgZmluYWwgc3RlcCBvZiBhIFwiaGlkZVwiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBoaWRpbmcgdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCAhaGlkZGVuICkge1xuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJmeHNob3dcIiApO1xuXHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxuXHRcdHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXHRcdGlmICggISggcHJvcCBpbiBkYXRhU2hvdyApICkge1xuXHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcblx0XHRcdGlmICggaGlkZGVuICkge1xuXHRcdFx0XHRwcm9wVHdlZW4uZW5kID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0bmFtZSA9IGNhbWVsQ2FzZSggaW5kZXggKTtcblx0XHRlYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07XG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0XHRlYXNpbmcgPSB2YWx1ZVsgMSBdO1xuXHRcdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyAwIF07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgaW5kZXggXTtcblx0XHR9XG5cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xuXHRcdGlmICggaG9va3MgJiYgXCJleHBhbmRcIiBpbiBob29rcyApIHtcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XG5cblx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cblx0XHRcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXCJuYW1lXCJcblx0XHRcdGZvciAoIGluZGV4IGluIHZhbHVlICkge1xuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XG5cdFx0XHRcdFx0cHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5kZXggXTtcblx0XHRcdFx0XHRzcGVjaWFsRWFzaW5nWyBpbmRleCBdID0gZWFzaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gQW5pbWF0aW9uKCBlbGVtLCBwcm9wZXJ0aWVzLCBvcHRpb25zICkge1xuXHR2YXIgcmVzdWx0LFxuXHRcdHN0b3BwZWQsXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcblx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxuXHRcdFx0ZGVsZXRlIHRpY2suZWxlbTtcblx0XHR9ICksXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0XHR2YXIgY3VycmVudFRpbWUgPSBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0XHRyZW1haW5pbmcgPSBNYXRoLm1heCggMCwgYW5pbWF0aW9uLnN0YXJ0VGltZSArIGFuaW1hdGlvbi5kdXJhdGlvbiAtIGN1cnJlbnRUaW1lICksXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seVxuXHRcdFx0XHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcblxuXHRcdFx0Ly8gSWYgdGhlcmUncyBtb3JlIHRvIGRvLCB5aWVsZFxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHRoaXMgd2FzIGFuIGVtcHR5IGFuaW1hdGlvbiwgc3ludGhlc2l6ZSBhIGZpbmFsIHByb2dyZXNzIG5vdGlmaWNhdGlvblxuXHRcdFx0aWYgKCAhbGVuZ3RoICkge1xuXHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlc29sdmUgdGhlIGFuaW1hdGlvbiBhbmQgcmVwb3J0IGl0cyBjb25jbHVzaW9uXG5cdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxuXHRcdFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xuXHRcdFx0XHRzcGVjaWFsRWFzaW5nOiB7fSxcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XG5cdFx0XHR9LCBvcHRpb25zICksXG5cdFx0XHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXG5cdFx0XHRzdGFydFRpbWU6IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcblx0XHRcdHR3ZWVuczogW10sXG5cdFx0XHRjcmVhdGVUd2VlbjogZnVuY3Rpb24oIHByb3AsIGVuZCApIHtcblx0XHRcdFx0dmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBlbGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLFxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zLnB1c2goIHR3ZWVuICk7XG5cdFx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHRcdH0sXG5cdFx0XHRzdG9wOiBmdW5jdGlvbiggZ290b0VuZCApIHtcblx0XHRcdFx0dmFyIGluZGV4ID0gMCxcblxuXHRcdFx0XHRcdC8vIElmIHdlIGFyZSBnb2luZyB0byB0aGUgZW5kLCB3ZSB3YW50IHRvIHJ1biBhbGwgdGhlIHR3ZWVuc1xuXHRcdFx0XHRcdC8vIG90aGVyd2lzZSB3ZSBza2lwIHRoaXMgcGFydFxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XG5cdFx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wcGVkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBnb3RvRW5kIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9ICksXG5cdFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XG5cblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcblxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XG5cdFx0aWYgKCByZXN1bHQgKSB7XG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHJlc3VsdC5zdG9wICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICkuc3RvcCA9XG5cdFx0XHRcdFx0cmVzdWx0LnN0b3AuYmluZCggcmVzdWx0ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblx0fVxuXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xuXHRcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0YW5pbWF0aW9uXG5cdFx0LnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcblx0XHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXG5cdFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XG5cblx0alF1ZXJ5LmZ4LnRpbWVyKFxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRhbmltOiBhbmltYXRpb24sXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcblx0XHR9IClcblx0KTtcblxuXHRyZXR1cm4gYW5pbWF0aW9uO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcnM6IHtcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgdHdlZW4gPSB0aGlzLmNyZWF0ZVR3ZWVuKCBwcm9wLCB2YWx1ZSApO1xuXHRcdFx0YWRqdXN0Q1NTKCB0d2Vlbi5lbGVtLCBwcm9wLCByY3NzTnVtLmV4ZWMoIHZhbHVlICksIHR3ZWVuICk7XG5cdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0fSBdXG5cdH0sXG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIHByb3BzICkgKSB7XG5cdFx0XHRjYWxsYmFjayA9IHByb3BzO1xuXHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHByb3BzID0gcHJvcHMubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRwcm9wID0gcHJvcHNbIGluZGV4IF07XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSA9IEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdO1xuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH0sXG5cblx0cHJlZmlsdGVyczogWyBkZWZhdWx0UHJlZmlsdGVyIF0sXG5cblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XG5cdFx0aWYgKCBwcmVwZW5kICkge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xuXHR2YXIgb3B0ID0gc3BlZWQgJiYgdHlwZW9mIHNwZWVkID09PSBcIm9iamVjdFwiID8galF1ZXJ5LmV4dGVuZCgge30sIHNwZWVkICkgOiB7XG5cdFx0Y29tcGxldGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHxcblx0XHRcdGlzRnVuY3Rpb24oIHNwZWVkICkgJiYgc3BlZWQsXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxuXHRcdGVhc2luZzogZm4gJiYgZWFzaW5nIHx8IGVhc2luZyAmJiAhaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiApIHtcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xuXG5cdH0gZWxzZSB7XG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0aWYgKCBvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyApIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHMuX2RlZmF1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gTm9ybWFsaXplIG9wdC5xdWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gXCJmeFwiXG5cdGlmICggb3B0LnF1ZXVlID09IG51bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkge1xuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcblx0fVxuXG5cdC8vIFF1ZXVlaW5nXG5cdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XG5cblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0ZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQsIHRvLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFwib3BhY2l0eVwiLCAwICkuc2hvdygpXG5cblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxuXHRcdFx0LmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIHByb3Agc28gcGVyLXByb3BlcnR5IGVhc2luZyB3b24ndCBiZSBsb3N0XG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcblxuXHRcdFx0XHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcblx0XHRcdFx0XHRhbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRvQW5pbWF0aW9uLmZpbmlzaCA9IGRvQW5pbWF0aW9uO1xuXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcblx0XHRcdHRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTtcblx0fSxcblx0c3RvcDogZnVuY3Rpb24oIHR5cGUsIGNsZWFyUXVldWUsIGdvdG9FbmQgKSB7XG5cdFx0dmFyIHN0b3BRdWV1ZSA9IGZ1bmN0aW9uKCBob29rcyApIHtcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xuXHRcdFx0c3RvcCggZ290b0VuZCApO1xuXHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XG5cdFx0XHRjbGVhclF1ZXVlID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggY2xlYXJRdWV1ZSAmJiB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxuXHRcdFx0XHRpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBlICsgXCJxdWV1ZUhvb2tzXCIsXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcblxuXHRcdFx0aWYgKCBpbmRleCApIHtcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcblx0XHRcdFx0XHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXG5cdFx0XHRcdFx0KCB0eXBlID09IG51bGwgfHwgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkgKSB7XG5cblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XG5cdFx0XHRcdFx0ZGVxdWV1ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cblx0XHRcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcblx0XHRcdC8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0aGV5IHdlcmUgZ290b0VuZC5cblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKSxcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXG5cdFx0XHRcdGhvb2tzID0gZGF0YVsgdHlwZSArIFwicXVldWVIb29rc1wiIF0sXG5cdFx0XHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnMsXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcblxuXHRcdFx0Ly8gRW5hYmxlIGZpbmlzaGluZyBmbGFnIG9uIHByaXZhdGUgZGF0YVxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xuXG5cdFx0XHQvLyBFbXB0eSB0aGUgcXVldWUgZmlyc3Rcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcblxuXHRcdFx0aWYgKCBob29rcyAmJiBob29rcy5zdG9wICkge1xuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBdLnF1ZXVlID09PSB0eXBlICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcblx0XHRcdFx0XHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXG5cdFx0XHRkZWxldGUgZGF0YS5maW5pc2g7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGNzc0ZuID0galF1ZXJ5LmZuWyBuYW1lIF07XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xuXHRcdFx0Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDpcblx0XHRcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goIHtcblx0c2xpZGVEb3duOiBnZW5GeCggXCJzaG93XCIgKSxcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXG5cdHNsaWRlVG9nZ2xlOiBnZW5GeCggXCJ0b2dnbGVcIiApLFxuXHRmYWRlSW46IHsgb3BhY2l0eTogXCJzaG93XCIgfSxcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxuXHRmYWRlVG9nZ2xlOiB7IG9wYWNpdHk6IFwidG9nZ2xlXCIgfVxufSwgZnVuY3Rpb24oIG5hbWUsIHByb3BzICkge1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LnRpbWVycyA9IFtdO1xualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcblx0dmFyIHRpbWVyLFxuXHRcdGkgPSAwLFxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XG5cblx0ZnhOb3cgPSBEYXRlLm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXG5cdFx0Ly8gUnVuIHRoZSB0aW1lciBhbmQgc2FmZWx5IHJlbW92ZSBpdCB3aGVuIGRvbmUgKGFsbG93aW5nIGZvciBleHRlcm5hbCByZW1vdmFsKVxuXHRcdGlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkge1xuXHRcdFx0dGltZXJzLnNwbGljZSggaS0tLCAxICk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhdGltZXJzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZnguc3RvcCgpO1xuXHR9XG5cdGZ4Tm93ID0gdW5kZWZpbmVkO1xufTtcblxualF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xuXHRqUXVlcnkudGltZXJzLnB1c2goIHRpbWVyICk7XG5cdGpRdWVyeS5meC5zdGFydCgpO1xufTtcblxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XG5qUXVlcnkuZnguc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCBpblByb2dyZXNzICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGluUHJvZ3Jlc3MgPSB0cnVlO1xuXHRzY2hlZHVsZSgpO1xufTtcblxualF1ZXJ5LmZ4LnN0b3AgPSBmdW5jdGlvbigpIHtcblx0aW5Qcm9ncmVzcyA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuXHRzbG93OiA2MDAsXG5cdGZhc3Q6IDIwMCxcblxuXHQvLyBEZWZhdWx0IHNwZWVkXG5cdF9kZWZhdWx0OiA0MDBcbn07XG5cblxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxuLy8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTAwMzI0MDE0NzQ3L2h0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHR0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuXHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcblx0XHR2YXIgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCBuZXh0LCB0aW1lICk7XG5cdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dCApO1xuXHRcdH07XG5cdH0gKTtcbn07XG5cblxuKCBmdW5jdGlvbigpIHtcblx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICksXG5cdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxuXHRcdG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJvcHRpb25cIiApICk7XG5cblx0aW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4zIG9ubHlcblx0Ly8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXG5cdHN1cHBvcnQuY2hlY2tPbiA9IGlucHV0LnZhbHVlICE9PSBcIlwiO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBNdXN0IGFjY2VzcyBzZWxlY3RlZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdFxuXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHQvLyBBbiBpbnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpb1xuXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xuXHRpbnB1dC52YWx1ZSA9IFwidFwiO1xuXHRpbnB1dC50eXBlID0gXCJyYWRpb1wiO1xuXHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XG59ICkoKTtcblxuXG52YXIgYm9vbEhvb2ssXG5cdGF0dHJIYW5kbGUgPSBqUXVlcnkuZXhwci5hdHRySGFuZGxlO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnByb3AoIGVsZW0sIG5hbWUsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2UgdmVyc2lvblxuXHRcdC8vIEdyYWIgbmVjZXNzYXJ5IGhvb2sgaWYgb25lIGlzIGRlZmluZWRcblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0KCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnRlc3QoIG5hbWUgKSA/IGJvb2xIb29rIDogdW5kZWZpbmVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcblx0XHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUgKyBcIlwiICk7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0Ly8gTm9uLWV4aXN0ZW50IGF0dHJpYnV0ZXMgcmV0dXJuIG51bGwsIHdlIG5vcm1hbGl6ZSB0byB1bmRlZmluZWRcblx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XG5cdH0sXG5cblx0YXR0ckhvb2tzOiB7XG5cdFx0dHlwZToge1xuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXG5cdFx0XHRcdFx0bm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0dmFyIG5hbWUsXG5cdFx0XHRpID0gMCxcblxuXHRcdFx0Ly8gQXR0cmlidXRlIG5hbWVzIGNhbiBjb250YWluIG5vbi1IVE1MIHdoaXRlc3BhY2UgY2hhcmFjdGVyc1xuXHRcdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXG5cdFx0aWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIb29rcyBmb3IgYm9vbGVhbiBhdHRyaWJ1dGVzXG5ib29sSG9vayA9IHtcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XG5cdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xuXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcblxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHJldCwgaGFuZGxlLFxuXHRcdFx0bG93ZXJjYXNlTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdGlmICggIWlzWE1MICkge1xuXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXG5cdFx0XHRoYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XG5cdFx0XHRcdGxvd2VyY2FzZU5hbWUgOlxuXHRcdFx0XHRudWxsO1xuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0O1xuXHR9O1xufSApO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXG5cdHJjbGlja2FibGUgPSAvXig/OmF8YXJlYSkkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0cHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5wcm9wLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVQcm9wOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGRlbGV0ZSB0aGlzWyBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0dmFyIHJldCwgaG9va3MsXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0XHQvLyBEb24ndCBnZXQvc2V0IHByb3BlcnRpZXMgb24gdGV4dCwgY29tbWVudCBhbmQgYXR0cmlidXRlIG5vZGVzXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xuXHRcdFx0bmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LnByb3BIb29rc1sgbmFtZSBdO1xuXHRcdH1cblxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmICggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkgKSAhPT0gbnVsbCApIHtcblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XG5cdFx0XHRcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcblx0XHRcdFx0Ly8gaHR0cHM6Ly93ZWIuYXJjaGl2ZS5vcmcvd2ViLzIwMTQxMTE2MjMzMzQ3L2h0dHA6Ly9mbHVpZHByb2plY3Qub3JnL2Jsb2cvMjAwOC8wMS8wOS9nZXR0aW5nLXNldHRpbmctYW5kLXJlbW92aW5nLXRhYmluZGV4LXZhbHVlcy13aXRoLWphdmFzY3JpcHQvXG5cdFx0XHRcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xuXG5cdFx0XHRcdGlmICggdGFiaW5kZXggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRyZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fFxuXHRcdFx0XHRcdHJjbGlja2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApICYmXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRwcm9wRml4OiB7XG5cdFx0XCJmb3JcIjogXCJodG1sRm9yXCIsXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXG5cdH1cbn0gKTtcblxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG4vLyBBY2Nlc3NpbmcgdGhlIHNlbGVjdGVkSW5kZXggcHJvcGVydHlcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcbi8vIG9uIHRoZSBvcHRpb25cbi8vIFRoZSBnZXR0ZXIgZW5zdXJlcyBhIGRlZmF1bHQgb3B0aW9uIGlzIHNlbGVjdGVkXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXG4vLyBlc2xpbnQgcnVsZSBcIm5vLXVudXNlZC1leHByZXNzaW9uc1wiIGlzIGRpc2FibGVkIGZvciB0aGlzIGNvZGVcbi8vIHNpbmNlIGl0IGNvbnNpZGVycyBzdWNoIGFjY2Vzc2lvbnMgbm9vcFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcblx0alF1ZXJ5LnByb3BIb29rcy5zZWxlY3RlZCA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH0sXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblxuXHRcdFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXCJvZmZcIiAqL1xuXG5cdFx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xuXG5cdFx0XHRcdGlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goIFtcblx0XCJ0YWJJbmRleFwiLFxuXHRcInJlYWRPbmx5XCIsXG5cdFwibWF4TGVuZ3RoXCIsXG5cdFwiY2VsbFNwYWNpbmdcIixcblx0XCJjZWxsUGFkZGluZ1wiLFxuXHRcInJvd1NwYW5cIixcblx0XCJjb2xTcGFuXCIsXG5cdFwidXNlTWFwXCIsXG5cdFwiZnJhbWVCb3JkZXJcIixcblx0XCJjb250ZW50RWRpdGFibGVcIlxuXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS5wcm9wRml4WyB0aGlzLnRvTG93ZXJDYXNlKCkgXSA9IHRoaXM7XG59ICk7XG5cblxuXG5cblx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2UgYWNjb3JkaW5nIHRvIEhUTUwgc3BlY1xuXHQvLyBodHRwczovL2luZnJhLnNwZWMud2hhdHdnLm9yZy8jc3RyaXAtYW5kLWNvbGxhcHNlLWFzY2lpLXdoaXRlc3BhY2Vcblx0ZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7XG5cdFx0dmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdFx0cmV0dXJuIHRva2Vucy5qb2luKCBcIiBcIiApO1xuXHR9XG5cblxuZnVuY3Rpb24gZ2V0Q2xhc3MoIGVsZW0gKSB7XG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcbn1cblxuZnVuY3Rpb24gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICkge1xuXHRpZiAoIEFycmF5LmlzQXJyYXkoIHZhbHVlICkgKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXHR9XG5cdHJldHVybiBbXTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRjbGFzc2VzID0gY2xhc3Nlc1RvQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIGNsYXNzZXMubGVuZ3RoICkge1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0cmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRpID0gMDtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5yZW1vdmVDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblxuXHRcdFx0XHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxuXHRcdFx0XHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXCIgXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXCIgXCIgKTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xuXHRcdFx0XHRcdGlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7XG5cdFx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLCBmaW5hbFZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUsXG5cdFx0XHRpc1ZhbGlkVmFsdWUgPSB0eXBlID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoIHZhbHVlICk7XG5cblx0XHRpZiAoIHR5cGVvZiBzdGF0ZVZhbCA9PT0gXCJib29sZWFuXCIgJiYgaXNWYWxpZFZhbHVlICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3MoIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICksIHN0YXRlVmFsICksXG5cdFx0XHRcdFx0c3RhdGVWYWxcblx0XHRcdFx0KTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XG5cblx0XHRcdGlmICggaXNWYWxpZFZhbHVlICkge1xuXG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0XHRzZWxmID0galF1ZXJ5KCB0aGlzICk7XG5cdFx0XHRcdGNsYXNzTmFtZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdFx0XHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0XHRjbGFzc05hbWUgPSBnZXRDbGFzcyggdGhpcyApO1xuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblxuXHRcdFx0XHRcdC8vIFN0b3JlIGNsYXNzTmFtZSBpZiBzZXRcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXG5cdFx0XHRcdC8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUgKGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuXG5cdFx0XHRcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cblx0XHRcdFx0aWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHtcblx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSggXCJjbGFzc1wiLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XG5cdFx0XHRcdFx0XHRcIlwiIDpcblx0XHRcdFx0XHRcdGRhdGFQcml2LmdldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIgKSB8fCBcIlwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBjbGFzc05hbWUsIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGNsYXNzTmFtZSA9IFwiIFwiICsgc2VsZWN0b3IgKyBcIiBcIjtcblx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdFx0KCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFwiIFwiICkuaW5kZXhPZiggY2xhc3NOYW1lICkgPiAtMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIHJyZXR1cm4gPSAvXFxyL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0dmFsOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGhvb2tzLCByZXQsIHZhbHVlSXNGdW5jdGlvbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCBlbGVtICkge1xuXHRcdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHxcblx0XHRcdFx0XHRqUXVlcnkudmFsSG9va3NbIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHRcdGlmICggaG9va3MgJiZcblx0XHRcdFx0XHRcImdldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApICkgIT09IHVuZGVmaW5lZFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0ID0gZWxlbS52YWx1ZTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG5cdFx0XHRcdGlmICggdHlwZW9mIHJldCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0XHRyZXR1cm4gcmV0LnJlcGxhY2UoIHJyZXR1cm4sIFwiXCIgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFsdWVJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0dmFyIHZhbDtcblxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsdWVJc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0dmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKyBcIlwiO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHQvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHR0aGlzLnZhbHVlID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHZhbEhvb2tzOiB7XG5cdFx0b3B0aW9uOiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbCAhPSBudWxsID9cblx0XHRcdFx0XHR2YWwgOlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHlcblx0XHRcdFx0XHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXG5cdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2Vcblx0XHRcdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxuXHRcdFx0XHRcdHN0cmlwQW5kQ29sbGFwc2UoIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sIGksXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiLFxuXHRcdFx0XHRcdHZhbHVlcyA9IG9uZSA/IG51bGwgOiBbXSxcblx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHRpZiAoIGluZGV4IDwgMCApIHtcblx0XHRcdFx0XHRpID0gbWF4O1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aSA9IG9uZSA/IGluZGV4IDogMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcblx0XHRcdFx0XHQvLyBJRTgtOSBkb2Vzbid0IHVwZGF0ZSBzZWxlY3RlZCBhZnRlciBmb3JtIHJlc2V0ICgjMjU1MSlcblx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcblxuXHRcdFx0XHRcdFx0XHQvLyBEb24ndCByZXR1cm4gb3B0aW9ucyB0aGF0IGFyZSBkaXNhYmxlZCBvciBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXG5cdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcblx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHxcblx0XHRcdFx0XHRcdFx0XHQhbm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcIm9wdGdyb3VwXCIgKSApICkge1xuXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IGpRdWVyeSggb3B0aW9uICkudmFsKCk7XG5cblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXG5cdFx0XHRcdFx0XHRpZiAoIG9uZSApIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgb3B0aW9uU2V0LCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHR2YWx1ZXMgPSBqUXVlcnkubWFrZUFycmF5KCB2YWx1ZSApLFxuXHRcdFx0XHRcdGkgPSBvcHRpb25zLmxlbmd0aDtcblxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xuXG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxuXHRcdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGpRdWVyeS52YWxIb29rcy5vcHRpb24uZ2V0KCBvcHRpb24gKSwgdmFsdWVzICkgPiAtMVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxuXHRcdFx0XHRpZiAoICFvcHRpb25TZXQgKSB7XG5cdFx0XHRcdFx0ZWxlbS5zZWxlY3RlZEluZGV4ID0gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKCBbIFwicmFkaW9cIiwgXCJjaGVja2JveFwiIF0sIGZ1bmN0aW9uKCkge1xuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcblx0XHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXS5nZXQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IG51bGwgPyBcIm9uXCIgOiBlbGVtLnZhbHVlO1xuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxuLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5IGluY2x1c2lvblxuXG5cbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbnZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxcblx0c3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbiggZSApIHtcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9O1xuXG5qUXVlcnkuZXh0ZW5kKCBqUXVlcnkuZXZlbnQsIHtcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHtcblxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsIGxhc3RFbGVtZW50LFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcIi5cIiApIDogW107XG5cblx0XHRjdXIgPSBsYXN0RWxlbWVudCA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xuXG5cdFx0Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcblx0XHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlLmluZGV4T2YoIFwiLlwiICkgPiAtMSApIHtcblxuXHRcdFx0Ly8gTmFtZXNwYWNlZCB0cmlnZ2VyOyBjcmVhdGUgYSByZWdleHAgdG8gbWF0Y2ggZXZlbnQgdHlwZSBpbiBoYW5kbGUoKVxuXHRcdFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFwiLlwiICk7XG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xuXHRcdFx0bmFtZXNwYWNlcy5zb3J0KCk7XG5cdFx0fVxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xuXHRcdGV2ZW50LnJuYW1lc3BhY2UgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbiggXCJcXFxcLig/Oi4qXFxcXC58KVwiICkgKyBcIihcXFxcLnwkKVwiICkgOlxuXHRcdFx0bnVsbDtcblxuXHRcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcblx0XHRpZiAoICFldmVudC50YXJnZXQgKSB7XG5cdFx0XHRldmVudC50YXJnZXQgPSBlbGVtO1xuXHRcdH1cblxuXHRcdC8vIENsb25lIGFueSBpbmNvbWluZyBkYXRhIGFuZCBwcmVwZW5kIHRoZSBldmVudCwgY3JlYXRpbmcgdGhlIGhhbmRsZXIgYXJnIGxpc3Rcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cblx0XHRcdFsgZXZlbnQgXSA6XG5cdFx0XHRqUXVlcnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTtcblxuXHRcdC8vIEFsbG93IHNwZWNpYWwgZXZlbnRzIHRvIGRyYXcgb3V0c2lkZSB0aGUgbGluZXNcblx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgZXZlbnQgcHJvcGFnYXRpb24gcGF0aCBpbiBhZHZhbmNlLCBwZXIgVzNDIGV2ZW50cyBzcGVjICgjOTk1MSlcblx0XHQvLyBCdWJibGUgdXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJEb2N1bWVudCB2YXIgKCM5NzI0KVxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0YnViYmxlVHlwZSA9IHNwZWNpYWwuZGVsZWdhdGVUeXBlIHx8IHR5cGU7XG5cdFx0XHRpZiAoICFyZm9jdXNNb3JwaC50ZXN0KCBidWJibGVUeXBlICsgdHlwZSApICkge1xuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xuXHRcdFx0XHR0bXAgPSBjdXI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9ubHkgYWRkIHdpbmRvdyBpZiB3ZSBnb3QgdG8gZG9jdW1lbnQgKGUuZy4sIG5vdCBwbGFpbiBvYmogb3IgZGV0YWNoZWQgRE9NKVxuXHRcdFx0aWYgKCB0bXAgPT09ICggZWxlbS5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50ICkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdGxhc3RFbGVtZW50ID0gY3VyO1xuXHRcdFx0ZXZlbnQudHlwZSA9IGkgPiAxID9cblx0XHRcdFx0YnViYmxlVHlwZSA6XG5cdFx0XHRcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcblxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiZcblx0XHRcdFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFwiaGFuZGxlXCIgKTtcblx0XHRcdGlmICggaGFuZGxlICkge1xuXHRcdFx0XHRoYW5kbGUuYXBwbHkoIGN1ciwgZGF0YSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBOYXRpdmUgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gb250eXBlICYmIGN1clsgb250eXBlIF07XG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XG5cdFx0XHRcdGV2ZW50LnJlc3VsdCA9IGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHRcdGlmICggZXZlbnQucmVzdWx0ID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xuXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7XG5cblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxuXHRcdFx0XHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxuXHRcdFx0XHRhY2NlcHREYXRhKCBlbGVtICkgKSB7XG5cblx0XHRcdFx0Ly8gQ2FsbCBhIG5hdGl2ZSBET00gbWV0aG9kIG9uIHRoZSB0YXJnZXQgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0Ly8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBpc0Z1bmN0aW9uKCBlbGVtWyB0eXBlIF0gKSAmJiAhaXNXaW5kb3coIGVsZW0gKSApIHtcblxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2Rcblx0XHRcdFx0XHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcblxuXHRcdFx0XHRcdGlmICggdG1wICkge1xuXHRcdFx0XHRcdFx0ZWxlbVsgb250eXBlIF0gPSBudWxsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGVsZW1bIHR5cGUgXSgpO1xuXG5cdFx0XHRcdFx0aWYgKCBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0XHRcdFx0bGFzdEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgc3RvcFByb3BhZ2F0aW9uQ2FsbGJhY2sgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxuXHQvLyBVc2VkIG9ubHkgZm9yIGBmb2N1cyhpbiB8IG91dClgIGV2ZW50c1xuXHRzaW11bGF0ZTogZnVuY3Rpb24oIHR5cGUsIGVsZW0sIGV2ZW50ICkge1xuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoKSxcblx0XHRcdGV2ZW50LFxuXHRcdFx0e1xuXHRcdFx0XHR0eXBlOiB0eXBlLFxuXHRcdFx0XHRpc1NpbXVsYXRlZDogdHJ1ZVxuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xuXHR9XG5cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9ICk7XG5cdH0sXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuXG4vLyBTdXBwb3J0OiBGaXJlZm94IDw9NDRcbi8vIEZpcmVmb3ggZG9lc24ndCBoYXZlIGZvY3VzKGluIHwgb3V0KSBldmVudHNcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XG4vL1xuLy8gU3VwcG9ydDogQ2hyb21lIDw9NDggLSA0OSwgU2FmYXJpIDw9OS4wIC0gOS4xXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcbi8vIHdoaWNoIGlzIHNwZWMgdmlvbGF0aW9uIC0gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLyNldmVudHMtZm9jdXNldmVudC1ldmVudC1vcmRlclxuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDk4NTdcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcblx0alF1ZXJ5LmVhY2goIHsgZm9jdXM6IFwiZm9jdXNpblwiLCBibHVyOiBcImZvY3Vzb3V0XCIgfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XG5cdFx0dmFyIGhhbmRsZXIgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XG5cdFx0fTtcblxuXHRcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXggXSA9IHtcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgKCBhdHRhY2hlcyB8fCAwICkgKyAxICk7XG5cdFx0XHR9LFxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gKTtcbn1cbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcblxudmFyIG5vbmNlID0gRGF0ZS5ub3coKTtcblxudmFyIHJxdWVyeSA9ICggL1xcPy8gKTtcblxuXG5cbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcbmpRdWVyeS5wYXJzZVhNTCA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHR2YXIgeG1sO1xuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcblx0Ly8gSUUgdGhyb3dzIG9uIHBhcnNlRnJvbVN0cmluZyB3aXRoIGludmFsaWQgaW5wdXQuXG5cdHRyeSB7XG5cdFx0eG1sID0gKCBuZXcgd2luZG93LkRPTVBhcnNlcigpICkucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgYXJyYXkgaXRlbS5cblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcblx0XHRcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XG5cblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBudW1lcmljIGluZGV4LlxuXHRcdFx0XHRidWlsZFBhcmFtcyhcblx0XHRcdFx0XHRwcmVmaXggKyBcIltcIiArICggdHlwZW9mIHYgPT09IFwib2JqZWN0XCIgJiYgdiAhPSBudWxsID8gaSA6IFwiXCIgKSArIFwiXVwiLFxuXHRcdFx0XHRcdHYsXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXG5cdFx0XHRcdFx0YWRkXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiB0b1R5cGUoIG9iaiApID09PSBcIm9iamVjdFwiICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxuXHRcdGFkZCggcHJlZml4LCBvYmogKTtcblx0fVxufVxuXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXG5qUXVlcnkucGFyYW0gPSBmdW5jdGlvbiggYSwgdHJhZGl0aW9uYWwgKSB7XG5cdHZhciBwcmVmaXgsXG5cdFx0cyA9IFtdLFxuXHRcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcblxuXHRcdFx0Ly8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwgaW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZVxuXHRcdFx0dmFyIHZhbHVlID0gaXNGdW5jdGlvbiggdmFsdWVPckZ1bmN0aW9uICkgP1xuXHRcdFx0XHR2YWx1ZU9yRnVuY3Rpb24oKSA6XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcblxuXHRcdFx0c1sgcy5sZW5ndGggXSA9IGVuY29kZVVSSUNvbXBvbmVudCgga2V5ICkgKyBcIj1cIiArXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xuXHRcdH07XG5cblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXG5cdFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xuXHRcdFx0YWRkKCB0aGlzLm5hbWUsIHRoaXMudmFsdWUgKTtcblx0XHR9ICk7XG5cblx0fSBlbHNlIHtcblxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXG5cdFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXG5cdFx0Zm9yICggcHJlZml4IGluIGEgKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cblx0cmV0dXJuIHMuam9pbiggXCImXCIgKTtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5LnBhcmFtKCB0aGlzLnNlcmlhbGl6ZUFycmF5KCkgKTtcblx0fSxcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcblx0XHRcdHZhciBlbGVtZW50cyA9IGpRdWVyeS5wcm9wKCB0aGlzLCBcImVsZW1lbnRzXCIgKTtcblx0XHRcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xuXHRcdH0gKVxuXHRcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLnR5cGU7XG5cblx0XHRcdC8vIFVzZSAuaXMoIFwiOmRpc2FibGVkXCIgKSBzbyB0aGF0IGZpZWxkc2V0W2Rpc2FibGVkXSB3b3Jrc1xuXHRcdFx0cmV0dXJuIHRoaXMubmFtZSAmJiAhalF1ZXJ5KCB0aGlzICkuaXMoIFwiOmRpc2FibGVkXCIgKSAmJlxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXG5cdFx0XHRcdCggdGhpcy5jaGVja2VkIHx8ICFyY2hlY2thYmxlVHlwZS50ZXN0KCB0eXBlICkgKTtcblx0XHR9IClcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0gKS5nZXQoKTtcblx0fVxufSApO1xuXG5cbnZhclxuXHRyMjAgPSAvJTIwL2csXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxuXHRyaGVhZGVycyA9IC9eKC4qPyk6WyBcXHRdKihbXlxcclxcbl0qKSQvbWcsXG5cblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cblx0LyogUHJlZmlsdGVyc1xuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxuXHQgKiAyKSBUaGVzZSBhcmUgY2FsbGVkOlxuXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcblx0ICogMykga2V5IGlzIHRoZSBkYXRhVHlwZVxuXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFwiKlwiIGNhbiBiZSB1c2VkXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHRwcmVmaWx0ZXJzID0ge30sXG5cblx0LyogVHJhbnNwb3J0cyBiaW5kaW5nc1xuXHQgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXCIqXCIgaWYgbmVlZGVkXG5cdCAqL1xuXHR0cmFuc3BvcnRzID0ge30sXG5cblx0Ly8gQXZvaWQgY29tbWVudC1wcm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRlIGNvbXByZXNzaW9uXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcblxuXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcblx0b3JpZ2luQW5jaG9yLmhyZWYgPSBsb2NhdGlvbi5ocmVmO1xuXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcblxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXG5cdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcblx0XHRcdGRhdGFUeXBlRXhwcmVzc2lvbiA9IFwiKlwiO1xuXHRcdH1cblxuXHRcdHZhciBkYXRhVHlwZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0ZGF0YVR5cGVzID0gZGF0YVR5cGVFeHByZXNzaW9uLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblxuXHRcdGlmICggaXNGdW5jdGlvbiggZnVuYyApICkge1xuXG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7XG5cblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcIitcIiApIHtcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS51bnNoaWZ0KCBmdW5jICk7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCggc3RydWN0dXJlWyBkYXRhVHlwZSBdID0gc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdICkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cblx0XHRcdFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoIHNlZWtpbmdUcmFuc3BvcnQgKSB7XG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XG5cdFx0fVxuXHR9XG5cdGlmICggZGVlcCApIHtcblx0XHRqUXVlcnkuZXh0ZW5kKCB0cnVlLCB0YXJnZXQsIGRlZXAgKTtcblx0fVxuXG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qIEhhbmRsZXMgcmVzcG9uc2VzIHRvIGFuIGFqYXggcmVxdWVzdDpcbiAqIC0gZmluZHMgdGhlIHJpZ2h0IGRhdGFUeXBlIChtZWRpYXRlcyBiZXR3ZWVuIGNvbnRlbnQtdHlwZSBhbmQgZXhwZWN0ZWQgZGF0YVR5cGUpXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcbiAqL1xuZnVuY3Rpb24gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApIHtcblxuXHR2YXIgY3QsIHR5cGUsIGZpbmFsRGF0YVR5cGUsIGZpcnN0RGF0YVR5cGUsXG5cdFx0Y29udGVudHMgPSBzLmNvbnRlbnRzLFxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xuXG5cdC8vIFJlbW92ZSBhdXRvIGRhdGFUeXBlIGFuZCBnZXQgY29udGVudC10eXBlIGluIHRoZSBwcm9jZXNzXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xuXHRcdGRhdGFUeXBlcy5zaGlmdCgpO1xuXHRcdGlmICggY3QgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxuXHRpZiAoIGN0ICkge1xuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XG5cdFx0XHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xuXHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDaGVjayB0byBzZWUgaWYgd2UgaGF2ZSBhIHJlc3BvbnNlIGZvciB0aGUgZXhwZWN0ZWQgZGF0YVR5cGVcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XG5cdFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xuXHRcdFx0XHRmaW5hbERhdGFUeXBlID0gdHlwZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoICFmaXJzdERhdGFUeXBlICkge1xuXHRcdFx0XHRmaXJzdERhdGFUeXBlID0gdHlwZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcblx0XHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xuXHR9XG5cblx0Ly8gSWYgd2UgZm91bmQgYSBkYXRhVHlwZVxuXHQvLyBXZSBhZGQgdGhlIGRhdGFUeXBlIHRvIHRoZSBsaXN0IGlmIG5lZWRlZFxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG5cdGlmICggZmluYWxEYXRhVHlwZSApIHtcblx0XHRpZiAoIGZpbmFsRGF0YVR5cGUgIT09IGRhdGFUeXBlc1sgMCBdICkge1xuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xuXHR9XG59XG5cbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XG5cdHZhciBjb252MiwgY3VycmVudCwgY29udiwgdG1wLCBwcmV2LFxuXHRcdGNvbnZlcnRlcnMgPSB7fSxcblxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xuXHRcdFx0aWYgKCBjdXJyZW50ID09PSBcIipcIiApIHtcblxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcblxuXHRcdFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcblxuXHRcdFx0XHQvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcblxuXHRcdFx0XHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xuXHRcdFx0XHRcdGZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7XG5cblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxuXHRcdFx0XHRcdFx0dG1wID0gY29udjIuc3BsaXQoIFwiIFwiICk7XG5cdFx0XHRcdFx0XHRpZiAoIHRtcFsgMSBdID09PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dFxuXHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgdG1wWyAwIF0gXSB8fFxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XG5cdFx0XHRcdFx0XHRcdGlmICggY29udiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgPT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE90aGVyd2lzZSwgaW5zZXJ0IHRoZSBpbnRlcm1lZGlhdGUgZGF0YVR5cGVcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBjb252ZXJ0ZXJzWyBjb252MiBdICE9PSB0cnVlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXG5cdFx0XHRcdGlmICggY29udiAhPT0gdHJ1ZSApIHtcblxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cblx0XHRcdFx0XHRpZiAoIGNvbnYgJiYgcy50aHJvd3MgKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0YXRlOiBcInBhcnNlcmVycm9yXCIsXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXG5cdGFjdGl2ZTogMCxcblxuXHQvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0XG5cdGxhc3RNb2RpZmllZDoge30sXG5cdGV0YWc6IHt9LFxuXG5cdGFqYXhTZXR0aW5nczoge1xuXHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXG5cdFx0Lypcblx0XHR0aW1lb3V0OiAwLFxuXHRcdGRhdGE6IG51bGwsXG5cdFx0ZGF0YVR5cGU6IG51bGwsXG5cdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0Y2FjaGU6IG51bGwsXG5cdFx0dGhyb3dzOiBmYWxzZSxcblx0XHR0cmFkaXRpb25hbDogZmFsc2UsXG5cdFx0aGVhZGVyczoge30sXG5cdFx0Ki9cblxuXHRcdGFjY2VwdHM6IHtcblx0XHRcdFwiKlwiOiBhbGxUeXBlcyxcblx0XHRcdHRleHQ6IFwidGV4dC9wbGFpblwiLFxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcblx0XHRcdHhtbDogXCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsXG5cdFx0XHRqc29uOiBcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwiXG5cdFx0fSxcblxuXHRcdGNvbnRlbnRzOiB7XG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxuXHRcdFx0aHRtbDogL1xcYmh0bWwvLFxuXHRcdFx0anNvbjogL1xcYmpzb25cXGIvXG5cdFx0fSxcblxuXHRcdHJlc3BvbnNlRmllbGRzOiB7XG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcblx0XHRcdHRleHQ6IFwicmVzcG9uc2VUZXh0XCIsXG5cdFx0XHRqc29uOiBcInJlc3BvbnNlSlNPTlwiXG5cdFx0fSxcblxuXHRcdC8vIERhdGEgY29udmVydGVyc1xuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2Vcblx0XHRjb252ZXJ0ZXJzOiB7XG5cblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxuXHRcdFx0XCIqIHRleHRcIjogU3RyaW5nLFxuXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcblx0XHRcdFwidGV4dCBodG1sXCI6IHRydWUsXG5cblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cblx0XHRcdFwidGV4dCBqc29uXCI6IEpTT04ucGFyc2UsXG5cblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXG5cdFx0XHRcInRleHQgeG1sXCI6IGpRdWVyeS5wYXJzZVhNTFxuXHRcdH0sXG5cblx0XHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxuXHRcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxuXHRcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxuXHRcdGZsYXRPcHRpb25zOiB7XG5cdFx0XHR1cmw6IHRydWUsXG5cdFx0XHRjb250ZXh0OiB0cnVlXG5cdFx0fVxuXHR9LFxuXG5cdC8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0IGludG8gdGFyZ2V0XG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cblx0Ly8gSWYgdGFyZ2V0IGlzIG9taXR0ZWQsIHdyaXRlcyBpbnRvIGFqYXhTZXR0aW5ncy5cblx0YWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHtcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xuXG5cdFx0XHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxuXG5cdFx0XHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcblx0fSxcblxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcblx0YWpheFRyYW5zcG9ydDogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCB0cmFuc3BvcnRzICksXG5cblx0Ly8gTWFpbiBtZXRob2Rcblx0YWpheDogZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHtcblxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXG5cdFx0aWYgKCB0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3B0aW9ucyA9IHVybDtcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxuXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdFx0dmFyIHRyYW5zcG9ydCxcblxuXHRcdFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxuXHRcdFx0Y2FjaGVVUkwsXG5cblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcblx0XHRcdHRpbWVvdXRUaW1lcixcblxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXG5cdFx0XHR1cmxBbmNob3IsXG5cblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcblx0XHRcdGNvbXBsZXRlZCxcblxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxuXHRcdFx0aSxcblxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXG5cdFx0XHR1bmNhY2hlZCxcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxuXHRcdFx0cyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksXG5cblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxuXHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0ID0gcy5jb250ZXh0ICYmXG5cdFx0XHRcdCggY2FsbGJhY2tDb250ZXh0Lm5vZGVUeXBlIHx8IGNhbGxiYWNrQ29udGV4dC5qcXVlcnkgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXG5cdFx0XHQvLyBEZWZlcnJlZHNcblx0XHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkID0galF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXG5cdFx0XHQvLyBIZWFkZXJzICh0aGV5IGFyZSBzZW50IGFsbCBhdCBvbmNlKVxuXHRcdFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcblxuXHRcdFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcblxuXHRcdFx0Ly8gRmFrZSB4aHJcblx0XHRcdGpxWEhSID0ge1xuXHRcdFx0XHRyZWFkeVN0YXRlOiAwLFxuXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcblx0XHRcdFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0XHRcdFx0dmFyIG1hdGNoO1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAhcmVzcG9uc2VIZWFkZXJzICkge1xuXHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRyZXNwb25zZUhlYWRlcnNbIG1hdGNoWyAxIF0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VIZWFkZXJzU3RyaW5nIDogbnVsbDtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYWNoZXMgdGhlIGhlYWRlclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XG5cdFx0XHRcdFx0XHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXG5cdFx0XHRcdG92ZXJyaWRlTWltZVR5cGU6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdGlmICggY29tcGxldGVkID09IG51bGwgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcblx0XHRcdFx0XHRcdFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XG5cblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyBcIlwiIClcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XG5cblx0XHQvLyBBbGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDRcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xuXG5cdFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXG5cdFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XG5cdFx0XHR1cmxBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0XHQvLyBJRSB0aHJvd3MgZXhjZXB0aW9uIG9uIGFjY2Vzc2luZyB0aGUgaHJlZiBwcm9wZXJ0eSBpZiB1cmwgaXMgbWFsZm9ybWVkLFxuXHRcdFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XG5cdFx0XHRcdC8vIEFuY2hvcidzIGhvc3QgcHJvcGVydHkgaXNuJ3QgY29ycmVjdGx5IHNldCB3aGVuIHMudXJsIGlzIHJlbGF0aXZlXG5cdFx0XHRcdHVybEFuY2hvci5ocmVmID0gdXJsQW5jaG9yLmhyZWY7XG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cblx0XHRcdFx0XHR1cmxBbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxBbmNob3IuaG9zdDtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxuXHRcdFx0XHQvLyBpdCBjYW4gYmUgcmVqZWN0ZWQgYnkgdGhlIHRyYW5zcG9ydCBpZiBpdCBpcyBpbnZhbGlkXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdHJldHVybiBqcVhIUjtcblx0XHR9XG5cblx0XHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xuXHRcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpXG5cdFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XG5cblx0XHQvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXG5cdFx0aWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RhcnRcIiApO1xuXHRcdH1cblxuXHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuXHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuXHRcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cblx0XHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcIlwiICk7XG5cblx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhlIGhhc2ggc28gd2UgY2FuIHB1dCBpdCBiYWNrXG5cdFx0XHR1bmNhY2hlZCA9IHMudXJsLnNsaWNlKCBjYWNoZVVSTC5sZW5ndGggKTtcblxuXHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUgYW5kIHNob3VsZCBiZSBwcm9jZXNzZWQsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0aWYgKCBzLmRhdGEgJiYgKCBzLnByb2Nlc3NEYXRhIHx8IHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgKSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgKz0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIHMuZGF0YTtcblxuXHRcdFx0XHQvLyAjOTY4MjogcmVtb3ZlIGRhdGEgc28gdGhhdCBpdCdzIG5vdCB1c2VkIGluIGFuIGV2ZW50dWFsIHJldHJ5XG5cdFx0XHRcdGRlbGV0ZSBzLmRhdGE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWRcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcmFudGlDYWNoZSwgXCIkMVwiICk7XG5cdFx0XHRcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArICggbm9uY2UrKyApICsgdW5jYWNoZWQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcblxuXHRcdC8vIENoYW5nZSAnJTIwJyB0byAnKycgaWYgdGhpcyBpcyBlbmNvZGVkIGZvcm0gYm9keSBjb250ZW50IChnaC0yNjU4KVxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXG5cdFx0XHQoIHMuY29udGVudFR5cGUgfHwgXCJcIiApLmluZGV4T2YoIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgKSA9PT0gMCApIHtcblx0XHRcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFwiK1wiICk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbIDAgXSBdID9cblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xuXHRcdFx0XHRcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xuXG5cdFx0XHQvLyBBYm9ydCBpZiBub3QgZG9uZSBhbHJlYWR5IGFuZCByZXR1cm5cblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xuXHRcdH1cblxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxuXHRcdHN0ckFib3J0ID0gXCJhYm9ydFwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXG5cdFx0Y29tcGxldGVEZWZlcnJlZC5hZGQoIHMuY29tcGxldGUgKTtcblx0XHRqcVhIUi5kb25lKCBzLnN1Y2Nlc3MgKTtcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhamF4U2VuZCwgc3RvcCB0aGVyZVxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybiBqcVhIUjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcblx0XHRcdFx0fSwgcy50aW1lb3V0ICk7XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbXBsZXRlZCA9IGZhbHNlO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcblx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByb3BhZ2F0ZSBvdGhlcnMgYXMgcmVzdWx0c1xuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGxiYWNrIGZvciB3aGVuIGV2ZXJ5dGhpbmcgaXMgZG9uZVxuXHRcdGZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2VzLCBoZWFkZXJzICkge1xuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcblx0XHRcdFx0c3RhdHVzVGV4dCA9IG5hdGl2ZVN0YXR1c1RleHQ7XG5cblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcblx0XHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbXBsZXRlZCA9IHRydWU7XG5cblx0XHRcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXG5cdFx0XHRpZiAoIHRpbWVvdXRUaW1lciApIHtcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXG5cdFx0XHQvLyAobm8gbWF0dGVyIGhvdyBsb25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKVxuXHRcdFx0dHJhbnNwb3J0ID0gdW5kZWZpbmVkO1xuXG5cdFx0XHQvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzXG5cdFx0XHRyZXNwb25zZUhlYWRlcnNTdHJpbmcgPSBoZWFkZXJzIHx8IFwiXCI7XG5cblx0XHRcdC8vIFNldCByZWFkeVN0YXRlXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xuXG5cdFx0XHQvLyBEZXRlcm1pbmUgaWYgc3VjY2Vzc2Z1bFxuXHRcdFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XG5cblx0XHRcdC8vIEdldCByZXNwb25zZSBkYXRhXG5cdFx0XHRpZiAoIHJlc3BvbnNlcyApIHtcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcblx0XHRcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XG5cblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdFx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdFx0XHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkxhc3QtTW9kaWZpZWRcIiApO1xuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0XHRqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1hYm9ydHNcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xuXHRcdFx0XHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJlcnJvclwiO1xuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcblx0XHRcdFx0XHRcdHN0YXR1cyA9IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XG5cdFx0XHRqcVhIUi5zdGF0dXMgPSBzdGF0dXM7XG5cdFx0XHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFwiXCI7XG5cblx0XHRcdC8vIFN1Y2Nlc3MvRXJyb3Jcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xuXHRcdFx0c3RhdHVzQ29kZSA9IHVuZGVmaW5lZDtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFwiYWpheFN1Y2Nlc3NcIiA6IFwiYWpheEVycm9yXCIsXG5cdFx0XHRcdFx0WyBqcVhIUiwgcywgaXNTdWNjZXNzID8gc3VjY2VzcyA6IGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29tcGxldGVcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcblxuXHRcdFx0XHQvLyBIYW5kbGUgdGhlIGdsb2JhbCBBSkFYIGNvdW50ZXJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggXCJhamF4U3RvcFwiICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcblx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xuXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGlzRnVuY3Rpb24oIGRhdGEgKSApIHtcblx0XHRcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xuXHRcdFx0Y2FsbGJhY2sgPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcblx0XHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9LCBqUXVlcnkuaXNQbGFpbk9iamVjdCggdXJsICkgJiYgdXJsICkgKTtcblx0fTtcbn0gKTtcblxuXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xuXHRyZXR1cm4galF1ZXJ5LmFqYXgoIHtcblx0XHR1cmw6IHVybCxcblxuXHRcdC8vIE1ha2UgdGhpcyBleHBsaWNpdCwgc2luY2UgdXNlciBjYW4gb3ZlcnJpZGUgdGhpcyB0aHJvdWdoIGFqYXhTZXR1cCAoIzExMjY0KVxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXG5cdFx0Y2FjaGU6IHRydWUsXG5cdFx0YXN5bmM6IGZhbHNlLFxuXHRcdGdsb2JhbDogZmFsc2UsXG5cdFx0XCJ0aHJvd3NcIjogdHJ1ZVxuXHR9ICk7XG59O1xuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIHRoaXNbIDAgXSApIHtcblx0XHRcdGlmICggaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0XHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcblx0XHRcdHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xuXG5cdFx0XHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XG5cdFx0XHR9XG5cblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGVsZW0gPSB0aGlzO1xuXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcblx0XHRcdFx0XHRlbGVtID0gZWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbGVtO1xuXHRcdFx0fSApLmFwcGVuZCggdGhpcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwoIHRoaXMsIGkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcblx0XHRcdFx0Y29udGVudHMgPSBzZWxmLmNvbnRlbnRzKCk7XG5cblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xuXHRcdFx0XHRjb250ZW50cy53cmFwQWxsKCBodG1sICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlbGYuYXBwZW5kKCBodG1sICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHZhciBodG1sSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIGh0bWwgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaHRtbElzRnVuY3Rpb24gPyBodG1sLmNhbGwoIHRoaXMsIGkgKSA6IGh0bWwgKTtcblx0XHR9ICk7XG5cdH0sXG5cblx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcImJvZHlcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVwbGFjZVdpdGgoIHRoaXMuY2hpbGROb2RlcyApO1xuXHRcdH0gKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufSApO1xuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlKCBlbGVtICk7XG59O1xualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7XG59O1xuXG5cblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XG5cdH0gY2F0Y2ggKCBlICkge31cbn07XG5cbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xuXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcblx0XHQwOiAyMDAsXG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdC8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAxMjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNFxuXHRcdDEyMjM6IDIwNFxuXHR9LFxuXHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xuXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XG5zdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHR2YXIgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2s7XG5cblx0Ly8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxuXHRpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9wdGlvbnMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHtcblx0XHRcdFx0dmFyIGksXG5cdFx0XHRcdFx0eGhyID0gb3B0aW9ucy54aHIoKTtcblxuXHRcdFx0XHR4aHIub3Blbihcblx0XHRcdFx0XHRvcHRpb25zLnR5cGUsXG5cdFx0XHRcdFx0b3B0aW9ucy51cmwsXG5cdFx0XHRcdFx0b3B0aW9ucy5hc3luYyxcblx0XHRcdFx0XHRvcHRpb25zLnVzZXJuYW1lLFxuXHRcdFx0XHRcdG9wdGlvbnMucGFzc3dvcmRcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy54aHJGaWVsZHMgKSB7XG5cdFx0XHRcdFx0Zm9yICggaSBpbiBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBPdmVycmlkZSBtaW1lIHR5cGUgaWYgbmVlZGVkXG5cdFx0XHRcdGlmICggb3B0aW9ucy5taW1lVHlwZSAmJiB4aHIub3ZlcnJpZGVNaW1lVHlwZSApIHtcblx0XHRcdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcblx0XHRcdFx0Ly8gRm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cywgc2VlaW5nIGFzIGNvbmRpdGlvbnMgZm9yIGEgcHJlZmxpZ2h0IGFyZVxuXHRcdFx0XHQvLyBha2luIHRvIGEgamlnc2F3IHB1enpsZSwgd2Ugc2ltcGx5IG5ldmVyIHNldCBpdCB0byBiZSBzdXJlLlxuXHRcdFx0XHQvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcblx0XHRcdFx0Ly8gRm9yIHNhbWUtZG9tYWluIHJlcXVlc3RzLCB3b24ndCBjaGFuZ2UgaGVhZGVyIGlmIGFscmVhZHkgcHJvdmlkZWQuXG5cdFx0XHRcdGlmICggIW9wdGlvbnMuY3Jvc3NEb21haW4gJiYgIWhlYWRlcnNbIFwiWC1SZXF1ZXN0ZWQtV2l0aFwiIF0gKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFNldCBoZWFkZXJzXG5cdFx0XHRcdGZvciAoIGkgaW4gaGVhZGVycyApIHtcblx0XHRcdFx0XHR4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBDYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxuXHRcdFx0XHRcdFx0XHRcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub250aW1lb3V0ID1cblx0XHRcdFx0XHRcdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXG5cdFx0XHRcdFx0XHRcdGlmICggdHlwZSA9PT0gXCJhYm9ydFwiICkge1xuXHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcImVycm9yXCIgKSB7XG5cblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xuXHRcdFx0XHRcdFx0XHRcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIDAsIFwiZXJyb3JcIiApO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwN1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dFxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29tcGxldGUoXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0LFxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSUU5IGhhcyBubyBYSFIyIGJ1dCB0aHJvd3Mgb24gYmluYXJ5ICh0cmFjLTExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gRm9yIFhIUjIgbm9uLXRleHQsIGxldCB0aGUgY2FsbGVyIGhhbmRsZSBpdCAoZ2gtMjQ5OClcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSB4aHIub250aW1lb3V0ID0gY2FsbGJhY2soIFwiZXJyb3JcIiApO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxuXHRcdFx0XHQvLyBVc2Ugb25yZWFkeXN0YXRlY2hhbmdlIHRvIHJlcGxhY2Ugb25hYm9ydFxuXHRcdFx0XHQvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXG5cdFx0XHRcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcblx0XHRcdFx0XHRcdGlmICggeGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXG5cdFx0XHRcdFx0XHRcdC8vIGJ1dCB0aGF0IHdpbGwgbm90IGhhbmRsZSBhIG5hdGl2ZSBhYm9ydFxuXHRcdFx0XHRcdFx0XHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxuXHRcdFx0XHRcdFx0XHQvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcblx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENyZWF0ZSB0aGUgYWJvcnQgY2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXCJhYm9ydFwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcblx0XHRcdFx0XHR4aHIuc2VuZCggb3B0aW9ucy5oYXNDb250ZW50ICYmIG9wdGlvbnMuZGF0YSB8fCBudWxsICk7XG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXG5cdFx0XHRcdFx0Ly8gIzE0NjgzOiBPbmx5IHJldGhyb3cgaWYgdGhpcyBoYXNuJ3QgYmVlbiBub3RpZmllZCBhcyBhbiBlcnJvciB5ZXRcblx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0dGhyb3cgZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcblx0fVxufSApO1xuXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxualF1ZXJ5LmFqYXhTZXR1cCgge1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xuXHRcdFx0XCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIlxuXHR9LFxuXHRjb250ZW50czoge1xuXHRcdHNjcmlwdDogL1xcYig/OmphdmF8ZWNtYSlzY3JpcHRcXGIvXG5cdH0sXG5cdGNvbnZlcnRlcnM6IHtcblx0XHRcInRleHQgc2NyaXB0XCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTtcblx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdH1cblx0fVxufSApO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0fVxufSApO1xuXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcbmpRdWVyeS5hamF4VHJhbnNwb3J0KCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblxuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoIFwiPHNjcmlwdD5cIiApLnByb3AoIHtcblx0XHRcdFx0XHRjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsXG5cdFx0XHRcdFx0c3JjOiBzLnVybFxuXHRcdFx0XHR9ICkub24oXG5cdFx0XHRcdFx0XCJsb2FkIGVycm9yXCIsXG5cdFx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggZXZ0ICkge1xuXHRcdFx0XHRcdFx0c2NyaXB0LnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xuXHRcdFx0XHRcdFx0aWYgKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRcdGNvbXBsZXRlKCBldnQudHlwZSA9PT0gXCJlcnJvclwiID8gNDA0IDogMjAwLCBldnQudHlwZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBVc2UgbmF0aXZlIERPTSBtYW5pcHVsYXRpb24gdG8gYXZvaWQgb3VyIGRvbU1hbmlwIEFKQVggdHJpY2tlcnlcblx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTtcblx0XHRcdH0sXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdH1cbn0gKTtcblxuXG5cblxudmFyIG9sZENhbGxiYWNrcyA9IFtdLFxuXHRyanNvbnAgPSAvKD0pXFw/KD89JnwkKXxcXD9cXD8vO1xuXG4vLyBEZWZhdWx0IGpzb25wIHNldHRpbmdzXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSApO1xuXG4vLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3IganNvbnAgcmVxdWVzdHNcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcImpzb24ganNvbnBcIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkge1xuXG5cdHZhciBjYWxsYmFja05hbWUsIG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lcixcblx0XHRqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgP1xuXHRcdFx0XCJ1cmxcIiA6XG5cdFx0XHR0eXBlb2Ygcy5kYXRhID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiIClcblx0XHRcdFx0XHQuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICYmXG5cdFx0XHRcdHJqc29ucC50ZXN0KCBzLmRhdGEgKSAmJiBcImRhdGFcIlxuXHRcdCk7XG5cblx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFwianNvbnBcIiBvciB3ZSBoYXZlIGEgcGFyYW1ldGVyIHRvIHNldFxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcblxuXHRcdC8vIEdldCBjYWxsYmFjayBuYW1lLCByZW1lbWJlcmluZyBwcmVleGlzdGluZyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggaXRcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XG5cdFx0XHRzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXG5cdFx0aWYgKCBqc29uUHJvcCApIHtcblx0XHRcdHNbIGpzb25Qcm9wIF0gPSBzWyBqc29uUHJvcCBdLnJlcGxhY2UoIHJqc29ucCwgXCIkMVwiICsgY2FsbGJhY2tOYW1lICk7XG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXCImXCIgOiBcIj9cIiApICsgcy5qc29ucCArIFwiPVwiICsgY2FsbGJhY2tOYW1lO1xuXHRcdH1cblxuXHRcdC8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29uIGFmdGVyIHNjcmlwdCBleGVjdXRpb25cblx0XHRzLmNvbnZlcnRlcnNbIFwic2NyaXB0IGpzb25cIiBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxuXHRcdFx0aWYgKCBvdmVyd3JpdHRlbiA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xuXG5cdFx0XHQvLyBPdGhlcndpc2UgcmVzdG9yZSBwcmVleGlzdGluZyB2YWx1ZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxuXHRcdFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcblxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcblx0XHRcdFx0cy5qc29ucENhbGxiYWNrID0gb3JpZ2luYWxTZXR0aW5ncy5qc29ucENhbGxiYWNrO1xuXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2Vcblx0XHRcdFx0b2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2Vcblx0XHRcdGlmICggcmVzcG9uc2VDb250YWluZXIgJiYgaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9ICk7XG5cblx0XHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcblx0fVxufSApO1xuXG5cblxuXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XG4vLyBJbiBTYWZhcmkgOCBkb2N1bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50XG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cbi8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzdcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcblx0dmFyIGJvZHkgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFwiXCIgKS5ib2R5O1xuXHRib2R5LmlubmVySFRNTCA9IFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cIjtcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XG59ICkoKTtcblxuXG4vLyBBcmd1bWVudCBcImRhdGFcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCxcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXG5qUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rpb24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkge1xuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XG5cdFx0Y29udGV4dCA9IGZhbHNlO1xuXHR9XG5cblx0dmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0cztcblxuXHRpZiAoICFjb250ZXh0ICkge1xuXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XG5cdFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cblx0XHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xuXG5cdFx0XHQvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnRcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXG5cdFx0XHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxuXHRcdFx0YmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCggXCJiYXNlXCIgKTtcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XG5cdFx0XHRjb250ZXh0LmhlYWQuYXBwZW5kQ2hpbGQoIGJhc2UgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xuXHRcdH1cblx0fVxuXG5cdHBhcnNlZCA9IHJzaW5nbGVUYWcuZXhlYyggZGF0YSApO1xuXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xuXG5cdC8vIFNpbmdsZSB0YWdcblx0aWYgKCBwYXJzZWQgKSB7XG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XG5cdH1cblxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vKipcbiAqIExvYWQgYSB1cmwgaW50byBhIHBhZ2VcbiAqL1xualF1ZXJ5LmZuLmxvYWQgPSBmdW5jdGlvbiggdXJsLCBwYXJhbXMsIGNhbGxiYWNrICkge1xuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKCBcIiBcIiApO1xuXG5cdGlmICggb2ZmID4gLTEgKSB7XG5cdFx0c2VsZWN0b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7XG5cdFx0dXJsID0gdXJsLnNsaWNlKCAwLCBvZmYgKTtcblx0fVxuXG5cdC8vIElmIGl0J3MgYSBmdW5jdGlvblxuXHRpZiAoIGlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXG5cdFx0XHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2Vcblx0XHRcdC8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1ldGhvZFxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxuXHRcdFx0ZGF0YVR5cGU6IFwiaHRtbFwiLFxuXHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XG5cblx0XHRcdC8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XG5cblx0XHRcdHNlbGYuaHRtbCggc2VsZWN0b3IgP1xuXG5cdFx0XHRcdC8vIElmIGEgc2VsZWN0b3Igd2FzIHNwZWNpZmllZCwgbG9jYXRlIHRoZSByaWdodCBlbGVtZW50cyBpbiBhIGR1bW15IGRpdlxuXHRcdFx0XHQvLyBFeGNsdWRlIHNjcmlwdHMgdG8gYXZvaWQgSUUgJ1Blcm1pc3Npb24gRGVuaWVkJyBlcnJvcnNcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHQvLyBJZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzIFwiZGF0YVwiLCBcInN0YXR1c1wiLCBcImpxWEhSXCJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXG5cdFx0Ly8gSWYgaXQgZmFpbHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImpxWEhSXCIsIFwic3RhdHVzXCIsIFwiZXJyb3JcIlxuXHRcdH0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9uKCBqcVhIUiwgc3RhdHVzICkge1xuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoIHRoaXMsIHJlc3BvbnNlIHx8IFsganFYSFIucmVzcG9uc2VUZXh0LCBzdGF0dXMsIGpxWEhSIF0gKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5qUXVlcnkuZWFjaCggW1xuXHRcImFqYXhTdGFydFwiLFxuXHRcImFqYXhTdG9wXCIsXG5cdFwiYWpheENvbXBsZXRlXCIsXG5cdFwiYWpheEVycm9yXCIsXG5cdFwiYWpheFN1Y2Nlc3NcIixcblx0XCJhamF4U2VuZFwiXG5dLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGUsIGZuICk7XG5cdH07XG59ICk7XG5cblxuXG5cbmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0gKS5sZW5ndGg7XG59O1xuXG5cblxuXG5qUXVlcnkub2Zmc2V0ID0ge1xuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xuXHRcdHZhciBjdXJQb3NpdGlvbiwgY3VyTGVmdCwgY3VyQ1NTVG9wLCBjdXJUb3AsIGN1ck9mZnNldCwgY3VyQ1NTTGVmdCwgY2FsY3VsYXRlUG9zaXRpb24sXG5cdFx0XHRwb3NpdGlvbiA9IGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApLFxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxuXHRcdFx0cHJvcHMgPSB7fTtcblxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cblx0XHRpZiAoIHBvc2l0aW9uID09PSBcInN0YXRpY1wiICkge1xuXHRcdFx0ZWxlbS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcblx0XHR9XG5cblx0XHRjdXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpO1xuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcblx0XHRjdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJsZWZ0XCIgKTtcblx0XHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFwiYWJzb2x1dGVcIiB8fCBwb3NpdGlvbiA9PT0gXCJmaXhlZFwiICkgJiZcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIG9wdGlvbnMgKSApIHtcblxuXHRcdFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKCB7fSwgY3VyT2Zmc2V0ICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHQvLyBvZmZzZXQoKSByZWxhdGVzIGFuIGVsZW1lbnQncyBib3JkZXIgYm94IHRvIHRoZSBkb2N1bWVudCBvcmlnaW5cblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHRcdC8vIFByZXNlcnZlIGNoYWluaW5nIGZvciBzZXR0ZXJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0dGhpcyA6XG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5Lm9mZnNldC5zZXRPZmZzZXQoIHRoaXMsIG9wdGlvbnMsIGkgKTtcblx0XHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHZhciByZWN0LCB3aW4sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xuXG5cdFx0aWYgKCAhZWxlbSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gemVyb3MgZm9yIGRpc2Nvbm5lY3RlZCBhbmQgaGlkZGVuIChkaXNwbGF5OiBub25lKSBlbGVtZW50cyAoZ2gtMjMxMClcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcblx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhXG5cdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXG5cdFx0aWYgKCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBkb2N1bWVudC1yZWxhdGl2ZSBwb3NpdGlvbiBieSBhZGRpbmcgdmlld3BvcnQgc2Nyb2xsIHRvIHZpZXdwb3J0LXJlbGF0aXZlIGdCQ1Jcblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR3aW4gPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogcmVjdC50b3AgKyB3aW4ucGFnZVlPZmZzZXQsXG5cdFx0XHRsZWZ0OiByZWN0LmxlZnQgKyB3aW4ucGFnZVhPZmZzZXRcblx0XHR9O1xuXHR9LFxuXG5cdC8vIHBvc2l0aW9uKCkgcmVsYXRlcyBhbiBlbGVtZW50J3MgbWFyZ2luIGJveCB0byBpdHMgb2Zmc2V0IHBhcmVudCdzIHBhZGRpbmcgYm94XG5cdC8vIFRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGJlaGF2aW9yIG9mIENTUyBhYnNvbHV0ZSBwb3NpdGlvbmluZ1xuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCwgZG9jLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdHBhcmVudE9mZnNldCA9IHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cblx0XHQvLyBwb3NpdGlvbjpmaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gdGhlIHZpZXdwb3J0LCB3aGljaCBpdHNlbGYgYWx3YXlzIGhhcyB6ZXJvIG9mZnNldFxuXHRcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICkgPT09IFwiZml4ZWRcIiApIHtcblxuXHRcdFx0Ly8gQXNzdW1lIHBvc2l0aW9uOmZpeGVkIGltcGxpZXMgYXZhaWxhYmlsaXR5IG9mIGdldEJvdW5kaW5nQ2xpZW50UmVjdFxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB0aGUgKnJlYWwqIG9mZnNldCBwYXJlbnQsIHdoaWNoIGNhbiBiZSB0aGUgZG9jdW1lbnQgb3IgaXRzIHJvb3QgZWxlbWVudFxuXHRcdFx0Ly8gd2hlbiBhIHN0YXRpY2FsbHkgcG9zaXRpb25lZCBlbGVtZW50IGlzIGlkZW50aWZpZWRcblx0XHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHRcdG9mZnNldFBhcmVudCA9IGVsZW0ub2Zmc2V0UGFyZW50IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJlxuXHRcdFx0XHQoIG9mZnNldFBhcmVudCA9PT0gZG9jLmJvZHkgfHwgb2Zmc2V0UGFyZW50ID09PSBkb2MuZG9jdW1lbnRFbGVtZW50ICkgJiZcblx0XHRcdFx0alF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblxuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQucGFyZW50Tm9kZTtcblx0XHRcdH1cblx0XHRcdGlmICggb2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZWxlbSAmJiBvZmZzZXRQYXJlbnQubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgYm9yZGVycyBpbnRvIGl0cyBvZmZzZXQsIHNpbmNlIHRoZXkgYXJlIG91dHNpZGUgaXRzIGNvbnRlbnQgb3JpZ2luXG5cdFx0XHRcdHBhcmVudE9mZnNldCA9IGpRdWVyeSggb2Zmc2V0UGFyZW50ICkub2Zmc2V0KCk7XG5cdFx0XHRcdHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlclRvcFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcImJvcmRlckxlZnRXaWR0aFwiLCB0cnVlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IG9mZnNldC50b3AgLSBwYXJlbnRPZmZzZXQudG9wIC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5Ub3BcIiwgdHJ1ZSApLFxuXHRcdFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFwibWFyZ2luTGVmdFwiLCB0cnVlIClcblx0XHR9O1xuXHR9LFxuXG5cdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuXHQvLyAxKSBGb3IgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBpZnJhbWUgd2l0aG91dCBvZmZzZXRQYXJlbnQsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuXG5cdC8vICAgIGRvY3VtZW50RWxlbWVudCBvZiB0aGUgcGFyZW50IHdpbmRvd1xuXHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XG5cdC8vIDMpIEZvciBib2R5IG9yIGh0bWwgZWxlbWVudCwgaS5lLiBpbiBjYXNlIG9mIHRoZSBodG1sIG5vZGUgLSBpdCB3aWxsIHJldHVybiBpdHNlbGZcblx0Ly9cblx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXG5cdC8vIGFuZCBtaWdodCBiZSBjb25zaWRlcmVkIGFzIG1vcmUgcHJlZmVyYWJsZSByZXN1bHRzLlxuXHQvL1xuXHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxuXHRvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XG5cblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudCwgXCJwb3NpdGlvblwiICkgPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcblxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XG5cblx0XHRcdC8vIENvYWxlc2NlIGRvY3VtZW50cyBhbmQgd2luZG93c1xuXHRcdFx0dmFyIHdpbjtcblx0XHRcdGlmICggaXNXaW5kb3coIGVsZW0gKSApIHtcblx0XHRcdFx0d2luID0gZWxlbTtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoICk7XG5cdH07XG59ICk7XG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcbi8vIEFkZCB0aGUgdG9wL2xlZnQgY3NzSG9va3MgdXNpbmcgalF1ZXJ5LmZuLnBvc2l0aW9uXG4vLyBXZWJraXQgYnVnOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MjkwODRcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XG4vLyBnZXRDb21wdXRlZFN0eWxlIHJldHVybnMgcGVyY2VudCB3aGVuIHNwZWNpZmllZCBmb3IgdG9wL2xlZnQvYm90dG9tL3JpZ2h0O1xuLy8gcmF0aGVyIHRoYW4gbWFrZSB0aGUgY3NzIG1vZHVsZSBkZXBlbmQgb24gdGhlIG9mZnNldCBtb2R1bGUsIGp1c3QgY2hlY2sgZm9yIGl0IGhlcmVcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByb3AgXSA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5waXhlbFBvc2l0aW9uLFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRcdGNvbXB1dGVkID0gY3VyQ1NTKCBlbGVtLCBwcm9wICk7XG5cblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59ICk7XG5cblxuLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRob2RzXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFwiaGVpZ2h0XCIsIFdpZHRoOiBcIndpZHRoXCIgfSwgZnVuY3Rpb24oIG5hbWUsIHR5cGUgKSB7XG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcblx0XHRmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxuXHRcdGpRdWVyeS5mblsgZnVuY05hbWUgXSA9IGZ1bmN0aW9uKCBtYXJnaW4sIHZhbHVlICkge1xuXHRcdFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXCJib29sZWFuXCIgKSxcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xuXG5cdFx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBkb2M7XG5cblx0XHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcblx0XHRcdFx0XHRyZXR1cm4gZnVuY05hbWUuaW5kZXhPZiggXCJvdXRlclwiICkgPT09IDAgP1xuXHRcdFx0XHRcdFx0ZWxlbVsgXCJpbm5lclwiICsgbmFtZSBdIDpcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdFx0ZG9jID0gZWxlbS5kb2N1bWVudEVsZW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXG5cdFx0XHRcdFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcInNjcm9sbFwiICsgbmFtZSBdLCBkb2NbIFwic2Nyb2xsXCIgKyBuYW1lIF0sXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwib2Zmc2V0XCIgKyBuYW1lIF0sIGRvY1sgXCJvZmZzZXRcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/XG5cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlICk7XG5cdFx0fTtcblx0fSApO1xufSApO1xuXG5cbmpRdWVyeS5lYWNoKCAoIFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51XCIgKS5zcGxpdCggXCIgXCIgKSxcblx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aG92ZXI6IGZ1bmN0aW9uKCBmbk92ZXIsIGZuT3V0ICkge1xuXHRcdHJldHVybiB0aGlzLm1vdXNlZW50ZXIoIGZuT3ZlciApLm1vdXNlbGVhdmUoIGZuT3V0IHx8IGZuT3ZlciApO1xuXHR9XG59ICk7XG5cblxuXG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXG5cdFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxuXHRcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxuXHRcdFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcIioqXCIsIGZuICk7XG5cdH1cbn0gKTtcblxuLy8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XG4vLyBhcmd1bWVudHMuXG4vLyBqUXVlcnkucHJveHkgaXMgZGVwcmVjYXRlZCB0byBwcm9tb3RlIHN0YW5kYXJkcyAoc3BlY2lmaWNhbGx5IEZ1bmN0aW9uI2JpbmQpXG4vLyBIb3dldmVyLCBpdCBpcyBub3Qgc2xhdGVkIGZvciByZW1vdmFsIGFueSB0aW1lIHNvb25cbmpRdWVyeS5wcm94eSA9IGZ1bmN0aW9uKCBmbiwgY29udGV4dCApIHtcblx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xuXHRcdGNvbnRleHQgPSBmbjtcblx0XHRmbiA9IHRtcDtcblx0fVxuXG5cdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdC8vIHRoaXMgdGhyb3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuXG5cdGlmICggIWlzRnVuY3Rpb24oIGZuICkgKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdC8vIFNpbXVsYXRlZCBiaW5kXG5cdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcblx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZm4uYXBwbHkoIGNvbnRleHQgfHwgdGhpcywgYXJncy5jb25jYXQoIHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApICkgKTtcblx0fTtcblxuXHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XG5cblx0cmV0dXJuIHByb3h5O1xufTtcblxualF1ZXJ5LmhvbGRSZWFkeSA9IGZ1bmN0aW9uKCBob2xkICkge1xuXHRpZiAoIGhvbGQgKSB7XG5cdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHR9IGVsc2Uge1xuXHRcdGpRdWVyeS5yZWFkeSggdHJ1ZSApO1xuXHR9XG59O1xualF1ZXJ5LmlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XG5qUXVlcnkubm9kZU5hbWUgPSBub2RlTmFtZTtcbmpRdWVyeS5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjtcbmpRdWVyeS5pc1dpbmRvdyA9IGlzV2luZG93O1xualF1ZXJ5LmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbmpRdWVyeS50eXBlID0gdG9UeXBlO1xuXG5qUXVlcnkubm93ID0gRGF0ZS5ub3c7XG5cbmpRdWVyeS5pc051bWVyaWMgPSBmdW5jdGlvbiggb2JqICkge1xuXG5cdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXG5cdC8vIHN0cmluZ3MgYW5kIG51bWJlcnMgKHByaW1pdGl2ZXMgb3Igb2JqZWN0cylcblx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2Milcblx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XG5cdHJldHVybiAoIHR5cGUgPT09IFwibnVtYmVyXCIgfHwgdHlwZSA9PT0gXCJzdHJpbmdcIiApICYmXG5cblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAoXCJcIilcblx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXG5cdFx0Ly8gc3VidHJhY3Rpb24gZm9yY2VzIGluZmluaXRpZXMgdG8gTmFOXG5cdFx0IWlzTmFOKCBvYmogLSBwYXJzZUZsb2F0KCBvYmogKSApO1xufTtcblxuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9ICk7XG59XG5cblxuXG5cbnZhclxuXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggIW5vR2xvYmFsICkge1xuXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XG59XG5cblxuXG5cbnJldHVybiBqUXVlcnk7XG59ICk7XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBMb2Rhc2ggPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy41JztcblxuICAvKiogVXNlZCBhcyB0aGUgc2l6ZSB0byBlbmFibGUgbGFyZ2UgYXJyYXkgb3B0aW1pemF0aW9ucy4gKi9cbiAgdmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbiAgLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xuICB2YXIgQ09SRV9FUlJPUl9URVhUID0gJ1Vuc3VwcG9ydGVkIGNvcmUtanMgdXNlLiBUcnkgaHR0cHM6Ly9ucG1zLmlvL3NlYXJjaD9xPXBvbnlmaWxsLicsXG4gICAgICBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbiAgdmFyIHJlVHJpbSA9IC9eXFxzK3xcXHMrJC9nLFxuICAgICAgcmVUcmltU3RhcnQgPSAvXlxccysvLFxuICAgICAgcmVUcmltRW5kID0gL1xccyskLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3cmFwIGRldGFpbCBjb21tZW50cy4gKi9cbiAgdmFyIHJlV3JhcENvbW1lbnQgPSAvXFx7KD86XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAuK1xcXSBcXCpcXC8pP1xcbj8vLFxuICAgICAgcmVXcmFwRGV0YWlscyA9IC9cXHtcXG5cXC9cXCogXFxbd3JhcHBlZCB3aXRoICguKylcXF0gXFwqLyxcbiAgICAgIHJlU3BsaXREZXRhaWxzID0gLyw/ICYgLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbiAgdmFyIHJlQXNjaWlXb3JkID0gL1teXFx4MDAtXFx4MmZcXHgzYS1cXHg0MFxceDViLVxceDYwXFx4N2ItXFx4N2ZdKy9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGJhY2tzbGFzaGVzIGluIHByb3BlcnR5IHBhdGhzLiAqL1xuICB2YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2hcbiAgICogW0VTIHRlbXBsYXRlIGRlbGltaXRlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRlbXBsYXRlLWxpdGVyYWwtbGV4aWNhbC1jb21wb25lbnRzKS5cbiAgICovXG4gIHZhciByZUVzVGVtcGxhdGUgPSAvXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGAgZmxhZ3MgZnJvbSB0aGVpciBjb2VyY2VkIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUZsYWdzID0gL1xcdyokLztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCaW5hcnkgPSAvXjBiWzAxXSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGhvc3QgY29uc3RydWN0b3JzIChTYWZhcmkpLiAqL1xuICB2YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNPY3RhbCA9IC9eMG9bMC03XSskL2k7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xuICB2YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xuICB2YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4gIC8qKiBVc2VkIHRvIGVuc3VyZSBjYXB0dXJpbmcgb3JkZXIgb2YgdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMuICovXG4gIHZhciByZVVuZXNjYXBlZFN0cmluZyA9IC9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG4gIHZhciByc0FzdHJhbFJhbmdlID0gJ1xcXFx1ZDgwMC1cXFxcdWRmZmYnLFxuICAgICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZicsXG4gICAgICByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgPSAnXFxcXHVmZTIwLVxcXFx1ZmUyZicsXG4gICAgICByc0NvbWJvU3ltYm9sc1JhbmdlID0gJ1xcXFx1MjBkMC1cXFxcdTIwZmYnLFxuICAgICAgcnNDb21ib1JhbmdlID0gcnNDb21ib01hcmtzUmFuZ2UgKyByZUNvbWJvSGFsZk1hcmtzUmFuZ2UgKyByc0NvbWJvU3ltYm9sc1JhbmdlLFxuICAgICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICAgIHJzTWF0aE9wUmFuZ2UgPSAnXFxcXHhhY1xcXFx4YjFcXFxceGQ3XFxcXHhmNycsXG4gICAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgICAgcnNTcGFjZVJhbmdlID0gJyBcXFxcdFxcXFx4MGJcXFxcZlxcXFx4YTBcXFxcdWZlZmZcXFxcblxcXFxyXFxcXHUyMDI4XFxcXHUyMDI5XFxcXHUxNjgwXFxcXHUxODBlXFxcXHUyMDAwXFxcXHUyMDAxXFxcXHUyMDAyXFxcXHUyMDAzXFxcXHUyMDA0XFxcXHUyMDA1XFxcXHUyMDA2XFxcXHUyMDA3XFxcXHUyMDA4XFxcXHUyMDA5XFxcXHUyMDBhXFxcXHUyMDJmXFxcXHUyMDVmXFxcXHUzMDAwJyxcbiAgICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgICAgcnNCcmVha1JhbmdlID0gcnNNYXRoT3BSYW5nZSArIHJzTm9uQ2hhclJhbmdlICsgcnNQdW5jdHVhdGlvblJhbmdlICsgcnNTcGFjZVJhbmdlO1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbiAgdmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgICAgcnNBc3RyYWwgPSAnWycgKyByc0FzdHJhbFJhbmdlICsgJ10nLFxuICAgICAgcnNCcmVhayA9ICdbJyArIHJzQnJlYWtSYW5nZSArICddJyxcbiAgICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvUmFuZ2UgKyAnXScsXG4gICAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgICAgcnNEaW5nYmF0ID0gJ1snICsgcnNEaW5nYmF0UmFuZ2UgKyAnXScsXG4gICAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNGaXR6ID0gJ1xcXFx1ZDgzY1tcXFxcdWRmZmItXFxcXHVkZmZmXScsXG4gICAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzUmVnaW9uYWwgPSAnKD86XFxcXHVkODNjW1xcXFx1ZGRlNi1cXFxcdWRkZmZdKXsyfScsXG4gICAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgICAgcnNaV0ogPSAnXFxcXHUyMDBkJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbiAgdmFyIHJzTWlzY0xvd2VyID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNNaXNjVXBwZXIgPSAnKD86JyArIHJzVXBwZXIgKyAnfCcgKyByc01pc2MgKyAnKScsXG4gICAgICByc09wdENvbnRyTG93ZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICAgIHJzT3B0Q29udHJVcHBlciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgICAgcmVPcHRNb2QgPSByc01vZGlmaWVyICsgJz8nLFxuICAgICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgICByc09yZExvd2VyID0gJ1xcXFxkKig/OjFzdHwybmR8M3JkfCg/IVsxMjNdKVxcXFxkdGgpKD89XFxcXGJ8W0EtWl9dKScsXG4gICAgICByc09yZFVwcGVyID0gJ1xcXFxkKig/OjFTVHwyTkR8M1JEfCg/IVsxMjNdKVxcXFxkVEgpKD89XFxcXGJ8W2Etel9dKScsXG4gICAgICByc1NlcSA9IHJzT3B0VmFyICsgcmVPcHRNb2QgKyByc09wdEpvaW4sXG4gICAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICAgIHJzU3ltYm9sID0gJyg/OicgKyBbcnNOb25Bc3RyYWwgKyByc0NvbWJvICsgJz8nLCByc0NvbWJvLCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyLCByc0FzdHJhbF0uam9pbignfCcpICsgJyknO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGFwb3N0cm9waGVzLiAqL1xuICB2YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpIGFuZFxuICAgKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICAgKi9cbiAgdmFyIHJlQ29tYm9NYXJrID0gUmVnRXhwKHJzQ29tYm8sICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbiAgdmFyIHJlVW5pY29kZSA9IFJlZ0V4cChyc0ZpdHogKyAnKD89JyArIHJzRml0eiArICcpfCcgKyByc1N5bWJvbCArIHJzU2VxLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGNvbXBsZXggb3IgY29tcG91bmQgd29yZHMuICovXG4gIHZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0Q29udHJMb3dlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICAgIHJzTWlzY1VwcGVyICsgJysnICsgcnNPcHRDb250clVwcGVyICsgJyg/PScgKyBbcnNCcmVhaywgcnNVcHBlciArIHJzTWlzY0xvd2VyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc1VwcGVyICsgJz8nICsgcnNNaXNjTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIsXG4gICAgcnNVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlcixcbiAgICByc09yZFVwcGVyLFxuICAgIHJzT3JkTG93ZXIsXG4gICAgcnNEaWdpdHMsXG4gICAgcnNFbW9qaVxuICBdLmpvaW4oJ3wnKSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB3aXRoIFt6ZXJvLXdpZHRoIGpvaW5lcnMgb3IgY29kZSBwb2ludHMgZnJvbSB0aGUgYXN0cmFsIHBsYW5lc10oaHR0cDovL2Vldi5lZS9ibG9nLzIwMTUvMDkvMTIvZGFyay1jb3JuZXJzLW9mLXVuaWNvZGUvKS4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZSA9IFJlZ0V4cCgnWycgKyByc1pXSiArIHJzQXN0cmFsUmFuZ2UgICsgcnNDb21ib1JhbmdlICsgcnNWYXJSYW5nZSArICddJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xuICB2YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezIsfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSgpKTtcblxuICAvKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xuICB2YXIgbm9kZUlzQXJyYXlCdWZmZXIgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0FycmF5QnVmZmVyLFxuICAgICAgbm9kZUlzRGF0ZSA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzRGF0ZSxcbiAgICAgIG5vZGVJc01hcCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzTWFwLFxuICAgICAgbm9kZUlzUmVnRXhwID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNSZWdFeHAsXG4gICAgICBub2RlSXNTZXQgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1NldCxcbiAgICAgIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIEEgZmFzdGVyIGFsdGVybmF0aXZlIHRvIGBGdW5jdGlvbiNhcHBseWAsIHRoaXMgZnVuY3Rpb24gaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gICAqL1xuICBmdW5jdGlvbiBhcHBseShmdW5jLCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgY2FzZSAwOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0pO1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VBZ2dyZWdhdG9yYCBmb3IgYXJyYXlzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGBhY2N1bXVsYXRvcmAgdmFsdWVzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBhY2N1bXVsYXRvcmAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUFnZ3JlZ2F0b3IoYXJyYXksIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgdmFsdWUsIGl0ZXJhdGVlKHZhbHVlKSwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZvckVhY2hgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFYWNoUmlnaHQoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmV2ZXJ5YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAqICBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUV2ZXJ5KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKCFwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmZpbHRlcmAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlGaWx0ZXIoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5pbmNsdWRlc2AgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIHNwZWNpZnlpbmcgYW4gaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHRhcmdldGAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB0YXJnZXQgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzV2l0aChhcnJheSwgdmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IodmFsdWUsIGFycmF5W2luZGV4XSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheU1hcChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBhcHBlbmQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlQdXNoKGFycmF5LCB2YWx1ZXMpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgIGFzXG4gICAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gYXJyYXlbKytpbmRleF07XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlUmlnaHRgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlUmlnaHQoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5Wy0tbGVuZ3RoXTtcbiAgICB9XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCBhcnJheVtsZW5ndGhdLCBsZW5ndGgsIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zb21lYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAgICogc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFueSBlbGVtZW50IHBhc3NlcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlTb21lKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaXplIG9mIGFuIEFTQ0lJIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICB2YXIgYXNjaWlTaXplID0gYmFzZVByb3BlcnR5KCdsZW5ndGgnKTtcblxuICAvKipcbiAgICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnNwbGl0KCcnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcubWF0Y2gocmVBc2NpaVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5maW5kS2V5YCBhbmQgYF8uZmluZExhc3RLZXlgLFxuICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gXG4gICAqIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGBjb2xsZWN0aW9uYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQgb3IgaXRzIGtleSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kS2V5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZWFjaEZ1bmMpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgcmVzdWx0ID0ga2V5O1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maW5kSW5kZXhgIGFuZCBgXy5maW5kTGFzdEluZGV4YCB3aXRob3V0XG4gICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIGluZGV4ID0gZnJvbUluZGV4ICsgKGZyb21SaWdodCA/IDEgOiAtMSk7XG5cbiAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5kZXhPZmAgd2l0aG91dCBgZnJvbUluZGV4YCBib3VuZHMgY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgID8gc3RyaWN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleClcbiAgICAgIDogYmFzZUZpbmRJbmRleChhcnJheSwgYmFzZUlzTmFOLCBmcm9tSW5kZXgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYmFzZUluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYSBjb21wYXJhdG9yLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VJbmRleE9mV2l0aChhcnJheSwgdmFsdWUsIGZyb21JbmRleCwgY29tcGFyYXRvcikge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGBOYU5gLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lYW5gIGFuZCBgXy5tZWFuQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbWVhbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VNZWFuKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gbGVuZ3RoID8gKGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSAvIGxlbmd0aCkgOiBOQU47XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5KGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZWR1Y2VgIGFuZCBgXy5yZWR1Y2VSaWdodGAsIHdpdGhvdXQgc3VwcG9ydFxuICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgd2hpY2ggaXRlcmF0ZXMgb3ZlciBgY29sbGVjdGlvbmAgdXNpbmcgYGVhY2hGdW5jYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGluaXRBY2N1bSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBvciBsYXN0IGVsZW1lbnQgb2ZcbiAgICogIGBjb2xsZWN0aW9uYCBhcyB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VSZWR1Y2UoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0sIGVhY2hGdW5jKSB7XG4gICAgZWFjaEZ1bmMoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGluaXRBY2N1bVxuICAgICAgICA/IChpbml0QWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgIDogaXRlcmF0ZWUoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRCeWAgd2hpY2ggdXNlcyBgY29tcGFyZXJgIHRvIGRlZmluZSB0aGVcbiAgICogc29ydCBvcmRlciBvZiBgYXJyYXlgIGFuZCByZXBsYWNlcyBjcml0ZXJpYSBvYmplY3RzIHdpdGggdGhlaXIgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzb3J0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJlciBUaGUgZnVuY3Rpb24gdG8gZGVmaW5lIHNvcnQgb3JkZXIuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVNvcnRCeShhcnJheSwgY29tcGFyZXIpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgYXJyYXkuc29ydChjb21wYXJlcik7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICBhcnJheVtsZW5ndGhdID0gYXJyYXlbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnN1bWAgYW5kIGBfLnN1bUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTdW0oYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIHJlc3VsdCxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaXRlcmF0ZWUoYXJyYXlbaW5kZXhdKTtcbiAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBjdXJyZW50IDogKHJlc3VsdCArIGN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRpbWVzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHNcbiAgICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcmVzdWx0cy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1BhaXJzYCBhbmQgYF8udG9QYWlyc0luYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5XG4gICAqIG9mIGtleS12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGAgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYHByb3BzYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZ2V0IHZhbHVlcyBmb3IuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUb1BhaXJzKG9iamVjdCwgcHJvcHMpIHtcbiAgICByZXR1cm4gYXJyYXlNYXAocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIFtrZXksIG9iamVjdFtrZXldXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB2YWx1ZSBhdCBga2V5YCwgdW5sZXNzIGBrZXlgIGlzIFwiX19wcm90b19fXCIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHNhZmVHZXQob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4ga2V5ID09ICdfX3Byb3RvX18nXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiBvYmplY3Rba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBrZXlzRnVuYyA9IGlzRnVsbFxuICAgICAgICA/IChpc0ZsYXQgPyBnZXRBbGxLZXlzSW4gOiBnZXRBbGxLZXlzKVxuICAgICAgICA6IChpc0ZsYXQgPyBrZXlzSW4gOiBrZXlzKTtcblxuICAgICAgdmFyIHByb3BzID0gaXNBcnIgPyB1bmRlZmluZWQgOiBrZXlzRnVuYyh2YWx1ZSk7XG4gICAgICBhcnJheUVhY2gocHJvcHMgfHwgdmFsdWUsIGZ1bmN0aW9uKHN1YlZhbHVlLCBrZXkpIHtcbiAgICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgICAga2V5ID0gc3ViVmFsdWU7XG4gICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHBvcHVsYXRlIGNsb25lIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQ29uZm9ybXMoc291cmNlKSB7XG4gICAgICB2YXIgcHJvcHMgPSBrZXlzKHNvdXJjZSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlQ29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSwgcHJvcHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jb25mb3Jtc1RvYCB3aGljaCBhY2NlcHRzIGBwcm9wc2AgdG8gY2hlY2suXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2xlbmd0aF0sXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzb3VyY2Vba2V5XSxcbiAgICAgICAgICAgIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgaWYgKCh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHx8ICFwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5kZWxheWAgYW5kIGBfLmRlZmVyYCB3aGljaCBhY2NlcHRzIGBhcmdzYFxuICAgICAqIHRvIHByb3ZpZGUgdG8gYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfE9iamVjdH0gUmV0dXJucyB0aGUgdGltZXIgaWQgb3IgdGltZW91dCBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZURlbGF5KGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7IH0sIHdhaXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kaWZmZXJlbmNlYCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgZXhjbHVkaW5nIG11bHRpcGxlIGFycmF5cyBvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICB2YWx1ZXNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhbHVlcyA9IGFycmF5TWFwKHZhbHVlcywgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA+PSBMQVJHRV9BUlJBWV9TSVpFKSB7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcyA9IG5ldyBTZXRDYWNoZSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID09IG51bGwgPyB2YWx1ZSA6IGl0ZXJhdGVlKHZhbHVlKTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciB2YWx1ZXNJbmRleCA9IHZhbHVlc0xlbmd0aDtcbiAgICAgICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlc1t2YWx1ZXNJbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluY2x1ZGVzKHZhbHVlcywgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvckVhY2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93bik7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICovXG4gICAgdmFyIGJhc2VFYWNoUmlnaHQgPSBjcmVhdGVCYXNlRWFjaChiYXNlRm9yT3duUmlnaHQsIHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZXZlcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXZlcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSAhIXByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5tYXhgIGFuZCBgXy5taW5gIHdoaWNoIGFjY2VwdHMgYVxuICAgICAqIGBjb21wYXJhdG9yYCB0byBkZXRlcm1pbmUgdGhlIGV4dHJlbXVtIHZhbHVlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciB1c2VkIHRvIGNvbXBhcmUgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRXh0cmVtdW0oYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCAmJiAoY29tcHV0ZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID09PSBjdXJyZW50ICYmICFpc1N5bWJvbChjdXJyZW50KSlcbiAgICAgICAgICAgICAgOiBjb21wYXJhdG9yKGN1cnJlbnQsIGNvbXB1dGVkKVxuICAgICAgICAgICAgKSkge1xuICAgICAgICAgIHZhciBjb21wdXRlZCA9IGN1cnJlbnQsXG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbGxgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZpbGwuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZmlsbCBgYXJyYXlgIHdpdGguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gKGVuZCA9PT0gdW5kZWZpbmVkIHx8IGVuZCA+IGxlbmd0aCkgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbmQgPSBzdGFydCA+IGVuZCA/IDAgOiB0b0xlbmd0aChlbmQpO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgICAgIGFycmF5W3N0YXJ0KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmlsdGVyYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsdGVyKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZsYXR0ZW5gIHdpdGggc3VwcG9ydCBmb3IgcmVzdHJpY3RpbmcgZmxhdHRlbmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVkaWNhdGU9aXNGbGF0dGVuYWJsZV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0cmljdF0gUmVzdHJpY3QgdG8gdmFsdWVzIHRoYXQgcGFzcyBgcHJlZGljYXRlYCBjaGVja3MuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICAgICAgcmVzdWx0IHx8IChyZXN1bHQgPSBbXSk7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKGRlcHRoID4gMCAmJiBwcmVkaWNhdGUodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID4gMSkge1xuICAgICAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgICAgIGJhc2VGbGF0dGVuKHZhbHVlLCBkZXB0aCAtIDEsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaWN0KSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAgICAgKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VGb3JgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllc1xuICAgICAqIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZUZvclJpZ2h0ID0gY3JlYXRlQmFzZUZvcih0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvcihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25SaWdodGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yUmlnaHQob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZnVuY3Rpb25zYCB3aGljaCBjcmVhdGVzIGFuIGFycmF5IG9mXG4gICAgICogYG9iamVjdGAgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZmlsdGVyZWQgZnJvbSBgcHJvcHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgbmFtZXMgdG8gZmlsdGVyLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZ1bmN0aW9ucyhvYmplY3QsIHByb3BzKSB7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIocHJvcHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IDAsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChvYmplY3QgIT0gbnVsbCAmJiBpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChpbmRleCAmJiBpbmRleCA9PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRBbGxLZXlzYCBhbmQgYGdldEFsbEtleXNJbmAgd2hpY2ggdXNlc1xuICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNGdW5jLCBzeW1ib2xzRnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gICAgICByZXR1cm4gaXNBcnJheShvYmplY3QpID8gcmVzdWx0IDogYXJyYXlQdXNoKHJlc3VsdCwgc3ltYm9sc0Z1bmMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgICAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5ndGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlR3QodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPiBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzSW5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IGtleSBUaGUga2V5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSGFzSW4ob2JqZWN0LCBrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBrZXkgaW4gT2JqZWN0KG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW5SYW5nZWAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUluUmFuZ2UobnVtYmVyLCBzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gbnVtYmVyID49IG5hdGl2ZU1pbihzdGFydCwgZW5kKSAmJiBudW1iZXIgPCBuYXRpdmVNYXgoc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmludGVyc2VjdGlvbmAsIHdpdGhvdXQgc3VwcG9ydFxuICAgICAqIGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBzaGFyZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnRlcnNlY3Rpb24oYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluY2x1ZGVzID0gY29tcGFyYXRvciA/IGFycmF5SW5jbHVkZXNXaXRoIDogYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheXNbMF0ubGVuZ3RoLFxuICAgICAgICAgIG90aExlbmd0aCA9IGFycmF5cy5sZW5ndGgsXG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGgsXG4gICAgICAgICAgY2FjaGVzID0gQXJyYXkob3RoTGVuZ3RoKSxcbiAgICAgICAgICBtYXhMZW5ndGggPSBJbmZpbml0eSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKG90aEluZGV4LS0pIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW290aEluZGV4XTtcbiAgICAgICAgaWYgKG90aEluZGV4ICYmIGl0ZXJhdGVlKSB7XG4gICAgICAgICAgYXJyYXkgPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbWF4TGVuZ3RoID0gbmF0aXZlTWluKGFycmF5Lmxlbmd0aCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgY2FjaGVzW290aEluZGV4XSA9ICFjb21wYXJhdG9yICYmIChpdGVyYXRlZSB8fCAobGVuZ3RoID49IDEyMCAmJiBhcnJheS5sZW5ndGggPj0gMTIwKSlcbiAgICAgICAgICA/IG5ldyBTZXRDYWNoZShvdGhJbmRleCAmJiBhcnJheSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGFycmF5ID0gYXJyYXlzWzBdO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBzZWVuID0gY2FjaGVzWzBdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIHJlc3VsdC5sZW5ndGggPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoIShzZWVuXG4gICAgICAgICAgICAgID8gY2FjaGVIYXMoc2VlbiwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgIDogaW5jbHVkZXMocmVzdWx0LCBjb21wdXRlZCwgY29tcGFyYXRvcilcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICBvdGhJbmRleCA9IG90aExlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoLS1vdGhJbmRleCkge1xuICAgICAgICAgICAgdmFyIGNhY2hlID0gY2FjaGVzW290aEluZGV4XTtcbiAgICAgICAgICAgIGlmICghKGNhY2hlXG4gICAgICAgICAgICAgICAgICA/IGNhY2hlSGFzKGNhY2hlLCBjb21wdXRlZClcbiAgICAgICAgICAgICAgICAgIDogaW5jbHVkZXMoYXJyYXlzW290aEluZGV4XSwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlZW4pIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZlcnRgIGFuZCBgXy5pbnZlcnRCeWAgd2hpY2ggaW52ZXJ0c1xuICAgICAqIGBvYmplY3RgIHdpdGggdmFsdWVzIHRyYW5zZm9ybWVkIGJ5IGBpdGVyYXRlZWAgYW5kIHNldCBieSBgc2V0dGVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJbnZlcnRlcihvYmplY3QsIHNldHRlciwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIHNldHRlcihhY2N1bXVsYXRvciwgaXRlcmF0ZWUodmFsdWUpLCBrZXksIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbnZva2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIG1ldGhvZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICBvYmplY3QgPSBwYXJlbnQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHZhciBmdW5jID0gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGFwcGx5KGZ1bmMsIG9iamVjdCwgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNBcmd1bWVudHNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJndW1lbnRzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBhcmdzVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJyYXlCdWZmZXJgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNBcnJheUJ1ZmZlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJyYXlCdWZmZXJUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNEYXRlYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0RhdGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGRhdGVUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAgd2hpY2ggc3VwcG9ydHMgcGFydGlhbCBjb21wYXJpc29uc1xuICAgICAqIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuXG4gICAgICogIDEgLSBVbm9yZGVyZWQgY29tcGFyaXNvblxuICAgICAqICAyIC0gUGFydGlhbCBjb21wYXJpc29uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgdmFsdWVgIGFuZCBgb3RoZXJgIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gICAgICBpZiAodmFsdWUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgb3RoZXIgPT0gbnVsbCB8fCAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgIWlzT2JqZWN0TGlrZShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJc0VxdWFsRGVlcCh2YWx1ZSwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGJhc2VJc0VxdWFsLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbGAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgY29tcGFyaXNvbnMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIGNvbXBhcmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0VxdWFsRGVlcChvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgb2JqSXNBcnIgPSBpc0FycmF5KG9iamVjdCksXG4gICAgICAgICAgb3RoSXNBcnIgPSBpc0FycmF5KG90aGVyKSxcbiAgICAgICAgICBvYmpUYWcgPSBvYmpJc0FyciA/IGFycmF5VGFnIDogZ2V0VGFnKG9iamVjdCksXG4gICAgICAgICAgb3RoVGFnID0gb3RoSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvdGhlcik7XG5cbiAgICAgIG9ialRhZyA9IG9ialRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb2JqVGFnO1xuICAgICAgb3RoVGFnID0gb3RoVGFnID09IGFyZ3NUYWcgPyBvYmplY3RUYWcgOiBvdGhUYWc7XG5cbiAgICAgIHZhciBvYmpJc09iaiA9IG9ialRhZyA9PSBvYmplY3RUYWcsXG4gICAgICAgICAgb3RoSXNPYmogPSBvdGhUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIGlzU2FtZVRhZyA9IG9ialRhZyA9PSBvdGhUYWc7XG5cbiAgICAgIGlmIChpc1NhbWVUYWcgJiYgaXNCdWZmZXIob2JqZWN0KSkge1xuICAgICAgICBpZiAoIWlzQnVmZmVyKG90aGVyKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBvYmpJc0FyciA9IHRydWU7XG4gICAgICAgIG9iaklzT2JqID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNTYW1lVGFnICYmICFvYmpJc09iaikge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICByZXR1cm4gKG9iaklzQXJyIHx8IGlzVHlwZWRBcnJheShvYmplY3QpKVxuICAgICAgICAgID8gZXF1YWxBcnJheXMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaylcbiAgICAgICAgICA6IGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgb2JqVGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgIH1cbiAgICAgIGlmICghKGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRykpIHtcbiAgICAgICAgdmFyIG9iaklzV3JhcHBlZCA9IG9iaklzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCAnX193cmFwcGVkX18nKSxcbiAgICAgICAgICAgIG90aElzV3JhcHBlZCA9IG90aElzT2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob3RoZXIsICdfX3dyYXBwZWRfXycpO1xuXG4gICAgICAgIGlmIChvYmpJc1dyYXBwZWQgfHwgb3RoSXNXcmFwcGVkKSB7XG4gICAgICAgICAgdmFyIG9ialVud3JhcHBlZCA9IG9iaklzV3JhcHBlZCA/IG9iamVjdC52YWx1ZSgpIDogb2JqZWN0LFxuICAgICAgICAgICAgICBvdGhVbndyYXBwZWQgPSBvdGhJc1dyYXBwZWQgPyBvdGhlci52YWx1ZSgpIDogb3RoZXI7XG5cbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIHJldHVybiBlcXVhbEZ1bmMob2JqVW53cmFwcGVkLCBvdGhVbndyYXBwZWQsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1NhbWVUYWcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHJldHVybiBlcXVhbE9iamVjdHMob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG1hcCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSBtYXBUYWc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNNYXRjaGAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG1hdGNoRGF0YSBUaGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3MgdG8gbWF0Y2guXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGlzIGEgbWF0Y2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhLCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaW5kZXggPSBtYXRjaERhdGEubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IGluZGV4LFxuICAgICAgICAgIG5vQ3VzdG9taXplciA9ICFjdXN0b21pemVyO1xuXG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICFsZW5ndGg7XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSlcbiAgICAgICAgICAgICAgPyBkYXRhWzFdICE9PSBvYmplY3RbZGF0YVswXV1cbiAgICAgICAgICAgICAgOiAhKGRhdGFbMF0gaW4gb2JqZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBkYXRhID0gbWF0Y2hEYXRhW2luZGV4XTtcbiAgICAgICAgdmFyIGtleSA9IGRhdGFbMF0sXG4gICAgICAgICAgICBvYmpWYWx1ZSA9IG9iamVjdFtrZXldLFxuICAgICAgICAgICAgc3JjVmFsdWUgPSBkYXRhWzFdO1xuXG4gICAgICAgIGlmIChub0N1c3RvbWl6ZXIgJiYgZGF0YVsyXSkge1xuICAgICAgICAgIGlmIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gbmV3IFN0YWNrO1xuICAgICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHLCBjdXN0b21pemVyLCBzdGFjaylcbiAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTmF0aXZlKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHBhdHRlcm4gPSBpc0Z1bmN0aW9uKHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7XG4gICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNSZWdFeHBgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc1JlZ0V4cCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gcmVnZXhwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzU2V0YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzZXQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNTZXQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gc2V0VGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJlxuICAgICAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLml0ZXJhdGVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBbdmFsdWU9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBpdGVyYXRlZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXRlcmF0ZWUodmFsdWUpIHtcbiAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBgdHlwZW9mYCByZXN1bHQgaW4gYSB2YXJpYWJsZSB0byBhdm9pZCBhIEpJVCBidWcgaW4gU2FmYXJpIDkuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE1NjAzNCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgPyBiYXNlTWF0Y2hlc1Byb3BlcnR5KHZhbHVlWzBdLCB2YWx1ZVsxXSlcbiAgICAgICAgICA6IGJhc2VNYXRjaGVzKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9wZXJ0eSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgICAgIGlmICghaXNQcm90b3R5cGUob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c0luYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VLZXlzSW4ob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXNJbihvYmplY3QpO1xuICAgICAgfVxuICAgICAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5sdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTHQodmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPCBvdGhlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXBgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gQXJyYXkoY29sbGVjdGlvbi5sZW5ndGgpIDogW107XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0WysraW5kZXhdID0gaXRlcmF0ZWUodmFsdWUsIGtleSwgY29sbGVjdGlvbik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc2Agd2hpY2ggZG9lc24ndCBjbG9uZSBgc291cmNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzKHNvdXJjZSkge1xuICAgICAgdmFyIG1hdGNoRGF0YSA9IGdldE1hdGNoRGF0YShzb3VyY2UpO1xuICAgICAgaWYgKG1hdGNoRGF0YS5sZW5ndGggPT0gMSAmJiBtYXRjaERhdGFbMF1bMl0pIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKG1hdGNoRGF0YVswXVswXSwgbWF0Y2hEYXRhWzBdWzFdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdCA9PT0gc291cmNlIHx8IGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBtYXRjaERhdGEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tYXRjaGVzUHJvcGVydHlgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNyY1ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIGlmIChpc0tleShwYXRoKSAmJiBpc1N0cmljdENvbXBhcmFibGUoc3JjVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSh0b0tleShwYXRoKSwgc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBnZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgICAgcmV0dXJuIChvYmpWYWx1ZSA9PT0gdW5kZWZpbmVkICYmIG9ialZhbHVlID09PSBzcmNWYWx1ZSlcbiAgICAgICAgICA/IGhhc0luKG9iamVjdCwgcGF0aClcbiAgICAgICAgICA6IGJhc2VJc0VxdWFsKHNyY1ZhbHVlLCBvYmpWYWx1ZSwgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgfCBDT01QQVJFX1VOT1JERVJFRF9GTEFHKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWVyZ2VgIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBtZXJnZWQgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gICAgICogIGNvdW50ZXJwYXJ0cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKG9iamVjdCA9PT0gc291cmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGJhc2VGb3Ioc291cmNlLCBmdW5jdGlvbihzcmNWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChpc09iamVjdChzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICAgIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIGJhc2VNZXJnZSwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICAgID8gY3VzdG9taXplcihzYWZlR2V0KG9iamVjdCwga2V5KSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICAgICAqIGRlZXAgbWVyZ2VzIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gbWVyZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNyY0luZGV4IFRoZSBpbmRleCBvZiBgc291cmNlYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VNZXJnZURlZXAob2JqZWN0LCBzb3VyY2UsIGtleSwgc3JjSW5kZXgsIG1lcmdlRnVuYywgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgICAgIHNyY1ZhbHVlID0gc2FmZUdldChzb3VyY2UsIGtleSksXG4gICAgICAgICAgc3RhY2tlZCA9IHN0YWNrLmdldChzcmNWYWx1ZSk7XG5cbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIGFzc2lnbk1lcmdlVmFsdWUob2JqZWN0LCBrZXksIHN0YWNrZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgID8gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUsIChrZXkgKyAnJyksIG9iamVjdCwgc291cmNlLCBzdGFjaylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciBpc0NvbW1vbiA9IG5ld1ZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmIChpc0NvbW1vbikge1xuICAgICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiBpc0J1ZmZlcihzcmNWYWx1ZSksXG4gICAgICAgICAgICBpc1R5cGVkID0gIWlzQXJyICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHNyY1ZhbHVlKTtcblxuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgICBpZiAoaXNBcnIgfHwgaXNCdWZmIHx8IGlzVHlwZWQpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc0J1ZmYpIHtcbiAgICAgICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNsb25lQnVmZmVyKHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVUeXBlZEFycmF5KHNyY1ZhbHVlLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHNyY1ZhbHVlKSB8fCBpc0FyZ3VtZW50cyhzcmNWYWx1ZSkpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgICAgIGlmIChpc0FyZ3VtZW50cyhvYmpWYWx1ZSkpIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdG9QbGFpbk9iamVjdChvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKCFpc09iamVjdChvYmpWYWx1ZSkgfHwgKHNyY0luZGV4ICYmIGlzRnVuY3Rpb24ob2JqVmFsdWUpKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLmxlbmd0aCA/IGl0ZXJhdGVlcyA6IFtpZGVudGl0eV0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlTWFwKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgdmFyIGNyaXRlcmlhID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4geyAnY3JpdGVyaWEnOiBjcml0ZXJpYSwgJ2luZGV4JzogKytpbmRleCwgJ3ZhbHVlJzogdmFsdWUgfTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVNvcnRCeShyZXN1bHQsIGZ1bmN0aW9uKG9iamVjdCwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucGlja2Agd2l0aG91dCBzdXBwb3J0IGZvciBpbmRpdmlkdWFsXG4gICAgICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGljayhvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBmdW5jdGlvbih2YWx1ZSwgcGF0aCkge1xuICAgICAgICByZXR1cm4gaGFzSW4ob2JqZWN0LCBwYXRoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mICBgXy5waWNrQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVBpY2tCeShvYmplY3QsIHBhdGhzLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhdGggPSBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcblxuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBwYXRoKSkge1xuICAgICAgICAgIGJhc2VTZXQocmVzdWx0LCBjYXN0UGF0aChwYXRoLCBvYmplY3QpLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUHJvcGVydHlgIHdoaWNoIHN1cHBvcnRzIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVByb3BlcnR5RGVlcChwYXRoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnB1bGxBbGxCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICAgICAqIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleE9mID0gY29tcGFyYXRvciA/IGJhc2VJbmRleE9mV2l0aCA6IGJhc2VJbmRleE9mLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICBzZWVuID0gYXJyYXk7XG5cbiAgICAgIGlmIChhcnJheSA9PT0gdmFsdWVzKSB7XG4gICAgICAgIHZhbHVlcyA9IGNvcHlBcnJheSh2YWx1ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIHNlZW4gPSBhcnJheU1hcChhcnJheSwgYmFzZVVuYXJ5KGl0ZXJhdGVlKSk7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZnJvbUluZGV4ID0gMCxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB3aGlsZSAoKGZyb21JbmRleCA9IGluZGV4T2Yoc2VlbiwgY29tcHV0ZWQsIGZyb21JbmRleCwgY29tcGFyYXRvcikpID4gLTEpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gYXJyYXkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKHNlZW4sIGZyb21JbmRleCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBmcm9tSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBpbmRleGVzIG9yIGNhcHR1cmluZyB0aGUgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBpbmRleGVzIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPyBpbmRleGVzLmxlbmd0aCA6IDAsXG4gICAgICAgICAgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKGxlbmd0aCA9PSBsYXN0SW5kZXggfHwgaW5kZXggIT09IHByZXZpb3VzKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzID0gaW5kZXg7XG4gICAgICAgICAgaWYgKGlzSW5kZXgoaW5kZXgpKSB7XG4gICAgICAgICAgICBzcGxpY2UuY2FsbChhcnJheSwgaW5kZXgsIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlVW5zZXQoYXJyYXksIGluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvd2VyIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmFuZ2VgIGFuZCBgXy5yYW5nZVJpZ2h0YCB3aGljaCBkb2Vzbid0XG4gICAgICogY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RlcCBUaGUgdmFsdWUgdG8gaW5jcmVtZW50IG9yIGRlY3JlbWVudCBieS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmdlIG9mIG51bWJlcnMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KG5hdGl2ZUNlaWwoKGVuZCAtIHN0YXJ0KSAvIChzdGVwIHx8IDEpKSwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHJlc3VsdFtmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XSA9IHN0YXJ0O1xuICAgICAgICBzdGFydCArPSBzdGVwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXBlYXRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHJlcGVhdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlcGVhdGVkIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVwZWF0KHN0cmluZywgbikge1xuICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgaWYgKCFzdHJpbmcgfHwgbiA8IDEgfHwgbiA+IE1BWF9TQUZFX0lOVEVHRVIpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIC8vIExldmVyYWdlIHRoZSBleHBvbmVudGlhdGlvbiBieSBzcXVhcmluZyBhbGdvcml0aG0gZm9yIGEgZmFzdGVyIHJlcGVhdC5cbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9FeHBvbmVudGlhdGlvbl9ieV9zcXVhcmluZyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgZG8ge1xuICAgICAgICBpZiAobiAlIDIpIHtcbiAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIG4gPSBuYXRpdmVGbG9vcihuIC8gMik7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgc3RyaW5nICs9IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSAobik7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCBpZGVudGl0eSksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBhcnJheVNhbXBsZSh2YWx1ZXMoY29sbGVjdGlvbikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNhbXBsZVNpemVgIHdpdGhvdXQgcGFyYW0gZ3VhcmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNhbXBsZVNpemUoY29sbGVjdGlvbiwgbikge1xuICAgICAgdmFyIGFycmF5ID0gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKGFycmF5LCBiYXNlQ2xhbXAobiwgMCwgYXJyYXkubGVuZ3RoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH1cbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxLFxuICAgICAgICAgIG5lc3RlZCA9IG9iamVjdDtcblxuICAgICAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKSxcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgICAgIHZhciBvYmpWYWx1ZSA9IG5lc3RlZFtrZXldO1xuICAgICAgICAgIG5ld1ZhbHVlID0gY3VzdG9taXplciA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIGtleSwgbmVzdGVkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpc09iamVjdChvYmpWYWx1ZSlcbiAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxuICAgICAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgbmVzdGVkID0gbmVzdGVkW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXREYXRhYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIGJhc2VTZXREYXRhID0gIW1ldGFNYXAgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIGRhdGEpIHtcbiAgICAgIG1ldGFNYXAuc2V0KGZ1bmMsIGRhdGEpO1xuICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBzZXRUb1N0cmluZ2Agd2l0aG91dCBzdXBwb3J0IGZvciBob3QgbG9vcCBzaG9ydGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBkZWZpbmVQcm9wZXJ0eShmdW5jLCAndG9TdHJpbmcnLCB7XG4gICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICAgICAndmFsdWUnOiBjb25zdGFudChzdHJpbmcpLFxuICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc2h1ZmZsZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIHNodWZmbGVTZWxmKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGVuZCA+IGxlbmd0aCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIGlmIChlbmQgPCAwKSB7XG4gICAgICAgIGVuZCArPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gICAgICBzdGFydCA+Pj49IDA7XG5cbiAgICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IGFycmF5W2luZGV4ICsgc3RhcnRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb21lYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VzIHRoZSBwcmVkaWNhdGUgY2hlY2ssXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29tZShjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXN1bHQgPSBwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuICFyZXN1bHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleGAgYW5kIGBfLnNvcnRlZExhc3RJbmRleGAgd2hpY2hcbiAgICAgKiBwZXJmb3JtcyBhIGJpbmFyeSBzZWFyY2ggb2YgYGFycmF5YCB0byBkZXRlcm1pbmUgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IGxvdyA6IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PT0gdmFsdWUgJiYgaGlnaCA8PSBIQUxGX01BWF9BUlJBWV9MRU5HVEgpIHtcbiAgICAgICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxLFxuICAgICAgICAgICAgICBjb21wdXRlZCA9IGFycmF5W21pZF07XG5cbiAgICAgICAgICBpZiAoY29tcHV0ZWQgIT09IG51bGwgJiYgIWlzU3ltYm9sKGNvbXB1dGVkKSAmJlxuICAgICAgICAgICAgICAocmV0SGlnaGVzdCA/IChjb21wdXRlZCA8PSB2YWx1ZSkgOiAoY29tcHV0ZWQgPCB2YWx1ZSkpKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGlnaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGlkZW50aXR5LCByZXRIaWdoZXN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRJbmRleEJ5YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4QnlgXG4gICAgICogd2hpY2ggaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlXG4gICAgICogdGhlaXIgc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JldEhpZ2hlc3RdIFNwZWNpZnkgcmV0dXJuaW5nIHRoZSBoaWdoZXN0IHF1YWxpZmllZCBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSwgcmV0SGlnaGVzdCkge1xuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICB2YWxJc05hTiA9IHZhbHVlICE9PSB2YWx1ZSxcbiAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKSxcbiAgICAgICAgICB2YWxJc1VuZGVmaW5lZCA9IHZhbHVlID09PSB1bmRlZmluZWQ7XG5cbiAgICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICAgIHZhciBtaWQgPSBuYXRpdmVGbG9vcigobG93ICsgaGlnaCkgLyAyKSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUoYXJyYXlbbWlkXSksXG4gICAgICAgICAgICBvdGhJc0RlZmluZWQgPSBjb21wdXRlZCAhPT0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgb3RoSXNOdWxsID0gY29tcHV0ZWQgPT09IG51bGwsXG4gICAgICAgICAgICBvdGhJc1JlZmxleGl2ZSA9IGNvbXB1dGVkID09PSBjb21wdXRlZCxcbiAgICAgICAgICAgIG90aElzU3ltYm9sID0gaXNTeW1ib2woY29tcHV0ZWQpO1xuXG4gICAgICAgIGlmICh2YWxJc05hTikge1xuICAgICAgICAgIHZhciBzZXRMb3cgPSByZXRIaWdoZXN0IHx8IG90aElzUmVmbGV4aXZlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzVW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgKHJldEhpZ2hlc3QgfHwgb3RoSXNEZWZpbmVkKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc051bGwpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzTnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBvdGhJc1JlZmxleGl2ZSAmJiBvdGhJc0RlZmluZWQgJiYgIW90aElzTnVsbCAmJiAocmV0SGlnaGVzdCB8fCAhb3RoSXNTeW1ib2wpO1xuICAgICAgICB9IGVsc2UgaWYgKG90aElzTnVsbCB8fCBvdGhJc1N5bWJvbCkge1xuICAgICAgICAgIHNldExvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldExvdyA9IHJldEhpZ2hlc3QgPyAoY29tcHV0ZWQgPD0gdmFsdWUpIDogKGNvbXB1dGVkIDwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXRMb3cpIHtcbiAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVNaW4oaGlnaCwgTUFYX0FSUkFZX0lOREVYKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0ZWRVbmlxYCBhbmQgYF8uc29ydGVkVW5pcUJ5YCB3aXRob3V0XG4gICAgICogc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkVW5pcShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICBpZiAoIWluZGV4IHx8ICFlcShjb21wdXRlZCwgc2VlbikpIHtcbiAgICAgICAgICB2YXIgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlID09PSAwID8gMCA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvTnVtYmVyYCB3aGljaCBkb2Vzbid0IGVuc3VyZSBjb3JyZWN0XG4gICAgICogY29udmVyc2lvbnMgb2YgYmluYXJ5LCBoZXhhZGVjaW1hbCwgb3Igb2N0YWwgc3RyaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIHJldHVybiArdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gICAgICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAgICAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbnZlcnQgdmFsdWVzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxQnlgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5pcShhcnJheSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgaXNDb21tb24gPSB0cnVlLFxuICAgICAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgICAgIHNlZW4gPSByZXN1bHQ7XG5cbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICB2YXIgc2V0ID0gaXRlcmF0ZWUgPyBudWxsIDogY3JlYXRlU2V0KGFycmF5KTtcbiAgICAgICAgaWYgKHNldCkge1xuICAgICAgICAgIHJldHVybiBzZXRUb0FycmF5KHNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgaW5jbHVkZXMgPSBjYWNoZUhhcztcbiAgICAgICAgc2VlbiA9IG5ldyBTZXRDYWNoZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWVuID0gaXRlcmF0ZWUgPyBbXSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHZhbHVlID0gKGNvbXBhcmF0b3IgfHwgdmFsdWUgIT09IDApID8gdmFsdWUgOiAwO1xuICAgICAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzZWVuSW5kZXgtLSkge1xuICAgICAgICAgICAgaWYgKHNlZW5bc2VlbkluZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyhzZWVuLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgICAgICBpZiAoc2VlbiAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwcm9wZXJ0eSBwYXRoIHRvIHVuc2V0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgcHJvcGVydHkgaXMgZGVsZXRlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVbnNldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgfHwgZGVsZXRlIG9iamVjdFt0b0tleShsYXN0KHBhdGgpKV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdXBkYXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyLCBjdXN0b21pemVyKSB7XG4gICAgICByZXR1cm4gYmFzZVNldChvYmplY3QsIHBhdGgsIHVwZGF0ZXIoYmFzZUdldChvYmplY3QsIHBhdGgpKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRyb3BXaGlsZWAgYW5kIGBfLnRha2VXaGlsZWBcbiAgICAgKiB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Ryb3BdIFNwZWNpZnkgZHJvcHBpbmcgZWxlbWVudHMgaW5zdGVhZCBvZiB0YWtpbmcgdGhlbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUsIGlzRHJvcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTE7XG5cbiAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpICYmXG4gICAgICAgIHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHt9XG5cbiAgICAgIHJldHVybiBpc0Ryb3BcbiAgICAgICAgPyBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyAwIDogaW5kZXgpLCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogbGVuZ3RoKSlcbiAgICAgICAgOiBiYXNlU2xpY2UoYXJyYXksIChmcm9tUmlnaHQgPyBpbmRleCArIDEgOiAwKSwgKGZyb21SaWdodCA/IGxlbmd0aCA6IGluZGV4KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHdyYXBwZXJWYWx1ZWAgd2hpY2ggcmV0dXJucyB0aGUgcmVzdWx0IG9mXG4gICAgICogcGVyZm9ybWluZyBhIHNlcXVlbmNlIG9mIGFjdGlvbnMgb24gdGhlIHVud3JhcHBlZCBgdmFsdWVgLCB3aGVyZSBlYWNoXG4gICAgICogc3VjY2Vzc2l2ZSBhY3Rpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhY3Rpb25zIEFjdGlvbnMgdG8gcGVyZm9ybSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXcmFwcGVyVmFsdWUodmFsdWUsIGFjdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudmFsdWUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVJlZHVjZShhY3Rpb25zLCBmdW5jdGlvbihyZXN1bHQsIGFjdGlvbikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLmZ1bmMuYXBwbHkoYWN0aW9uLnRoaXNBcmcsIGFycmF5UHVzaChbcmVzdWx0XSwgYWN0aW9uLmFyZ3MpKTtcbiAgICAgIH0sIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLnhvcmAsIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLCB0aGF0IGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5cyBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiB2YWx1ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVhvcihhcnJheXMsIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlVW5pcShhcnJheXNbMF0pIDogW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNbaW5kZXhdLFxuICAgICAgICAgICAgb3RoSW5kZXggPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytvdGhJbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGlmIChvdGhJbmRleCAhPSBpbmRleCkge1xuICAgICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGJhc2VEaWZmZXJlbmNlKHJlc3VsdFtpbmRleF0gfHwgYXJyYXksIGFycmF5c1tvdGhJbmRleF0sIGl0ZXJhdGVlLCBjb21wYXJhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihyZXN1bHQsIDEpLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnppcE9iamVjdGAgd2hpY2ggYXNzaWducyB2YWx1ZXMgdXNpbmcgYGFzc2lnbkZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduRnVuYyBUaGUgZnVuY3Rpb24gdG8gYXNzaWduIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VaaXBPYmplY3QocHJvcHMsIHZhbHVlcywgYXNzaWduRnVuYykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICAgIHZhbHNMZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpbmRleCA8IHZhbHNMZW5ndGggPyB2YWx1ZXNbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgICBhc3NpZ25GdW5jKHJlc3VsdCwgcHJvcHNbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYW4gZW1wdHkgYXJyYXkgaWYgaXQncyBub3QgYW4gYXJyYXkgbGlrZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgY2FzdCBhcnJheS1saWtlIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXlMaWtlT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpID8gdmFsdWUgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGBpZGVudGl0eWAgaWYgaXQncyBub3QgYSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgY2FzdCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0RnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogaWRlbnRpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBhIHBhdGggYXJyYXkgaWYgaXQncyBub3Qgb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0tleSh2YWx1ZSwgb2JqZWN0KSA/IFt2YWx1ZV0gOiBzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGBiYXNlUmVzdGAgYWxpYXMgd2hpY2ggY2FuIGJlIHJlcGxhY2VkIHdpdGggYGlkZW50aXR5YCBieSBtb2R1bGVcbiAgICAgKiByZXBsYWNlbWVudCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB2YXIgY2FzdFJlc3QgPSBiYXNlUmVzdDtcblxuICAgIC8qKlxuICAgICAqIENhc3RzIGBhcnJheWAgdG8gYSBzbGljZSBpZiBpdCdzIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IHNsaWNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICAgIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogZW5kO1xuICAgICAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgd3JhcHBlciBhcm91bmQgdGhlIGdsb2JhbCBbYGNsZWFyVGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL2NsZWFyVGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfE9iamVjdH0gaWQgVGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0IG9mIHRoZSB0aW1lciB0byBjbGVhci5cbiAgICAgKi9cbiAgICB2YXIgY2xlYXJUaW1lb3V0ID0gY3R4Q2xlYXJUaW1lb3V0IHx8IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gcm9vdC5jbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgIGBidWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0J1ZmZlcn0gYnVmZmVyIFRoZSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBidWZmZXIubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGFsbG9jVW5zYWZlID8gYWxsb2NVbnNhZmUobGVuZ3RoKSA6IG5ldyBidWZmZXIuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYXJyYXkgYnVmZmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYXJyYXlCdWZmZXIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7XG4gICAgICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgZGF0YSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkge1xuICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIoZGF0YVZpZXcuYnVmZmVyKSA6IGRhdGFWaWV3LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgZGF0YVZpZXcuY29uc3RydWN0b3IoYnVmZmVyLCBkYXRhVmlldy5ieXRlT2Zmc2V0LCBkYXRhVmlldy5ieXRlTGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgcmVnZXhwLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lUmVnRXhwKHJlZ2V4cCkge1xuICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpO1xuICAgICAgcmVzdWx0Lmxhc3RJbmRleCA9IHJlZ2V4cC5sYXN0SW5kZXg7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBzeW1ib2wgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lU3ltYm9sKHN5bWJvbCkge1xuICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB0eXBlZEFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHR5cGVkQXJyYXkgVGhlIHR5cGVkIGFycmF5IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKHR5cGVkQXJyYXkuYnVmZmVyKSA6IHR5cGVkQXJyYXkuYnVmZmVyO1xuICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGFyZXMgdmFsdWVzIHRvIHNvcnQgdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYHZhbHVlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYXJlQXNjZW5kaW5nKHZhbHVlLCBvdGhlcikge1xuICAgICAgaWYgKHZhbHVlICE9PSBvdGhlcikge1xuICAgICAgICB2YXIgdmFsSXNEZWZpbmVkID0gdmFsdWUgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbElzTnVsbCA9IHZhbHVlID09PSBudWxsLFxuICAgICAgICAgICAgdmFsSXNSZWZsZXhpdmUgPSB2YWx1ZSA9PT0gdmFsdWUsXG4gICAgICAgICAgICB2YWxJc1N5bWJvbCA9IGlzU3ltYm9sKHZhbHVlKTtcblxuICAgICAgICB2YXIgb3RoSXNEZWZpbmVkID0gb3RoZXIgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IG90aGVyID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBvdGhlciA9PT0gb3RoZXIsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKG90aGVyKTtcblxuICAgICAgICBpZiAoKCFvdGhJc051bGwgJiYgIW90aElzU3ltYm9sICYmICF2YWxJc1N5bWJvbCAmJiB2YWx1ZSA+IG90aGVyKSB8fFxuICAgICAgICAgICAgKHZhbElzU3ltYm9sICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSAmJiAhb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgICh2YWxJc051bGwgJiYgb3RoSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCF2YWxJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhdmFsSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCF2YWxJc051bGwgJiYgIXZhbElzU3ltYm9sICYmICFvdGhJc1N5bWJvbCAmJiB2YWx1ZSA8IG90aGVyKSB8fFxuICAgICAgICAgICAgKG90aElzU3ltYm9sICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSAmJiAhdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCkgfHxcbiAgICAgICAgICAgIChvdGhJc051bGwgJiYgdmFsSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgKCFvdGhJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUpIHx8XG4gICAgICAgICAgICAhb3RoSXNSZWZsZXhpdmUpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub3JkZXJCeWAgdG8gY29tcGFyZSBtdWx0aXBsZSBwcm9wZXJ0aWVzIG9mIGEgdmFsdWUgdG8gYW5vdGhlclxuICAgICAqIGFuZCBzdGFibGUgc29ydCB0aGVtLlxuICAgICAqXG4gICAgICogSWYgYG9yZGVyc2AgaXMgdW5zcGVjaWZpZWQsIGFsbCB2YWx1ZXMgYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSxcbiAgICAgKiBzcGVjaWZ5IGFuIG9yZGVyIG9mIFwiZGVzY1wiIGZvciBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyXG4gICAgICogb2YgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFuW118c3RyaW5nW119IG9yZGVycyBUaGUgb3JkZXIgdG8gc29ydCBieSBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzb3J0IG9yZGVyIGluZGljYXRvciBmb3IgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgb2JqQ3JpdGVyaWEgPSBvYmplY3QuY3JpdGVyaWEsXG4gICAgICAgICAgb3RoQ3JpdGVyaWEgPSBvdGhlci5jcml0ZXJpYSxcbiAgICAgICAgICBsZW5ndGggPSBvYmpDcml0ZXJpYS5sZW5ndGgsXG4gICAgICAgICAgb3JkZXJzTGVuZ3RoID0gb3JkZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNvbXBhcmVBc2NlbmRpbmcob2JqQ3JpdGVyaWFbaW5kZXhdLCBvdGhDcml0ZXJpYVtpbmRleF0pO1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGluZGV4ID49IG9yZGVyc0xlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG9yZGVyID0gb3JkZXJzW2luZGV4XTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogKG9yZGVyID09ICdkZXNjJyA/IC0xIDogMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpeGVzIGFuIGBBcnJheSNzb3J0YCBidWcgaW4gdGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBhcHBsaWNhdGlvbnNcbiAgICAgIC8vIHRoYXQgY2F1c2VzIGl0LCB1bmRlciBjZXJ0YWluIGNpcmN1bXN0YW5jZXMsIHRvIHByb3ZpZGUgdGhlIHNhbWUgdmFsdWUgZm9yXG4gICAgICAvLyBgb2JqZWN0YCBhbmQgYG90aGVyYC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNoa2VuYXMvdW5kZXJzY29yZS9wdWxsLzEyNDdcbiAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAvL1xuICAgICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAgIC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD05MCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgcmV0dXJuIG9iamVjdC5pbmRleCAtIG90aGVyLmluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLFxuICAgICAqIHBsYWNlaG9sZGVycywgYW5kIHByb3ZpZGVkIGFyZ3VtZW50cyBpbnRvIGEgc2luZ2xlIGFycmF5IG9mIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCkge1xuICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmdzLmxlbmd0aCxcbiAgICAgICAgICBob2xkZXJzTGVuZ3RoID0gaG9sZGVycy5sZW5ndGgsXG4gICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgbGVmdExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVmdExlbmd0aCArIHJhbmdlTGVuZ3RoKSxcbiAgICAgICAgICBpc1VuY3VycmllZCA9ICFpc0N1cnJpZWQ7XG5cbiAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtob2xkZXJzW2FyZ3NJbmRleF1dID0gYXJnc1thcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAocmFuZ2VMZW5ndGgtLSkge1xuICAgICAgICByZXN1bHRbbGVmdEluZGV4KytdID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgY29tcG9zZUFyZ3NgIGV4Y2VwdCB0aGF0IHRoZSBhcmd1bWVudHMgY29tcG9zaXRpb25cbiAgICAgKiBpcyB0YWlsb3JlZCBmb3IgYF8ucGFydGlhbFJpZ2h0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlIHByb3ZpZGVkLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGhvbGRlcnMgVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW1zIHtib29sZWFufSBbaXNDdXJyaWVkXSBTcGVjaWZ5IGNvbXBvc2luZyBmb3IgYSBjdXJyaWVkIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbXBvc2VkIGFyZ3VtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlQXJnc1JpZ2h0KGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0luZGV4ID0gLTEsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIHJpZ2h0SW5kZXggPSAtMSxcbiAgICAgICAgICByaWdodExlbmd0aCA9IHBhcnRpYWxzLmxlbmd0aCxcbiAgICAgICAgICByYW5nZUxlbmd0aCA9IG5hdGl2ZU1heChhcmdzTGVuZ3RoIC0gaG9sZGVyc0xlbmd0aCwgMCksXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkocmFuZ2VMZW5ndGggKyByaWdodExlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKythcmdzSW5kZXggPCByYW5nZUxlbmd0aCkge1xuICAgICAgICByZXN1bHRbYXJnc0luZGV4XSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZzZXQgPSBhcmdzSW5kZXg7XG4gICAgICB3aGlsZSAoKytyaWdodEluZGV4IDwgcmlnaHRMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIHJpZ2h0SW5kZXhdID0gcGFydGlhbHNbcmlnaHRJbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytob2xkZXJzSW5kZXggPCBob2xkZXJzTGVuZ3RoKSB7XG4gICAgICAgIGlmIChpc1VuY3VycmllZCB8fCBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W29mZnNldCArIGhvbGRlcnNbaG9sZGVyc0luZGV4XV0gPSBhcmdzW2FyZ3NJbmRleCsrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIHZhbHVlcyBvZiBgc291cmNlYCB0byBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIGZyb20uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUFycmF5KHNvdXJjZSwgYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGg7XG5cbiAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBjb3B5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIHZhciBpc05ldyA9ICFvYmplY3Q7XG4gICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgICA/IGN1c3RvbWl6ZXIob2JqZWN0W2tleV0sIHNvdXJjZVtrZXldLCBrZXksIG9iamVjdCwgc291cmNlKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNOZXcpIHtcbiAgICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIGFuZCBpbmhlcml0ZWQgc3ltYm9scyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyB0by5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzSW4oc291cmNlLCBvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHNvdXJjZSwgZ2V0U3ltYm9sc0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uZ3JvdXBCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaW5pdGlhbGl6ZXJdIFRoZSBhY2N1bXVsYXRvciBvYmplY3QgaW5pdGlhbGl6ZXIuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWdncmVnYXRvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlciwgaW5pdGlhbGl6ZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUFnZ3JlZ2F0b3IgOiBiYXNlQWdncmVnYXRvcixcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gaW5pdGlhbGl6ZXIgPyBpbml0aWFsaXplcigpIDoge307XG5cbiAgICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgc2V0dGVyLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIGFjY3VtdWxhdG9yKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYXNzaWduZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPiAxID8gc291cmNlc1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGd1YXJkID0gbGVuZ3RoID4gMiA/IHNvdXJjZXNbMl0gOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICAgICAgPyAobGVuZ3RoLS0sIGN1c3RvbWl6ZXIpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICAgIGN1c3RvbWl6ZXIgPSBsZW5ndGggPCAzID8gdW5kZWZpbmVkIDogY3VzdG9taXplcjtcbiAgICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICBhc3NpZ25lcihvYmplY3QsIHNvdXJjZSwgaW5kZXgsIGN1c3RvbWl6ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBiYXNlRWFjaGAgb3IgYGJhc2VFYWNoUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlYWNoRnVuYyBUaGUgZnVuY3Rpb24gdG8gaXRlcmF0ZSBvdmVyIGEgY29sbGVjdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VFYWNoKGVhY2hGdW5jLCBmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgICBpZiAoY29sbGVjdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBlYWNoRnVuYyhjb2xsZWN0aW9uLCBpdGVyYXRlZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxuICAgICAgICAgICAgaW5kZXggPSBmcm9tUmlnaHQgPyBsZW5ndGggOiAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbVJpZ2h0ID8gaW5kZXgtLSA6ICsraW5kZXggPCBsZW5ndGgpKSB7XG4gICAgICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2luZGV4XSwgaW5kZXgsIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gaW52b2tlIGl0IHdpdGggdGhlIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGlzQmluZCA/IHRoaXNBcmcgOiB0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuXG4gICAgICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICAgICAgPyBzdHJpbmdUb0FycmF5KHN0cmluZylcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gc3RyU3ltYm9sc1swXVxuICAgICAgICAgIDogc3RyaW5nLmNoYXJBdCgwKTtcblxuICAgICAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMSkuam9pbignJylcbiAgICAgICAgICA6IHN0cmluZy5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uY2FtZWxDYXNlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmUgZWFjaCB3b3JkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ29tcG91bmRlcihjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb2R1Y2VzIGFuIGluc3RhbmNlIG9mIGBDdG9yYCByZWdhcmRsZXNzIG9mXG4gICAgICogd2hldGhlciBpdCB3YXMgaW52b2tlZCBhcyBwYXJ0IG9mIGEgYG5ld2AgZXhwcmVzc2lvbiBvciBieSBgY2FsbGAgb3IgYGFwcGx5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ3RvciBUaGUgY29uc3RydWN0b3IgdG8gd3JhcC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUN0b3IoQ3Rvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBVc2UgYSBgc3dpdGNoYCBzdGF0ZW1lbnQgdG8gd29yayB3aXRoIGNsYXNzIGNvbnN0cnVjdG9ycy4gU2VlXG4gICAgICAgIC8vIGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtZnVuY3Rpb24tb2JqZWN0cy1jYWxsLXRoaXNhcmd1bWVudC1hcmd1bWVudHNsaXN0XG4gICAgICAgIC8vIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgY2FzZSAwOiByZXR1cm4gbmV3IEN0b3I7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSk7XG4gICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgY2FzZSA0OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gICAgICAgICAgY2FzZSA1OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSk7XG4gICAgICAgICAgY2FzZSA2OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSk7XG4gICAgICAgICAgY2FzZSA3OiByZXR1cm4gbmV3IEN0b3IoYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSwgYXJnc1s0XSwgYXJnc1s1XSwgYXJnc1s2XSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gYmFzZUNyZWF0ZShDdG9yLnByb3RvdHlwZSksXG4gICAgICAgICAgICByZXN1bHQgPSBDdG9yLmFwcGx5KHRoaXNCaW5kaW5nLCBhcmdzKTtcblxuICAgICAgICAvLyBNaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvci5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDEzLjIuMiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gZW5hYmxlIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFyaXR5IFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJyeShmdW5jLCBiaXRtYXNrLCBhcml0eSkge1xuICAgICAgdmFyIEN0b3IgPSBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGgsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKTtcblxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIGFyZ3NbaW5kZXhdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaG9sZGVycyA9IChsZW5ndGggPCAzICYmIGFyZ3NbMF0gIT09IHBsYWNlaG9sZGVyICYmIGFyZ3NbbGVuZ3RoIC0gMV0gIT09IHBsYWNlaG9sZGVyKVxuICAgICAgICAgID8gW11cbiAgICAgICAgICA6IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBsZW5ndGggLT0gaG9sZGVycy5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzLCBob2xkZXJzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYXJpdHkgLSBsZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmluZGAgb3IgYF8uZmluZExhc3RgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kSW5kZXhGdW5jIFRoZSBmdW5jdGlvbiB0byBmaW5kIHRoZSBjb2xsZWN0aW9uIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZpbmQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlRmluZChmaW5kSW5kZXhGdW5jKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgICAgdmFyIGl0ZXJhYmxlID0gT2JqZWN0KGNvbGxlY3Rpb24pO1xuICAgICAgICBpZiAoIWlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgICAgICBjb2xsZWN0aW9uID0ga2V5cyhjb2xsZWN0aW9uKTtcbiAgICAgICAgICBwcmVkaWNhdGUgPSBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpOyB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IGZpbmRJbmRleEZ1bmMoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBmcm9tSW5kZXgpO1xuICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGl0ZXJhYmxlW2l0ZXJhdGVlID8gY29sbGVjdGlvbltpbmRleF0gOiBpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgXy5mbG93YCBvciBgXy5mbG93UmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbG93IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb3coZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZmxhdFJlc3QoZnVuY3Rpb24oZnVuY3MpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcHJlcmVxID0gTG9kYXNoV3JhcHBlci5wcm90b3R5cGUudGhydTtcblxuICAgICAgICBpZiAoZnJvbVJpZ2h0KSB7XG4gICAgICAgICAgZnVuY3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jc1tpbmRleF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByZXJlcSAmJiAhd3JhcHBlciAmJiBnZXRGdW5jTmFtZShmdW5jKSA9PSAnd3JhcHBlcicpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gbmV3IExvZGFzaFdyYXBwZXIoW10sIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IHdyYXBwZXIgPyBpbmRleCA6IGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBmdW5jID0gZnVuY3NbaW5kZXhdO1xuXG4gICAgICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgICAgIGRhdGEgPSBmdW5jTmFtZSA9PSAnd3JhcHBlcicgPyBnZXREYXRhKGZ1bmMpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKGRhdGEgJiYgaXNMYXppYWJsZShkYXRhWzBdKSAmJlxuICAgICAgICAgICAgICAgIGRhdGFbMV0gPT0gKFdSQVBfQVJZX0ZMQUcgfCBXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVs0XS5sZW5ndGggJiYgZGF0YVs5XSA9PSAxXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgd3JhcHBlciA9IHdyYXBwZXJbZ2V0RnVuY05hbWUoZGF0YVswXSldLmFwcGx5KHdyYXBwZXIsIGRhdGFbM10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3cmFwcGVyID0gKGZ1bmMubGVuZ3RoID09IDEgJiYgaXNMYXppYWJsZShmdW5jKSlcbiAgICAgICAgICAgICAgPyB3cmFwcGVyW2Z1bmNOYW1lXSgpXG4gICAgICAgICAgICAgIDogd3JhcHBlci50aHJ1KGZ1bmMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICAgIHZhbHVlID0gYXJnc1swXTtcblxuICAgICAgICAgIGlmICh3cmFwcGVyICYmIGFyZ3MubGVuZ3RoID09IDEgJiYgaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVyLnBsYW50KHZhbHVlKS52YWx1ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgICByZXN1bHQgPSBsZW5ndGggPyBmdW5jc1tpbmRleF0uYXBwbHkodGhpcywgYXJncykgOiB2YWx1ZTtcblxuICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jc1tpbmRleF0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIG9wdGlvbmFsIGB0aGlzYFxuICAgICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgLCBwYXJ0aWFsIGFwcGxpY2F0aW9uLCBhbmQgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBmdW5jIFRoZSBmdW5jdGlvbiBvciBtZXRob2QgbmFtZSB0byB3cmFwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzXSBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc1JpZ2h0XSBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZFxuICAgICAqICB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtob2xkZXJzUmlnaHRdIFRoZSBgcGFydGlhbHNSaWdodGAgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVIeWJyaWQoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIHBhcnRpYWxzUmlnaHQsIGhvbGRlcnNSaWdodCwgYXJnUG9zLCBhcnksIGFyaXR5KSB7XG4gICAgICB2YXIgaXNBcnkgPSBiaXRtYXNrICYgV1JBUF9BUllfRkxBRyxcbiAgICAgICAgICBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kS2V5ID0gYml0bWFzayAmIFdSQVBfQklORF9LRVlfRkxBRyxcbiAgICAgICAgICBpc0N1cnJpZWQgPSBiaXRtYXNrICYgKFdSQVBfQ1VSUllfRkxBRyB8IFdSQVBfQ1VSUllfUklHSFRfRkxBRyksXG4gICAgICAgICAgaXNGbGlwID0gYml0bWFzayAmIFdSQVBfRkxJUF9GTEFHLFxuICAgICAgICAgIEN0b3IgPSBpc0JpbmRLZXkgPyB1bmRlZmluZWQgOiBjcmVhdGVDdG9yKGZ1bmMpO1xuXG4gICAgICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycmllZCkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlciA9IGdldEhvbGRlcih3cmFwcGVyKSxcbiAgICAgICAgICAgICAgaG9sZGVyc0NvdW50ID0gY291bnRIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydGlhbHMpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3MoYXJncywgcGFydGlhbHMsIGhvbGRlcnMsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzUmlnaHQpIHtcbiAgICAgICAgICBhcmdzID0gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGlzQ3VycmllZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnNDb3VudDtcbiAgICAgICAgaWYgKGlzQ3VycmllZCAmJiBsZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIHZhciBuZXdIb2xkZXJzID0gcmVwbGFjZUhvbGRlcnMoYXJncywgcGxhY2Vob2xkZXIpO1xuICAgICAgICAgIHJldHVybiBjcmVhdGVSZWN1cnJ5KFxuICAgICAgICAgICAgZnVuYywgYml0bWFzaywgY3JlYXRlSHlicmlkLCB3cmFwcGVyLnBsYWNlaG9sZGVyLCB0aGlzQXJnLFxuICAgICAgICAgICAgYXJncywgbmV3SG9sZGVycywgYXJnUG9zLCBhcnksIGFyaXR5IC0gbGVuZ3RoXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcyxcbiAgICAgICAgICAgIGZuID0gaXNCaW5kS2V5ID8gdGhpc0JpbmRpbmdbZnVuY10gOiBmdW5jO1xuXG4gICAgICAgIGxlbmd0aCA9IGFyZ3MubGVuZ3RoO1xuICAgICAgICBpZiAoYXJnUG9zKSB7XG4gICAgICAgICAgYXJncyA9IHJlb3JkZXIoYXJncywgYXJnUG9zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0ZsaXAgJiYgbGVuZ3RoID4gMSkge1xuICAgICAgICAgIGFyZ3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FyeSAmJiBhcnkgPCBsZW5ndGgpIHtcbiAgICAgICAgICBhcmdzLmxlbmd0aCA9IGFyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSB7XG4gICAgICAgICAgZm4gPSBDdG9yIHx8IGNyZWF0ZUN0b3IoZm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5pbnZlcnRCeWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHNldHRlciBUaGUgZnVuY3Rpb24gdG8gc2V0IGFjY3VtdWxhdG9yIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0b0l0ZXJhdGVlIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIGl0ZXJhdGVlcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZlcnRlcihzZXR0ZXIsIHRvSXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIHRvSXRlcmF0ZWUoaXRlcmF0ZWUpLCB7fSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgbWF0aGVtYXRpY2FsIG9wZXJhdGlvbiBvbiB0d28gdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcGVyYXRvciBUaGUgZnVuY3Rpb24gdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgdXNlZCBmb3IgYHVuZGVmaW5lZGAgYXJndW1lbnRzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlTWF0aE9wZXJhdGlvbihvcGVyYXRvciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvU3RyaW5nKG90aGVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBiYXNlVG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgb3RoZXIgPSBiYXNlVG9OdW1iZXIob3RoZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLm92ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhcnJheUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgb3ZlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVPdmVyKGFycmF5RnVuYykge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGl0ZXJhdGVlcykge1xuICAgICAgICBpdGVyYXRlZXMgPSBhcnJheU1hcChpdGVyYXRlZXMsIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSk7XG4gICAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgICAgdmFyIHRoaXNBcmcgPSB0aGlzO1xuICAgICAgICAgIHJldHVybiBhcnJheUZ1bmMoaXRlcmF0ZWVzLCBmdW5jdGlvbihpdGVyYXRlZSkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYWRkaW5nIGZvciBgc3RyaW5nYCBiYXNlZCBvbiBgbGVuZ3RoYC4gVGhlIGBjaGFyc2Agc3RyaW5nXG4gICAgICogaXMgdHJ1bmNhdGVkIGlmIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBleGNlZWRzIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFkZGluZyhsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBjaGFycyA9IGNoYXJzID09PSB1bmRlZmluZWQgPyAnICcgOiBiYXNlVG9TdHJpbmcoY2hhcnMpO1xuXG4gICAgICB2YXIgY2hhcnNMZW5ndGggPSBjaGFycy5sZW5ndGg7XG4gICAgICBpZiAoY2hhcnNMZW5ndGggPCAyKSB7XG4gICAgICAgIHJldHVybiBjaGFyc0xlbmd0aCA/IGJhc2VSZXBlYXQoY2hhcnMsIGxlbmd0aCkgOiBjaGFycztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlUmVwZWF0KGNoYXJzLCBuYXRpdmVDZWlsKGxlbmd0aCAvIHN0cmluZ1NpemUoY2hhcnMpKSk7XG4gICAgICByZXR1cm4gaGFzVW5pY29kZShjaGFycylcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShyZXN1bHQpLCAwLCBsZW5ndGgpLmpvaW4oJycpXG4gICAgICAgIDogcmVzdWx0LnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZ1xuICAgICAqIG9mIGB0aGlzQXJnYCBhbmQgYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gdGhpc0FyZyBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHBhcnRpYWxzIFRoZSBhcmd1bWVudHMgdG8gcHJlcGVuZCB0byB0aG9zZSBwcm92aWRlZCB0b1xuICAgICAqICB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUGFydGlhbChmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfRkxBRyxcbiAgICAgICAgICBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGFyZ3NJbmRleCA9IC0xLFxuICAgICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBsZWZ0SW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVmdExlbmd0aCArIGFyZ3NMZW5ndGgpLFxuICAgICAgICAgICAgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuXG4gICAgICAgIHdoaWxlICgrK2xlZnRJbmRleCA8IGxlZnRMZW5ndGgpIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleF0gPSBwYXJ0aWFsc1tsZWZ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChhcmdzTGVuZ3RoLS0pIHtcbiAgICAgICAgICBhcmdzW2xlZnRJbmRleCsrXSA9IGFyZ3VtZW50c1srK2FyZ3NJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcGx5KGZuLCBpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd3JhcHBlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8ucmFuZ2VgIG9yIGBfLnJhbmdlUmlnaHRgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByYW5nZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSYW5nZShmcm9tUmlnaHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgICAgIGlmIChzdGVwICYmIHR5cGVvZiBzdGVwICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKHN0YXJ0LCBlbmQsIHN0ZXApKSB7XG4gICAgICAgICAgZW5kID0gc3RlcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBFbnN1cmUgdGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gICAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gdG9GaW5pdGUoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gKHN0YXJ0IDwgZW5kID8gMSA6IC0xKSA6IHRvRmluaXRlKHN0ZXApO1xuICAgICAgICByZXR1cm4gYmFzZVJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXAsIGZyb21SaWdodCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcmVsYXRpb25hbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZWxhdGlvbmFsIG9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWxhdGlvbmFsT3BlcmF0aW9uKG9wZXJhdG9yKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIGlmICghKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2Ygb3RoZXIgPT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b051bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3RoZXIgPSB0b051bWJlcihvdGhlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wZXJhdG9yKHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBjb250aW51ZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBGdW5jIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGBmdW5jYCB3cmFwcGVyLlxuICAgICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSZWN1cnJ5KGZ1bmMsIGJpdG1hc2ssIHdyYXBGdW5jLCBwbGFjZWhvbGRlciwgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQ3VycnkgPSBiaXRtYXNrICYgV1JBUF9DVVJSWV9GTEFHLFxuICAgICAgICAgIG5ld0hvbGRlcnMgPSBpc0N1cnJ5ID8gaG9sZGVycyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdIb2xkZXJzUmlnaHQgPSBpc0N1cnJ5ID8gdW5kZWZpbmVkIDogaG9sZGVycyxcbiAgICAgICAgICBuZXdQYXJ0aWFscyA9IGlzQ3VycnkgPyBwYXJ0aWFscyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBuZXdQYXJ0aWFsc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IHBhcnRpYWxzO1xuXG4gICAgICBiaXRtYXNrIHw9IChpc0N1cnJ5ID8gV1JBUF9QQVJUSUFMX0ZMQUcgOiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyk7XG4gICAgICBiaXRtYXNrICY9IH4oaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9SSUdIVF9GTEFHIDogV1JBUF9QQVJUSUFMX0ZMQUcpO1xuXG4gICAgICBpZiAoIShiaXRtYXNrICYgV1JBUF9DVVJSWV9CT1VORF9GTEFHKSkge1xuICAgICAgICBiaXRtYXNrICY9IH4oV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld0RhdGEgPSBbXG4gICAgICAgIGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIG5ld1BhcnRpYWxzLCBuZXdIb2xkZXJzLCBuZXdQYXJ0aWFsc1JpZ2h0LFxuICAgICAgICBuZXdIb2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eVxuICAgICAgXTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHdyYXBGdW5jLmFwcGx5KHVuZGVmaW5lZCwgbmV3RGF0YSk7XG4gICAgICBpZiAoaXNMYXppYWJsZShmdW5jKSkge1xuICAgICAgICBzZXREYXRhKHJlc3VsdCwgbmV3RGF0YSk7XG4gICAgICB9XG4gICAgICByZXN1bHQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICAgIHJldHVybiBzZXRXcmFwVG9TdHJpbmcocmVzdWx0LCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5yb3VuZGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgTWF0aGAgbWV0aG9kIHRvIHVzZSB3aGVuIHJvdW5kaW5nLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHJvdW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvdW5kKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gTWF0aFttZXRob2ROYW1lXTtcbiAgICAgIHJldHVybiBmdW5jdGlvbihudW1iZXIsIHByZWNpc2lvbikge1xuICAgICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT0gbnVsbCA/IDAgOiBuYXRpdmVNaW4odG9JbnRlZ2VyKHByZWNpc2lvbiksIDI5Mik7XG4gICAgICAgIGlmIChwcmVjaXNpb24pIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQoYXJyYXkpO1xuICAgICAgaWYgKHN0YWNrZWQgJiYgc3RhY2suZ2V0KG90aGVyKSkge1xuICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQXNzdW1lIGN5Y2xpYyB2YWx1ZXMgYXJlIGVxdWFsLlxuICAgICAgdmFyIHN0YWNrZWQgPSBzdGFjay5nZXQob2JqZWN0KTtcbiAgICAgIGlmIChzdGFja2VkICYmIHN0YWNrLmdldChvdGhlcikpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrZWQgPT0gb3RoZXI7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgIHN0YWNrLnNldChvYmplY3QsIG90aGVyKTtcbiAgICAgIHN0YWNrLnNldChvdGhlciwgb2JqZWN0KTtcblxuICAgICAgdmFyIHNraXBDdG9yID0gaXNQYXJ0aWFsO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBvYmpMZW5ndGgpIHtcbiAgICAgICAga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICB2YXIgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJba2V5XTtcblxuICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgIHZhciBjb21wYXJlZCA9IGlzUGFydGlhbFxuICAgICAgICAgICAgPyBjdXN0b21pemVyKG90aFZhbHVlLCBvYmpWYWx1ZSwga2V5LCBvdGhlciwgb2JqZWN0LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihvYmpWYWx1ZSwgb3RoVmFsdWUsIGtleSwgb2JqZWN0LCBvdGhlciwgc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBpZiAoIShjb21wYXJlZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgID8gKG9ialZhbHVlID09PSBvdGhWYWx1ZSB8fCBlcXVhbEZ1bmMob2JqVmFsdWUsIG90aFZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykpXG4gICAgICAgICAgICAgIDogY29tcGFyZWRcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBza2lwQ3RvciB8fCAoc2tpcEN0b3IgPSBrZXkgPT0gJ2NvbnN0cnVjdG9yJyk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICYmICFza2lwQ3Rvcikge1xuICAgICAgICB2YXIgb2JqQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcixcbiAgICAgICAgICAgIG90aEN0b3IgPSBvdGhlci5jb25zdHJ1Y3RvcjtcblxuICAgICAgICAvLyBOb24gYE9iamVjdGAgb2JqZWN0IGluc3RhbmNlcyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVhbC5cbiAgICAgICAgaWYgKG9iakN0b3IgIT0gb3RoQ3RvciAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gb2JqZWN0ICYmICdjb25zdHJ1Y3RvcicgaW4gb3RoZXIpICYmXG4gICAgICAgICAgICAhKHR5cGVvZiBvYmpDdG9yID09ICdmdW5jdGlvbicgJiYgb2JqQ3RvciBpbnN0YW5jZW9mIG9iakN0b3IgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIG90aEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBvdGhDdG9yIGluc3RhbmNlb2Ygb3RoQ3RvcikpIHtcbiAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG9iamVjdCk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCBmbGF0dGVucyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0UmVzdChmdW5jKSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgdW5kZWZpbmVkLCBmbGF0dGVuKSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5cywgZ2V0U3ltYm9scyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZFxuICAgICAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCBzeW1ib2xzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXNJbiwgZ2V0U3ltYm9sc0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG1ldGFkYXRhIGZvciBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBnZXREYXRhID0gIW1ldGFNYXAgPyBub29wIDogZnVuY3Rpb24oZnVuYykge1xuICAgICAgcmV0dXJuIG1ldGFNYXAuZ2V0KGZ1bmMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYW1lIG9mIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRGdW5jTmFtZShmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gKGZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICBhcnJheSA9IHJlYWxOYW1lc1tyZXN1bHRdLFxuICAgICAgICAgIGxlbmd0aCA9IGhhc093blByb3BlcnR5LmNhbGwocmVhbE5hbWVzLCByZXN1bHQpID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXJyYXlbbGVuZ3RoXSxcbiAgICAgICAgICAgIG90aGVyRnVuYyA9IGRhdGEuZnVuYztcbiAgICAgICAgaWYgKG90aGVyRnVuYyA9PSBudWxsIHx8IG90aGVyRnVuYyA9PSBmdW5jKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEubmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcmd1bWVudCBwbGFjZWhvbGRlciB2YWx1ZSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIb2xkZXIoZnVuYykge1xuICAgICAgdmFyIG9iamVjdCA9IGhhc093blByb3BlcnR5LmNhbGwobG9kYXNoLCAncGxhY2Vob2xkZXInKSA/IGxvZGFzaCA6IGZ1bmM7XG4gICAgICByZXR1cm4gb2JqZWN0LnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIFwiaXRlcmF0ZWVcIiBmdW5jdGlvbi4gSWYgYF8uaXRlcmF0ZWVgIGlzIGN1c3RvbWl6ZWQsXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXN0b20gbWV0aG9kLCBvdGhlcndpc2UgaXQgcmV0dXJucyBgYmFzZUl0ZXJhdGVlYC5cbiAgICAgKiBJZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCB0aGUgY2hvc2VuIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCB0aGVtIGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlXSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhbiBpdGVyYXRlZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgdGhlIGNyZWF0ZWQgaXRlcmF0ZWUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjaG9zZW4gZnVuY3Rpb24gb3IgaXRzIHJlc3VsdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRlZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2guaXRlcmF0ZWUgfHwgaXRlcmF0ZWU7XG4gICAgICByZXN1bHQgPSByZXN1bHQgPT09IGl0ZXJhdGVlID8gYmFzZUl0ZXJhdGVlIDogcmVzdWx0O1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyByZXN1bHQoYXJndW1lbnRzWzBdLCBhcmd1bWVudHNbMV0pIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWFwIGRhdGEuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWFwRGF0YShtYXAsIGtleSkge1xuICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187XG4gICAgICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICAgICAgPyBkYXRhW3R5cGVvZiBrZXkgPT0gJ3N0cmluZycgPyAnc3RyaW5nJyA6ICdoYXNoJ11cbiAgICAgICAgOiBkYXRhLm1hcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcm9wZXJ0eSBuYW1lcywgdmFsdWVzLCBhbmQgY29tcGFyZSBmbGFncyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbWF0Y2ggZGF0YSBvZiBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRNYXRjaERhdGEob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ga2V5cyhvYmplY3QpLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIga2V5ID0gcmVzdWx0W2xlbmd0aF0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIHJlc3VsdFtsZW5ndGhdID0gW2tleSwgdmFsdWUsIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBuYXRpdmUgZnVuY3Rpb24gYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICAgICAgcmV0dXJuIGJhc2VJc05hdGl2ZSh2YWx1ZSkgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgICAgIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAgIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIGlmICh1bm1hc2tlZCkge1xuICAgICAgICBpZiAoaXNPd24pIHtcbiAgICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgIHJldHVybiBhcnJheUZpbHRlcihuYXRpdmVHZXRTeW1ib2xzKG9iamVjdCksIGZ1bmN0aW9uKHN5bWJvbCkge1xuICAgICAgICByZXR1cm4gcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmplY3QsIHN5bWJvbCk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBzeW1ib2xzLlxuICAgICAqL1xuICAgIHZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgd2hpbGUgKG9iamVjdCkge1xuICAgICAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgICAgICBvYmplY3QgPSBnZXRQcm90b3R5cGUob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGB0b1N0cmluZ1RhZ2Agb2YgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZztcblxuICAgIC8vIEZhbGxiYWNrIGZvciBkYXRhIHZpZXdzLCBtYXBzLCBzZXRzLCBhbmQgd2VhayBtYXBzIGluIElFIDExIGFuZCBwcm9taXNlcyBpbiBOb2RlLmpzIDwgNi5cbiAgICBpZiAoKERhdGFWaWV3ICYmIGdldFRhZyhuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gZGF0YVZpZXdUYWcpIHx8XG4gICAgICAgIChNYXAgJiYgZ2V0VGFnKG5ldyBNYXApICE9IG1hcFRhZykgfHxcbiAgICAgICAgKFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnKSB8fFxuICAgICAgICAoU2V0ICYmIGdldFRhZyhuZXcgU2V0KSAhPSBzZXRUYWcpIHx8XG4gICAgICAgIChXZWFrTWFwICYmIGdldFRhZyhuZXcgV2Vha01hcCkgIT0gd2Vha01hcFRhZykpIHtcbiAgICAgIGdldFRhZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBiYXNlR2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjdG9yU3RyaW5nID0gQ3RvciA/IHRvU291cmNlKEN0b3IpIDogJyc7XG5cbiAgICAgICAgaWYgKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgZGF0YVZpZXdDdG9yU3RyaW5nOiByZXR1cm4gZGF0YVZpZXdUYWc7XG4gICAgICAgICAgICBjYXNlIG1hcEN0b3JTdHJpbmc6IHJldHVybiBtYXBUYWc7XG4gICAgICAgICAgICBjYXNlIHByb21pc2VDdG9yU3RyaW5nOiByZXR1cm4gcHJvbWlzZVRhZztcbiAgICAgICAgICAgIGNhc2Ugc2V0Q3RvclN0cmluZzogcmV0dXJuIHNldFRhZztcbiAgICAgICAgICAgIGNhc2Ugd2Vha01hcEN0b3JTdHJpbmc6IHJldHVybiB3ZWFrTWFwVGFnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB2aWV3LCBhcHBseWluZyBhbnkgYHRyYW5zZm9ybXNgIHRvIHRoZSBgc3RhcnRgIGFuZCBgZW5kYCBwb3NpdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHRyYW5zZm9ybXMgVGhlIHRyYW5zZm9ybWF0aW9ucyB0byBhcHBseSB0byB0aGUgdmlldy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgc3RhcnRgIGFuZCBgZW5kYFxuICAgICAqICBwb3NpdGlvbnMgb2YgdGhlIHZpZXcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VmlldyhzdGFydCwgZW5kLCB0cmFuc2Zvcm1zKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB0cmFuc2Zvcm1zLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0cmFuc2Zvcm1zW2luZGV4XSxcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG5cbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcbiAgICAgICAgICBjYXNlICdkcm9wJzogICAgICBzdGFydCArPSBzaXplOyBicmVhaztcbiAgICAgICAgICBjYXNlICdkcm9wUmlnaHQnOiBlbmQgLT0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZSc6ICAgICAgZW5kID0gbmF0aXZlTWluKGVuZCwgc3RhcnQgKyBzaXplKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGFrZVJpZ2h0Jzogc3RhcnQgPSBuYXRpdmVNYXgoc3RhcnQsIGVuZCAtIHNpemUpOyBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHsgJ3N0YXJ0Jzogc3RhcnQsICdlbmQnOiBlbmQgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB3cmFwcGVyIGRldGFpbHMgZnJvbSB0aGUgYHNvdXJjZWAgYm9keSBjb21tZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdyYXBwZXIgZGV0YWlscy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRXcmFwRGV0YWlscyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaCA9IHNvdXJjZS5tYXRjaChyZVdyYXBEZXRhaWxzKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnNwbGl0KHJlU3BsaXREZXRhaWxzKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgZXhpc3RzIG9uIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFzRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2sgcHJvcGVydGllcy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBoYXNGdW5jKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSB0b0tleShwYXRoW2luZGV4XSk7XG4gICAgICAgIGlmICghKHJlc3VsdCA9IG9iamVjdCAhPSBudWxsICYmIGhhc0Z1bmMob2JqZWN0LCBrZXkpKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCB8fCArK2luZGV4ICE9IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgbGVuZ3RoID0gb2JqZWN0ID09IG51bGwgPyAwIDogb2JqZWN0Lmxlbmd0aDtcbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJiBpc0xlbmd0aChsZW5ndGgpICYmIGlzSW5kZXgoa2V5LCBsZW5ndGgpICYmXG4gICAgICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gYXJyYXkgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBhcnJheS5jb25zdHJ1Y3RvcihsZW5ndGgpO1xuXG4gICAgICAvLyBBZGQgcHJvcGVydGllcyBhc3NpZ25lZCBieSBgUmVnRXhwI2V4ZWNgLlxuICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHtcbiAgICAgICAgcmVzdWx0LmluZGV4ID0gYXJyYXkuaW5kZXg7XG4gICAgICAgIHJlc3VsdC5pbnB1dCA9IGFycmF5LmlucHV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVPYmplY3Qob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKVxuICAgICAgICA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIG9iamVjdCBjbG9uZSBiYXNlZCBvbiBpdHMgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY2xvbmluZyB2YWx1ZXMgd2l0aCB0YWdzIG9mXG4gICAgICogYEJvb2xlYW5gLCBgRGF0ZWAsIGBFcnJvcmAsIGBNYXBgLCBgTnVtYmVyYCwgYFJlZ0V4cGAsIGBTZXRgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIGB0b1N0cmluZ1RhZ2Agb2YgdGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGluaXRpYWxpemVkIGNsb25lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluaXRDbG9uZUJ5VGFnKG9iamVjdCwgdGFnLCBpc0RlZXApIHtcbiAgICAgIHZhciBDdG9yID0gb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgYm9vbFRhZzpcbiAgICAgICAgY2FzZSBkYXRlVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3Rvcigrb2JqZWN0KTtcblxuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIGZsb2F0MzJUYWc6IGNhc2UgZmxvYXQ2NFRhZzpcbiAgICAgICAgY2FzZSBpbnQ4VGFnOiBjYXNlIGludDE2VGFnOiBjYXNlIGludDMyVGFnOlxuICAgICAgICBjYXNlIHVpbnQ4VGFnOiBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzogY2FzZSB1aW50MTZUYWc6IGNhc2UgdWludDMyVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApO1xuXG4gICAgICAgIGNhc2UgbWFwVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIG51bWJlclRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSByZWdleHBUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lUmVnRXhwKG9iamVjdCk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBDdG9yO1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgd3JhcHBlciBgZGV0YWlsc2AgaW4gYSBjb21tZW50IGF0IHRoZSB0b3Agb2YgdGhlIGBzb3VyY2VgIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2UgVGhlIHNvdXJjZSB0byBtb2RpZnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBkZXRhaWxzIFRoZSBkZXRhaWxzIHRvIGluc2VydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBtb2RpZmllZCBzb3VyY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCBkZXRhaWxzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZGV0YWlscy5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgdmFyIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBkZXRhaWxzW2xhc3RJbmRleF0gPSAobGVuZ3RoID4gMSA/ICcmICcgOiAnJykgKyBkZXRhaWxzW2xhc3RJbmRleF07XG4gICAgICBkZXRhaWxzID0gZGV0YWlscy5qb2luKGxlbmd0aCA+IDIgPyAnLCAnIDogJyAnKTtcbiAgICAgIHJldHVybiBzb3VyY2UucmVwbGFjZShyZVdyYXBDb21tZW50LCAne1xcbi8qIFt3cmFwcGVkIHdpdGggJyArIGRldGFpbHMgKyAnXSAqL1xcbicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmbGF0dGVuYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkgfHxcbiAgICAgICAgISEoc3ByZWFkYWJsZVN5bWJvbCAmJiB2YWx1ZSAmJiB2YWx1ZVtzcHJlYWRhYmxlU3ltYm9sXSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgICAgIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgICAgICh2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgdmFsdWUgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIG9iamVjdCBhcmd1bWVudC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGFyZ3VtZW50cyBhcmUgZnJvbSBhbiBpdGVyYXRlZSBjYWxsLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJdGVyYXRlZUNhbGwodmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInXG4gICAgICAgICAgICA/IChpc0FycmF5TGlrZShvYmplY3QpICYmIGlzSW5kZXgoaW5kZXgsIG9iamVjdC5sZW5ndGgpKVxuICAgICAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBlcShvYmplY3RbaW5kZXhdLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5KHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgICAgICB2YWx1ZSA9PSBudWxsIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZUlzUGxhaW5Qcm9wLnRlc3QodmFsdWUpIHx8ICFyZUlzRGVlcFByb3AudGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgICAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgICAgIDogKHZhbHVlID09PSBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaGFzIGEgbGF6eSBjb3VudGVycGFydCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGF6aWFibGUoZnVuYykge1xuICAgICAgdmFyIGZ1bmNOYW1lID0gZ2V0RnVuY05hbWUoZnVuYyksXG4gICAgICAgICAgb3RoZXIgPSBsb2Rhc2hbZnVuY05hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIG90aGVyICE9ICdmdW5jdGlvbicgfHwgIShmdW5jTmFtZSBpbiBMYXp5V3JhcHBlci5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmdW5jID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhID0gZ2V0RGF0YShvdGhlcik7XG4gICAgICByZXR1cm4gISFkYXRhICYmIGZ1bmMgPT09IGRhdGFbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYGZ1bmNgIGlzIGNhcGFibGUgb2YgYmVpbmcgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2thYmxlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgdmFyIGlzTWFza2FibGUgPSBjb3JlSnNEYXRhID8gaXNGdW5jdGlvbiA6IHN0dWJGYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHN0cmljdCBlcXVhbGl0eSBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaWYgc3VpdGFibGUgZm9yIHN0cmljdFxuICAgICAqICBlcXVhbGl0eSBjb21wYXJpc29ucywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaWN0Q29tcGFyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSAmJiAhaXNPYmplY3QodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgbWF0Y2hlc1Byb3BlcnR5YCBmb3Igc291cmNlIHZhbHVlcyBzdWl0YWJsZVxuICAgICAqIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUoa2V5LCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdFtrZXldID09PSBzcmNWYWx1ZSAmJlxuICAgICAgICAgIChzcmNWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IChrZXkgaW4gT2JqZWN0KG9iamVjdCkpKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1lbW9pemVgIHdoaWNoIGNsZWFycyB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24nc1xuICAgICAqIGNhY2hlIHdoZW4gaXQgZXhjZWVkcyBgTUFYX01FTU9JWkVfU0laRWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZW1vaXplQ2FwcGVkKGZ1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoY2FjaGUuc2l6ZSA9PT0gTUFYX01FTU9JWkVfU0laRSkge1xuICAgICAgICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1lcmdlcyB0aGUgZnVuY3Rpb24gbWV0YWRhdGEgb2YgYHNvdXJjZWAgaW50byBgZGF0YWAuXG4gICAgICpcbiAgICAgKiBNZXJnaW5nIG1ldGFkYXRhIHJlZHVjZXMgdGhlIG51bWJlciBvZiB3cmFwcGVycyB1c2VkIHRvIGludm9rZSBhIGZ1bmN0aW9uLlxuICAgICAqIFRoaXMgaXMgcG9zc2libGUgYmVjYXVzZSBtZXRob2RzIGxpa2UgYF8uYmluZGAsIGBfLmN1cnJ5YCwgYW5kIGBfLnBhcnRpYWxgXG4gICAgICogbWF5IGJlIGFwcGxpZWQgcmVnYXJkbGVzcyBvZiBleGVjdXRpb24gb3JkZXIuIE1ldGhvZHMgbGlrZSBgXy5hcnlgIGFuZFxuICAgICAqIGBfLnJlYXJnYCBtb2RpZnkgZnVuY3Rpb24gYXJndW1lbnRzLCBtYWtpbmcgdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlXG4gICAgICogZXhlY3V0ZWQgaW1wb3J0YW50LCBwcmV2ZW50aW5nIHRoZSBtZXJnaW5nIG9mIG1ldGFkYXRhLiBIb3dldmVyLCB3ZSBtYWtlXG4gICAgICogYW4gZXhjZXB0aW9uIGZvciBhIHNhZmUgY29tYmluZWQgY2FzZSB3aGVyZSBjdXJyaWVkIGZ1bmN0aW9ucyBoYXZlIGBfLmFyeWBcbiAgICAgKiBhbmQgb3IgYF8ucmVhcmdgIGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgVGhlIGRlc3RpbmF0aW9uIG1ldGFkYXRhLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgc291cmNlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgZGF0YWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVyZ2VEYXRhKGRhdGEsIHNvdXJjZSkge1xuICAgICAgdmFyIGJpdG1hc2sgPSBkYXRhWzFdLFxuICAgICAgICAgIHNyY0JpdG1hc2sgPSBzb3VyY2VbMV0sXG4gICAgICAgICAgbmV3Qml0bWFzayA9IGJpdG1hc2sgfCBzcmNCaXRtYXNrLFxuICAgICAgICAgIGlzQ29tbW9uID0gbmV3Qml0bWFzayA8IChXUkFQX0JJTkRfRkxBRyB8IFdSQVBfQklORF9LRVlfRkxBRyB8IFdSQVBfQVJZX0ZMQUcpO1xuXG4gICAgICB2YXIgaXNDb21ibyA9XG4gICAgICAgICgoc3JjQml0bWFzayA9PSBXUkFQX0FSWV9GTEFHKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKSB8fFxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9SRUFSR19GTEFHKSAmJiAoZGF0YVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9SRUFSR19GTEFHKSkgJiYgKHNvdXJjZVs3XS5sZW5ndGggPD0gc291cmNlWzhdKSAmJiAoYml0bWFzayA9PSBXUkFQX0NVUlJZX0ZMQUcpKTtcblxuICAgICAgLy8gRXhpdCBlYXJseSBpZiBtZXRhZGF0YSBjYW4ndCBiZSBtZXJnZWQuXG4gICAgICBpZiAoIShpc0NvbW1vbiB8fCBpc0NvbWJvKSkge1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYHRoaXNBcmdgIGlmIGF2YWlsYWJsZS5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgZGF0YVsyXSA9IHNvdXJjZVsyXTtcbiAgICAgICAgLy8gU2V0IHdoZW4gY3VycnlpbmcgYSBib3VuZCBmdW5jdGlvbi5cbiAgICAgICAgbmV3Qml0bWFzayB8PSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcgPyAwIDogV1JBUF9DVVJSWV9CT1VORF9GTEFHO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIGFyZ3VtZW50cy5cbiAgICAgIHZhciB2YWx1ZSA9IHNvdXJjZVszXTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbHMgPSBkYXRhWzNdO1xuICAgICAgICBkYXRhWzNdID0gcGFydGlhbHMgPyBjb21wb3NlQXJncyhwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs0XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs0XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVszXSwgUExBQ0VIT0xERVIpIDogc291cmNlWzRdO1xuICAgICAgfVxuICAgICAgLy8gQ29tcG9zZSBwYXJ0aWFsIHJpZ2h0IGFyZ3VtZW50cy5cbiAgICAgIHZhbHVlID0gc291cmNlWzVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHBhcnRpYWxzID0gZGF0YVs1XTtcbiAgICAgICAgZGF0YVs1XSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3NSaWdodChwYXJ0aWFscywgdmFsdWUsIHNvdXJjZVs2XSkgOiB2YWx1ZTtcbiAgICAgICAgZGF0YVs2XSA9IHBhcnRpYWxzID8gcmVwbGFjZUhvbGRlcnMoZGF0YVs1XSwgUExBQ0VIT0xERVIpIDogc291cmNlWzZdO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJnUG9zYCBpZiBhdmFpbGFibGUuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs3XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBkYXRhWzddID0gdmFsdWU7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcnlgIGlmIGl0J3Mgc21hbGxlci5cbiAgICAgIGlmIChzcmNCaXRtYXNrICYgV1JBUF9BUllfRkxBRykge1xuICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSA9PSBudWxsID8gc291cmNlWzhdIDogbmF0aXZlTWluKGRhdGFbOF0sIHNvdXJjZVs4XSk7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBhcml0eWAgaWYgb25lIGlzIG5vdCBwcm92aWRlZC5cbiAgICAgIGlmIChkYXRhWzldID09IG51bGwpIHtcbiAgICAgICAgZGF0YVs5XSA9IHNvdXJjZVs5XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGZ1bmNgIGFuZCBtZXJnZSBiaXRtYXNrcy5cbiAgICAgIGRhdGFbMF0gPSBzb3VyY2VbMF07XG4gICAgICBkYXRhWzFdID0gbmV3Qml0bWFzaztcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gICAgICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICAgICAqIGV4Y2VwdCB0aGF0IGl0IGluY2x1ZGVzIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5hdGl2ZUtleXNJbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICovXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIHJlc3QgYXJyYXkgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG92ZXJSZXN0KGZ1bmMsIHN0YXJ0LCB0cmFuc2Zvcm0pIHtcbiAgICAgIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWF4KGFyZ3MubGVuZ3RoIC0gc3RhcnQsIDApLFxuICAgICAgICAgICAgYXJyYXkgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXlbaW5kZXhdID0gYXJnc1tzdGFydCArIGluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3RoZXJBcmdzID0gQXJyYXkoc3RhcnQgKyAxKTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBzdGFydCkge1xuICAgICAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICBvdGhlckFyZ3Nbc3RhcnRdID0gdHJhbnNmb3JtKGFycmF5KTtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcmVudCB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXRoIFRoZSBwYXRoIHRvIGdldCB0aGUgcGFyZW50IHZhbHVlIG9mLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwYXJlbnQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyZW50KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoIDwgMiA/IG9iamVjdCA6IGJhc2VHZXQob2JqZWN0LCBiYXNlU2xpY2UocGF0aCwgMCwgLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW9yZGVyIGBhcnJheWAgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgaW5kZXhlcyB3aGVyZSB0aGUgZWxlbWVudCBhdFxuICAgICAqIHRoZSBmaXJzdCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgZmlyc3QgZWxlbWVudCwgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgc2Vjb25kIGluZGV4IGlzIGFzc2lnbmVkIGFzIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcmVvcmRlci5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbmRleGVzIFRoZSBhcnJhbmdlZCBhcnJheSBpbmRleGVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlb3JkZXIoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBhcnJMZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgbGVuZ3RoID0gbmF0aXZlTWluKGluZGV4ZXMubGVuZ3RoLCBhcnJMZW5ndGgpLFxuICAgICAgICAgIG9sZEFycmF5ID0gY29weUFycmF5KGFycmF5KTtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGluZGV4ZXNbbGVuZ3RoXTtcbiAgICAgICAgYXJyYXlbbGVuZ3RoXSA9IGlzSW5kZXgoaW5kZXgsIGFyckxlbmd0aCkgPyBvbGRBcnJheVtpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIElmIHRoaXMgZnVuY3Rpb24gYmVjb21lcyBob3QsIGkuZS4gaXMgaW52b2tlZCBhIGxvdCBpbiBhIHNob3J0XG4gICAgICogcGVyaW9kIG9mIHRpbWUsIGl0IHdpbGwgdHJpcCBpdHMgYnJlYWtlciBhbmQgdHJhbnNpdGlvbiB0byBhbiBpZGVudGl0eVxuICAgICAqIGZ1bmN0aW9uIHRvIGF2b2lkIGdhcmJhZ2UgY29sbGVjdGlvbiBwYXVzZXMgaW4gVjguIFNlZVxuICAgICAqIFtWOCBpc3N1ZSAyMDcwXShodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDcwKVxuICAgICAqIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0RGF0YSA9IHNob3J0T3V0KGJhc2VTZXREYXRhKTtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BzZXRUaW1lb3V0YF0oaHR0cHM6Ly9tZG4uaW8vc2V0VGltZW91dCkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3YWl0IFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5IGludm9jYXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIHZhciBzZXRUaW1lb3V0ID0gY3R4U2V0VGltZW91dCB8fCBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgICByZXR1cm4gcm9vdC5zZXRUaW1lb3V0KGZ1bmMsIHdhaXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgZnVuY2AgdG8gcmV0dXJuIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBvZiBgd3JhcHBlcmAgdG8gbWltaWMgdGhlIHNvdXJjZSBvZiBgcmVmZXJlbmNlYFxuICAgICAqIHdpdGggd3JhcHBlciBkZXRhaWxzIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBzb3VyY2UgYm9keS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gd3JhcHBlciBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZmVyZW5jZSBUaGUgcmVmZXJlbmNlIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGB3cmFwcGVyYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRXcmFwVG9TdHJpbmcod3JhcHBlciwgcmVmZXJlbmNlLCBiaXRtYXNrKSB7XG4gICAgICB2YXIgc291cmNlID0gKHJlZmVyZW5jZSArICcnKTtcbiAgICAgIHJldHVybiBzZXRUb1N0cmluZyh3cmFwcGVyLCBpbnNlcnRXcmFwRGV0YWlscyhzb3VyY2UsIHVwZGF0ZVdyYXBEZXRhaWxzKGdldFdyYXBEZXRhaWxzKHNvdXJjZSksIGJpdG1hc2spKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gICAgICogb2YgYGZ1bmNgIHdoZW4gaXQncyBjYWxsZWQgYEhPVF9DT1VOVGAgb3IgbW9yZSB0aW1lcyBpbiBgSE9UX1NQQU5gXG4gICAgICogbWlsbGlzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvcnRPdXQoZnVuYykge1xuICAgICAgdmFyIGNvdW50ID0gMCxcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gMDtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgICAgIHJlbWFpbmluZyA9IEhPVF9TUEFOIC0gKHN0YW1wIC0gbGFzdENhbGxlZCk7XG5cbiAgICAgICAgbGFzdENhbGxlZCA9IHN0YW1wO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgIGlmICgrK2NvdW50ID49IEhPVF9DT1VOVCkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNodWZmbGVgIHdoaWNoIG11dGF0ZXMgYW5kIHNldHMgdGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPWFycmF5Lmxlbmd0aF0gVGhlIHNpemUgb2YgYGFycmF5YC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaHVmZmxlU2VsZihhcnJheSwgc2l6ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDE7XG5cbiAgICAgIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBzaXplKSB7XG4gICAgICAgIHZhciByYW5kID0gYmFzZVJhbmRvbShpbmRleCwgbGFzdEluZGV4KSxcbiAgICAgICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICAgICAgYXJyYXlbcmFuZF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgYXJyYXkubGVuZ3RoID0gc2l6ZTtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKi9cbiAgICB2YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChzdHJpbmcuY2hhckNvZGVBdCgwKSA9PT0gNDYgLyogLiAqLykge1xuICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICB9XG4gICAgICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3ViU3RyaW5nKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHN5bWJvbH0gUmV0dXJucyB0aGUga2V5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICAgICAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICAgICAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB3cmFwcGVyIGBkZXRhaWxzYCBiYXNlZCBvbiBgYml0bWFza2AgZmxhZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRldGFpbHNgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZVdyYXBEZXRhaWxzKGRldGFpbHMsIGJpdG1hc2spIHtcbiAgICAgIGFycmF5RWFjaCh3cmFwRmxhZ3MsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gJ18uJyArIHBhaXJbMF07XG4gICAgICAgIGlmICgoYml0bWFzayAmIHBhaXJbMV0pICYmICFhcnJheUluY2x1ZGVzKGRldGFpbHMsIHZhbHVlKSkge1xuICAgICAgICAgIGRldGFpbHMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRldGFpbHMuc29ydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgd3JhcHBlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3cmFwcGVyIFRoZSB3cmFwcGVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB3cmFwcGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDbG9uZSh3cmFwcGVyKSB7XG4gICAgICBpZiAod3JhcHBlciBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB7XG4gICAgICAgIHJldHVybiB3cmFwcGVyLmNsb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlci5fX3dyYXBwZWRfXywgd3JhcHBlci5fX2NoYWluX18pO1xuICAgICAgcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHdyYXBwZXIuX19hY3Rpb25zX18pO1xuICAgICAgcmVzdWx0Ll9faW5kZXhfXyAgPSB3cmFwcGVyLl9faW5kZXhfXztcbiAgICAgIHJlc3VsdC5fX3ZhbHVlc19fID0gd3JhcHBlci5fX3ZhbHVlc19fO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGVsZW1lbnRzIHNwbGl0IGludG8gZ3JvdXBzIHRoZSBsZW5ndGggb2YgYHNpemVgLlxuICAgICAqIElmIGBhcnJheWAgY2FuJ3QgYmUgc3BsaXQgZXZlbmx5LCB0aGUgZmluYWwgY2h1bmsgd2lsbCBiZSB0aGUgcmVtYWluaW5nXG4gICAgICogZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NpemU9MV0gVGhlIGxlbmd0aCBvZiBlYWNoIGNodW5rXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjaHVua3MuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDIpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYiddLCBbJ2MnLCAnZCddXVxuICAgICAqXG4gICAgICogXy5jaHVuayhbJ2EnLCAnYicsICdjJywgJ2QnXSwgMyk7XG4gICAgICogLy8gPT4gW1snYScsICdiJywgJ2MnXSwgWydkJ11dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2h1bmsoYXJyYXksIHNpemUsIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoYXJyYXksIHNpemUsIGd1YXJkKSA6IHNpemUgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgc2l6ZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaXplID0gbmF0aXZlTWF4KHRvSW50ZWdlcihzaXplKSwgMCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShuYXRpdmVDZWlsKGxlbmd0aCAvIHNpemUpKTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IGJhc2VTbGljZShhcnJheSwgaW5kZXgsIChpbmRleCArPSBzaXplKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICAgKiBgMGAsIGBcIlwiYCwgYHVuZGVmaW5lZGAsIGFuZCBgTmFOYCBhcmUgZmFsc2V5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbXBhY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvbXBhY3QoWzAsIDEsIGZhbHNlLCAyLCAnJywgM10pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhY3QoYXJyYXkpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGFycmF5IGNvbmNhdGVuYXRpbmcgYGFycmF5YCB3aXRoIGFueSBhZGRpdGlvbmFsIGFycmF5c1xuICAgICAqIGFuZC9vciB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29uY2F0ZW5hdGUuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGNvbmNhdGVuYXRlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzFdO1xuICAgICAqIHZhciBvdGhlciA9IF8uY29uY2F0KGFycmF5LCAyLCBbM10sIFtbNF1dKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG90aGVyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgWzRdXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGggLSAxKSxcbiAgICAgICAgICBhcnJheSA9IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICBpbmRleCA9IGxlbmd0aDtcblxuICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgYXJnc1tpbmRleCAtIDFdID0gYXJndW1lbnRzW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheVB1c2goaXNBcnJheShhcnJheSkgPyBjb3B5QXJyYXkoYXJyYXkpIDogW2FycmF5XSwgYmFzZUZsYXR0ZW4oYXJncywgMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgYGFycmF5YCB2YWx1ZXMgbm90IGluY2x1ZGVkIGluIHRoZSBvdGhlciBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8ud2l0aG91dCwgXy54b3JcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSkpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRpZmZlcmVuY2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxCeWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgW3sgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KHZhbHVlcyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgb3JkZXIgYW5kXG4gICAgICogcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbEFsbFdpdGhgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5kaWZmZXJlbmNlV2l0aChvYmplY3RzLCBbeyAneCc6IDEsICd5JzogMiB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBkaWZmZXJlbmNlV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGNvbXBhcmF0b3IpKSB7XG4gICAgICAgIGNvbXBhcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGJlZ2lubmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjUuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3AoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBkcm9wLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgZW5kLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBleGNsdWRpbmcgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICogRWxlbWVudHMgYXJlIGRyb3BwZWQgdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZHJvcFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgdHJ1ZSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWxscyBlbGVtZW50cyBvZiBgYXJyYXlgIHdpdGggYHZhbHVlYCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3RcbiAgICAgKiBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5maWxsKGFycmF5LCAnYScpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYScsICdhJ11cbiAgICAgKlxuICAgICAqIF8uZmlsbChBcnJheSgzKSwgMik7XG4gICAgICogLy8gPT4gWzIsIDIsIDJdXG4gICAgICpcbiAgICAgKiBfLmZpbGwoWzQsIDYsIDgsIDEwXSwgJyonLCAxLCAzKTtcbiAgICAgKiAvLyA9PiBbNCwgJyonLCAnKicsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlLCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgJiYgdHlwZW9mIHN0YXJ0ICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiB0cnVlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAnYmFybmV5JzsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgeyAndXNlcic6ICdmcmVkJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGZyb21JbmRleCA9PSBudWxsID8gMCA6IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICBpbmRleCA9IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEluZGV4YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzXG4gICAgICogb2YgYGNvbGxlY3Rpb25gIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby51c2VyID09ICdwZWJibGVzJzsgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEluZGV4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICAgIGlmIChmcm9tSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IHRvSW50ZWdlcihmcm9tSW5kZXgpO1xuICAgICAgICBpbmRleCA9IGZyb21JbmRleCA8IDBcbiAgICAgICAgICA/IG5hdGl2ZU1heChsZW5ndGggKyBpbmRleCwgMClcbiAgICAgICAgICA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZUZpbmRJbmRleChhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsYXR0ZW5zIGBhcnJheWAgYSBzaW5nbGUgbGV2ZWwgZGVlcC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBmbGF0dGVucyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZWVwKFsxLCBbMiwgWzMsIFs0XV0sIDVdXSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIDQsIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlZXAoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlRmxhdHRlbihhcnJheSwgSU5GSU5JVFkpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbiBgYXJyYXlgIHVwIHRvIGBkZXB0aGAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlcHRoPTFdIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCBbMiwgWzMsIFs0XV0sIDVdXTtcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbkRlcHRoKGFycmF5LCAxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgWzMsIFs0XV0sIDVdXG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuRGVwdGgoYXJyYXksIGRlcHRoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBpbnZlcnNlIG9mIGBfLnRvUGFpcnNgOyB0aGlzIG1ldGhvZCByZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZFxuICAgICAqIGZyb20ga2V5LXZhbHVlIGBwYWlyc2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZnJvbVBhaXJzKFtbJ2EnLCAxXSwgWydiJywgMl1dKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUGFpcnMocGFpcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhaXJzID09IG51bGwgPyAwIDogcGFpcnMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0W3BhaXJbMF1dID0gcGFpclsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIGZpcnN0XG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaGVhZChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIF8uaGVhZChbXSk7XG4gICAgICogLy8gPT4gdW5kZWZpbmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVhZChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYXJyYXlbMF0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYHZhbHVlYCBpcyBmb3VuZCBpbiBgYXJyYXlgXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCdzIHVzZWQgYXMgdGhlXG4gICAgICogb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbmRleE9mKFsxLCAyLCAxLCAyXSwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gU2VhcmNoIGZyb20gdGhlIGBmcm9tSW5kZXhgLlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VJbmRleE9mKGFycmF5LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGJ1dCB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0aWFsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAwLCAtMSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBhcmUgaW5jbHVkZWQgaW4gYWxsIGdpdmVuIGFycmF5c1xuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzJdXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG4gICAgICByZXR1cm4gKG1hcHBlZC5sZW5ndGggJiYgbWFwcGVkWzBdID09PSBhcnJheXNbMF0pXG4gICAgICAgID8gYmFzZUludGVyc2VjdGlvbihtYXBwZWQpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjFdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmludGVyc2VjdGlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9XVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGlmIChpdGVyYXRlZSA9PT0gbGFzdChtYXBwZWQpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludGVyc2VjdGlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlc1xuICAgICAqIG9mIHJlc3VsdCB2YWx1ZXMgYXJlIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGludGVyc2VjdGluZyB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKiB2YXIgb3RoZXJzID0gW3sgJ3gnOiAxLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMiB9XTtcbiAgICAgKlxuICAgICAqIF8uaW50ZXJzZWN0aW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyksXG4gICAgICAgICAgbWFwcGVkID0gYXJyYXlNYXAoYXJyYXlzLCBjYXN0QXJyYXlMaWtlT2JqZWN0KTtcblxuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbWFwcGVkLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbGwgZWxlbWVudHMgaW4gYGFycmF5YCBpbnRvIGEgc3RyaW5nIHNlcGFyYXRlZCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VwYXJhdG9yPScsJ10gVGhlIGVsZW1lbnQgc2VwYXJhdG9yLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGpvaW5lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uam9pbihbJ2EnLCAnYicsICdjJ10sICd+Jyk7XG4gICAgICogLy8gPT4gJ2F+Yn5jJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oYXJyYXksIHNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIGFycmF5ID09IG51bGwgPyAnJyA6IG5hdGl2ZUpvaW4uY2FsbChhcnJheSwgc2VwYXJhdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsYXN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0KGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYGFycmF5YCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUluZGV4PWFycmF5Lmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmxhc3RJbmRleE9mKFsxLCAyLCAxLCAyXSwgMiwgMik7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhc3RJbmRleE9mKGFycmF5LCB2YWx1ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBsZW5ndGg7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBpbmRleCA8IDAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApIDogbmF0aXZlTWluKGluZGV4LCBsZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWVcbiAgICAgICAgPyBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KVxuICAgICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgaW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVsZW1lbnQgYXQgaW5kZXggYG5gIG9mIGBhcnJheWAuIElmIGBuYCBpcyBuZWdhdGl2ZSwgdGhlIG50aFxuICAgICAqIGVsZW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdkJ107XG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiBfLm50aChhcnJheSwgLTIpO1xuICAgICAqIC8vID0+ICdjJztcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGgoYXJyYXksIG4pIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VOdGgoYXJyYXksIHRvSW50ZWdlcihuKSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZ2l2ZW4gdmFsdWVzIGZyb20gYGFycmF5YCB1c2luZ1xuICAgICAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy53aXRob3V0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucmVtb3ZlYFxuICAgICAqIHRvIHJlbW92ZSBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHByZWRpY2F0ZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsKGFycmF5LCAnYScsICdjJyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbCA9IGJhc2VSZXN0KHB1bGxBbGwpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydhJywgJ2InLCAnYycsICdhJywgJ2InLCAnYyddO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsKGFycmF5LCBbJ2EnLCAnYyddKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydiJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGwoYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcylcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnB1bGxBbGxgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIGFuZCBgdmFsdWVzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uXG4gICAgICogYnkgd2hpY2ggdGhleSdyZSBjb21wYXJlZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmRpZmZlcmVuY2VCeWAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAzIH0sIHsgJ3gnOiAxIH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsQnkoYXJyYXksIFt7ICd4JzogMSB9LCB7ICd4JzogMyB9XSwgJ3gnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHVsbEFsbEJ5KGFycmF5LCB2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgIHRvIGB2YWx1ZXNgLiBUaGUgY29tcGFyYXRvciBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlV2l0aGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMywgJ3knOiA0IH0sIHsgJ3gnOiA1LCAneSc6IDYgfV07XG4gICAgICpcbiAgICAgKiBfLnB1bGxBbGxXaXRoKGFycmF5LCBbeyAneCc6IDMsICd5JzogNCB9XSwgXy5pc0VxdWFsKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDUsICd5JzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxXaXRoKGFycmF5LCB2YWx1ZXMsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMsIHVuZGVmaW5lZCwgY29tcGFyYXRvcilcbiAgICAgICAgOiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnRzIGZyb20gYGFycmF5YCBjb3JyZXNwb25kaW5nIHRvIGBpbmRleGVzYCBhbmQgcmV0dXJucyBhblxuICAgICAqIGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmF0YCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0gey4uLihudW1iZXJ8bnVtYmVyW10pfSBbaW5kZXhlc10gVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlbW92ZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqIHZhciBwdWxsZWQgPSBfLnB1bGxBdChhcnJheSwgWzEsIDNdKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYyddXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhwdWxsZWQpO1xuICAgICAqIC8vID0+IFsnYicsICdkJ11cbiAgICAgKi9cbiAgICB2YXIgcHVsbEF0ID0gZmxhdFJlc3QoZnVuY3Rpb24oYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBiYXNlQXQoYXJyYXksIGluZGV4ZXMpO1xuXG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBhcnJheU1hcChpbmRleGVzLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gaXNJbmRleChpbmRleCwgbGVuZ3RoKSA/ICtpbmRleCA6IGluZGV4O1xuICAgICAgfSkuc29ydChjb21wYXJlQXNjZW5kaW5nKSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBlbGVtZW50cyBmcm9tIGBhcnJheWAgdGhhdCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3JcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiB0aGUgcmVtb3ZlZCBlbGVtZW50cy4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZmlsdGVyYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLiBVc2UgYF8ucHVsbGBcbiAgICAgKiB0byBwdWxsIGVsZW1lbnRzIGZyb20gYW4gYXJyYXkgYnkgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgMywgNF07XG4gICAgICogdmFyIGV2ZW5zID0gXy5yZW1vdmUoYXJyYXksIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAzXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZXZlbnMpO1xuICAgICAqIC8vID0+IFsyLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmRleGVzID0gW10sXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgIGluZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyBgYXJyYXlgIHNvIHRoYXQgdGhlIGZpcnN0IGVsZW1lbnQgYmVjb21lcyB0aGUgbGFzdCwgdGhlIHNlY29uZFxuICAgICAqIGVsZW1lbnQgYmVjb21lcyB0aGUgc2Vjb25kIHRvIGxhc3QsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAgYW5kIGlzIGJhc2VkIG9uXG4gICAgICogW2BBcnJheSNyZXZlcnNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvcmV2ZXJzZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMiwgM107XG4gICAgICpcbiAgICAgKiBfLnJldmVyc2UoYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFszLCAyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJldmVyc2UoYXJyYXkpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gYXJyYXkgOiBuYXRpdmVSZXZlcnNlLmNhbGwoYXJyYXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGZyb20gYHN0YXJ0YCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgICAqIFtgQXJyYXkjc2xpY2VgXShodHRwczovL21kbi5pby9BcnJheS9zbGljZSkgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmVcbiAgICAgKiByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzbGljZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoZW5kICYmIHR5cGVvZiBlbmQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoYXJyYXksIHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgZW5kID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQgPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IHRvSW50ZWdlcihlbmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlcyBhIGJpbmFyeSBzZWFyY2ggdG8gZGV0ZXJtaW5lIHRoZSBsb3dlc3QgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4KFszMCwgNTBdLCA0MCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGUgdGhlaXJcbiAgICAgKiBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiA0IH0sIHsgJ3gnOiA1IH1dO1xuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleE9mKGFycmF5LCB2YWx1ZSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICB2YXIgaW5kZXggPSBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGluZGV4IDwgbGVuZ3RoICYmIGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zb3J0ZWRJbmRleGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaGlnaGVzdFxuICAgICAqIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkIGludG8gYGFycmF5YCBpbiBvcmRlciB0b1xuICAgICAqIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXgoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiA0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4KGFycmF5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkTGFzdEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4Qnkob2JqZWN0cywgeyAneCc6IDQgfSwgZnVuY3Rpb24obykgeyByZXR1cm4gby54OyB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sICd4Jyk7XG4gICAgICogLy8gPT4gMVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5sYXN0SW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgcGVyZm9ybXMgYSBiaW5hcnlcbiAgICAgKiBzZWFyY2ggb24gYSBzb3J0ZWQgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhPZihbNCwgNSwgNSwgNSwgNl0sIDUpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgdHJ1ZSkgLSAxO1xuICAgICAgICBpZiAoZXEoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0J3MgZGVzaWduZWQgYW5kIG9wdGltaXplZFxuICAgICAqIGZvciBzb3J0ZWQgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcShbMSwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5KVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcUJ5YCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkVW5pcUJ5KFsxLjEsIDEuMiwgMi4zLCAyLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMS4xLCAyLjNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkVW5pcUJ5KGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFpbChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhaWwoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIHJldHVybiBsZW5ndGggPyBiYXNlU2xpY2UoYXJyYXksIDEsIGxlbmd0aCkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGBuYCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gdGFrZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgMCwgbiA8IDAgPyAwIDogbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDIpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHQoYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBuID0gKGd1YXJkIHx8IG4gPT09IHVuZGVmaW5lZCkgPyAxIDogdG9JbnRlZ2VyKG4pO1xuICAgICAgbiA9IGxlbmd0aCAtIG47XG4gICAgICByZXR1cm4gYmFzZVNsaWNlKGFycmF5LCBuIDwgMCA/IDAgOiBuLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgZW5kLiBFbGVtZW50cyBhcmVcbiAgICAgKiB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VSaWdodFdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgZmFsc2UsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBlbGVtZW50cyB0YWtlbiBmcm9tIHRoZSBiZWdpbm5pbmcuIEVsZW1lbnRzXG4gICAgICogYXJlIHRha2VuIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aFxuICAgICAqIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgeyAndXNlcic6ICdiYXJuZXknLCAnYWN0aXZlJzogZmFsc2UgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVdoaWxlKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVdoaWxlKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VXaGlsZShhcnJheSwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMsIGluIG9yZGVyLCBmcm9tIGFsbCBnaXZlbiBhcnJheXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb24oWzJdLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciB1bmlvbiA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbSB0aGUgZmlyc3RcbiAgICAgKiBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21iaW5lZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pb25CeShbMi4xXSwgWzEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlvbkJ5KFt7ICd4JzogMSB9XSwgW3sgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbkJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlvbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFJlc3VsdCB2YWx1ZXMgYXJlIGNob3NlbiBmcm9tXG4gICAgICogdGhlIGZpcnN0IGFycmF5IGluIHdoaWNoIHRoZSB2YWx1ZSBvY2N1cnMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaW9uV2l0aChvYmplY3RzLCBvdGhlcnMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHVuaW9uV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4oYXJyYXlzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSwgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucywgaW4gd2hpY2ggb25seSB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBlYWNoIGVsZW1lbnRcbiAgICAgKiBpcyBrZXB0LiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyXG4gICAgICogaW4gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcShbMiwgMSwgMl0pO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5KSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHVuaXF1ZW5lc3MgaXMgY29tcHV0ZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlXG4gICAgICogb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OlxuICAgICAqICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcUJ5KFsyLjEsIDEuMiwgMi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzIuMSwgMS4yXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy51bmlxQnkoW3sgJ3gnOiAxIH0sIHsgJ3gnOiAyIH0sIHsgJ3gnOiAxIH1dLCAneCcpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGJhc2VVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaFxuICAgICAqIGlzIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlgLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpc1xuICAgICAqIGRldGVybWluZWQgYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LlRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBkdXBsaWNhdGUgZnJlZSBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnVuaXFXaXRoKG9iamVjdHMsIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuaXFXaXRoKGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGFuIGFycmF5IG9mIGdyb3VwZWRcbiAgICAgKiBlbGVtZW50cyBhbmQgY3JlYXRlcyBhbiBhcnJheSByZWdyb3VwaW5nIHRoZSBlbGVtZW50cyB0byB0aGVpciBwcmUtemlwXG4gICAgICogY29uZmlndXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjIuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKlxuICAgICAqIF8udW56aXAoemlwcGVkKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuemlwKGFycmF5KSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSAwO1xuICAgICAgYXJyYXkgPSBhcnJheUZpbHRlcihhcnJheSwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGdyb3VwKSkge1xuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChncm91cC5sZW5ndGgsIGxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJhc2VUaW1lcyhsZW5ndGgsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBhcnJheU1hcChhcnJheSwgYmFzZVByb3BlcnR5KGluZGV4KSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyByZWdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgcmVncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZWdyb3VwZWQgZWxlbWVudHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB6aXBwZWQgPSBfLnppcChbMSwgMl0sIFsxMCwgMjBdLCBbMTAwLCAyMDBdKTtcbiAgICAgKiAvLyA9PiBbWzEsIDEwLCAxMDBdLCBbMiwgMjAsIDIwMF1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwV2l0aCh6aXBwZWQsIF8uYWRkKTtcbiAgICAgKiAvLyA9PiBbMywgMzAsIDMwMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcFdpdGgoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB1bnppcChhcnJheSk7XG4gICAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5TWFwKHJlc3VsdCwgZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGl0ZXJhdGVlLCB1bmRlZmluZWQsIGdyb3VwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBnaXZlbiB2YWx1ZXMgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ucHVsbGAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ud2l0aG91dChbMiwgMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqL1xuICAgIHZhciB3aXRob3V0ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogW107XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgdGhhdCBpcyB0aGVcbiAgICAgKiBbc3ltbWV0cmljIGRpZmZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N5bW1ldHJpY19kaWZmZXJlbmNlKVxuICAgICAqIG9mIHRoZSBnaXZlbiBhcnJheXMuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlIG9yZGVyXG4gICAgICogdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAc2VlIF8uZGlmZmVyZW5jZSwgXy53aXRob3V0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yKFsyLCAxXSwgWzIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKi9cbiAgICB2YXIgeG9yID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IG9mIGVhY2ggYGFycmF5c2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieVxuICAgICAqIHdoaWNoIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzIGRldGVybWluZWRcbiAgICAgKiBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZVxuICAgICAqIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ueG9yQnkoWzIuMSwgMS4yXSwgWzIuMywgMy40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMiwgMy40XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy54b3JCeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChpdGVyYXRlZSkpIHtcbiAgICAgICAgaXRlcmF0ZWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ueG9yYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjb21wYXJhdG9yYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gY29tcGFyZSBlbGVtZW50cyBvZiBgYXJyYXlzYC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheXMuIFRoZSBjb21wYXJhdG9yIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLnhvcldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgeG9yV2l0aCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGNvbXBhcmF0b3IgPSBsYXN0KGFycmF5cyk7XG4gICAgICBjb21wYXJhdG9yID0gdHlwZW9mIGNvbXBhcmF0b3IgPT0gJ2Z1bmN0aW9uJyA/IGNvbXBhcmF0b3IgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gYmFzZVhvcihhcnJheUZpbHRlcihhcnJheXMsIGlzQXJyYXlMaWtlT2JqZWN0KSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIGZpcnN0IGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIHRoZSBzZWNvbmQgb2Ygd2hpY2ggY29udGFpbnMgdGhlXG4gICAgICogc2Vjb25kIGVsZW1lbnRzIG9mIHRoZSBnaXZlbiBhcnJheXMsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcChbJ2EnLCAnYiddLCBbMSwgMl0sIFt0cnVlLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxLCB0cnVlXSwgWydiJywgMiwgZmFsc2VdXVxuICAgICAqL1xuICAgIHZhciB6aXAgPSBiYXNlUmVzdCh1bnppcCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZyb21QYWlyc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyB0d28gYXJyYXlzLFxuICAgICAqIG9uZSBvZiBwcm9wZXJ0eSBpZGVudGlmaWVycyBhbmQgb25lIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdChbJ2EnLCAnYiddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdChwcm9wcywgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gYmFzZVppcE9iamVjdChwcm9wcyB8fCBbXSwgdmFsdWVzIHx8IFtdLCBhc3NpZ25WYWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBPYmplY3RgIGV4Y2VwdCB0aGF0IGl0IHN1cHBvcnRzIHByb3BlcnR5IHBhdGhzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BzPVtdXSBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlcz1bXV0gVGhlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcE9iamVjdERlZXAoWydhLmJbMF0uYycsICdhLmJbMV0uZCddLCBbMSwgMl0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogW3sgJ2MnOiAxIH0sIHsgJ2QnOiAyIH1dIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHppcE9iamVjdERlZXAocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYmFzZVNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy56aXBgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB0byBzcGVjaWZ5XG4gICAgICogaG93IGdyb3VwZWQgdmFsdWVzIHNob3VsZCBiZSBjb21iaW5lZC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICAgKiBlbGVtZW50cyBvZiBlYWNoIGdyb3VwOiAoLi4uZ3JvdXApLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gdG8gY29tYmluZVxuICAgICAqICBncm91cGVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnppcFdpdGgoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSwgZnVuY3Rpb24oYSwgYiwgYykge1xuICAgICAqICAgcmV0dXJuIGEgKyBiICsgYztcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBbMTExLCAyMjJdXG4gICAgICovXG4gICAgdmFyIHppcFdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIGl0ZXJhdGVlID0gbGVuZ3RoID4gMSA/IGFycmF5c1tsZW5ndGggLSAxXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaXRlcmF0ZWUgPSB0eXBlb2YgaXRlcmF0ZWUgPT0gJ2Z1bmN0aW9uJyA/IChhcnJheXMucG9wKCksIGl0ZXJhdGVlKSA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB1bnppcFdpdGgoYXJyYXlzLCBpdGVyYXRlZSk7XG4gICAgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB0aGF0IHdyYXBzIGB2YWx1ZWAgd2l0aCBleHBsaWNpdCBtZXRob2RcbiAgICAgKiBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC4gVGhlIHJlc3VsdCBvZiBzdWNoIHNlcXVlbmNlcyBtdXN0IGJlIHVud3JhcHBlZFxuICAgICAqIHdpdGggYF8jdmFsdWVgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWdlJzogMSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIHZhciB5b3VuZ2VzdCA9IF9cbiAgICAgKiAgIC5jaGFpbih1c2VycylcbiAgICAgKiAgIC5zb3J0QnkoJ2FnZScpXG4gICAgICogICAubWFwKGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgICAgcmV0dXJuIG8udXNlciArICcgaXMgJyArIG8uYWdlO1xuICAgICAqICAgfSlcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+ICdwZWJibGVzIGlzIDEnXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hhaW4odmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBsb2Rhc2godmFsdWUpO1xuICAgICAgcmVzdWx0Ll9fY2hhaW5fXyA9IHRydWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGludm9rZXMgYGludGVyY2VwdG9yYCBhbmQgcmV0dXJucyBgdmFsdWVgLiBUaGUgaW50ZXJjZXB0b3JcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0b1xuICAgICAqIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZSBpbiBvcmRlciB0byBtb2RpZnkgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pXG4gICAgICogIC50YXAoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgKiAgICAvLyBNdXRhdGUgaW5wdXQgYXJyYXkuXG4gICAgICogICAgYXJyYXkucG9wKCk7XG4gICAgICogIH0pXG4gICAgICogIC5yZXZlcnNlKClcbiAgICAgKiAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFwKHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgaW50ZXJjZXB0b3IodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udGFwYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgYGludGVyY2VwdG9yYC5cbiAgICAgKiBUaGUgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInBhc3MgdGhydVwiIHZhbHVlcyByZXBsYWNpbmcgaW50ZXJtZWRpYXRlXG4gICAgICogcmVzdWx0cyBpbiBhIG1ldGhvZCBjaGFpbiBzZXF1ZW5jZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW50ZXJjZXB0b3IgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oJyAgYWJjICAnKVxuICAgICAqICAuY2hhaW4oKVxuICAgICAqICAudHJpbSgpXG4gICAgICogIC50aHJ1KGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICogICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgICogIH0pXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJ1KHZhbHVlLCBpbnRlcmNlcHRvcikge1xuICAgICAgcmV0dXJuIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLmF0YC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGF0XG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfSwgNF0gfTtcbiAgICAgKlxuICAgICAqIF8ob2JqZWN0KS5hdChbJ2FbMF0uYi5jJywgJ2FbMV0nXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgd3JhcHBlckF0ID0gZmxhdFJlc3QoZnVuY3Rpb24ocGF0aHMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGgsXG4gICAgICAgICAgc3RhcnQgPSBsZW5ndGggPyBwYXRoc1swXSA6IDAsXG4gICAgICAgICAgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fLFxuICAgICAgICAgIGludGVyY2VwdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7IHJldHVybiBiYXNlQXQob2JqZWN0LCBwYXRocyk7IH07XG5cbiAgICAgIGlmIChsZW5ndGggPiAxIHx8IHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoIHx8XG4gICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSB8fCAhaXNJbmRleChzdGFydCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhydShpbnRlcmNlcHRvcik7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKHN0YXJ0LCArc3RhcnQgKyAobGVuZ3RoID8gMSA6IDApKTtcbiAgICAgIHZhbHVlLl9fYWN0aW9uc19fLnB1c2goe1xuICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICdhcmdzJzogW2ludGVyY2VwdG9yXSxcbiAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHZhbHVlLCB0aGlzLl9fY2hhaW5fXykudGhydShmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBpZiAobGVuZ3RoICYmICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICBhcnJheS5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZSB3aXRoIGV4cGxpY2l0IG1ldGhvZCBjaGFpbiBzZXF1ZW5jZXMgZW5hYmxlZC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNoYWluXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aG91dCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKS5oZWFkKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgICAqXG4gICAgICogLy8gQSBzZXF1ZW5jZSB3aXRoIGV4cGxpY2l0IGNoYWluaW5nLlxuICAgICAqIF8odXNlcnMpXG4gICAgICogICAuY2hhaW4oKVxuICAgICAqICAgLmhlYWQoKVxuICAgICAqICAgLnBpY2soJ3VzZXInKVxuICAgICAqICAgLnZhbHVlKCk7XG4gICAgICogLy8gPT4geyAndXNlcic6ICdiYXJuZXknIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2hhaW4oKSB7XG4gICAgICByZXR1cm4gY2hhaW4odGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZXMgdGhlIGNoYWluIHNlcXVlbmNlIGFuZCByZXR1cm5zIHRoZSB3cmFwcGVkIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBuYW1lIGNvbW1pdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgMl07XG4gICAgICogdmFyIHdyYXBwZWQgPSBfKGFycmF5KS5wdXNoKDMpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqXG4gICAgICogd3JhcHBlZCA9IHdyYXBwZWQuY29tbWl0KCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogd3JhcHBlZC5sYXN0KCk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJDb21taXQoKSB7XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodGhpcy52YWx1ZSgpLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmV4dCB2YWx1ZSBvbiBhIHdyYXBwZWQgb2JqZWN0IGZvbGxvd2luZyB0aGVcbiAgICAgKiBbaXRlcmF0b3IgcHJvdG9jb2xdKGh0dHBzOi8vbWRuLmlvL2l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmF0b3IpLlxuICAgICAqXG4gICAgICogQG5hbWUgbmV4dFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5leHQgaXRlcmF0b3IgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pO1xuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IGZhbHNlLCAndmFsdWUnOiAxIH1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMiB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogdHJ1ZSwgJ3ZhbHVlJzogdW5kZWZpbmVkIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyTmV4dCgpIHtcbiAgICAgIGlmICh0aGlzLl9fdmFsdWVzX18gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl9fdmFsdWVzX18gPSB0b0FycmF5KHRoaXMudmFsdWUoKSk7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZSA9IHRoaXMuX19pbmRleF9fID49IHRoaXMuX192YWx1ZXNfXy5sZW5ndGgsXG4gICAgICAgICAgdmFsdWUgPSBkb25lID8gdW5kZWZpbmVkIDogdGhpcy5fX3ZhbHVlc19fW3RoaXMuX19pbmRleF9fKytdO1xuXG4gICAgICByZXR1cm4geyAnZG9uZSc6IGRvbmUsICd2YWx1ZSc6IHZhbHVlIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyB0aGUgd3JhcHBlciB0byBiZSBpdGVyYWJsZS5cbiAgICAgKlxuICAgICAqIEBuYW1lIFN5bWJvbC5pdGVyYXRvclxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIHdyYXBwZXIgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWRbU3ltYm9sLml0ZXJhdG9yXSgpID09PSB3cmFwcGVkO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIEFycmF5LmZyb20od3JhcHBlZCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclRvSXRlcmF0b3IoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGNoYWluIHNlcXVlbmNlIHBsYW50aW5nIGB2YWx1ZWAgYXMgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBwbGFudFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBsYW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciB3cmFwcGVkID0gXyhbMSwgMl0pLm1hcChzcXVhcmUpO1xuICAgICAqIHZhciBvdGhlciA9IHdyYXBwZWQucGxhbnQoWzMsIDRdKTtcbiAgICAgKlxuICAgICAqIG90aGVyLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzksIDE2XVxuICAgICAqXG4gICAgICogd3JhcHBlZC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsxLCA0XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJQbGFudCh2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCxcbiAgICAgICAgICBwYXJlbnQgPSB0aGlzO1xuXG4gICAgICB3aGlsZSAocGFyZW50IGluc3RhbmNlb2YgYmFzZUxvZGFzaCkge1xuICAgICAgICB2YXIgY2xvbmUgPSB3cmFwcGVyQ2xvbmUocGFyZW50KTtcbiAgICAgICAgY2xvbmUuX19pbmRleF9fID0gMDtcbiAgICAgICAgY2xvbmUuX192YWx1ZXNfXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gY2xvbmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gY2xvbmU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzID0gY2xvbmU7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5fX3dyYXBwZWRfXztcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHRoZSB3cmFwcGVyIHZlcnNpb24gb2YgYF8ucmV2ZXJzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyB0aGUgd3JhcHBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBuYW1lIHJldmVyc2VcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXyhhcnJheSkucmV2ZXJzZSgpLnZhbHVlKClcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUmV2ZXJzZSgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICB2YXIgd3JhcHBlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5fX2FjdGlvbnNfXy5sZW5ndGgpIHtcbiAgICAgICAgICB3cmFwcGVkID0gbmV3IExhenlXcmFwcGVyKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHdyYXBwZWQgPSB3cmFwcGVkLnJldmVyc2UoKTtcbiAgICAgICAgd3JhcHBlZC5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgICAnZnVuYyc6IHRocnUsXG4gICAgICAgICAgJ2FyZ3MnOiBbcmV2ZXJzZV0sXG4gICAgICAgICAgJ3RoaXNBcmcnOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih3cmFwcGVkLCB0aGlzLl9fY2hhaW5fXyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy50aHJ1KHJldmVyc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSB0byByZXNvbHZlIHRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAbmFtZSB2YWx1ZVxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGFsaWFzIHRvSlNPTiwgdmFsdWVPZlxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKFsxLCAyLCAzXSkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyVmFsdWUoKSB7XG4gICAgICByZXR1cm4gYmFzZVdyYXBwZXJWYWx1ZSh0aGlzLl9fd3JhcHBlZF9fLCB0aGlzLl9fYWN0aW9uc19fKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGNvcnJlc3BvbmRpbmcgdmFsdWUgb2ZcbiAgICAgKiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IGBpdGVyYXRlZWAuIFRoZVxuICAgICAqIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbXBvc2VkIGFnZ3JlZ2F0ZSBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY291bnRCeShbNi4xLCA0LjIsIDYuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5jb3VudEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAgICovXG4gICAgdmFyIGNvdW50QnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgICsrcmVzdWx0W2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIDEpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciAqKmFsbCoqIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKiBJdGVyYXRpb24gaXMgc3RvcHBlZCBvbmNlIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIFtlbXB0eSBjb2xsZWN0aW9uc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRW1wdHlfc2V0KSBiZWNhdXNlXG4gICAgICogW2V2ZXJ5dGhpbmcgaXMgdHJ1ZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVmFjdW91c190cnV0aCkgb2ZcbiAgICAgKiBlbGVtZW50cyBvZiBlbXB0eSBjb2xsZWN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXZlcnkoW3RydWUsIDEsIG51bGwsICd5ZXMnXSwgQm9vbGVhbik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ldmVyeSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5RXZlcnkgOiBiYXNlRXZlcnk7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICAgKiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHRocmVlXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnJlbW92ZWAsIHRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLnJlamVjdFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgICAgIHZhciBpc0JpbmFyeSA9IHJlSXNCaW5hcnkudGVzdCh2YWx1ZSk7XG4gICAgICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICAgICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgICAgIDogKHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBwbGFpbiBvYmplY3QgZmxhdHRlbmluZyBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmdcbiAgICAgKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgcGxhaW4gb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMSB9LCBuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIF8udG9QbGFpbk9iamVjdChuZXcgRm9vKSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdCh2YWx1ZSwga2V5c0luKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHNhZmUgaW50ZWdlci4gQSBzYWZlIGludGVnZXIgY2FuIGJlIGNvbXBhcmVkIGFuZFxuICAgICAqIHJlcHJlc2VudGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIF8udG9TYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gOTAwNzE5OTI1NDc0MDk5MVxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKCczLjInKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgICAgID8gYmFzZUNsYW1wKHRvSW50ZWdlcih2YWx1ZSksIC1NQVhfU0FGRV9JTlRFR0VSLCBNQVhfU0FGRV9JTlRFR0VSKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAgICAgKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKG51bGwpO1xuICAgICAqIC8vID0+ICcnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKC0wKTtcbiAgICAgKiAvLyA9PiAnLTAnXG4gICAgICpcbiAgICAgKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gJzEsMiwzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIHRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuICAgICAqIFN1YnNlcXVlbnQgc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgIGFuZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gICAgICogW2BPYmplY3QuYXNzaWduYF0oaHR0cHM6Ly9tZG4uaW8vT2JqZWN0L2Fzc2lnbikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgKiAgIHRoaXMuYyA9IDM7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5iID0gMjtcbiAgICAgKiBCYXIucHJvdG90eXBlLmQgPSA0O1xuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBpZiAoaXNQcm90b3R5cGUoc291cmNlKSB8fCBpc0FycmF5TGlrZShzb3VyY2UpKSB7XG4gICAgICAgIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBzb3VyY2UgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbkluKHsgJ2EnOiAwIH0sIG5ldyBGb28sIG5ldyBCYXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMywgJ2QnOiA0IH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW4gPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSkge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25JbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBleHRlbmRXaXRoXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25JbldpdGgsIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGFzc2lnbkluV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5hc3NpZ25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBhc3NpZ25lZCB2YWx1ZXMuIElmIGBjdXN0b21pemVyYCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAsIGFzc2lnbm1lbnQgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggZml2ZSBhcmd1bWVudHM6IChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduSW5XaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICByZXR1cm4gXy5pc1VuZGVmaW5lZChvYmpWYWx1ZSkgPyBzcmNWYWx1ZSA6IG9ialZhbHVlO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBkZWZhdWx0cyA9IF8ucGFydGlhbFJpZ2h0KF8uYXNzaWduV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGNvcnJlc3BvbmRpbmcgdG8gYHBhdGhzYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9LCA0XSB9O1xuICAgICAqXG4gICAgICogXy5hdChvYmplY3QsIFsnYVswXS5iLmMnLCAnYVsxXSddKTtcbiAgICAgKiAvLyA9PiBbMywgNF1cbiAgICAgKi9cbiAgICB2YXIgYXQgPSBmbGF0UmVzdChiYXNlQXQpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBgcHJvdG90eXBlYCBvYmplY3QuIElmIGFcbiAgICAgKiBgcHJvcGVydGllc2Agb2JqZWN0IGlzIGdpdmVuLCBpdHMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXNcbiAgICAgKiBhcmUgYXNzaWduZWQgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBUaGUgcHJvcGVydGllcyB0byBhc3NpZ24gdG8gdGhlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBTaGFwZSgpIHtcbiAgICAgKiAgIHRoaXMueCA9IDA7XG4gICAgICogICB0aGlzLnkgPSAwO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgICAgKiAgIFNoYXBlLmNhbGwodGhpcyk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogQ2lyY2xlLnByb3RvdHlwZSA9IF8uY3JlYXRlKFNoYXBlLnByb3RvdHlwZSwge1xuICAgICAqICAgJ2NvbnN0cnVjdG9yJzogQ2lyY2xlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiB2YXIgY2lyY2xlID0gbmV3IENpcmNsZTtcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBDaXJjbGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY2lyY2xlIGluc3RhbmNlb2YgU2hhcGU7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcyA9PSBudWxsID8gcmVzdWx0IDogYmFzZUFzc2lnbihyZXN1bHQsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2VcbiAgICAgKiBvYmplY3RzIHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgZm9yIGFsbCBkZXN0aW5hdGlvbiBwcm9wZXJ0aWVzIHRoYXRcbiAgICAgKiByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogT25jZSBhIHByb3BlcnR5IGlzIHNldCwgYWRkaXRpb25hbCB2YWx1ZXMgb2YgdGhlIHNhbWUgcHJvcGVydHkgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNEZWVwXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGVmYXVsdHMoeyAnYSc6IDEgfSwgeyAnYic6IDIgfSwgeyAnYSc6IDMgfSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRzID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICB2YXIgbGVuZ3RoID0gc291cmNlcy5sZW5ndGg7XG4gICAgICB2YXIgZ3VhcmQgPSBsZW5ndGggPiAyID8gc291cmNlc1syXSA6IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgIHZhciBwcm9wcyA9IGtleXNJbihzb3VyY2UpO1xuICAgICAgICB2YXIgcHJvcHNJbmRleCA9IC0xO1xuICAgICAgICB2YXIgcHJvcHNMZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgICAgICAgd2hpbGUgKCsrcHJvcHNJbmRleCA8IHByb3BzTGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHByb3BzW3Byb3BzSW5kZXhdO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgKGVxKHZhbHVlLCBvYmplY3RQcm90b1trZXldKSAmJiAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSB7XG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kZWZhdWx0c2AgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgYXNzaWduc1xuICAgICAqIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IFtzb3VyY2VzXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZGVmYXVsdHNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0c0RlZXAoeyAnYSc6IHsgJ2InOiAyIH0gfSwgeyAnYSc6IHsgJ2InOiAxLCAnYyc6IDMgfSB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IDIsICdjJzogMyB9IH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHNEZWVwID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgYXJncy5wdXNoKHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSk7XG4gICAgICByZXR1cm4gYXBwbHkobWVyZ2VXaXRoLCB1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kYCBleGNlcHQgdGhhdCBpdCByZXR1cm5zIHRoZSBrZXkgb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IHRydWUgfSk7XG4gICAgICogLy8gPT4gJ3BlYmJsZXMnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRLZXkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiBiYXNlRmluZEtleShvYmplY3QsIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGJhc2VGb3JPd24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZEtleWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGEgY29sbGVjdGlvbiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBSZXR1cm5zIHRoZSBrZXkgb2YgdGhlIG1hdGNoZWQgZWxlbWVudCxcbiAgICAgKiAgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2Jhcm5leSc6ICB7ICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgICdmcmVkJzogICAgeyAnYWdlJzogNDAsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgJ3BlYmJsZXMnOiB7ICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0S2V5KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLmFnZSA8IDQwOyB9KTtcbiAgICAgKiAvLyA9PiByZXR1cm5zICdwZWJibGVzJyBhc3N1bWluZyBgXy5maW5kS2V5YCByZXR1cm5zICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAnYmFybmV5J1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kTGFzdEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93blJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW5cbiAgICAgKiBvYmplY3QgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdFxuICAgICAqIGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5SaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJbihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3Iob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyksIGtleXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JJbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBwcm9wZXJ0aWVzIG9mXG4gICAgICogYG9iamVjdGAgaW4gdGhlIG9wcG9zaXRlIG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9ySW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9ySW5SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2MnLCAnYicsIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvckluYCBsb2dzICdhJywgJ2InLCB0aGVuICdjJy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3JJblJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbFxuICAgICAgICA/IG9iamVjdFxuICAgICAgICA6IGJhc2VGb3JSaWdodChvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCBhbmRcbiAgICAgKiBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWVcbiAgICAgKiBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uXG4gICAgICogZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjMuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvck93bihuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2EnIHRoZW4gJ2InIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3JPd24ob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yT3duYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JPd25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duUmlnaHQobmV3IEZvbywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAqICAgY29uc29sZS5sb2coa2V5KTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzICdiJyB0aGVuICdhJyBhc3N1bWluZyBgXy5mb3JPd25gIGxvZ3MgJ2EnIHRoZW4gJ2InLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93blJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAqIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgZnVuY3Rpb24gbmFtZXMuXG4gICAgICogQHNlZSBfLmZ1bmN0aW9uc0luXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9ucyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5cyhvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZyb20gb3duIGFuZCBpbmhlcml0ZWRcbiAgICAgKiBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IF8uY29uc3RhbnQoJ2EnKTtcbiAgICAgKiAgIHRoaXMuYiA9IF8uY29uc3RhbnQoJ2InKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSBfLmNvbnN0YW50KCdjJyk7XG4gICAgICpcbiAgICAgKiBfLmZ1bmN0aW9uc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJywgJ2MnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlRnVuY3Rpb25zKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzXG4gICAgICogYHVuZGVmaW5lZGAsIHRoZSBgZGVmYXVsdFZhbHVlYCBpcyByZXR1cm5lZCBpbiBpdHMgcGxhY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmdldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgWydhJywgJzAnLCAnYicsICdjJ10pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2EuYi5jJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXQob2JqZWN0LCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHBhdGhgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IHsgJ2InOiAyIH0gfTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXMob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvdGhlciwgJ2EnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhcyhvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBwYXRoYCBpcyBhIGRpcmVjdCBvciBpbmhlcml0ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2EuYicpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhc0luKG9iamVjdCwgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc0luKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBpbnZlcnRlZCBrZXlzIGFuZCB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICogSWYgYG9iamVjdGAgY29udGFpbnMgZHVwbGljYXRlIHZhbHVlcywgc3Vic2VxdWVudCB2YWx1ZXMgb3ZlcndyaXRlXG4gICAgICogcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnQob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogJ2MnLCAnMic6ICdiJyB9XG4gICAgICovXG4gICAgdmFyIGludmVydCA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXN1bHRbdmFsdWVdID0ga2V5O1xuICAgIH0sIGNvbnN0YW50KGlkZW50aXR5KSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmludmVydGAgZXhjZXB0IHRoYXQgdGhlIGludmVydGVkIG9iamVjdCBpcyBnZW5lcmF0ZWRcbiAgICAgKiBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmcgZWFjaCBlbGVtZW50IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlXG4gICAgICogY29ycmVzcG9uZGluZyBpbnZlcnRlZCB2YWx1ZSBvZiBlYWNoIGludmVydGVkIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzXG4gICAgICogcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGludmVydGVkIHZhbHVlLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZlcnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBpbnZlcnRlZCBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcxJzogWydhJywgJ2MnXSwgJzInOiBbJ2InXSB9XG4gICAgICpcbiAgICAgKiBfLmludmVydEJ5KG9iamVjdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiAnZ3JvdXAnICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnZ3JvdXAxJzogWydhJywgJ2MnXSwgJ2dyb3VwMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0QnkgPSBjcmVhdGVJbnZlcnRlcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmXG4gICAgICAgICAgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFsdWUgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlXS5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbdmFsdWVdID0gW2tleV07XG4gICAgICB9XG4gICAgfSwgZ2V0SXRlcmF0ZWUpO1xuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IFsxLCAyLCAzLCA0XSB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLmludm9rZShvYmplY3QsICdhWzBdLmIuYy5zbGljZScsIDEsIDMpO1xuICAgICAqIC8vID0+IFsyLCAzXVxuICAgICAqL1xuICAgIHZhciBpbnZva2UgPSBiYXNlUmVzdChiYXNlSW52b2tlKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuIFNlZSB0aGVcbiAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gICAgICogZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8ua2V5cyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiBfLmtleXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1hcFZhbHVlc2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogc2FtZSB2YWx1ZXMgYXMgYG9iamVjdGAgYW5kIGtleXMgZ2VuZXJhdGVkIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZVxuICAgICAqIHN0cmluZyBrZXllZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcFZhbHVlc1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1hcEtleXMoeyAnYSc6IDEsICdiJzogMiB9LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICByZXR1cm4ga2V5ICsgdmFsdWU7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYTEnOiAxLCAnYjInOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBLZXlzKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpO1xuXG4gICAgICBiYXNlRm9yT3duKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqZWN0KSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgYG9iamVjdGAgYW5kIHZhbHVlcyBnZW5lcmF0ZWRcbiAgICAgKiBieSBydW5uaW5nIGVhY2ggb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgb2JqZWN0LlxuICAgICAqIEBzZWUgXy5tYXBLZXlzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IHtcbiAgICAgKiAgICdmcmVkJzogICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxIH1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tYXBWYWx1ZXModXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlOyB9KTtcbiAgICAgKiAvLyA9PiB7ICdmcmVkJzogNDAsICdwZWJibGVzJzogMSB9IChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgJ2FnZScpO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBWYWx1ZXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmplY3QpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgbWVyZ2VzIG93biBhbmRcbiAgICAgKiBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBzb3VyY2Ugb2JqZWN0cyBpbnRvIHRoZVxuICAgICAqIGRlc3RpbmF0aW9uIG9iamVjdC4gU291cmNlIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgIGFyZVxuICAgICAqIHNraXBwZWQgaWYgYSBkZXN0aW5hdGlvbiB2YWx1ZSBleGlzdHMuIEFycmF5IGFuZCBwbGFpbiBvYmplY3QgcHJvcGVydGllc1xuICAgICAqIGFyZSBtZXJnZWQgcmVjdXJzaXZlbHkuIE90aGVyIG9iamVjdHMgYW5kIHZhbHVlIHR5cGVzIGFyZSBvdmVycmlkZGVuIGJ5XG4gICAgICogYXNzaWdubWVudC4gU291cmNlIG9iamVjdHMgYXJlIGFwcGxpZWQgZnJvbSBsZWZ0IHRvIHJpZ2h0LiBTdWJzZXF1ZW50XG4gICAgICogc291cmNlcyBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXMgc291cmNlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYic6IDIgfSwgeyAnZCc6IDQgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogdmFyIG90aGVyID0ge1xuICAgICAqICAgJ2EnOiBbeyAnYyc6IDMgfSwgeyAnZSc6IDUgfV1cbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogXy5tZXJnZShvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiAyLCAnYyc6IDMgfSwgeyAnZCc6IDQsICdlJzogNSB9XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubWVyZ2VgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gICAgICogcHJvcGVydGllcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIG1lcmdpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAgKiBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkIHdpdGggc2l4IGFyZ3VtZW50czpcbiAgICAgKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiBvYmpWYWx1ZS5jb25jYXQoc3JjVmFsdWUpO1xuICAgICAqICAgfVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogWzFdLCAnYic6IFsyXSB9O1xuICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlV2l0aChvYmplY3QsIG90aGVyLCBjdXN0b21pemVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gICAgICovXG4gICAgdmFyIG1lcmdlV2l0aCA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcikge1xuICAgICAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja2A7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZVxuICAgICAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgcGF0aHMgb2YgYG9iamVjdGAgdGhhdCBhcmUgbm90IG9taXR0ZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgY29uc2lkZXJhYmx5IHNsb3dlciB0aGFuIGBfLnBpY2tgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gb21pdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdChvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIHZhciBvbWl0ID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICB2YXIgaXNEZWVwID0gZmFsc2U7XG4gICAgICBwYXRocyA9IGFycmF5TWFwKHBhdGhzLCBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgICBpc0RlZXAgfHwgKGlzRGVlcCA9IHBhdGgubGVuZ3RoID4gMSk7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfSk7XG4gICAgICBjb3B5T2JqZWN0KG9iamVjdCwgZ2V0QWxsS2V5c0luKG9iamVjdCksIHJlc3VsdCk7XG4gICAgICBpZiAoaXNEZWVwKSB7XG4gICAgICAgIHJlc3VsdCA9IGJhc2VDbG9uZShyZXN1bHQsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX0ZMQVRfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9tT21pdENsb25lKTtcbiAgICAgIH1cbiAgICAgIHZhciBsZW5ndGggPSBwYXRocy5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgYmFzZVVuc2V0KHJlc3VsdCwgcGF0aHNbbGVuZ3RoXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tCeWA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mXG4gICAgICogdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdFxuICAgICAqIGBwcmVkaWNhdGVgIGRvZXNuJ3QgcmV0dXJuIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3b1xuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gICAgICpcbiAgICAgKiBfLm9taXRCeShvYmplY3QsIF8uaXNOdW1iZXIpO1xuICAgICAqIC8vID0+IHsgJ2InOiAnMicgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9taXRCeShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHBpY2tCeShvYmplY3QsIG5lZ2F0ZShnZXRJdGVyYXRlZShwcmVkaWNhdGUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIHBpY2tlZCBgb2JqZWN0YCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGljayhvYmplY3QsIFsnYScsICdjJ10pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIHZhciBwaWNrID0gZmxhdFJlc3QoZnVuY3Rpb24ob2JqZWN0LCBwYXRocykge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8ge30gOiBiYXNlUGljayhvYmplY3QsIHBhdGhzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIHRoZSBgb2JqZWN0YCBwcm9wZXJ0aWVzIGBwcmVkaWNhdGVgIHJldHVybnNcbiAgICAgKiB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0d28gYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ucGlja0J5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGlja0J5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgICAgdmFyIHByb3BzID0gYXJyYXlNYXAoZ2V0QWxsS2V5c0luKG9iamVjdCksIGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIFtwcm9wXTtcbiAgICAgIH0pO1xuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlKTtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBwcmVkaWNhdGUodmFsdWUsIHBhdGhbMF0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5nZXRgIGV4Y2VwdCB0aGF0IGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhXG4gICAgICogZnVuY3Rpb24gaXQncyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGl0cyBwYXJlbnQgb2JqZWN0IGFuZFxuICAgICAqIGl0cyByZXN1bHQgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7Kn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHJldHVybmVkIGZvciBgdW5kZWZpbmVkYCByZXNvbHZlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYzEnOiAzLCAnYzInOiBfLmNvbnN0YW50KDQpIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMScpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMicpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsICdkZWZhdWx0Jyk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICpcbiAgICAgKiBfLnJlc3VsdChvYmplY3QsICdhWzBdLmIuYzMnLCBfLmNvbnN0YW50KCdkZWZhdWx0JykpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc3VsdChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICAvLyBFbnN1cmUgdGhlIGxvb3AgaXMgZW50ZXJlZCB3aGVuIHBhdGggaXMgZW1wdHkuXG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICBsZW5ndGggPSAxO1xuICAgICAgICBvYmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFt0b0tleShwYXRoW2luZGV4XSldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdCA9IGlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHZhbHVlIGF0IGBwYXRoYCBvZiBgb2JqZWN0YC4gSWYgYSBwb3J0aW9uIG9mIGBwYXRoYCBkb2Vzbid0IGV4aXN0LFxuICAgICAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICAgICAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gICAgICogYHBhdGhgIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0ge307XG4gICAgICpcbiAgICAgKiBfLnNldFdpdGgob2JqZWN0LCAnWzBdWzFdJywgJ2EnLCBPYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzAnOiB7ICcxJzogJ2EnIH0gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpdGgob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlycyBmb3IgYG9iamVjdGBcbiAgICAgKiB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXAgb3Igc2V0LCBpdHNcbiAgICAgKiBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlycyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMV0sIFsnYicsIDJdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzID0gY3JlYXRlVG9QYWlycyhrZXlzKTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQtdmFsdWUgcGFpcnNcbiAgICAgKiBmb3IgYG9iamVjdGAgd2hpY2ggY2FuIGJlIGNvbnN1bWVkIGJ5IGBfLmZyb21QYWlyc2AuIElmIGBvYmplY3RgIGlzIGEgbWFwXG4gICAgICogb3Igc2V0LCBpdHMgZW50cmllcyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZW50cmllc0luXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udG9QYWlyc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl0sIFsnYycsIDNdXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIHZhciB0b1BhaXJzSW4gPSBjcmVhdGVUb1BhaXJzKGtleXNJbik7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byBgXy5yZWR1Y2VgOyB0aGlzIG1ldGhvZCB0cmFuc2Zvcm1zIGBvYmplY3RgIHRvIGEgbmV3XG4gICAgICogYGFjY3VtdWxhdG9yYCBvYmplY3Qgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGVhY2ggb2YgaXRzIG93blxuICAgICAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICAgICAqIHBvdGVudGlhbGx5IG11dGF0aW5nIHRoZSBgYWNjdW11bGF0b3JgIG9iamVjdC4gSWYgYGFjY3VtdWxhdG9yYCBpcyBub3RcbiAgICAgKiBwcm92aWRlZCwgYSBuZXcgb2JqZWN0IHdpdGggdGhlIHNhbWUgYFtbUHJvdG90eXBlXV1gIHdpbGwgYmUgdXNlZC4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRyYW5zZm9ybShbMiwgMywgNF0sIGZ1bmN0aW9uKHJlc3VsdCwgbikge1xuICAgICAqICAgcmVzdWx0LnB1c2gobiAqPSBuKTtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICAgICAqIH0sIFtdKTtcbiAgICAgKiAvLyA9PiBbNCwgOV1cbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9LCBmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIChyZXN1bHRbdmFsdWVdIHx8IChyZXN1bHRbdmFsdWVdID0gW10pKS5wdXNoKGtleSk7XG4gICAgICogfSwge30pO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkob2JqZWN0KSxcbiAgICAgICAgICBpc0Fyckxpa2UgPSBpc0FyciB8fCBpc0J1ZmZlcihvYmplY3QpIHx8IGlzVHlwZWRBcnJheShvYmplY3QpO1xuXG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCA0KTtcbiAgICAgIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgICAgIHZhciBDdG9yID0gb2JqZWN0ICYmIG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgICAgaWYgKGlzQXJyTGlrZSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRlZShhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvcGVydHkgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gdW5zZXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBwcm9wZXJ0eSBpcyBkZWxldGVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogNyB9IH1dIH07XG4gICAgICogXy51bnNldChvYmplY3QsICdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgICogLy8gPT4geyAnYSc6IFt7ICdiJzoge30gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udW5zZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdHJ1ZSA6IGJhc2VVbnNldChvYmplY3QsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc2V0YCBleGNlcHQgdGhhdCBhY2NlcHRzIGB1cGRhdGVyYCB0byBwcm9kdWNlIHRoZVxuICAgICAqIHZhbHVlIHRvIHNldC4gVXNlIGBfLnVwZGF0ZVdpdGhgIHRvIGN1c3RvbWl6ZSBgcGF0aGAgY3JlYXRpb24uIFRoZSBgdXBkYXRlcmBcbiAgICAgKiBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlKG9iamVjdCwgJ2FbMF0uYi5jJywgZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIG47IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gOVxuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAneFswXS55LnonLCBmdW5jdGlvbihuKSB7IHJldHVybiBuID8gbiArIDEgOiAwOyB9KTtcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGUob2JqZWN0LCBwYXRoLCB1cGRhdGVyKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgY2FzdEZ1bmN0aW9uKHVwZGF0ZXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVwZGF0ZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG9iamVjdHMgb2YgYHBhdGhgLiAgSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGBcbiAgICAgKiBwYXRoIGNyZWF0aW9uIGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKG5zVmFsdWUsIGtleSwgbnNPYmplY3QpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZXIgVGhlIGZ1bmN0aW9uIHRvIHByb2R1Y2UgdGhlIHVwZGF0ZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8udXBkYXRlV2l0aChvYmplY3QsICdbMF1bMV0nLCBfLmNvbnN0YW50KCdhJyksIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlV2l0aChvYmplY3QsIHBhdGgsIHVwZGF0ZXIsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlciksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlcyhuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKCdoaScpO1xuICAgICAqIC8vID0+IFsnaCcsICdpJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5XG4gICAgICogdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy52YWx1ZXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB2YWx1ZXNJbihvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXNJbihvYmplY3QpKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDbGFtcHMgYG51bWJlcmAgd2l0aGluIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNsYW1wLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXJdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdXBwZXIgVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNsYW1wZWQgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNsYW1wKC0xMCwgLTUsIDUpO1xuICAgICAqIC8vID0+IC01XG4gICAgICpcbiAgICAgKiBfLmNsYW1wKDEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gNVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmICh1cHBlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gdG9OdW1iZXIodXBwZXIpO1xuICAgICAgICB1cHBlciA9IHVwcGVyID09PSB1cHBlciA/IHVwcGVyIDogMDtcbiAgICAgIH1cbiAgICAgIGlmIChsb3dlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gdG9OdW1iZXIobG93ZXIpO1xuICAgICAgICBsb3dlciA9IGxvd2VyID09PSBsb3dlciA/IGxvd2VyIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlQ2xhbXAodG9OdW1iZXIobnVtYmVyKSwgbG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYG5gIGlzIGJldHdlZW4gYHN0YXJ0YCBhbmQgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC4gSWZcbiAgICAgKiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLCBpdCdzIHNldCB0byBgc3RhcnRgIHdpdGggYHN0YXJ0YCB0aGVuIHNldCB0byBgMGAuXG4gICAgICogSWYgYHN0YXJ0YCBpcyBncmVhdGVyIHRoYW4gYGVuZGAgdGhlIHBhcmFtcyBhcmUgc3dhcHBlZCB0byBzdXBwb3J0XG4gICAgICogbmVnYXRpdmUgcmFuZ2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG51bWJlcmAgaXMgaW4gdGhlIHJhbmdlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLnJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDMsIDIsIDQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCA4KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNCwgMik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgyLCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDEuMiwgMik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDUuMiwgNCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSgtMywgLTIsIC02KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHN0YXJ0ID0gdG9GaW5pdGUoc3RhcnQpO1xuICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGVuZCA9IHN0YXJ0O1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbmQgPSB0b0Zpbml0ZShlbmQpO1xuICAgICAgfVxuICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgIHJldHVybiBiYXNlSW5SYW5nZShudW1iZXIsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2R1Y2VzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIHRoZSBpbmNsdXNpdmUgYGxvd2VyYCBhbmQgYHVwcGVyYCBib3VuZHMuXG4gICAgICogSWYgb25seSBvbmUgYXJndW1lbnQgaXMgcHJvdmlkZWQgYSBudW1iZXIgYmV0d2VlbiBgMGAgYW5kIHRoZSBnaXZlbiBudW1iZXJcbiAgICAgKiBpcyByZXR1cm5lZC4gSWYgYGZsb2F0aW5nYCBpcyBgdHJ1ZWAsIG9yIGVpdGhlciBgbG93ZXJgIG9yIGB1cHBlcmAgYXJlXG4gICAgICogZmxvYXRzLCBhIGZsb2F0aW5nLXBvaW50IG51bWJlciBpcyByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSmF2YVNjcmlwdCBmb2xsb3dzIHRoZSBJRUVFLTc1NCBzdGFuZGFyZCBmb3IgcmVzb2x2aW5nXG4gICAgICogZmxvYXRpbmctcG9pbnQgdmFsdWVzIHdoaWNoIGNhbiBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjcuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvd2VyPTBdIFRoZSBsb3dlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3VwcGVyPTFdIFRoZSB1cHBlciBib3VuZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbG9hdGluZ10gU3BlY2lmeSByZXR1cm5pbmcgYSBmbG9hdGluZy1wb2ludCBudW1iZXIuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMCwgNSk7XG4gICAgICogLy8gPT4gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUpO1xuICAgICAqIC8vID0+IGFsc28gYW4gaW50ZWdlciBiZXR3ZWVuIDAgYW5kIDVcbiAgICAgKlxuICAgICAqIF8ucmFuZG9tKDUsIHRydWUpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oMS4yLCA1LjIpO1xuICAgICAqIC8vID0+IGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGJldHdlZW4gMS4yIGFuZCA1LjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb20obG93ZXIsIHVwcGVyLCBmbG9hdGluZykge1xuICAgICAgaWYgKGZsb2F0aW5nICYmIHR5cGVvZiBmbG9hdGluZyAhPSAnYm9vbGVhbicgJiYgaXNJdGVyYXRlZUNhbGwobG93ZXIsIHVwcGVyLCBmbG9hdGluZykpIHtcbiAgICAgICAgdXBwZXIgPSBmbG9hdGluZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGlmIChmbG9hdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdXBwZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSB1cHBlcjtcbiAgICAgICAgICB1cHBlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbG93ZXIgPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgZmxvYXRpbmcgPSBsb3dlcjtcbiAgICAgICAgICBsb3dlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID09PSB1bmRlZmluZWQgJiYgdXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsb3dlciA9IDA7XG4gICAgICAgIHVwcGVyID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsb3dlciA9IHRvRmluaXRlKGxvd2VyKTtcbiAgICAgICAgaWYgKHVwcGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB1cHBlciA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cHBlciA9IHRvRmluaXRlKHVwcGVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VyID4gdXBwZXIpIHtcbiAgICAgICAgdmFyIHRlbXAgPSBsb3dlcjtcbiAgICAgICAgbG93ZXIgPSB1cHBlcjtcbiAgICAgICAgdXBwZXIgPSB0ZW1wO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nIHx8IGxvd2VyICUgMSB8fCB1cHBlciAlIDEpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBuYXRpdmVSYW5kb20oKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZU1pbihsb3dlciArIChyYW5kICogKHVwcGVyIC0gbG93ZXIgKyBmcmVlUGFyc2VGbG9hdCgnMWUtJyArICgocmFuZCArICcnKS5sZW5ndGggLSAxKSkpKSwgdXBwZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKTtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhbWVsIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKlxuICAgICAqIF8uY2FtZWxDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICovXG4gICAgdmFyIGNhbWVsQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgd29yZCA9IHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAgICAgKiB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNhcGl0YWxpemUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FwaXRhbGl6ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhcGl0YWxpemUoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAgICAgKiBbTGF0aW4tMSBTdXBwbGVtZW50XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbi0xX1N1cHBsZW1lbnRfKFVuaWNvZGVfYmxvY2spI0NoYXJhY3Rlcl90YWJsZSlcbiAgICAgKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gICAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICAgICAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZGVidXJyLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICAgICAqIC8vID0+ICdkZWphIHZ1J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gc3RyaW5nICYmIHN0cmluZy5yZXBsYWNlKHJlTGF0aW4sIGRlYnVyckxldHRlcikucmVwbGFjZShyZUNvbWJvTWFyaywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBlbmRzIHdpdGggdGhlIGdpdmVuIHRhcmdldCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3RhcmdldF0gVGhlIHN0cmluZyB0byBzZWFyY2ggZm9yLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcG9zaXRpb249c3RyaW5nLmxlbmd0aF0gVGhlIHBvc2l0aW9uIHRvIHNlYXJjaCB1cCB0by5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2AgZW5kcyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZW5kc1dpdGgoJ2FiYycsICdjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2InLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCB0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgdGFyZ2V0ID0gYmFzZVRvU3RyaW5nKHRhcmdldCk7XG5cbiAgICAgIHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gbGVuZ3RoXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIGxlbmd0aCk7XG5cbiAgICAgIHZhciBlbmQgPSBwb3NpdGlvbjtcbiAgICAgIHBvc2l0aW9uIC09IHRhcmdldC5sZW5ndGg7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPj0gMCAmJiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIGVuZCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjaGFyYWN0ZXJzIFwiJlwiLCBcIjxcIiwgXCI+XCIsICdcIicsIGFuZCBcIidcIiBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBObyBvdGhlciBjaGFyYWN0ZXJzIGFyZSBlc2NhcGVkLiBUbyBlc2NhcGUgYWRkaXRpb25hbFxuICAgICAqIGNoYXJhY3RlcnMgdXNlIGEgdGhpcmQtcGFydHkgbGlicmFyeSBsaWtlIFtfaGVfXShodHRwczovL210aHMuYmUvaGUpLlxuICAgICAqXG4gICAgICogVGhvdWdoIHRoZSBcIj5cIiBjaGFyYWN0ZXIgaXMgZXNjYXBlZCBmb3Igc3ltbWV0cnksIGNoYXJhY3RlcnMgbGlrZVxuICAgICAqIFwiPlwiIGFuZCBcIi9cIiBkb24ndCBuZWVkIGVzY2FwaW5nIGluIEhUTUwgYW5kIGhhdmUgbm8gc3BlY2lhbCBtZWFuaW5nXG4gICAgICogdW5sZXNzIHRoZXkncmUgcGFydCBvZiBhIHRhZyBvciB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuIFNlZVxuICAgICAqIFtNYXRoaWFzIEJ5bmVucydzIGFydGljbGVdKGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9hbWJpZ3VvdXMtYW1wZXJzYW5kcylcbiAgICAgKiAodW5kZXIgXCJzZW1pLXJlbGF0ZWQgZnVuIGZhY3RcIikgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFdoZW4gd29ya2luZyB3aXRoIEhUTUwgeW91IHNob3VsZCBhbHdheXNcbiAgICAgKiBbcXVvdGUgYXR0cmlidXRlIHZhbHVlc10oaHR0cDovL3dvbmtvLmNvbS9wb3N0L2h0bWwtZXNjYXBpbmcpIHRvIHJlZHVjZVxuICAgICAqIFhTUyB2ZWN0b3JzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGUoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlcydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNVbmVzY2FwZWRIdG1sLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVVuZXNjYXBlZEh0bWwsIGVzY2FwZUh0bWxDaGFyKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFc2NhcGVzIHRoZSBgUmVnRXhwYCBzcGVjaWFsIGNoYXJhY3RlcnMgXCJeXCIsIFwiJFwiLCBcIlxcXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsXG4gICAgICogXCI/XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIGFuZCBcInxcIiBpbiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZXNjYXBlUmVnRXhwKCdbbG9kYXNoXShodHRwczovL2xvZGFzaC5jb20vKScpO1xuICAgICAqIC8vID0+ICdcXFtsb2Rhc2hcXF1cXChodHRwczovL2xvZGFzaFxcLmNvbS9cXCknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykpXG4gICAgICAgID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBba2ViYWIgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3BlY2lhbF9jYXNlX3N0eWxlcykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvby1iYXInXG4gICAgICpcbiAgICAgKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKi9cbiAgICB2YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIHNwYWNlIHNlcGFyYXRlZCB3b3JkcywgdG8gbG93ZXIgY2FzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckNhc2UoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2ZvbyBiYXInXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5sb3dlckZpcnN0KCdGcmVkJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQnXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZSRUQnKTtcbiAgICAgKiAvLyA9PiAnZlJFRCdcbiAgICAgKi9cbiAgICB2YXIgbG93ZXJGaXJzdCA9IGNyZWF0ZUNhc2VGaXJzdCgndG9Mb3dlckNhc2UnKTtcblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgYW5kIHJpZ2h0IHNpZGVzIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgY2FuJ3QgYmUgZXZlbmx5IGRpdmlkZWQgYnkgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgpO1xuICAgICAqIC8vID0+ICcgIGFiYyAgICdcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCA4LCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnXy1hYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc3RyTGVuZ3RoID49IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIG1pZCA9IChsZW5ndGggLSBzdHJMZW5ndGgpIC8gMjtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGNyZWF0ZVBhZGRpbmcobmF0aXZlRmxvb3IobWlkKSwgY2hhcnMpICtcbiAgICAgICAgc3RyaW5nICtcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVDZWlsKG1pZCksIGNoYXJzKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSByaWdodCBzaWRlIGlmIGl0J3Mgc2hvcnRlciB0aGFuIGBsZW5ndGhgLiBQYWRkaW5nXG4gICAgICogY2hhcmFjdGVycyBhcmUgdHJ1bmNhdGVkIGlmIHRoZXkgZXhjZWVkIGBsZW5ndGhgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHBhZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD0wXSBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmNfLV8nXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgMyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYWRFbmQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChzdHJpbmcgKyBjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWRzIGBzdHJpbmdgIG9uIHRoZSBsZWZ0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNik7XG4gICAgICogLy8gPT4gJyAgIGFiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDYsICdfLScpO1xuICAgICAqIC8vID0+ICdfLV9hYmMnXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZFN0YXJ0KHN0cmluZywgbGVuZ3RoLCBjaGFycykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGxlbmd0aCA9IHRvSW50ZWdlcihsZW5ndGgpO1xuXG4gICAgICB2YXIgc3RyTGVuZ3RoID0gbGVuZ3RoID8gc3RyaW5nU2l6ZShzdHJpbmcpIDogMDtcbiAgICAgIHJldHVybiAobGVuZ3RoICYmIHN0ckxlbmd0aCA8IGxlbmd0aClcbiAgICAgICAgPyAoY3JlYXRlUGFkZGluZyhsZW5ndGggLSBzdHJMZW5ndGgsIGNoYXJzKSArIHN0cmluZylcbiAgICAgICAgOiBzdHJpbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gaW50ZWdlciBvZiB0aGUgc3BlY2lmaWVkIHJhZGl4LiBJZiBgcmFkaXhgIGlzXG4gICAgICogYHVuZGVmaW5lZGAgb3IgYDBgLCBhIGByYWRpeGAgb2YgYDEwYCBpcyB1c2VkIHVubGVzcyBgdmFsdWVgIGlzIGFcbiAgICAgKiBoZXhhZGVjaW1hbCwgaW4gd2hpY2ggY2FzZSBhIGByYWRpeGAgb2YgYDE2YCBpcyB1c2VkLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGFsaWducyB3aXRoIHRoZVxuICAgICAqIFtFUzUgaW1wbGVtZW50YXRpb25dKGh0dHBzOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi4yKSBvZiBgcGFyc2VJbnRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXg9MTBdIFRoZSByYWRpeCB0byBpbnRlcnByZXQgYHZhbHVlYCBieS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhcnNlSW50KCcwOCcpO1xuICAgICAqIC8vID0+IDhcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICcwOCcsICcxMCddLCBfLnBhcnNlSW50KTtcbiAgICAgKiAvLyA9PiBbNiwgOCwgMTBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFyc2VJbnQoc3RyaW5nLCByYWRpeCwgZ3VhcmQpIHtcbiAgICAgIGlmIChndWFyZCB8fCByYWRpeCA9PSBudWxsKSB7XG4gICAgICAgIHJhZGl4ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocmFkaXgpIHtcbiAgICAgICAgcmFkaXggPSArcmFkaXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2VJbnQodG9TdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVHJpbVN0YXJ0LCAnJyksIHJhZGl4IHx8IDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGVhdHMgdGhlIGdpdmVuIHN0cmluZyBgbmAgdGltZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdCB0aGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnKicsIDMpO1xuICAgICAqIC8vID0+ICcqKionXG4gICAgICpcbiAgICAgKiBfLnJlcGVhdCgnYWJjJywgMik7XG4gICAgICogLy8gPT4gJ2FiY2FiYydcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAwKTtcbiAgICAgKiAvLyA9PiAnJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIG4sIGd1YXJkKSB7XG4gICAgICBpZiAoKGd1YXJkID8gaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlUmVwZWF0KHRvU3RyaW5nKHN0cmluZyksIG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIG1hdGNoZXMgZm9yIGBwYXR0ZXJuYCBpbiBgc3RyaW5nYCB3aXRoIGByZXBsYWNlbWVudGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNyZXBsYWNlYF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3JlcGxhY2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gcmVwbGFjZW1lbnQgVGhlIG1hdGNoIHJlcGxhY2VtZW50LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIG1vZGlmaWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yZXBsYWNlKCdIaSBGcmVkJywgJ0ZyZWQnLCAnQmFybmV5Jyk7XG4gICAgICogLy8gPT4gJ0hpIEJhcm5leSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXBsYWNlKCkge1xuICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoYXJnc1swXSk7XG5cbiAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA8IDMgPyBzdHJpbmcgOiBzdHJpbmcucmVwbGFjZShhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzbmFrZSBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TbmFrZV9jYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNuYWtlIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vX2JhcidcbiAgICAgKlxuICAgICAqIF8uc25ha2VDYXNlKCctLUZPTy1CQVItLScpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqL1xuICAgIHZhciBzbmFrZUNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnXycgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYHN0cmluZ2AgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYFN0cmluZyNzcGxpdGBdKGh0dHBzOi8vbWRuLmlvL1N0cmluZy9zcGxpdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gc3BsaXQuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBzZXBhcmF0b3IgVGhlIHNlcGFyYXRvciBwYXR0ZXJuIHRvIHNwbGl0IGJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGltaXRdIFRoZSBsZW5ndGggdG8gdHJ1bmNhdGUgcmVzdWx0cyB0by5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHN0cmluZyBzZWdtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zcGxpdCgnYS1iLWMnLCAnLScsIDIpO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgIGlmIChsaW1pdCAmJiB0eXBlb2YgbGltaXQgIT0gJ251bWJlcicgJiYgaXNJdGVyYXRlZUNhbGwoc3RyaW5nLCBzZXBhcmF0b3IsIGxpbWl0KSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIGxpbWl0ID0gbGltaXQgPT09IHVuZGVmaW5lZCA/IE1BWF9BUlJBWV9MRU5HVEggOiBsaW1pdCA+Pj4gMDtcbiAgICAgIGlmICghbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKFxuICAgICAgICAgICAgdHlwZW9mIHNlcGFyYXRvciA9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgKHNlcGFyYXRvciAhPSBudWxsICYmICFpc1JlZ0V4cChzZXBhcmF0b3IpKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgc2VwYXJhdG9yID0gYmFzZVRvU3RyaW5nKHNlcGFyYXRvcik7XG4gICAgICAgIGlmICghc2VwYXJhdG9yICYmIGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyaW5nVG9BcnJheShzdHJpbmcpLCAwLCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHJpbmcuc3BsaXQoc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAgICAgKiBbc3RhcnQgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV0dGVyX2Nhc2UjU3R5bGlzdGljX29yX3NwZWNpYWxpc2VkX3VzYWdlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjEuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0YXJ0IGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydENhc2UoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZvbyBCYXInXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKi9cbiAgICB2YXIgc3RhcnRDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJyAnIDogJycpICsgdXBwZXJGaXJzdCh3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgc3RyaW5nYCBzdGFydHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj0wXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIGB0YXJnZXRgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0c1dpdGgoJ2FiYycsICdiJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhcnRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09IG51bGxcbiAgICAgICAgPyAwXG4gICAgICAgIDogYmFzZUNsYW1wKHRvSW50ZWdlcihwb3NpdGlvbiksIDAsIHN0cmluZy5sZW5ndGgpO1xuXG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcbiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UocG9zaXRpb24sIHBvc2l0aW9uICsgdGFyZ2V0Lmxlbmd0aCkgPT0gdGFyZ2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbiB0aGF0IGNhbiBpbnRlcnBvbGF0ZSBkYXRhIHByb3BlcnRpZXNcbiAgICAgKiBpbiBcImludGVycG9sYXRlXCIgZGVsaW1pdGVycywgSFRNTC1lc2NhcGUgaW50ZXJwb2xhdGVkIGRhdGEgcHJvcGVydGllcyBpblxuICAgICAqIFwiZXNjYXBlXCIgZGVsaW1pdGVycywgYW5kIGV4ZWN1dGUgSmF2YVNjcmlwdCBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy4gRGF0YVxuICAgICAqIHByb3BlcnRpZXMgbWF5IGJlIGFjY2Vzc2VkIGFzIGZyZWUgdmFyaWFibGVzIGluIHRoZSB0ZW1wbGF0ZS4gSWYgYSBzZXR0aW5nXG4gICAgICogb2JqZWN0IGlzIGdpdmVuLCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYF8udGVtcGxhdGVTZXR0aW5nc2AgdmFsdWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCBgXy50ZW1wbGF0ZWAgdXRpbGl6ZXNcbiAgICAgKiBbc291cmNlVVJMc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZGV2ZWxvcGVydG9vbHMvc291cmNlbWFwcy8jdG9jLXNvdXJjZXVybClcbiAgICAgKiBmb3IgZWFzaWVyIGRlYnVnZ2luZy5cbiAgICAgKlxuICAgICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlXG4gICAgICogW2xvZGFzaCdzIGN1c3RvbSBidWlsZHMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9sb2Rhc2guY29tL2N1c3RvbS1idWlsZHMpLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gQ2hyb21lIGV4dGVuc2lvbiBzYW5kYm94ZXMgc2VlXG4gICAgICogW0Nocm9tZSdzIGV4dGVuc2lvbnMgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHRlbXBsYXRlIHN0cmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuZXNjYXBlPV8udGVtcGxhdGVTZXR0aW5ncy5lc2NhcGVdXG4gICAgICogIFRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5ldmFsdWF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuZXZhbHVhdGVdXG4gICAgICogIFRoZSBcImV2YWx1YXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5pbXBvcnRzPV8udGVtcGxhdGVTZXR0aW5ncy5pbXBvcnRzXVxuICAgICAqICBBbiBvYmplY3QgdG8gaW1wb3J0IGludG8gdGhlIHRlbXBsYXRlIGFzIGZyZWUgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5pbnRlcnBvbGF0ZT1fLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGVdXG4gICAgICogIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zb3VyY2VVUkw9J2xvZGFzaC50ZW1wbGF0ZVNvdXJjZXNbbl0nXVxuICAgICAqICBUaGUgc291cmNlVVJMIG9mIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMudmFyaWFibGU9J29iaiddXG4gICAgICogIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBjb21waWxlZCB0ZW1wbGF0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyIHRvIGNyZWF0ZSBhIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSB1c2VyICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnZnJlZCcgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQhJ1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBIVE1MIFwiZXNjYXBlXCIgZGVsaW1pdGVyIHRvIGVzY2FwZSBkYXRhIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgICAqIC8vID0+ICc8Yj4mbHQ7c2NyaXB0Jmd0OzwvYj4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIgdG8gZXhlY3V0ZSBKYXZhU2NyaXB0IGFuZCBnZW5lcmF0ZSBIVE1MLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlIF8uZm9yRWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+Jyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcnMnOiBbJ2ZyZWQnLCAnYmFybmV5J10gfSk7XG4gICAgICogLy8gPT4gJzxsaT5mcmVkPC9saT48bGk+YmFybmV5PC9saT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnMuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIHVzZXIpOyAlPiEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ2Jhcm5leScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGJhcm5leSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEVTIHRlbXBsYXRlIGxpdGVyYWwgZGVsaW1pdGVyIGFzIGFuIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogLy8gRGlzYWJsZSBzdXBwb3J0IGJ5IHJlcGxhY2luZyB0aGUgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyAkeyB1c2VyIH0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdwZWJibGVzJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcyEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgYmFja3NsYXNoZXMgdG8gdHJlYXQgZGVsaW1pdGVycyBhcyBwbGFpbiB0ZXh0LlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzwlPSBcIlxcXFw8JS0gdmFsdWUgJVxcXFw+XCIgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICdpZ25vcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnPCUtIHZhbHVlICU+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBgalF1ZXJ5YCBhcyBganFgLlxuICAgICAqIHZhciB0ZXh0ID0gJzwlIGpxLmVhY2godXNlcnMsIGZ1bmN0aW9uKHVzZXIpIHsgJT48bGk+PCUtIHVzZXIgJT48L2xpPjwlIH0pOyAlPic7XG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSh0ZXh0LCB7ICdpbXBvcnRzJzogeyAnanEnOiBqUXVlcnkgfSB9KTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZVVSTGAgb3B0aW9uIHRvIHNwZWNpZnkgYSBjdXN0b20gc291cmNlVVJMIGZvciB0aGUgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJywgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgICAqIGNvbXBpbGVkKGRhdGEpO1xuICAgICAqIC8vID0+IEZpbmQgdGhlIHNvdXJjZSBvZiBcImdyZWV0aW5nLmpzdFwiIHVuZGVyIHRoZSBTb3VyY2VzIHRhYiBvciBSZXNvdXJjZXMgcGFuZWwgb2YgdGhlIHdlYiBpbnNwZWN0b3IuXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGB2YXJpYWJsZWAgb3B0aW9uIHRvIGVuc3VyZSBhIHdpdGgtc3RhdGVtZW50IGlzbid0IHVzZWQgaW4gdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hpIDwlPSBkYXRhLnVzZXIgJT4hJywgeyAndmFyaWFibGUnOiAnZGF0YScgfSk7XG4gICAgICogY29tcGlsZWQuc291cmNlO1xuICAgICAqIC8vID0+IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgKiAvLyAgIHZhciBfX3QsIF9fcCA9ICcnO1xuICAgICAqIC8vICAgX19wICs9ICdoaSAnICsgKChfX3QgPSAoIGRhdGEudXNlciApKSA9PSBudWxsID8gJycgOiBfX3QpICsgJyEnO1xuICAgICAqIC8vICAgcmV0dXJuIF9fcDtcbiAgICAgKiAvLyB9XG4gICAgICpcbiAgICAgKiAvLyBVc2UgY3VzdG9tIHRlbXBsYXRlIGRlbGltaXRlcnMuXG4gICAgICogXy50ZW1wbGF0ZVNldHRpbmdzLmludGVycG9sYXRlID0gL3t7KFtcXHNcXFNdKz8pfX0vZztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyB7eyB1c2VyIH19IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnbXVzdGFjaGUnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBzb3VyY2VgIHByb3BlcnR5IHRvIGlubGluZSBjb21waWxlZCB0ZW1wbGF0ZXMgZm9yIG1lYW5pbmdmdWxcbiAgICAgKiAvLyBsaW5lIG51bWJlcnMgaW4gZXJyb3IgbWVzc2FnZXMgYW5kIHN0YWNrIHRyYWNlcy5cbiAgICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnanN0LmpzJyksICdcXFxuICAgICAqICAgdmFyIEpTVCA9IHtcXFxuICAgICAqICAgICBcIm1haW5cIjogJyArIF8udGVtcGxhdGUobWFpblRleHQpLnNvdXJjZSArICdcXFxuICAgICAqICAgfTtcXFxuICAgICAqICcpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRlbXBsYXRlKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpIHtcbiAgICAgIC8vIEJhc2VkIG9uIEpvaG4gUmVzaWcncyBgdG1wbGAgaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIChodHRwOi8vZWpvaG4ub3JnL2Jsb2cvamF2YXNjcmlwdC1taWNyby10ZW1wbGF0aW5nLylcbiAgICAgIC8vIGFuZCBMYXVyYSBEb2t0b3JvdmEncyBkb1QuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9vbGFkby9kb1QpLlxuICAgICAgdmFyIHNldHRpbmdzID0gbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3M7XG5cbiAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG9wdGlvbnMsIGd1YXJkKSkge1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIG9wdGlvbnMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMsIHNldHRpbmdzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKTtcblxuICAgICAgdmFyIGltcG9ydHMgPSBhc3NpZ25JbldpdGgoe30sIG9wdGlvbnMuaW1wb3J0cywgc2V0dGluZ3MuaW1wb3J0cywgY3VzdG9tRGVmYXVsdHNBc3NpZ25JbiksXG4gICAgICAgICAgaW1wb3J0c0tleXMgPSBrZXlzKGltcG9ydHMpLFxuICAgICAgICAgIGltcG9ydHNWYWx1ZXMgPSBiYXNlVmFsdWVzKGltcG9ydHMsIGltcG9ydHNLZXlzKTtcblxuICAgICAgdmFyIGlzRXNjYXBpbmcsXG4gICAgICAgICAgaXNFdmFsdWF0aW5nLFxuICAgICAgICAgIGluZGV4ID0gMCxcbiAgICAgICAgICBpbnRlcnBvbGF0ZSA9IG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoLFxuICAgICAgICAgIHNvdXJjZSA9IFwiX19wICs9ICdcIjtcblxuICAgICAgLy8gQ29tcGlsZSB0aGUgcmVnZXhwIHRvIG1hdGNoIGVhY2ggZGVsaW1pdGVyLlxuICAgICAgdmFyIHJlRGVsaW1pdGVycyA9IFJlZ0V4cChcbiAgICAgICAgKG9wdGlvbnMuZXNjYXBlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wnICtcbiAgICAgICAgaW50ZXJwb2xhdGUuc291cmNlICsgJ3wnICtcbiAgICAgICAgKGludGVycG9sYXRlID09PSByZUludGVycG9sYXRlID8gcmVFc1RlbXBsYXRlIDogcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAob3B0aW9ucy5ldmFsdWF0ZSB8fCByZU5vTWF0Y2gpLnNvdXJjZSArICd8JCdcbiAgICAgICwgJ2cnKTtcblxuICAgICAgLy8gVXNlIGEgc291cmNlVVJMIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoJ3NvdXJjZVVSTCcgaW4gb3B0aW9uc1xuICAgICAgICAgID8gb3B0aW9ucy5zb3VyY2VVUkxcbiAgICAgICAgICA6ICgnbG9kYXNoLnRlbXBsYXRlU291cmNlc1snICsgKCsrdGVtcGxhdGVDb3VudGVyKSArICddJylcbiAgICAgICAgKSArICdcXG4nO1xuXG4gICAgICBzdHJpbmcucmVwbGFjZShyZURlbGltaXRlcnMsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGVWYWx1ZSwgaW50ZXJwb2xhdGVWYWx1ZSwgZXNUZW1wbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgICAgaW50ZXJwb2xhdGVWYWx1ZSB8fCAoaW50ZXJwb2xhdGVWYWx1ZSA9IGVzVGVtcGxhdGVWYWx1ZSk7XG5cbiAgICAgICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBjYW4ndCBiZSBpbmNsdWRlZCBpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAgICAgIHNvdXJjZSArPSBzdHJpbmcuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShyZVVuZXNjYXBlZFN0cmluZywgZXNjYXBlU3RyaW5nQ2hhcik7XG5cbiAgICAgICAgLy8gUmVwbGFjZSBkZWxpbWl0ZXJzIHdpdGggc25pcHBldHMuXG4gICAgICAgIGlmIChlc2NhcGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXNjYXBpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl9fZShcIiArIGVzY2FwZVZhbHVlICsgXCIpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2YWx1YXRlVmFsdWUpIHtcbiAgICAgICAgICBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuICAgICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW50ZXJwb2xhdGVWYWx1ZSkge1xuICAgICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICAgIC8vIFRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgcHJvZHVjdHMgbmVlZHMgYG1hdGNoYCByZXR1cm5lZCBpblxuICAgICAgICAvLyBvcmRlciB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IGBvZmZzZXRgIHZhbHVlLlxuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9KTtcblxuICAgICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgICAgLy8gSWYgYHZhcmlhYmxlYCBpcyBub3Qgc3BlY2lmaWVkIHdyYXAgYSB3aXRoLXN0YXRlbWVudCBhcm91bmQgdGhlIGdlbmVyYXRlZFxuICAgICAgLy8gY29kZSB0byBhZGQgdGhlIGRhdGEgb2JqZWN0IHRvIHRoZSB0b3Agb2YgdGhlIHNjb3BlIGNoYWluLlxuICAgICAgdmFyIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZTtcbiAgICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgICAgc291cmNlID0gJ3dpdGggKG9iaikge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgICB9XG4gICAgICAvLyBDbGVhbnVwIGNvZGUgYnkgc3RyaXBwaW5nIGVtcHR5IHN0cmluZ3MuXG4gICAgICBzb3VyY2UgPSAoaXNFdmFsdWF0aW5nID8gc291cmNlLnJlcGxhY2UocmVFbXB0eVN0cmluZ0xlYWRpbmcsICcnKSA6IHNvdXJjZSlcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ01pZGRsZSwgJyQxJylcbiAgICAgICAgLnJlcGxhY2UocmVFbXB0eVN0cmluZ1RyYWlsaW5nLCAnJDE7Jyk7XG5cbiAgICAgIC8vIEZyYW1lIGNvZGUgYXMgdGhlIGZ1bmN0aW9uIGJvZHkuXG4gICAgICBzb3VyY2UgPSAnZnVuY3Rpb24oJyArICh2YXJpYWJsZSB8fCAnb2JqJykgKyAnKSB7XFxuJyArXG4gICAgICAgICh2YXJpYWJsZVxuICAgICAgICAgID8gJydcbiAgICAgICAgICA6ICdvYmogfHwgKG9iaiA9IHt9KTtcXG4nXG4gICAgICAgICkgK1xuICAgICAgICBcInZhciBfX3QsIF9fcCA9ICcnXCIgK1xuICAgICAgICAoaXNFc2NhcGluZ1xuICAgICAgICAgICA/ICcsIF9fZSA9IF8uZXNjYXBlJ1xuICAgICAgICAgICA6ICcnXG4gICAgICAgICkgK1xuICAgICAgICAoaXNFdmFsdWF0aW5nXG4gICAgICAgICAgPyAnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG4nICtcbiAgICAgICAgICAgIFwiZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCJcbiAgICAgICAgICA6ICc7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgc291cmNlICtcbiAgICAgICAgJ3JldHVybiBfX3BcXG59JztcblxuICAgICAgdmFyIHJlc3VsdCA9IGF0dGVtcHQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBGdW5jdGlvbihpbXBvcnRzS2V5cywgc291cmNlVVJMICsgJ3JldHVybiAnICsgc291cmNlKVxuICAgICAgICAgIC5hcHBseSh1bmRlZmluZWQsIGltcG9ydHNWYWx1ZXMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uJ3Mgc291cmNlIGJ5IGl0cyBgdG9TdHJpbmdgIG1ldGhvZCBvclxuICAgICAgLy8gdGhlIGBzb3VyY2VgIHByb3BlcnR5IGFzIGEgY29udmVuaWVuY2UgZm9yIGlubGluaW5nIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICBpZiAoaXNFcnJvcihyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIGxvd2VyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b0xvd2VyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9Mb3dlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTG93ZXIoJy0tRm9vLUJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tZm9vLWJhci0tJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vYmFyJ1xuICAgICAqXG4gICAgICogXy50b0xvd2VyKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdfX2Zvb19iYXJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xvd2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AsIGFzIGEgd2hvbGUsIHRvIHVwcGVyIGNhc2UganVzdCBsaWtlXG4gICAgICogW1N0cmluZyN0b1VwcGVyQ2FzZV0oaHR0cHM6Ly9tZG4uaW8vdG9VcHBlckNhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdXBwZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvVXBwZXIoJy0tZm9vLWJhci0tJyk7XG4gICAgICogLy8gPT4gJy0tRk9PLUJBUi0tJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PQkFSJ1xuICAgICAqXG4gICAgICogXy50b1VwcGVyKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdfX0ZPT19CQVJfXydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1VwcGVyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcodmFsdWUpLnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8udHJpbSgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYydcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnICBmb28gICcsICcgIGJhciAgJ10sIF8udHJpbSk7XG4gICAgICogLy8gPT4gWydmb28nLCAnYmFyJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltKHN0cmluZywgY2hhcnMsIGd1YXJkKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoZ3VhcmQgfHwgY2hhcnMgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltRW5kLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZU1hdGNoZXMoYmFzZUNsb25lKHNvdXJjZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgcGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHRoZVxuICAgICAqIHZhbHVlIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdCB0byBgc3JjVmFsdWVgLCByZXR1cm5pbmcgYHRydWVgIGlmIHRoZVxuICAgICAqIG9iamVjdCB2YWx1ZSBpcyBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3RcbiAgICAgKiBgc3JjVmFsdWVgIHZhbHVlcyBhZ2FpbnN0IGFueSBhcnJheSBvciBvYmplY3QgdmFsdWUsIHJlc3BlY3RpdmVseS4gU2VlXG4gICAgICogYF8uaXNFcXVhbGAgZm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgdmFsdWUgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSxcbiAgICAgKiAgIHsgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZChvYmplY3RzLCBfLm1hdGNoZXNQcm9wZXJ0eSgnYScsIDQpKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNQcm9wZXJ0eShwYXRoLCBzcmNWYWx1ZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzUHJvcGVydHkocGF0aCwgYmFzZUNsb25lKHNyY1ZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGEgZ2l2ZW4gb2JqZWN0LlxuICAgICAqIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmUgcHJvdmlkZWQgdG8gdGhlIGludm9rZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogeyAnYic6IF8uY29uc3RhbnQoMikgfSB9LFxuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDEpIH0gfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLm1hcChvYmplY3RzLCBfLm1ldGhvZCgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoWydhJywgJ2InXSkpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIHZhciBtZXRob2QgPSBiYXNlUmVzdChmdW5jdGlvbihwYXRoLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBiYXNlSW52b2tlKG9iamVjdCwgcGF0aCwgYXJncyk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wcG9zaXRlIG9mIGBfLm1ldGhvZGA7IHRoaXMgbWV0aG9kIGNyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXNcbiAgICAgKiB0aGUgbWV0aG9kIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC4gQW55IGFkZGl0aW9uYWwgYXJndW1lbnRzIGFyZVxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIHRoZSBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBpbnZva2VyIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBfLnRpbWVzKDMsIF8uY29uc3RhbnQpLFxuICAgICAqICAgICBvYmplY3QgPSB7ICdhJzogYXJyYXksICdiJzogYXJyYXksICdjJzogYXJyYXkgfTtcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnYVsyXScsICdjWzBdJ10sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICpcbiAgICAgKiBfLm1hcChbWydhJywgJzInXSwgWydjJywgJzAnXV0sIF8ubWV0aG9kT2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgdmFyIG1ldGhvZE9mID0gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIG93biBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBmdW5jdGlvbiBwcm9wZXJ0aWVzIG9mIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24sIHRoZW4gbWV0aG9kc1xuICAgICAqIGFyZSBhZGRlZCB0byBpdHMgcHJvdG90eXBlIGFzIHdlbGwuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVXNlIGBfLnJ1bkluQ29udGV4dGAgdG8gY3JlYXRlIGEgcHJpc3RpbmUgYGxvZGFzaGAgZnVuY3Rpb24gdG9cbiAgICAgKiBhdm9pZCBjb25mbGljdHMgY2F1c2VkIGJ5IG1vZGlmeWluZyB0aGUgb3JpZ2luYWwuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgZnVuY3Rpb25zIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoYWluPXRydWVdIFNwZWNpZnkgd2hldGhlciBtaXhpbnMgYXJlIGNoYWluYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiB2b3dlbHMoc3RyaW5nKSB7XG4gICAgICogICByZXR1cm4gXy5maWx0ZXIoc3RyaW5nLCBmdW5jdGlvbih2KSB7XG4gICAgICogICAgIHJldHVybiAvW2FlaW91XS9pLnRlc3Qodik7XG4gICAgICogICB9KTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1peGluKHsgJ3Zvd2Vscyc6IHZvd2VscyB9KTtcbiAgICAgKiBfLnZvd2VscygnZnJlZCcpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICpcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCkudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICAgKiBfKCdmcmVkJykudm93ZWxzKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaXhpbihvYmplY3QsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpLFxuICAgICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIHByb3BzKTtcblxuICAgICAgaWYgKG9wdGlvbnMgPT0gbnVsbCAmJlxuICAgICAgICAgICEoaXNPYmplY3Qoc291cmNlKSAmJiAobWV0aG9kTmFtZXMubGVuZ3RoIHx8ICFwcm9wcy5sZW5ndGgpKSkge1xuICAgICAgICBvcHRpb25zID0gc291cmNlO1xuICAgICAgICBzb3VyY2UgPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdCA9IHRoaXM7XG4gICAgICAgIG1ldGhvZE5hbWVzID0gYmFzZUZ1bmN0aW9ucyhzb3VyY2UsIGtleXMoc291cmNlKSk7XG4gICAgICB9XG4gICAgICB2YXIgY2hhaW4gPSAhKGlzT2JqZWN0KG9wdGlvbnMpICYmICdjaGFpbicgaW4gb3B0aW9ucykgfHwgISFvcHRpb25zLmNoYWluLFxuICAgICAgICAgIGlzRnVuYyA9IGlzRnVuY3Rpb24ob2JqZWN0KTtcblxuICAgICAgYXJyYXlFYWNoKG1ldGhvZE5hbWVzLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgIHZhciBmdW5jID0gc291cmNlW21ldGhvZE5hbWVdO1xuICAgICAgICBvYmplY3RbbWV0aG9kTmFtZV0gPSBmdW5jO1xuICAgICAgICBpZiAoaXNGdW5jKSB7XG4gICAgICAgICAgb2JqZWN0LnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNoYWluQWxsID0gdGhpcy5fX2NoYWluX187XG4gICAgICAgICAgICBpZiAoY2hhaW4gfHwgY2hhaW5BbGwpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCh0aGlzLl9fd3JhcHBlZF9fKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbnMgPSByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG5cbiAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKHsgJ2Z1bmMnOiBmdW5jLCAnYXJncyc6IGFyZ3VtZW50cywgJ3RoaXNBcmcnOiBvYmplY3QgfSk7XG4gICAgICAgICAgICAgIHJlc3VsdC5fX2NoYWluX18gPSBjaGFpbkFsbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KG9iamVjdCwgYXJyYXlQdXNoKFt0aGlzLnZhbHVlKCldLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnRzIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAgICogdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgbG9kYXNoID0gXy5ub0NvbmZsaWN0KCk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9Db25mbGljdCgpIHtcbiAgICAgIGlmIChyb290Ll8gPT09IHRoaXMpIHtcbiAgICAgICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDIsIF8ubm9vcCk7XG4gICAgICogLy8gPT4gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGdldHMgdGhlIGFyZ3VtZW50IGF0IGluZGV4IGBuYC4gSWYgYG5gIGlzIG5lZ2F0aXZlLFxuICAgICAqIHRoZSBudGggYXJndW1lbnQgZnJvbSB0aGUgZW5kIGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MF0gVGhlIGluZGV4IG9mIHRoZSBhcmd1bWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFzcy10aHJ1IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKDEpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYidcbiAgICAgKlxuICAgICAqIHZhciBmdW5jID0gXy5udGhBcmcoLTIpO1xuICAgICAqIGZ1bmMoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiAnYydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBudGhBcmcobikge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBiYXNlTnRoKGFyZ3MsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgaXRlcmF0ZWVzYCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXNcbiAgICAgKiBhbmQgcmV0dXJucyB0aGVpciByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlcihbTWF0aC5tYXgsIE1hdGgubWluXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDEsIDIsIDMsIDQpO1xuICAgICAqIC8vID0+IFs0LCAxXVxuICAgICAqL1xuICAgIHZhciBvdmVyID0gY3JlYXRlT3ZlcihhcnJheU1hcCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgKiphbGwqKiBvZiB0aGUgYHByZWRpY2F0ZXNgIHJldHVyblxuICAgICAqIHRydXRoeSB3aGVuIGludm9rZWQgd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3ByZWRpY2F0ZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgcHJlZGljYXRlcyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXJFdmVyeShbQm9vbGVhbiwgaXNGaW5pdGVdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoJzEnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlckV2ZXJ5ID0gY3JlYXRlT3ZlcihhcnJheUV2ZXJ5KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiAqKmFueSoqIG9mIHRoZSBgcHJlZGljYXRlc2AgcmV0dXJuXG4gICAgICogdHJ1dGh5IHdoZW4gaW52b2tlZCB3aXRoIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gKGxvZGFzaEZ1bmMubmFtZSArICcnKSxcbiAgICAgICAgICAgIG5hbWVzID0gcmVhbE5hbWVzW2tleV0gfHwgKHJlYWxOYW1lc1trZXldID0gW10pO1xuXG4gICAgICAgIG5hbWVzLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBBcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcbmNvbnN0IHByaXZhdGVNYXAgPSBuZXcgV2Vha01hcCgpO1xuXG4vLyBGb3IgbWFraW5nIHByaXZhdGUgcHJvcGVydGllcy5cbmZ1bmN0aW9uIGludGVybmFsKG9iaikge1xuICBpZiAoIXByaXZhdGVNYXAuaGFzKG9iaikpIHtcbiAgICBwcml2YXRlTWFwLnNldChvYmosIHt9KTtcbiAgfVxuXG4gIHJldHVybiBwcml2YXRlTWFwLmdldChvYmopO1xufVxuXG4vKiogQ2xhc3MgRXZlbnRFbWl0dGVyIGZvciBldmVudC1kcml2ZW4gYXJjaGl0ZWN0dXJlLiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtudW1iZXJ8bnVsbH0gbWF4TGlzdGVuZXJzLlxuICAgKiBAcGFyYW0ge29iamVjdH0gbG9jYWxDb25zb2xlLlxuICAgKlxuICAgKiBTZXQgcHJpdmF0ZSBpbml0aWFsIHBhcmFtZXRlcnM6XG4gICAqICAgX2V2ZW50cywgX2NhbGxiYWNrcywgX21heExpc3RlbmVycywgX2NvbnNvbGUuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihtYXhMaXN0ZW5lcnMgPSBudWxsLCBsb2NhbENvbnNvbGUgPSBjb25zb2xlKSB7XG4gICAgY29uc3Qgc2VsZiA9IGludGVybmFsKHRoaXMpO1xuXG4gICAgc2VsZi5fZXZlbnRzID0gbmV3IFNldCgpO1xuICAgIHNlbGYuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHNlbGYuX2NvbnNvbGUgPSBsb2NhbENvbnNvbGU7XG4gICAgc2VsZi5fbWF4TGlzdGVuZXJzID0gbWF4TGlzdGVuZXJzID09PSBudWxsID9cbiAgICAgIG51bGwgOiBwYXJzZUludChtYXhMaXN0ZW5lcnMsIDEwKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBjYWxsYmFjayB0byB0aGUgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7b2JqZWN0fG51bGx9IGNvbnRleHQgLSBJbiB0aGFuIGNvbnRleHQgd2lsbCBiZSBjYWxsZWQgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3ZWlnaHQgLSBVc2luZyBmb3Igc29ydGluZyBjYWxsYmFja3MgY2FsbHMuXG4gICAqXG4gICAqIEByZXR1cm4ge3RoaXN9XG4gICAqL1xuICBfYWRkQ2FsbGJhY2soZXZlbnROYW1lLCBjYWxsYmFjaywgY29udGV4dCwgd2VpZ2h0KSB7XG4gICAgdGhpcy5fZ2V0Q2FsbGJhY2tzKGV2ZW50TmFtZSlcbiAgICAgIC5wdXNoKHtcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHdlaWdodFxuICAgICAgfSk7XG5cbiAgICAvLyBTb3J0IHRoZSBhcnJheSBvZiBjYWxsYmFja3MgaW5cbiAgICAvLyB0aGUgb3JkZXIgb2YgdGhlaXIgY2FsbCBieSBcIndlaWdodFwiLlxuICAgIHRoaXMuX2dldENhbGxiYWNrcyhldmVudE5hbWUpXG4gICAgICAuc29ydCgoYSwgYikgPT4gYS53ZWlnaHQgPiBiLndlaWdodCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGNhbGxiYWNrIGZvciB0aGUgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICpcbiAgICogQHJldHVybiB7b2JqZWN0fHVuZGVmaW5lZH1cbiAgICovXG4gIF9nZXRDYWxsYmFja3MoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGludGVybmFsKHRoaXMpLl9jYWxsYmFja3NbZXZlbnROYW1lXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY2FsbGJhY2sncyBpbmRleCBmb3IgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7Y2FsbGJhY2t9IGNhbGxiYWNrXG4gICAqXG4gICAqIEByZXR1cm4ge251bWJlcnxudWxsfVxuICAgKi9cbiAgX2dldENhbGxiYWNrSW5kZXgoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLl9oYXMoZXZlbnROYW1lKSA/XG4gICAgICB0aGlzLl9nZXRDYWxsYmFja3MoZXZlbnROYW1lKVxuICAgICAgICAuZmluZEluZGV4KChlbGVtZW50KSA9PiBlbGVtZW50LmNhbGxiYWNrID09PSBjYWxsYmFjaykgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHdlIGFjaGl2ZSBtYXhpbXVtIG9mIGxpc3RlbmVycyBmb3IgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2x9XG4gICAqL1xuICBfYWNoaWV2ZU1heExpc3RlbmVyKGV2ZW50TmFtZSkge1xuICAgIHJldHVybiAoaW50ZXJuYWwodGhpcykuX21heExpc3RlbmVycyAhPT0gbnVsbCAmJlxuICAgICAgaW50ZXJuYWwodGhpcykuX21heExpc3RlbmVycyA8PSB0aGlzLmxpc3RlbmVyc051bWJlcihldmVudE5hbWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjYWxsYmFjayBpcyBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7b2JqZWN0fG51bGx9IGNvbnRleHQgLSBJbiB0aGFuIGNvbnRleHQgd2lsbCBiZSBjYWxsZWQgY2FsbGJhY2suXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2x9XG4gICAqL1xuICBfY2FsbGJhY2tJc0V4aXN0cyhldmVudE5hbWUsIGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgY29uc3QgY2FsbGJhY2tJbmQgPSB0aGlzLl9nZXRDYWxsYmFja0luZGV4KGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICAgIGNvbnN0IGFjdGl2ZUNhbGxiYWNrID0gY2FsbGJhY2tJbmQgIT09IC0xID9cbiAgICAgIHRoaXMuX2dldENhbGxiYWNrcyhldmVudE5hbWUpW2NhbGxiYWNrSW5kXSA6IHZvaWQgMDtcblxuICAgIHJldHVybiAoY2FsbGJhY2tJbmQgIT09IC0xICYmIGFjdGl2ZUNhbGxiYWNrICYmXG4gICAgICBhY3RpdmVDYWxsYmFjay5jb250ZXh0ID09PSBjb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpcyB0aGUgZXZlbnQgd2FzIGFscmVhZHkgYWRkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICpcbiAgICogQHJldHVybiB7Ym9vbH1cbiAgICovXG4gIF9oYXMoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGludGVybmFsKHRoaXMpLl9ldmVudHMuaGFzKGV2ZW50TmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge29iamVjdHxudWxsfSBjb250ZXh0IC0gSW4gdGhhbiBjb250ZXh0IHdpbGwgYmUgY2FsbGVkIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2VpZ2h0IC0gVXNpbmcgZm9yIHNvcnRpbmcgY2FsbGJhY2tzIGNhbGxzLlxuICAgKlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgb24oZXZlbnROYW1lLCBjYWxsYmFjaywgY29udGV4dCA9IG51bGwsIHdlaWdodCA9IDEpIHtcbiAgICAvKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6IDAgKi9cbiAgICBjb25zdCBzZWxmID0gaW50ZXJuYWwodGhpcyk7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NhbGxiYWNrfSBpcyBub3QgYSBmdW5jdGlvbmApO1xuICAgIH1cblxuICAgIC8vIElmIGV2ZW50IHdhc24ndCBhZGRlZCBiZWZvcmUgLSBqdXN0IGFkZCBpdFxuICAgIC8vIGFuZCBkZWZpbmUgY2FsbGJhY2tzIGFzIGFuIGVtcHR5IG9iamVjdC5cbiAgICBpZiAoIXRoaXMuX2hhcyhldmVudE5hbWUpKSB7XG4gICAgICBzZWxmLl9ldmVudHMuYWRkKGV2ZW50TmFtZSk7XG4gICAgICBzZWxmLl9jYWxsYmFja3NbZXZlbnROYW1lXSA9IFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSByZWFjaGVkIG1heGltdW0gbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAgICAgIGlmICh0aGlzLl9hY2hpZXZlTWF4TGlzdGVuZXIoZXZlbnROYW1lKSkge1xuICAgICAgICBzZWxmLl9jb25zb2xlLndhcm4oYE1heCBsaXN0ZW5lcnMgKCR7c2VsZi5fbWF4TGlzdGVuZXJzfSlgICtcbiAgICAgICAgICBgIGZvciBldmVudCBcIiR7ZXZlbnROYW1lfVwiIGlzIHJlYWNoZWQhYCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBzYW1lIGNhbGxiYWNrIGhhcyBhbHJlYWR5IGFkZGVkLlxuICAgICAgaWYgKHRoaXMuX2NhbGxiYWNrSXNFeGlzdHMoLi4uYXJndW1lbnRzKSkge1xuICAgICAgICBzZWxmLl9jb25zb2xlLndhcm4oYEV2ZW50IFwiJHtldmVudE5hbWV9XCJgICtcbiAgICAgICAgICBgIGFscmVhZHkgaGFzIHRoZSBjYWxsYmFjayAke2NhbGxiYWNrfS5gKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9hZGRDYWxsYmFjayguLi5hcmd1bWVudHMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBsaXN0ZW5lciB3aGljaCB3aWxsIGJlIGV4ZWN1dGVkIG9ubHkgb25jZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKiBAcGFyYW0ge29iamVjdHxudWxsfSBjb250ZXh0IC0gSW4gdGhhbiBjb250ZXh0IHdpbGwgYmUgY2FsbGVkIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2VpZ2h0IC0gVXNpbmcgZm9yIHNvcnRpbmcgY2FsbGJhY2tzIGNhbGxzLlxuICAgKlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgb25jZShldmVudE5hbWUsIGNhbGxiYWNrLCBjb250ZXh0ID0gbnVsbCwgd2VpZ2h0ID0gMSkge1xuICAgIGNvbnN0IG9uY2VDYWxsYmFjayA9ICguLi5hcmdzKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIG9uY2VDYWxsYmFjayk7XG4gICAgICByZXR1cm4gQXBwbHkuY2FsbChjYWxsYmFjaywgY29udGV4dCwgYXJncyk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50TmFtZSwgb25jZUNhbGxiYWNrLCBjb250ZXh0LCB3ZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBhdCBhbGwgb3IganVzdCByZW1vdmUgc2VsZWN0ZWQgY2FsbGJhY2sgZnJvbSB0aGUgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICpcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIG9mZihldmVudE5hbWUsIGNhbGxiYWNrID0gbnVsbCkge1xuICAgIGNvbnN0IHNlbGYgPSBpbnRlcm5hbCh0aGlzKTtcbiAgICBsZXQgY2FsbGJhY2tJbmQ7XG5cbiAgICBpZiAodGhpcy5faGFzKGV2ZW50TmFtZSkpIHtcbiAgICAgIGlmIChjYWxsYmFjayA9PT0gbnVsbCkge1xuICAgICAgICAvLyBSZW1vdmUgdGhlIGV2ZW50LlxuICAgICAgICBzZWxmLl9ldmVudHMuZGVsZXRlKGV2ZW50TmFtZSk7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzLlxuICAgICAgICBzZWxmLl9jYWxsYmFja3NbZXZlbnROYW1lXSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFja0luZCA9IHRoaXMuX2dldENhbGxiYWNrSW5kZXgoZXZlbnROYW1lLCBjYWxsYmFjayk7XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrSW5kICE9PSAtMSkge1xuICAgICAgICAgIHNlbGYuX2NhbGxiYWNrc1tldmVudE5hbWVdLnNwbGljZShjYWxsYmFja0luZCwgMSk7XG4gICAgICAgICAgLy8gUmVtb3ZlIGFsbCBlcXVhbCBjYWxsYmFja3MuXG4gICAgICAgICAgdGhpcy5vZmYoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgdGhlIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gICAqIEBwYXJhbSB7Li4uYXJnc30gYXJncyAtIEFsbCBhcmd1bWVudHMgd2hpY2ggc2hvdWxkIGJlIHBhc3NlZCBpbnRvIGNhbGxiYWNrcy5cbiAgICpcbiAgICogQHJldHVybiB7dGhpc31cbiAgICovXG4gIGVtaXQoZXZlbnROYW1lLCAuLi5hcmdzKSB7XG4gICAgaWYgKHRoaXMuX2hhcyhldmVudE5hbWUpKSB7XG4gICAgICAvLyBBbGwgY2FsbGJhY2tzIHdpbGwgYmUgdHJpZ2dlcmVkIHNvcnRlciBieSBcIndlaWdodFwiIHBhcmFtZXRlci5cbiAgICAgIHRoaXMuX2dldENhbGxiYWNrcyhldmVudE5hbWUpXG4gICAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PlxuICAgICAgICAgIEFwcGx5LmNhbGwoZWxlbWVudC5jYWxsYmFjaywgZWxlbWVudC5jb250ZXh0LCBhcmdzKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBldmVudHMgYW5kIGNhbGxiYWNrIGxpbmtzLlxuICAgKlxuICAgKiBAcmV0dXJuIHt0aGlzfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgY29uc3Qgc2VsZiA9IGludGVybmFsKHRoaXMpO1xuXG4gICAgc2VsZi5fZXZlbnRzLmNsZWFyKCk7XG4gICAgc2VsZi5fY2FsbGJhY2tzID0ge307XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG51bWJlciBvZiBsaXN0ZW5lcnMgZm9yIHRoZSBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZVxuICAgKlxuICAgKiBAcmV0dXJuIHtudW1iZXJ8bnVsbH0gLSBOdW1iZXIgb2YgbGlzdGVuZXJzIGZvciBldmVudFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBvciBudWxsIGlmIGV2ZW50IGlzbid0IGV4aXN0cy5cbiAgICovXG4gIGxpc3RlbmVyc051bWJlcihldmVudE5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5faGFzKGV2ZW50TmFtZSkgP1xuICAgICAgdGhpcy5fZ2V0Q2FsbGJhY2tzKGV2ZW50TmFtZSkubGVuZ3RoIDogbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJ1xuaW1wb3J0IE9wZW5TZWFkcmFnb24gZnJvbSAnT3BlblNlYWRyYWdvbidcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnRXZlbnRFbWl0dGVyJ1xuaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknXG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoKCQpID0+IHtcblxuICBsZXQgQXBwID0ge31cblxuICBmdW5jdGlvbiBvbkFqYXhSZXF1ZXN0RXJyb3IgKCkgeyBcbiAgICBjb25zb2xlLmxvZygnZXJyb3InKSBcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQWpheFJlcXVlc3RTdWNjZXNzIChyZXNwb25zZSkge1xuICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9ICQucGFyc2VIVE1MKHJlc3BvbnNlLnJlc3BvbnNlVGV4dClcbiAgICAkKCcjbmF2YmFyIC5wcmV2aW91cycpLnJlcGxhY2VXaXRoKCQocmVzcG9uc2VUZXh0KS5maW5kKCcucHJldmlvdXMnKSlcbiAgICAkKCcjbmF2YmFyIC5uZXh0JykucmVwbGFjZVdpdGgoJChyZXNwb25zZVRleHQpLmZpbmQoJy5uZXh0JykpXG4gICAgJCgnI25hdmJhciAudG9nZ2xlJykucmVwbGFjZVdpdGgoJChyZXNwb25zZVRleHQpLmZpbmQoJy50b2dnbGUnKSlcbiAgICAkKCcuZGx0c192aWV3ZXJfbWFwJykucmVwbGFjZVdpdGgoJChyZXNwb25zZVRleHQpLmZpbmQoJy5kbHRzX3ZpZXdlcl9tYXAnKSlcbiAgICBlZS5lbWl0KCd2aWV3ZXItbmV3cGFnZScpXG4gIH1cblxuICBmdW5jdGlvbiByZXF1ZXN0VXJsKG9wdGlvbnMpIHtcbiAgICAvLyByZW1vdmUgdGhpcyBkZWZhdWx0XG4gICAgY29uc3Qgc3VjY2VzcyA9IChPcGVuU2VhZHJhZ29uLmlzRnVuY3Rpb24ob3B0aW9ucy5zdWNjZXNzKSkgPyBvcHRpb25zLnN1Y2Nlc3MgOiBvbkFqYXhSZXF1ZXN0U3VjY2Vzc1xuICAgIE9wZW5TZWFkcmFnb24ubWFrZUFqYXhSZXF1ZXN0KHtcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXG4gICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgZXJyb3I6IG9uQWpheFJlcXVlc3RFcnJvcixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ1gtUEpBWCc6ICcxJ1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiByZXF1ZXN0QnlTZWxlY3RvcihzZWxlY3Rvcikge1xuICAgIGNvbnN0ICRlbGVtID0gJChzZWxlY3RvcilcbiAgICBpZiAoJGVsZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XG4gICAgICByZXF1ZXN0VXJsKHtcbiAgICAgICAgdXJsOiAkZWxlbS5hdHRyKCdocmVmJyksXG4gICAgICAgIHN1Y2Nlc3M6IG9uQWpheFJlcXVlc3RTdWNjZXNzXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNldHRpbmdzID0ge31cblxuICBjb25zdCBlZSA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIGVlLm9uKCd2aWV3ZXItcm90YXRlJywgKCkgPT4ge1xuICAgIEFwcC52aWV3ZXIudmlld3BvcnQuc2V0Um90YXRpb24oKEFwcC52aWV3ZXIudmlld3BvcnQgPyBBcHAudmlld2VyLnZpZXdwb3J0LmdldFJvdGF0aW9uKCkgOiBBcHAudmlld2VyLmRlZ3JlZXMgfHwgMCkgKyA5MClcbiAgfSlcblxuICBlZS5vbigndmlld2VyLW1ldGFkYXRhJywgKCkgPT4ge1xuICAgICQoJ2JvZHknKS50b2dnbGVDbGFzcygncGFnZW1ldGEtaGlkZGVuJylcbiAgfSlcblxuICBlZS5vbigndmlld2VyLXRodW1ibmFpbHMnLCAoKSA9PiB7XG4gICAgY29uc3QgJGVsZW0gPSAkKCcjbmF2YmFyIC5idXR0b24udGh1bWJuYWlscycpXG4gICAgY29uc3QgJG1hcCA9ICQoJy5kbHRzX3ZpZXdlcl9tYXAnKVxuICAgIGNvbnN0ICR0aHVtYm5haWxzID0gJCgnI3RodW1ibmFpbHMnKVxuICAgIGNvbnN0IHN0YXRlID0gJGVsZW0uYXR0cignZGF0YS1zdGF0ZScpID09ICAnb24nID8gJ29mZicgOiAnb24nXG4gICAgJGVsZW0uYXR0cignZGF0YS1zdGF0ZScsIHN0YXRlKVxuICAgIGlmIChzdGF0ZSA9PT0gJ29uJykge1xuICAgICAgcmVxdWVzdFVybCh7XG4gICAgICAgIHVybDogJG1hcC5hdHRyKCdkYXRhLXRodW1ibmFpbHMtdXJsJyksXG4gICAgICAgIHN1Y2Nlc3M6IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgaWYgKCR0aHVtYm5haWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgJHRodW1ibmFpbHMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICAgLmh0bWwocmVxdWVzdC5yZXNwb25zZSlcbiAgICAgICAgICB9ICAgXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgJHRodW1ibmFpbHMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5hZGRDbGFzcygnaGlkZGVuJylcbiAgICAgICAgLmh0bWwoJycpXG4gICAgfVxuICB9KVxuXG4gIGVlLm9uKCd2aWV3ZXItem9vbWluJywgKCkgPT4ge1xuICAgIEFwcC52aWV3ZXIudmlld3BvcnQuem9vbUJ5KFxuICAgICAgQXBwLnZpZXdlci56b29tUGVyQ2xpY2sgLyAxLjBcbiAgICApXG4gICAgQXBwLnZpZXdlci52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKClcbiAgfSlcblxuICBlZS5vbigndmlld2VyLXpvb21vdXQnLCAoKSA9PiB7XG4gICAgQXBwLnZpZXdlci52aWV3cG9ydC56b29tQnkoXG4gICAgICAxLjAgLyBBcHAudmlld2VyLnpvb21QZXJDbGlja1xuICAgIClcbiAgICBBcHAudmlld2VyLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKVxuICB9KSAgXG5cbiAgZWUub24oJ3ZpZXdlci1mdWxsc2NyZWVuJywgKCkgPT4ge1xuICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFnZScpXG4gICAgLy8gZ2V0IG91dCBvZiBmdWxsc2NyZWVuXG4gICAgaWYgKE9wZW5TZWFkcmFnb24uaXNGdWxsU2NyZWVuKCkpIHtcbiAgICAgIE9wZW5TZWFkcmFnb24uZXhpdEZ1bGxTY3JlZW4oKVxuICAgICAgLy8gWS5Dcm9zc0ZyYW1lLnBvc3RNZXNzYWdlKFwicGFyZW50XCIsIEpTT04uc3RyaW5naWZ5KHtmaXJlOiAnYnV0dG9uOmJ1dHRvbi1mdWxsc2NyZWVuOm9mZid9KSk7XG4gICAgfVxuICAgIC8vIGdvIGZ1bGxzY3JlZW5cbiAgICBlbHNlIHtcbiAgICAgIE9wZW5TZWFkcmFnb24ucmVxdWVzdEZ1bGxTY3JlZW4oZWxlbSlcbiAgICAgIC8vIFkuQ3Jvc3NGcmFtZS5wb3N0TWVzc2FnZShcInBhcmVudFwiLCBKU09OLnN0cmluZ2lmeSh7ZmlyZTogJ2J1dHRvbjpidXR0b24tZnVsbHNjcmVlbjpvbid9KSk7XG4gICAgfSAgICBcbiAgfSlcblxuICBlZS5vbigndmlld2VyLW5leHQnLCAoKSA9PiB7XG4gICAgcmVxdWVzdEJ5U2VsZWN0b3IoJyNuYXZiYXIgLmJ1dHRvbi5uZXh0JylcbiAgfSlcblxuICBlZS5vbigndmlld2VyLXByZXZpb3VzJywgKCkgPT4ge1xuICAgIHJlcXVlc3RCeVNlbGVjdG9yKCcjbmF2YmFyIC5idXR0b24ucHJldmlvdXMnKVxuICB9KVxuXG4gIGVlLm9uKCd2aWV3ZXItdG9nZ2xlJywgKCkgPT4ge1xuICAgIHJlcXVlc3RCeVNlbGVjdG9yKCcjbmF2YmFyIC5idXR0b24udG9nZ2xlJylcbiAgfSlcblxuICBlZS5vbigndmlld2VyLW5ld3BhZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgJGRyYWdvbiA9ICQoJy5kbHRzX3ZpZXdlcl9tYXAnKVxuICAgIGNvbnN0IGNvbnRleHQgPSBPcGVuU2VhZHJhZ29uLmV4dGVuZCh0cnVlLCBzZXR0aW5ncywgJGRyYWdvbi5kYXRhKCkpXG4gICAgY29uc3QgZGVmYXVsdENvbmZpZ3VyYXRpb24gPSB7XG4gICAgICAvLyBSZW5kZXIgdGhlIGJlc3QgY2xvc2VzdCBsZXZlbCBmaXJzdCwgaWdub3JpbmcgdGhlIGxvd2VyaW5nIGxldmVsc1xuICAgICAgLy8gd2hpY2ggcHJvdmlkZSB0aGUgZWZmZWN0IG9mIHZlcnkgYmx1cnJ5IHRvIHNoYXJwLiBJdCBpcyBcbiAgICAgIC8vIHJlY29tbWVuZGVkIHRvIGNoYW5nZSBzZXR0aW5nIHRvIHRydWUgZm9yIG1vYmlsZSBkZXZpY2VzLlxuICAgICAgaW1tZWRpYXRlUmVuZGVyOiBmYWxzZSxcbiAgICAgIHByZXNlcnZlVmlld3BvcnQ6IHRydWUsXG4gICAgICBzaG93Um90YXRpb25Db250cm9sOiB0cnVlLFxuICAgICAgc2hvd05hdmlnYXRpb25Db250cm9sOiBmYWxzZSxcbiAgICAgIC8vIEVuYWJsZSB0b3VjaCByb3RhdGlvbiBvbiB0YWN0aWxlIGRldmljZXNcbiAgICAgIGdlc3R1cmVTZXR0aW5nc1RvdWNoOiB7XG4gICAgICAgIHBpbmNoUm90YXRlOiB0cnVlXG4gICAgICB9ICAgICAgXG4gICAgfVxuICAgIGxldCBsb2NhbENvbmZpZ3VyYXRpb24gPSB7XG4gICAgICBpZDogJGRyYWdvbi5hdHRyKCdpZCcpLFxuICAgICAgZGVncmVlczogY29udGV4dC5kZWdyZWVzLFxuICAgICAgLy8gVGlsZSBzb3VyY2UocykgdG8gb3BlbiBpbml0aWFsbHkuIFRoaXMgaXMgYSBjb21wbGV4IHBhcmFtZXRlcjsgXG4gICAgICAvLyBzZWUge0BsaW5rIE9wZW5TZWFkcmFnb24uVmlld2VyI29wZW59IGZvciBkZXRhaWxzLlxuICAgICAgdGlsZVNvdXJjZXM6IGNvbnRleHQudGlsZXNcbiAgICB9XG4gICAgaWYgKGNvbnRleHQucGFnZXZWaWV3ID09PSAnZG91YmxlJykge1xuICAgICAgbG9jYWxDb25maWd1cmF0aW9uID0gXy5hc3NpZ24oe1xuICAgICAgICBzZXF1ZW5jZU1vZGU6IGZhbHNlLFxuICAgICAgICBjb2xsZWN0aW9uTW9kZTogdHJ1ZSxcbiAgICAgICAgY29sbGVjdGlvblJvd3M6IDEsXG4gICAgICAgIGNvbGxlY3Rpb25UaWxlTWFyZ2luOiAtMjc4LCAvLyB3aHk/ICAgIFxuICAgICAgfSwgbG9jYWxDb25maWd1cmF0aW9uKVxuICAgIH0gICAgXG4gICAgaWYgKEFwcC52aWV3ZXIpIHtcbiAgICAgIC8vIGxvY2FsQ29uZmlndXJhdGlvbi5kZWZhdWx0Wm9vbUxldmVsID0gQXBwLnZpZXdlci52aWV3cG9ydC5nZXRab29tKClcbiAgICAgIGxvY2FsQ29uZmlndXJhdGlvbi5kZWdyZWVzID0gQXBwLnZpZXdlci52aWV3cG9ydC5nZXRSb3RhdGlvbigpXG4gICAgICBBcHAudmlld2VyLmRlc3Ryb3koKVxuICAgICAgLy93aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoXG4gICAgICAvLyAgbnVsbCwgXG4gICAgICAvLyAgY29udGV4dC50aXRsZSwgXG4gICAgICAvLyAgJy92aWV3ZXIvP3E9Ym9va3MvcHJpbmNldG9uX2FjbzAwMDAwMS8nICsgY29udGV4dC5zZXF1ZW5jZVxuICAgICAgLy8pXG4gICAgfVxuICAgIC8vIHNlZTogaHR0cDovL29wZW5zZWFkcmFnb24uZ2l0aHViLmlvL2RvY3MvT3BlblNlYWRyYWdvbi5odG1sIy5PcHRpb25zXG4gICAgQXBwLnZpZXdlciA9IE9wZW5TZWFkcmFnb24oT3BlblNlYWRyYWdvbi5leHRlbmQodHJ1ZSwgbG9jYWxDb25maWd1cmF0aW9uLCBkZWZhdWx0Q29uZmlndXJhdGlvbikpXG4gICAgQXBwLnZpZXdlci5hZGRIYW5kbGVyKCdvcGVuJywgKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHNsaWRlcl92YWx1ZSA9ICQoJyNzbGlkZXJfdmFsdWUnKS5hdHRyKCd2YWx1ZScpXG4gICAgICBjb25zdCBzZXF1ZW5jZSA9IGNvbnRleHQuc2VxdWVuY2VcbiAgICAgIGlmIChzbGlkZXJfdmFsdWUgIT09IHNlcXVlbmNlKSB7XG4gICAgICAgICQoJyNzbGlkZXJfdmFsdWUnKS5hdHRyKCd2YWx1ZScsIHNlcXVlbmNlKVxuICAgICAgfVxuICAgIH0pXG4gICAgcmV0dXJuIEFwcC52aWV3ZXJcbiAgfSlcblxuICBlZS5vbigndmlld2VyLXNsaWRlci1jYWhuZ2UnLCAoKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9ICQoJy5kbHRzX3ZpZXdlcl9tYXAnKS5kYXRhKClcbiAgICBjb25zdCB1cmwgPSBkYXRhLnR5cGUgKyAnLycgKyBkYXRhLmlkZW50aWZpZXIgKyAnLycgKyAkKCcuc2xpZGVyJykudmFsKClcbiAgICByZXF1ZXN0VXJsKHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgc3VjY2Vzczogb25BamF4UmVxdWVzdFN1Y2Nlc3NcbiAgICB9KVxuICB9KVxuXG4gICQoXCJib2R5XCIpLmRlbGVnYXRlKCcuYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIGVlLmVtaXQoJCh0aGlzKS5hdHRyKCdkYXRhLWVtbWl0JyksIHRoaXMpXG4gIH0pXG5cbiAgJChcIiN0aHVtYm5haWxzXCIpLmRlbGVnYXRlKCdhJywgJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHJlcXVlc3RVcmwoe1xuICAgICAgdXJsOiAkKHRoaXMpLmF0dHIoJ2hyZWYnKSxcbiAgICAgIHN1Y2Nlc3M6IG9uQWpheFJlcXVlc3RTdWNjZXNzXG4gICAgfSlcbiAgfSlcblxuICAkKFwiYm9keVwiKS5kZWxlZ2F0ZSgnc2VsZWN0Lmxhbmd1YWdlJywgJ2NoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGNvbnN0ICRvcHRpb24gPSAkKHRoaXMpLmZpbmQoJzpzZWxlY3RlZCcpXG4gICAgcmVxdWVzdFVybCh7XG4gICAgICB1cmw6ICRvcHRpb24uYXR0cigndmFsdWUnKSxcbiAgICAgIHN1Y2Nlc3M6IChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCAkcmVzcG9uc2VUZXh0ID0gJCgkLnBhcnNlSFRNTChyZXNwb25zZS5yZXNwb25zZVRleHQpKVxuICAgICAgICBjb25zdCBkaXIgPSAkcmVzcG9uc2VUZXh0LmZpbmQoJy5ub2RlLWRsdHMtYm9vaycpLmF0dHIoJ2RpcicpXG4gICAgICAgICQoJyNtYWluJykuYXR0cignZGlyJywgZGlyKVxuICAgICAgICAkKCcjcGFnZW1ldGEnKS5yZXBsYWNlV2l0aCgkcmVzcG9uc2VUZXh0LmZpbmQoJyNwYWdlbWV0YScpKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2pvc2VwaGoveXVpMy1jcm9zc2ZyYW1lXG4gIGZ1bmN0aW9uIG9uU2VsZWN0TVZDaGFuZ2UoZSkge1xuICAgIGUuaGFsdCgpO1xuICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgIHZhciB2YWx1ZSA9IGN1cnJlbnRUYXJnZXQub25lKCc6Y2hlY2tlZCcpLmdldCgndmFsdWUnKTtcbiAgICB2YXIgdXJsID0gdmFsdWUuc3Vic3RyaW5nKHZhbHVlLmluZGV4T2YoJzo6JykgKyAyLCB2YWx1ZS5sZW5ndGgpO1xuICAgIHZhciBkYXRhID0geyB1cmwgOiB1cmwgfTtcbiAgICBpZiAod2luZG93LnNlbGYgPT09IHdpbmRvdy50b3ApIHtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHVybCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gWS5Dcm9zc0ZyYW1lLnBvc3RNZXNzYWdlKCdwYXJlbnQnLCBKU09OLnN0cmluZ2lmeSh7IGZpcmU6ICdjaGFuZ2U6b3B0aW9uOm11bHRpdm9sdW1lJywgZGF0YTogJGRhdGEgfSkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIGFsbCBqUXVlcnkgZXZlbnRzIGZvciB0aGlzIG5vZGVcbiAgLy8galF1ZXJ5KCcuZmllbGQtbmFtZS1tdi0yMDE2IConKS51bmJpbmQoKVxuXG4gIC8vIFkuZGVsZWdhdGUoJ2NoYW5nZScsIG9uU2VsZWN0TVZDaGFuZ2UsICdib2R5JywgJy5maWVsZC1uYW1lLW12LTIwMTYgZm9ybScpXG5cbiAgZWUuZW1pdCgndmlld2VyLW5ld3BhZ2UnKVxuXG4gIC8vIHVzZSBmb3IgZmluYWwgc2VsZWN0ZWQgdmFsdWVcbiAgJChcIi5zbGlkZXJcIikub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgIGVlLmVtaXQoJ3ZpZXdlci1zbGlkZXItY2FobmdlJywgdGhpcy52YWx1ZSlcbiAgfSlcblxuICAvLyB1c2UgdG8gZ2V0IGluY3JlbWVudGFsIHZhbHVlIGFzIHNsaWRpbmdcbiAgJChcIi5zbGlkZXJcIikub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7XG4gICAgJCgnI3NsaWRlcl9jdXJyZW50JykudGV4dCh0aGlzLnZhbHVlKVxuICB9KVxuXG59KSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcclxuXHR9XHJcblx0cmV0dXJuIG1vZHVsZTtcclxufTtcclxuIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9